/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 */

/*
 Copyright (c) 2010, Linden Research, Inc.
 Copyright (c) 2014, Joshua Bell

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 $/LicenseInfo$
 */

/*! howler.js v2.0.7 | (c) 2013-2017, James Simpson of GoldFire Studios | MIT License | howlerjs.com */

/*! Spatial Plugin */

/*!
 * pixi.js - v4.5.1
 * Compiled Sat, 22 Apr 2017 13:51:40 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */

/*!
 * VERSION: 1.19.1
 * DATE: 2017-01-17
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/

/*!
* screenfull
* v3.3.2 - 2017-10-27
* (c) Sindre Sorhus; MIT License
*/

/*
 * Planck.js v0.1.34
 * 
 * Copyright (c) 2016-2017 Ali Shakiba http://shakiba.me/planck.js
 * Copyright (c) 2006-2013 Erin Catto  http://www.gphysics.com
 * 
 * This software is provided 'as-is', without any express or implied
 * warranty.  In no event will the authors be held liable for any damages
 * arising from the use of this software.
 * 
 * Permission is granted to anyone to use this software for any purpose,
 * including commercial applications, and to alter it and redistribute it
 * freely, subject to the following restrictions:
 * 
 * 1. The origin of this software must not be misrepresented; you must not
 * claim that you wrote the original software. If you use this software
 * in a product, an acknowledgment in the product documentation would be
 * appreciated but is not required.
 * 2. Altered source versions must be plainly marked as such, and must not be
 * misrepresented as being the original software.
 * 3. This notice may not be removed or altered from any source distribution.
 */

var requirejs, require, define;
!function(global, setTimeout) {
    function commentReplace(t, e) {
        return e || ""
    }
    function isFunction(t) {
        return "[object Function]" === ostring.call(t)
    }
    function isArray(t) {
        return "[object Array]" === ostring.call(t)
    }
    function each(t, e) {
        if (t) {
            var i;
            for (i = 0; i < t.length && (!t[i] || !e(t[i], i, t)); i += 1)
                ;
        }
    }
    function eachReverse(t, e) {
        if (t) {
            var i;
            for (i = t.length - 1; i > -1 && (!t[i] || !e(t[i], i, t)); i -= 1)
                ;
        }
    }
    function hasProp(t, e) {
        return hasOwn.call(t, e)
    }
    function getOwn(t, e) {
        return hasProp(t, e) && t[e]
    }
    function eachProp(t, e) {
        var i;
        for (i in t)
            if (hasProp(t, i) && e(t[i], i))
                break
    }
    function mixin(t, e, i, n) {
        return e && eachProp(e, function(e, r) {
            !i && hasProp(t, r) || (!n || "object" != typeof e || !e || isArray(e) || isFunction(e) || e instanceof RegExp ? t[r] = e : (t[r] || (t[r] = {}),
            mixin(t[r], e, i, n)))
        }),
        t
    }
    function bind(t, e) {
        return function() {
            return e.apply(t, arguments)
        }
    }
    function scripts() {
        return document.getElementsByTagName("script")
    }
    function defaultOnError(t) {
        throw t
    }
    function getGlobal(t) {
        if (!t)
            return t;
        var e = global;
        return each(t.split("."), function(t) {
            e = e[t]
        }),
        e
    }
    function makeError(t, e, i, n) {
        var r = new Error(e + "\nhttp://requirejs.org/docs/errors.html#" + t);
        return r.requireType = t,
        r.requireModules = n,
        i && (r.originalError = i),
        r
    }
    function newContext(t) {
        function e(t) {
            var e, i;
            for (e = 0; e < t.length; e++)
                if ("." === (i = t[e]))
                    t.splice(e, 1),
                    e -= 1;
                else if (".." === i) {
                    if (0 === e || 1 === e && ".." === t[2] || ".." === t[e - 1])
                        continue;
                    e > 0 && (t.splice(e - 1, 2),
                    e -= 2)
                }
        }
        function i(t, i, n) {
            var r, s, o, a, h, l, u, c, d, p, f, m = i && i.split("/"), _ = T.map, y = _ && _["*"];
            if (t && (t = t.split("/"),
            l = t.length - 1,
            T.nodeIdCompat && jsSuffixRegExp.test(t[l]) && (t[l] = t[l].replace(jsSuffixRegExp, "")),
            "." === t[0].charAt(0) && m && (f = m.slice(0, m.length - 1),
            t = f.concat(t)),
            e(t),
            t = t.join("/")),
            n && _ && (m || y)) {
                s = t.split("/");
                t: for (o = s.length; o > 0; o -= 1) {
                    if (h = s.slice(0, o).join("/"),
                    m)
                        for (a = m.length; a > 0; a -= 1)
                            if ((r = getOwn(_, m.slice(0, a).join("/"))) && (r = getOwn(r, h))) {
                                u = r,
                                c = o;
                                break t
                            }
                    !d && y && getOwn(y, h) && (d = getOwn(y, h),
                    p = o)
                }
                !u && d && (u = d,
                c = p),
                u && (s.splice(0, c, u),
                t = s.join("/"))
            }
            return getOwn(T.pkgs, t) || t
        }
        function n(t) {
            isBrowser && each(scripts(), function(e) {
                if (e.getAttribute("data-requiremodule") === t && e.getAttribute("data-requirecontext") === x.contextName)
                    return e.parentNode.removeChild(e),
                    !0
            })
        }
        function r(t) {
            var e = getOwn(T.paths, t);
            if (e && isArray(e) && e.length > 1)
                return e.shift(),
                x.require.undef(t),
                x.makeRequire(null, {
                    skipMap: !0
                })([t]),
                !0
        }
        function s(t) {
            var e, i = t ? t.indexOf("!") : -1;
            return i > -1 && (e = t.substring(0, i),
            t = t.substring(i + 1, t.length)),
            [e, t]
        }
        function o(t, e, n, r) {
            var o, a, h, l, u = null, c = e ? e.name : null, d = t, p = !0, f = "";
            return t || (p = !1,
            t = "_@r" + (I += 1)),
            l = s(t),
            u = l[0],
            t = l[1],
            u && (u = i(u, c, r),
            a = getOwn(P, u)),
            t && (u ? f = n ? t : a && a.normalize ? a.normalize(t, function(t) {
                return i(t, c, r)
            }) : -1 === t.indexOf("!") ? i(t, c, r) : t : (f = i(t, c, r),
            l = s(f),
            u = l[0],
            f = l[1],
            n = !0,
            o = x.nameToUrl(f))),
            h = !u || a || n ? "" : "_unnormalized" + (B += 1),
            {
                prefix: u,
                name: f,
                parentMap: e,
                unnormalized: !!h,
                url: o,
                originalName: d,
                isDefine: p,
                id: (u ? u + "!" + f : f) + h
            }
        }
        function a(t) {
            var e = t.id
              , i = getOwn(A, e);
            return i || (i = A[e] = new x.Module(t)),
            i
        }
        function h(t, e, i) {
            var n = t.id
              , r = getOwn(A, n);
            !hasProp(P, n) || r && !r.defineEmitComplete ? (r = a(t),
            r.error && "error" === e ? i(r.error) : r.on(e, i)) : "defined" === e && i(P[n])
        }
        function l(t, e) {
            var i = t.requireModules
              , n = !1;
            e ? e(t) : (each(i, function(e) {
                var i = getOwn(A, e);
                i && (i.error = t,
                i.events.error && (n = !0,
                i.emit("error", t)))
            }),
            n || req.onError(t))
        }
        function u() {
            globalDefQueue.length && (each(globalDefQueue, function(t) {
                var e = t[0];
                "string" == typeof e && (x.defQueueMap[e] = !0),
                E.push(t)
            }),
            globalDefQueue = [])
        }
        function c(t) {
            delete A[t],
            delete S[t]
        }
        function d(t, e, i) {
            var n = t.map.id;
            t.error ? t.emit("error", t.error) : (e[n] = !0,
            each(t.depMaps, function(n, r) {
                var s = n.id
                  , o = getOwn(A, s);
                !o || t.depMatched[r] || i[s] || (getOwn(e, s) ? (t.defineDep(r, P[s]),
                t.check()) : d(o, e, i))
            }),
            i[n] = !0)
        }
        function p() {
            var t, e, i = 1e3 * T.waitSeconds, s = i && x.startTime + i < (new Date).getTime(), o = [], a = [], h = !1, u = !0;
            if (!v) {
                if (v = !0,
                eachProp(S, function(t) {
                    var i = t.map
                      , l = i.id;
                    if (t.enabled && (i.isDefine || a.push(t),
                    !t.error))
                        if (!t.inited && s)
                            r(l) ? (e = !0,
                            h = !0) : (o.push(l),
                            n(l));
                        else if (!t.inited && t.fetched && i.isDefine && (h = !0,
                        !i.prefix))
                            return u = !1
                }),
                s && o.length)
                    return t = makeError("timeout", "Load timeout for modules: " + o, null, o),
                    t.contextName = x.contextName,
                    l(t);
                u && each(a, function(t) {
                    d(t, {}, {})
                }),
                s && !e || !h || !isBrowser && !isWebWorker || w || (w = setTimeout(function() {
                    w = 0,
                    p()
                }, 50)),
                v = !1
            }
        }
        function f(t) {
            hasProp(P, t[0]) || a(o(t[0], null, !0)).init(t[1], t[2])
        }
        function m(t, e, i, n) {
            t.detachEvent && !isOpera ? n && t.detachEvent(n, e) : t.removeEventListener(i, e, !1)
        }
        function _(t) {
            var e = t.currentTarget || t.srcElement;
            return m(e, x.onScriptLoad, "load", "onreadystatechange"),
            m(e, x.onScriptError, "error"),
            {
                node: e,
                id: e && e.getAttribute("data-requiremodule")
            }
        }
        function y() {
            var t;
            for (u(); E.length; ) {
                if (t = E.shift(),
                null === t[0])
                    return l(makeError("mismatch", "Mismatched anonymous define() module: " + t[t.length - 1]));
                f(t)
            }
            x.defQueueMap = {}
        }
        var v, g, x, b, w, T = {
            waitSeconds: 7,
            baseUrl: "./",
            paths: {},
            bundles: {},
            pkgs: {},
            shim: {},
            config: {}
        }, A = {}, S = {}, C = {}, E = [], P = {}, M = {}, O = {}, I = 1, B = 1;
        return b = {
            require: function(t) {
                return t.require ? t.require : t.require = x.makeRequire(t.map)
            },
            exports: function(t) {
                if (t.usingExports = !0,
                t.map.isDefine)
                    return t.exports ? P[t.map.id] = t.exports : t.exports = P[t.map.id] = {}
            },
            module: function(t) {
                return t.module ? t.module : t.module = {
                    id: t.map.id,
                    uri: t.map.url,
                    config: function() {
                        return getOwn(T.config, t.map.id) || {}
                    },
                    exports: t.exports || (t.exports = {})
                }
            }
        },
        g = function(t) {
            this.events = getOwn(C, t.id) || {},
            this.map = t,
            this.shim = getOwn(T.shim, t.id),
            this.depExports = [],
            this.depMaps = [],
            this.depMatched = [],
            this.pluginMaps = {},
            this.depCount = 0
        }
        ,
        g.prototype = {
            init: function(t, e, i, n) {
                n = n || {},
                this.inited || (this.factory = e,
                i ? this.on("error", i) : this.events.error && (i = bind(this, function(t) {
                    this.emit("error", t)
                })),
                this.depMaps = t && t.slice(0),
                this.errback = i,
                this.inited = !0,
                this.ignore = n.ignore,
                n.enabled || this.enabled ? this.enable() : this.check())
            },
            defineDep: function(t, e) {
                this.depMatched[t] || (this.depMatched[t] = !0,
                this.depCount -= 1,
                this.depExports[t] = e)
            },
            fetch: function() {
                if (!this.fetched) {
                    this.fetched = !0,
                    x.startTime = (new Date).getTime();
                    var t = this.map;
                    return this.shim ? void x.makeRequire(this.map, {
                        enableBuildCallback: !0
                    })(this.shim.deps || [], bind(this, function() {
                        return t.prefix ? this.callPlugin() : this.load()
                    })) : t.prefix ? this.callPlugin() : this.load()
                }
            },
            load: function() {
                var t = this.map.url;
                M[t] || (M[t] = !0,
                x.load(this.map.id, t))
            },
            check: function() {
                if (this.enabled && !this.enabling) {
                    var t, e, i = this.map.id, n = this.depExports, r = this.exports, s = this.factory;
                    if (this.inited) {
                        if (this.error)
                            this.emit("error", this.error);
                        else if (!this.defining) {
                            if (this.defining = !0,
                            this.depCount < 1 && !this.defined) {
                                if (isFunction(s)) {
                                    if (this.events.error && this.map.isDefine || req.onError !== defaultOnError)
                                        try {
                                            r = x.execCb(i, s, n, r)
                                        } catch (e) {
                                            t = e
                                        }
                                    else
                                        r = x.execCb(i, s, n, r);
                                    if (this.map.isDefine && void 0 === r && (e = this.module,
                                    e ? r = e.exports : this.usingExports && (r = this.exports)),
                                    t)
                                        return t.requireMap = this.map,
                                        t.requireModules = this.map.isDefine ? [this.map.id] : null,
                                        t.requireType = this.map.isDefine ? "define" : "require",
                                        l(this.error = t)
                                } else
                                    r = s;
                                if (this.exports = r,
                                this.map.isDefine && !this.ignore && (P[i] = r,
                                req.onResourceLoad)) {
                                    var o = [];
                                    each(this.depMaps, function(t) {
                                        o.push(t.normalizedMap || t)
                                    }),
                                    req.onResourceLoad(x, this.map, o)
                                }
                                c(i),
                                this.defined = !0
                            }
                            this.defining = !1,
                            this.defined && !this.defineEmitted && (this.defineEmitted = !0,
                            this.emit("defined", this.exports),
                            this.defineEmitComplete = !0)
                        }
                    } else
                        hasProp(x.defQueueMap, i) || this.fetch()
                }
            },
            callPlugin: function() {
                var t = this.map
                  , e = t.id
                  , n = o(t.prefix);
                this.depMaps.push(n),
                h(n, "defined", bind(this, function(n) {
                    var r, s, u, d = getOwn(O, this.map.id), p = this.map.name, f = this.map.parentMap ? this.map.parentMap.name : null, m = x.makeRequire(t.parentMap, {
                        enableBuildCallback: !0
                    });
                    return this.map.unnormalized ? (n.normalize && (p = n.normalize(p, function(t) {
                        return i(t, f, !0)
                    }) || ""),
                    s = o(t.prefix + "!" + p, this.map.parentMap, !0),
                    h(s, "defined", bind(this, function(t) {
                        this.map.normalizedMap = s,
                        this.init([], function() {
                            return t
                        }, null, {
                            enabled: !0,
                            ignore: !0
                        })
                    })),
                    void ((u = getOwn(A, s.id)) && (this.depMaps.push(s),
                    this.events.error && u.on("error", bind(this, function(t) {
                        this.emit("error", t)
                    })),
                    u.enable()))) : d ? (this.map.url = x.nameToUrl(d),
                    void this.load()) : (r = bind(this, function(t) {
                        this.init([], function() {
                            return t
                        }, null, {
                            enabled: !0
                        })
                    }),
                    r.error = bind(this, function(t) {
                        this.inited = !0,
                        this.error = t,
                        t.requireModules = [e],
                        eachProp(A, function(t) {
                            0 === t.map.id.indexOf(e + "_unnormalized") && c(t.map.id)
                        }),
                        l(t)
                    }),
                    r.fromText = bind(this, function(i, n) {
                        var s = t.name
                          , h = o(s)
                          , u = useInteractive;
                        n && (i = n),
                        u && (useInteractive = !1),
                        a(h),
                        hasProp(T.config, e) && (T.config[s] = T.config[e]);
                        try {
                            req.exec(i)
                        } catch (t) {
                            return l(makeError("fromtexteval", "fromText eval for " + e + " failed: " + t, t, [e]))
                        }
                        u && (useInteractive = !0),
                        this.depMaps.push(h),
                        x.completeLoad(s),
                        m([s], r)
                    }),
                    void n.load(t.name, m, r, T))
                })),
                x.enable(n, this),
                this.pluginMaps[n.id] = n
            },
            enable: function() {
                S[this.map.id] = this,
                this.enabled = !0,
                this.enabling = !0,
                each(this.depMaps, bind(this, function(t, e) {
                    var i, n, r;
                    if ("string" == typeof t) {
                        if (t = o(t, this.map.isDefine ? this.map : this.map.parentMap, !1, !this.skipMap),
                        this.depMaps[e] = t,
                        r = getOwn(b, t.id))
                            return void (this.depExports[e] = r(this));
                        this.depCount += 1,
                        h(t, "defined", bind(this, function(t) {
                            this.undefed || (this.defineDep(e, t),
                            this.check())
                        })),
                        this.errback ? h(t, "error", bind(this, this.errback)) : this.events.error && h(t, "error", bind(this, function(t) {
                            this.emit("error", t)
                        }))
                    }
                    i = t.id,
                    n = A[i],
                    hasProp(b, i) || !n || n.enabled || x.enable(t, this)
                })),
                eachProp(this.pluginMaps, bind(this, function(t) {
                    var e = getOwn(A, t.id);
                    e && !e.enabled && x.enable(t, this)
                })),
                this.enabling = !1,
                this.check()
            },
            on: function(t, e) {
                var i = this.events[t];
                i || (i = this.events[t] = []),
                i.push(e)
            },
            emit: function(t, e) {
                each(this.events[t], function(t) {
                    t(e)
                }),
                "error" === t && delete this.events[t]
            }
        },
        x = {
            config: T,
            contextName: t,
            registry: A,
            defined: P,
            urlFetched: M,
            defQueue: E,
            defQueueMap: {},
            Module: g,
            makeModuleMap: o,
            nextTick: req.nextTick,
            onError: l,
            configure: function(t) {
                if (t.baseUrl && "/" !== t.baseUrl.charAt(t.baseUrl.length - 1) && (t.baseUrl += "/"),
                "string" == typeof t.urlArgs) {
                    var e = t.urlArgs;
                    t.urlArgs = function(t, i) {
                        return (-1 === i.indexOf("?") ? "?" : "&") + e
                    }
                }
                var i = T.shim
                  , n = {
                    paths: !0,
                    bundles: !0,
                    config: !0,
                    map: !0
                };
                eachProp(t, function(t, e) {
                    n[e] ? (T[e] || (T[e] = {}),
                    mixin(T[e], t, !0, !0)) : T[e] = t
                }),
                t.bundles && eachProp(t.bundles, function(t, e) {
                    each(t, function(t) {
                        t !== e && (O[t] = e)
                    })
                }),
                t.shim && (eachProp(t.shim, function(t, e) {
                    isArray(t) && (t = {
                        deps: t
                    }),
                    !t.exports && !t.init || t.exportsFn || (t.exportsFn = x.makeShimExports(t)),
                    i[e] = t
                }),
                T.shim = i),
                t.packages && each(t.packages, function(t) {
                    var e, i;
                    t = "string" == typeof t ? {
                        name: t
                    } : t,
                    i = t.name,
                    e = t.location,
                    e && (T.paths[i] = t.location),
                    T.pkgs[i] = t.name + "/" + (t.main || "main").replace(currDirRegExp, "").replace(jsSuffixRegExp, "")
                }),
                eachProp(A, function(t, e) {
                    t.inited || t.map.unnormalized || (t.map = o(e, null, !0))
                }),
                (t.deps || t.callback) && x.require(t.deps || [], t.callback)
            },
            makeShimExports: function(t) {
                function e() {
                    var e;
                    return t.init && (e = t.init.apply(global, arguments)),
                    e || t.exports && getGlobal(t.exports)
                }
                return e
            },
            makeRequire: function(e, r) {
                function s(i, n, h) {
                    var u, c, d;
                    return r.enableBuildCallback && n && isFunction(n) && (n.__requireJsBuild = !0),
                    "string" == typeof i ? isFunction(n) ? l(makeError("requireargs", "Invalid require call"), h) : e && hasProp(b, i) ? b[i](A[e.id]) : req.get ? req.get(x, i, e, s) : (c = o(i, e, !1, !0),
                    u = c.id,
                    hasProp(P, u) ? P[u] : l(makeError("notloaded", 'Module name "' + u + '" has not been loaded yet for context: ' + t + (e ? "" : ". Use require([])")))) : (y(),
                    x.nextTick(function() {
                        y(),
                        d = a(o(null, e)),
                        d.skipMap = r.skipMap,
                        d.init(i, n, h, {
                            enabled: !0
                        }),
                        p()
                    }),
                    s)
                }
                return r = r || {},
                mixin(s, {
                    isBrowser: isBrowser,
                    toUrl: function(t) {
                        var n, r = t.lastIndexOf("."), s = t.split("/")[0], o = "." === s || ".." === s;
                        return -1 !== r && (!o || r > 1) && (n = t.substring(r, t.length),
                        t = t.substring(0, r)),
                        x.nameToUrl(i(t, e && e.id, !0), n, !0)
                    },
                    defined: function(t) {
                        return hasProp(P, o(t, e, !1, !0).id)
                    },
                    specified: function(t) {
                        return t = o(t, e, !1, !0).id,
                        hasProp(P, t) || hasProp(A, t)
                    }
                }),
                e || (s.undef = function(t) {
                    u();
                    var i = o(t, e, !0)
                      , r = getOwn(A, t);
                    r.undefed = !0,
                    n(t),
                    delete P[t],
                    delete M[i.url],
                    delete C[t],
                    eachReverse(E, function(e, i) {
                        e[0] === t && E.splice(i, 1)
                    }),
                    delete x.defQueueMap[t],
                    r && (r.events.defined && (C[t] = r.events),
                    c(t))
                }
                ),
                s
            },
            enable: function(t) {
                getOwn(A, t.id) && a(t).enable()
            },
            completeLoad: function(t) {
                var e, i, n, s = getOwn(T.shim, t) || {}, o = s.exports;
                for (u(); E.length; ) {
                    if (i = E.shift(),
                    null === i[0]) {
                        if (i[0] = t,
                        e)
                            break;
                        e = !0
                    } else
                        i[0] === t && (e = !0);
                    f(i)
                }
                if (x.defQueueMap = {},
                n = getOwn(A, t),
                !e && !hasProp(P, t) && n && !n.inited) {
                    if (!(!T.enforceDefine || o && getGlobal(o)))
                        return r(t) ? void 0 : l(makeError("nodefine", "No define call for " + t, null, [t]));
                    f([t, s.deps || [], s.exportsFn])
                }
                p()
            },
            nameToUrl: function(t, e, i) {
                var n, r, s, o, a, h, l, u = getOwn(T.pkgs, t);
                if (u && (t = u),
                l = getOwn(O, t))
                    return x.nameToUrl(l, e, i);
                if (req.jsExtRegExp.test(t))
                    a = t + (e || "");
                else {
                    for (n = T.paths,
                    r = t.split("/"),
                    s = r.length; s > 0; s -= 1)
                        if (o = r.slice(0, s).join("/"),
                        h = getOwn(n, o)) {
                            isArray(h) && (h = h[0]),
                            r.splice(0, s, h);
                            break
                        }
                    a = r.join("/"),
                    a += e || (/^data\:|^blob\:|\?/.test(a) || i ? "" : ".js"),
                    a = ("/" === a.charAt(0) || a.match(/^[\w\+\.\-]+:/) ? "" : T.baseUrl) + a
                }
                return T.urlArgs && !/^blob\:/.test(a) ? a + T.urlArgs(t, a) : a
            },
            load: function(t, e) {
                req.load(x, t, e)
            },
            execCb: function(t, e, i, n) {
                return e.apply(n, i)
            },
            onScriptLoad: function(t) {
                if ("load" === t.type || readyRegExp.test((t.currentTarget || t.srcElement).readyState)) {
                    interactiveScript = null;
                    var e = _(t);
                    x.completeLoad(e.id)
                }
            },
            onScriptError: function(t) {
                var e = _(t);
                if (!r(e.id)) {
                    var i = [];
                    return eachProp(A, function(t, n) {
                        0 !== n.indexOf("_@r") && each(t.depMaps, function(t) {
                            if (t.id === e.id)
                                return i.push(n),
                                !0
                        })
                    }),
                    l(makeError("scripterror", 'Script error for "' + e.id + (i.length ? '", needed by: ' + i.join(", ") : '"'), t, [e.id]))
                }
            }
        },
        x.require = x.makeRequire(),
        x
    }
    function getInteractiveScript() {
        return interactiveScript && "interactive" === interactiveScript.readyState ? interactiveScript : (eachReverse(scripts(), function(t) {
            if ("interactive" === t.readyState)
                return interactiveScript = t
        }),
        interactiveScript)
    }
    var req, s, head, baseElement, dataMain, src, interactiveScript, currentlyAddingScript, mainScript, subPath, version = "2.3.3", commentRegExp = /\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm, cjsRequireRegExp = /[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g, jsSuffixRegExp = /\.js$/, currDirRegExp = /^\.\//, op = Object.prototype, ostring = op.toString, hasOwn = op.hasOwnProperty, isBrowser = !("undefined" == typeof window || "undefined" == typeof navigator || !window.document), isWebWorker = !isBrowser && "undefined" != typeof importScripts, readyRegExp = isBrowser && "PLAYSTATION 3" === navigator.platform ? /^complete$/ : /^(complete|loaded)$/, defContextName = "_", isOpera = "undefined" != typeof opera && "[object Opera]" === opera.toString(), contexts = {}, cfg = {}, globalDefQueue = [], useInteractive = !1;
    if (void 0 === define) {
        if (void 0 !== requirejs) {
            if (isFunction(requirejs))
                return;
            cfg = requirejs,
            requirejs = void 0
        }
        void 0 === require || isFunction(require) || (cfg = require,
        require = void 0),
        req = requirejs = function(t, e, i, n) {
            var r, s, o = defContextName;
            return isArray(t) || "string" == typeof t || (s = t,
            isArray(e) ? (t = e,
            e = i,
            i = n) : t = []),
            s && s.context && (o = s.context),
            r = getOwn(contexts, o),
            r || (r = contexts[o] = req.s.newContext(o)),
            s && r.configure(s),
            r.require(t, e, i)
        }
        ,
        req.config = function(t) {
            return req(t)
        }
        ,
        req.nextTick = void 0 !== setTimeout ? function(t) {
            setTimeout(t, 4)
        }
        : function(t) {
            t()
        }
        ,
        require || (require = req),
        req.version = version,
        req.jsExtRegExp = /^\/|:|\?|\.js$/,
        req.isBrowser = isBrowser,
        s = req.s = {
            contexts: contexts,
            newContext: newContext
        },
        req({}),
        each(["toUrl", "undef", "defined", "specified"], function(t) {
            req[t] = function() {
                var e = contexts[defContextName];
                return e.require[t].apply(e, arguments)
            }
        }),
        isBrowser && (head = s.head = document.getElementsByTagName("head")[0],
        (baseElement = document.getElementsByTagName("base")[0]) && (head = s.head = baseElement.parentNode)),
        req.onError = defaultOnError,
        req.createNode = function(t, e, i) {
            var n = t.xhtml ? document.createElementNS("http://www.w3.org/1999/xhtml", "html:script") : document.createElement("script");
            return n.type = t.scriptType || "text/javascript",
            n.charset = "utf-8",
            n.async = !0,
            n
        }
        ,
        req.load = function(t, e, i) {
            var n, r = t && t.config || {};
            if (isBrowser)
                return n = req.createNode(r, e, i),
                n.setAttribute("data-requirecontext", t.contextName),
                n.setAttribute("data-requiremodule", e),
                !n.attachEvent || n.attachEvent.toString && n.attachEvent.toString().indexOf("[native code") < 0 || isOpera ? (n.addEventListener("load", t.onScriptLoad, !1),
                n.addEventListener("error", t.onScriptError, !1)) : (useInteractive = !0,
                n.attachEvent("onreadystatechange", t.onScriptLoad)),
                n.src = i,
                r.onNodeCreated && r.onNodeCreated(n, r, e, i),
                currentlyAddingScript = n,
                baseElement ? head.insertBefore(n, baseElement) : head.appendChild(n),
                currentlyAddingScript = null,
                n;
            if (isWebWorker)
                try {
                    setTimeout(function() {}, 0),
                    importScripts(i),
                    t.completeLoad(e)
                } catch (n) {
                    t.onError(makeError("importscripts", "importScripts failed for " + e + " at " + i, n, [e]))
                }
        }
        ,
        isBrowser && !cfg.skipDataMain && eachReverse(scripts(), function(t) {
            if (head || (head = t.parentNode),
            dataMain = t.getAttribute("data-main"))
                return mainScript = dataMain,
                cfg.baseUrl || -1 !== mainScript.indexOf("!") || (src = mainScript.split("/"),
                mainScript = src.pop(),
                subPath = src.length ? src.join("/") + "/" : "./",
                cfg.baseUrl = subPath),
                mainScript = mainScript.replace(jsSuffixRegExp, ""),
                req.jsExtRegExp.test(mainScript) && (mainScript = dataMain),
                cfg.deps = cfg.deps ? cfg.deps.concat(mainScript) : [mainScript],
                !0
        }),
        define = function(t, e, i) {
            var n, r;
            "string" != typeof t && (i = e,
            e = t,
            t = null),
            isArray(e) || (i = e,
            e = null),
            !e && isFunction(i) && (e = [],
            i.length && (i.toString().replace(commentRegExp, commentReplace).replace(cjsRequireRegExp, function(t, i) {
                e.push(i)
            }),
            e = (1 === i.length ? ["require"] : ["require", "exports", "module"]).concat(e))),
            useInteractive && (n = currentlyAddingScript || getInteractiveScript()) && (t || (t = n.getAttribute("data-requiremodule")),
            r = contexts[n.getAttribute("data-requirecontext")]),
            r ? (r.defQueue.push([t, e, i]),
            r.defQueueMap[t] = !0) : globalDefQueue.push([t, e, i])
        }
        ,
        define.amd = {
            jQuery: !0
        },
        req.exec = function(text) {
            return eval(text)
        }
        ,
        req(cfg)
    }
}(this, "undefined" == typeof setTimeout ? void 0 : setTimeout),
define("require.js", function() {}),
function(t) {
    "use strict";
    function e(t) {
        switch (typeof t) {
        case "undefined":
            return "undefined";
        case "boolean":
            return "boolean";
        case "number":
            return "number";
        case "string":
            return "string";
        default:
            return null === t ? "null" : "object"
        }
    }
    function i(t) {
        return Object.prototype.toString.call(t).replace(/^\[object *|\]$/g, "")
    }
    function n(t) {
        return "function" == typeof t
    }
    function r(t) {
        if (null === t || t === M)
            throw TypeError();
        return Object(t)
    }
    function s(t) {
        return t >> 0
    }
    function o(t) {
        return t >>> 0
    }
    function a(e) {
        if (!("TYPED_ARRAY_POLYFILL_NO_ARRAY_ACCESSORS"in t)) {
            if (e.length > O)
                throw RangeError("Array too large for polyfill");
            var i;
            for (i = 0; i < e.length; i += 1)
                !function(t) {
                    Object.defineProperty(e, t, {
                        get: function() {
                            return e._getter(t)
                        },
                        set: function(i) {
                            e._setter(t, i)
                        },
                        enumerable: !0,
                        configurable: !1
                    })
                }(i)
        }
    }
    function h(t, e) {
        var i = 32 - e;
        return t << i >> i
    }
    function l(t, e) {
        var i = 32 - e;
        return t << i >>> i
    }
    function u(t) {
        return [255 & t]
    }
    function c(t) {
        return h(t[0], 8)
    }
    function d(t) {
        return [255 & t]
    }
    function p(t) {
        return l(t[0], 8)
    }
    function f(t) {
        return t = j(Number(t)),
        [t < 0 ? 0 : t > 255 ? 255 : 255 & t]
    }
    function m(t) {
        return [255 & t, t >> 8 & 255]
    }
    function _(t) {
        return h(t[1] << 8 | t[0], 16)
    }
    function y(t) {
        return [255 & t, t >> 8 & 255]
    }
    function v(t) {
        return l(t[1] << 8 | t[0], 16)
    }
    function g(t) {
        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
    }
    function x(t) {
        return h(t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0], 32)
    }
    function b(t) {
        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
    }
    function w(t) {
        return l(t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0], 32)
    }
    function T(t, e, i) {
        function n(t) {
            var e = R(t)
              , i = t - e;
            return i < .5 ? e : i > .5 ? e + 1 : e % 2 ? e + 1 : e
        }
        var r, s, o, a = (1 << e - 1) - 1;
        if (t !== t)
            s = (1 << e) - 1,
            o = F(2, i - 1),
            r = 0;
        else if (t === 1 / 0 || t === -1 / 0)
            s = (1 << e) - 1,
            o = 0,
            r = t < 0 ? 1 : 0;
        else if (0 === t)
            s = 0,
            o = 0,
            r = 1 / t == -1 / 0 ? 1 : 0;
        else if (r = t < 0,
        (t = B(t)) >= F(2, 1 - a)) {
            s = L(R(k(t) / I), 1023);
            var h = t / F(2, s);
            h < 1 && (s -= 1,
            h *= 2),
            h >= 2 && (s += 1,
            h /= 2);
            var l = F(2, i);
            o = n(h * l) - l,
            s += a,
            o / l >= 1 && (s += 1,
            o = 0),
            s > 2 * a && (s = (1 << e) - 1,
            o = 0)
        } else
            s = 0,
            o = n(t / F(2, 1 - a - i));
        var u, c = [];
        for (u = i; u; u -= 1)
            c.push(o % 2 ? 1 : 0),
            o = R(o / 2);
        for (u = e; u; u -= 1)
            c.push(s % 2 ? 1 : 0),
            s = R(s / 2);
        c.push(r ? 1 : 0),
        c.reverse();
        for (var d = c.join(""), p = []; d.length; )
            p.unshift(parseInt(d.substring(0, 8), 2)),
            d = d.substring(8);
        return p
    }
    function A(t, e, i) {
        var n, r, s, o, a, h, l, u, c = [];
        for (n = 0; n < t.length; ++n)
            for (s = t[n],
            r = 8; r; r -= 1)
                c.push(s % 2 ? 1 : 0),
                s >>= 1;
        return c.reverse(),
        o = c.join(""),
        a = (1 << e - 1) - 1,
        h = parseInt(o.substring(0, 1), 2) ? -1 : 1,
        l = parseInt(o.substring(1, 1 + e), 2),
        u = parseInt(o.substring(1 + e), 2),
        l === (1 << e) - 1 ? 0 !== u ? NaN : h * (1 / 0) : l > 0 ? h * F(2, l - a) * (1 + u / F(2, i)) : 0 !== u ? h * F(2, -(a - 1)) * (u / F(2, i)) : h < 0 ? -0 : 0
    }
    function S(t) {
        return A(t, 11, 52)
    }
    function C(t) {
        return T(t, 11, 52)
    }
    function E(t) {
        return A(t, 8, 23)
    }
    function P(t) {
        return T(t, 8, 23)
    }
    var M = void 0
      , O = 1e5
      , I = Math.LN2
      , B = Math.abs
      , R = Math.floor
      , k = Math.log
      , D = Math.max
      , L = Math.min
      , F = Math.pow
      , j = Math.round;
    !function() {
        var t = Object.defineProperty
          , e = !function() {
            try {
                return Object.defineProperty({}, "x", {})
            } catch (t) {
                return !1
            }
        }();
        t && !e || (Object.defineProperty = function(e, i, n) {
            if (t)
                try {
                    return t(e, i, n)
                } catch (t) {}
            if (e !== Object(e))
                throw TypeError("Object.defineProperty called on non-object");
            return Object.prototype.__defineGetter__ && "get"in n && Object.prototype.__defineGetter__.call(e, i, n.get),
            Object.prototype.__defineSetter__ && "set"in n && Object.prototype.__defineSetter__.call(e, i, n.set),
            "value"in n && (e[i] = n.value),
            e
        }
        )
    }(),
    function() {
        function h(t) {
            if ((t = s(t)) < 0)
                throw RangeError("ArrayBuffer size is not a small enough positive integer.");
            Object.defineProperty(this, "byteLength", {
                value: t
            }),
            Object.defineProperty(this, "_bytes", {
                value: Array(t)
            });
            for (var e = 0; e < t; e += 1)
                this._bytes[e] = 0
        }
        function l() {
            if (!arguments.length || "object" != typeof arguments[0])
                return function(t) {
                    if ((t = s(t)) < 0)
                        throw RangeError("length is not a small enough positive integer.");
                    Object.defineProperty(this, "length", {
                        value: t
                    }),
                    Object.defineProperty(this, "byteLength", {
                        value: t * this.BYTES_PER_ELEMENT
                    }),
                    Object.defineProperty(this, "buffer", {
                        value: new h(this.byteLength)
                    }),
                    Object.defineProperty(this, "byteOffset", {
                        value: 0
                    })
                }
                .apply(this, arguments);
            if (arguments.length >= 1 && "object" === e(arguments[0]) && arguments[0]instanceof l)
                return function(t) {
                    if (this.constructor !== t.constructor)
                        throw TypeError();
                    var e = t.length * this.BYTES_PER_ELEMENT;
                    Object.defineProperty(this, "buffer", {
                        value: new h(e)
                    }),
                    Object.defineProperty(this, "byteLength", {
                        value: e
                    }),
                    Object.defineProperty(this, "byteOffset", {
                        value: 0
                    }),
                    Object.defineProperty(this, "length", {
                        value: t.length
                    });
                    for (var i = 0; i < this.length; i += 1)
                        this._setter(i, t._getter(i))
                }
                .apply(this, arguments);
            if (arguments.length >= 1 && "object" === e(arguments[0]) && !(arguments[0]instanceof l) && !(arguments[0]instanceof h || "ArrayBuffer" === i(arguments[0])))
                return function(t) {
                    var e = t.length * this.BYTES_PER_ELEMENT;
                    Object.defineProperty(this, "buffer", {
                        value: new h(e)
                    }),
                    Object.defineProperty(this, "byteLength", {
                        value: e
                    }),
                    Object.defineProperty(this, "byteOffset", {
                        value: 0
                    }),
                    Object.defineProperty(this, "length", {
                        value: t.length
                    });
                    for (var i = 0; i < this.length; i += 1) {
                        var n = t[i];
                        this._setter(i, Number(n))
                    }
                }
                .apply(this, arguments);
            if (arguments.length >= 1 && "object" === e(arguments[0]) && (arguments[0]instanceof h || "ArrayBuffer" === i(arguments[0])))
                return function(t, e, i) {
                    if ((e = o(e)) > t.byteLength)
                        throw RangeError("byteOffset out of range");
                    if (e % this.BYTES_PER_ELEMENT)
                        throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");
                    if (i === M) {
                        var n = t.byteLength - e;
                        if (n % this.BYTES_PER_ELEMENT)
                            throw RangeError("length of buffer minus byteOffset not a multiple of the element size");
                        i = n / this.BYTES_PER_ELEMENT
                    } else
                        i = o(i),
                        n = i * this.BYTES_PER_ELEMENT;
                    if (e + n > t.byteLength)
                        throw RangeError("byteOffset and length reference an area beyond the end of the buffer");
                    Object.defineProperty(this, "buffer", {
                        value: t
                    }),
                    Object.defineProperty(this, "byteLength", {
                        value: n
                    }),
                    Object.defineProperty(this, "byteOffset", {
                        value: e
                    }),
                    Object.defineProperty(this, "length", {
                        value: i
                    })
                }
                .apply(this, arguments);
            throw TypeError()
        }
        function T(t, e, i) {
            var n = function() {
                Object.defineProperty(this, "constructor", {
                    value: n
                }),
                l.apply(this, arguments),
                a(this)
            };
            "__proto__"in n ? n.__proto__ = l : (n.from = l.from,
            n.of = l.of),
            n.BYTES_PER_ELEMENT = t;
            var r = function() {};
            return r.prototype = A,
            n.prototype = new r,
            Object.defineProperty(n.prototype, "BYTES_PER_ELEMENT", {
                value: t
            }),
            Object.defineProperty(n.prototype, "_pack", {
                value: e
            }),
            Object.defineProperty(n.prototype, "_unpack", {
                value: i
            }),
            n
        }
        t.ArrayBuffer = t.ArrayBuffer || h,
        Object.defineProperty(l, "from", {
            value: function(t) {
                return new this(t)
            }
        }),
        Object.defineProperty(l, "of", {
            value: function() {
                return new this(arguments)
            }
        });
        var A = {};
        l.prototype = A,
        Object.defineProperty(l.prototype, "_getter", {
            value: function(t) {
                if (arguments.length < 1)
                    throw SyntaxError("Not enough arguments");
                if ((t = o(t)) >= this.length)
                    return M;
                var e, i, n = [];
                for (e = 0,
                i = this.byteOffset + t * this.BYTES_PER_ELEMENT; e < this.BYTES_PER_ELEMENT; e += 1,
                i += 1)
                    n.push(this.buffer._bytes[i]);
                return this._unpack(n)
            }
        }),
        Object.defineProperty(l.prototype, "get", {
            value: l.prototype._getter
        }),
        Object.defineProperty(l.prototype, "_setter", {
            value: function(t, e) {
                if (arguments.length < 2)
                    throw SyntaxError("Not enough arguments");
                if (!((t = o(t)) >= this.length)) {
                    var i, n, r = this._pack(e);
                    for (i = 0,
                    n = this.byteOffset + t * this.BYTES_PER_ELEMENT; i < this.BYTES_PER_ELEMENT; i += 1,
                    n += 1)
                        this.buffer._bytes[n] = r[i]
                }
            }
        }),
        Object.defineProperty(l.prototype, "constructor", {
            value: l
        }),
        Object.defineProperty(l.prototype, "copyWithin", {
            value: function(t, e) {
                var i = arguments[2]
                  , n = r(this)
                  , a = n.length
                  , h = o(a);
                h = D(h, 0);
                var l, u = s(t);
                l = u < 0 ? D(h + u, 0) : L(u, h);
                var c, d = s(e);
                c = d < 0 ? D(h + d, 0) : L(d, h);
                var p;
                p = i === M ? h : s(i);
                var f;
                f = p < 0 ? D(h + p, 0) : L(p, h);
                var m, _ = L(f - c, h - l);
                for (c < l && l < c + _ ? (m = -1,
                c = c + _ - 1,
                l = l + _ - 1) : m = 1; _ > 0; )
                    n._setter(l, n._getter(c)),
                    c += m,
                    l += m,
                    _ -= 1;
                return n
            }
        }),
        Object.defineProperty(l.prototype, "every", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (!n(t))
                    throw TypeError();
                for (var r = arguments[1], s = 0; s < i; s++)
                    if (!t.call(r, e._getter(s), s, e))
                        return !1;
                return !0
            }
        }),
        Object.defineProperty(l.prototype, "fill", {
            value: function(t) {
                var e = arguments[1]
                  , i = arguments[2]
                  , n = r(this)
                  , a = n.length
                  , h = o(a);
                h = D(h, 0);
                var l, u = s(e);
                l = u < 0 ? D(h + u, 0) : L(u, h);
                var c;
                c = i === M ? h : s(i);
                var d;
                for (d = c < 0 ? D(h + c, 0) : L(c, h); l < d; )
                    n._setter(l, t),
                    l += 1;
                return n
            }
        }),
        Object.defineProperty(l.prototype, "filter", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (!n(t))
                    throw TypeError();
                for (var r = [], s = arguments[1], a = 0; a < i; a++) {
                    var h = e._getter(a);
                    t.call(s, h, a, e) && r.push(h)
                }
                return new this.constructor(r)
            }
        }),
        Object.defineProperty(l.prototype, "find", {
            value: function(t) {
                var e = r(this)
                  , i = e.length
                  , s = o(i);
                if (!n(t))
                    throw TypeError();
                for (var a = arguments.length > 1 ? arguments[1] : M, h = 0; h < s; ) {
                    var l = e._getter(h)
                      , u = t.call(a, l, h, e);
                    if (Boolean(u))
                        return l;
                    ++h
                }
                return M
            }
        }),
        Object.defineProperty(l.prototype, "findIndex", {
            value: function(t) {
                var e = r(this)
                  , i = e.length
                  , s = o(i);
                if (!n(t))
                    throw TypeError();
                for (var a = arguments.length > 1 ? arguments[1] : M, h = 0; h < s; ) {
                    var l = e._getter(h)
                      , u = t.call(a, l, h, e);
                    if (Boolean(u))
                        return h;
                    ++h
                }
                return -1
            }
        }),
        Object.defineProperty(l.prototype, "forEach", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (!n(t))
                    throw TypeError();
                for (var r = arguments[1], s = 0; s < i; s++)
                    t.call(r, e._getter(s), s, e)
            }
        }),
        Object.defineProperty(l.prototype, "indexOf", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (0 === i)
                    return -1;
                var n = 0;
                if (arguments.length > 0 && (n = Number(arguments[1]),
                n !== n ? n = 0 : 0 !== n && n !== 1 / 0 && n !== -1 / 0 && (n = (n > 0 || -1) * R(B(n)))),
                n >= i)
                    return -1;
                for (var r = n >= 0 ? n : D(i - B(n), 0); r < i; r++)
                    if (e._getter(r) === t)
                        return r;
                return -1
            }
        }),
        Object.defineProperty(l.prototype, "join", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                for (var e = Object(this), i = o(e.length), n = Array(i), r = 0; r < i; ++r)
                    n[r] = e._getter(r);
                return n.join(t === M ? "," : t)
            }
        }),
        Object.defineProperty(l.prototype, "lastIndexOf", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (0 === i)
                    return -1;
                var n = i;
                arguments.length > 1 && (n = Number(arguments[1]),
                n !== n ? n = 0 : 0 !== n && n !== 1 / 0 && n !== -1 / 0 && (n = (n > 0 || -1) * R(B(n))));
                for (var r = n >= 0 ? L(n, i - 1) : i - B(n); r >= 0; r--)
                    if (e._getter(r) === t)
                        return r;
                return -1
            }
        }),
        Object.defineProperty(l.prototype, "map", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (!n(t))
                    throw TypeError();
                var r = [];
                r.length = i;
                for (var s = arguments[1], a = 0; a < i; a++)
                    r[a] = t.call(s, e._getter(a), a, e);
                return new this.constructor(r)
            }
        }),
        Object.defineProperty(l.prototype, "reduce", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (!n(t))
                    throw TypeError();
                if (0 === i && 1 === arguments.length)
                    throw TypeError();
                var r, s = 0;
                for (r = arguments.length >= 2 ? arguments[1] : e._getter(s++); s < i; )
                    r = t.call(M, r, e._getter(s), s, e),
                    s++;
                return r
            }
        }),
        Object.defineProperty(l.prototype, "reduceRight", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (!n(t))
                    throw TypeError();
                if (0 === i && 1 === arguments.length)
                    throw TypeError();
                var r, s = i - 1;
                for (r = arguments.length >= 2 ? arguments[1] : e._getter(s--); s >= 0; )
                    r = t.call(M, r, e._getter(s), s, e),
                    s--;
                return r
            }
        }),
        Object.defineProperty(l.prototype, "reverse", {
            value: function() {
                if (this === M || null === this)
                    throw TypeError();
                for (var t = Object(this), e = o(t.length), i = R(e / 2), n = 0, r = e - 1; n < i; ++n,
                --r) {
                    var s = t._getter(n);
                    t._setter(n, t._getter(r)),
                    t._setter(r, s)
                }
                return t
            }
        }),
        Object.defineProperty(l.prototype, "set", {
            value: function(t, e) {
                if (arguments.length < 1)
                    throw SyntaxError("Not enough arguments");
                var i, n, r, s, a, h, l, u, c, d;
                if ("object" == typeof arguments[0] && arguments[0].constructor === this.constructor) {
                    if (i = arguments[0],
                    (r = o(arguments[1])) + i.length > this.length)
                        throw RangeError("Offset plus length of array is out of range");
                    if (u = this.byteOffset + r * this.BYTES_PER_ELEMENT,
                    c = i.length * this.BYTES_PER_ELEMENT,
                    i.buffer === this.buffer) {
                        for (d = [],
                        a = 0,
                        h = i.byteOffset; a < c; a += 1,
                        h += 1)
                            d[a] = i.buffer._bytes[h];
                        for (a = 0,
                        l = u; a < c; a += 1,
                        l += 1)
                            this.buffer._bytes[l] = d[a]
                    } else
                        for (a = 0,
                        h = i.byteOffset,
                        l = u; a < c; a += 1,
                        h += 1,
                        l += 1)
                            this.buffer._bytes[l] = i.buffer._bytes[h]
                } else {
                    if ("object" != typeof arguments[0] || void 0 === arguments[0].length)
                        throw TypeError("Unexpected argument type(s)");
                    if (n = arguments[0],
                    s = o(n.length),
                    (r = o(arguments[1])) + s > this.length)
                        throw RangeError("Offset plus length of array is out of range");
                    for (a = 0; a < s; a += 1)
                        h = n[a],
                        this._setter(r + a, Number(h))
                }
            }
        }),
        Object.defineProperty(l.prototype, "slice", {
            value: function(t, e) {
                for (var i = r(this), n = i.length, a = o(n), h = s(t), l = h < 0 ? D(a + h, 0) : L(h, a), u = e === M ? a : s(e), c = u < 0 ? D(a + u, 0) : L(u, a), d = c - l, p = i.constructor, f = new p(d), m = 0; l < c; ) {
                    var _ = i._getter(l);
                    f._setter(m, _),
                    ++l,
                    ++m
                }
                return f
            }
        }),
        Object.defineProperty(l.prototype, "some", {
            value: function(t) {
                if (this === M || null === this)
                    throw TypeError();
                var e = Object(this)
                  , i = o(e.length);
                if (!n(t))
                    throw TypeError();
                for (var r = arguments[1], s = 0; s < i; s++)
                    if (t.call(r, e._getter(s), s, e))
                        return !0;
                return !1
            }
        }),
        Object.defineProperty(l.prototype, "sort", {
            value: function(t) {
                function e(e, i) {
                    return e !== e && i !== i ? 0 : e !== e ? 1 : i !== i ? -1 : t !== M ? t(e, i) : e < i ? -1 : e > i ? 1 : 0
                }
                if (this === M || null === this)
                    throw TypeError();
                for (var i = Object(this), n = o(i.length), r = Array(n), s = 0; s < n; ++s)
                    r[s] = i._getter(s);
                for (r.sort(e),
                s = 0; s < n; ++s)
                    i._setter(s, r[s]);
                return i
            }
        }),
        Object.defineProperty(l.prototype, "subarray", {
            value: function(t, e) {
                function i(t, e, i) {
                    return t < e ? e : t > i ? i : t
                }
                t = s(t),
                e = s(e),
                arguments.length < 1 && (t = 0),
                arguments.length < 2 && (e = this.length),
                t < 0 && (t = this.length + t),
                e < 0 && (e = this.length + e),
                t = i(t, 0, this.length),
                e = i(e, 0, this.length);
                var n = e - t;
                return n < 0 && (n = 0),
                new this.constructor(this.buffer,this.byteOffset + t * this.BYTES_PER_ELEMENT,n)
            }
        });
        var O = T(1, u, c)
          , I = T(1, d, p)
          , k = T(1, f, p)
          , F = T(2, m, _)
          , j = T(2, y, v)
          , N = T(4, g, x)
          , z = T(4, b, w)
          , U = T(4, P, E)
          , V = T(8, C, S);
        t.Int8Array = t.Int8Array || O,
        t.Uint8Array = t.Uint8Array || I,
        t.Uint8ClampedArray = t.Uint8ClampedArray || k,
        t.Int16Array = t.Int16Array || F,
        t.Uint16Array = t.Uint16Array || j,
        t.Int32Array = t.Int32Array || N,
        t.Uint32Array = t.Uint32Array || z,
        t.Float32Array = t.Float32Array || U,
        t.Float64Array = t.Float64Array || V
    }(),
    function() {
        function e(t, e) {
            return n(t.get) ? t.get(e) : t[e]
        }
        function r(t, e, n) {
            if (!(t instanceof ArrayBuffer || "ArrayBuffer" === i(t)))
                throw TypeError();
            if ((e = o(e)) > t.byteLength)
                throw RangeError("byteOffset out of range");
            if (n = n === M ? t.byteLength - e : o(n),
            e + n > t.byteLength)
                throw RangeError("byteOffset and length reference an area beyond the end of the buffer");
            Object.defineProperty(this, "buffer", {
                value: t
            }),
            Object.defineProperty(this, "byteLength", {
                value: n
            }),
            Object.defineProperty(this, "byteOffset", {
                value: e
            })
        }
        function s(t) {
            return function(i, n) {
                if ((i = o(i)) + t.BYTES_PER_ELEMENT > this.byteLength)
                    throw RangeError("Array index out of range");
                i += this.byteOffset;
                for (var r = new Uint8Array(this.buffer,i,t.BYTES_PER_ELEMENT), s = [], a = 0; a < t.BYTES_PER_ELEMENT; a += 1)
                    s.push(e(r, a));
                return Boolean(n) === Boolean(h) && s.reverse(),
                e(new t(new Uint8Array(s).buffer), 0)
            }
        }
        function a(t) {
            return function(i, n, r) {
                if ((i = o(i)) + t.BYTES_PER_ELEMENT > this.byteLength)
                    throw RangeError("Array index out of range");
                var s, a, l = new t([n]), u = new Uint8Array(l.buffer), c = [];
                for (s = 0; s < t.BYTES_PER_ELEMENT; s += 1)
                    c.push(e(u, s));
                Boolean(r) === Boolean(h) && c.reverse(),
                a = new Uint8Array(this.buffer,i,t.BYTES_PER_ELEMENT),
                a.set(c)
            }
        }
        var h = function() {
            var t = new Uint16Array([4660]);
            return 18 === e(new Uint8Array(t.buffer), 0)
        }();
        Object.defineProperty(r.prototype, "getUint8", {
            value: s(Uint8Array)
        }),
        Object.defineProperty(r.prototype, "getInt8", {
            value: s(Int8Array)
        }),
        Object.defineProperty(r.prototype, "getUint16", {
            value: s(Uint16Array)
        }),
        Object.defineProperty(r.prototype, "getInt16", {
            value: s(Int16Array)
        }),
        Object.defineProperty(r.prototype, "getUint32", {
            value: s(Uint32Array)
        }),
        Object.defineProperty(r.prototype, "getInt32", {
            value: s(Int32Array)
        }),
        Object.defineProperty(r.prototype, "getFloat32", {
            value: s(Float32Array)
        }),
        Object.defineProperty(r.prototype, "getFloat64", {
            value: s(Float64Array)
        }),
        Object.defineProperty(r.prototype, "setUint8", {
            value: a(Uint8Array)
        }),
        Object.defineProperty(r.prototype, "setInt8", {
            value: a(Int8Array)
        }),
        Object.defineProperty(r.prototype, "setUint16", {
            value: a(Uint16Array)
        }),
        Object.defineProperty(r.prototype, "setInt16", {
            value: a(Int16Array)
        }),
        Object.defineProperty(r.prototype, "setUint32", {
            value: a(Uint32Array)
        }),
        Object.defineProperty(r.prototype, "setInt32", {
            value: a(Int32Array)
        }),
        Object.defineProperty(r.prototype, "setFloat32", {
            value: a(Float32Array)
        }),
        Object.defineProperty(r.prototype, "setFloat64", {
            value: a(Float64Array)
        }),
        t.DataView = t.DataView || r
    }()
}(window),
define("typedarray", function() {}),
define("utils/compatible", ["typedarray"], function(t) {
    var e = {
        init: function() {
            this.hasWebGL = this.checkWebGL(),
            this.hasCanvas = this.checkCanvas(),
            this.hasSVG = this.checkSVG(),
            this.hasAudioAnalyser = this.checkAudioAnalyser(),
            this.polyfillConsoleLog(),
            this.polyfillRequestAnimationFrame(),
            this.polyfillDeviceAspectRatio()
        },
        checkAudioAnalyser: function() {
            try {
                var t = new (window.AudioContext || window.webkitAudioContext);
                t.createAnalyser();
                return !0
            } catch (t) {
                return !1
            }
        },
        polyfillConsoleLog: function() {
            window.console || (window.console = {}),
            window.console.log || (window.console.log = function() {}
            )
        },
        disableConsoleLog: function() {
            window.console.log = function() {}
        },
        checkSVG: function() {
            return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape", "1.0")
        },
        checkCanvas: function() {
            var t = document.createElement("canvas");
            return !(!t.getContext || !t.getContext("2d"))
        },
        checkWebGL: function() {
            try {
                var t = document.createElementNS("http://www.w3.org/1999/xhtml", "canvas");
                return null !== (t.getContext("webgl") || t.getContext("experimental-webgl"))
            } catch (t) {
                return !1
            }
        },
        polyfillDeviceAspectRatio: function() {
            window.devicePixelRatio = window.devicePixelRatio || 1
        },
        polyfillRequestAnimationFrame: function() {
            for (var t = 0, e = ["ms", "moz", "webkit", "o"], i = 0; i < e.length && !window.requestAnimationFrame; ++i)
                window.requestAnimationFrame = window[e[i] + "RequestAnimationFrame"],
                window.cancelAnimationFrame = window[e[i] + "CancelAnimationFrame"] || window[e[i] + "CancelRequestAnimationFrame"];
            window.requestAnimationFrame || (window.requestAnimationFrame = function(e, i) {
                var n = (new Date).getTime()
                  , r = Math.max(0, 16 - (n - t))
                  , s = window.setTimeout(function() {
                    e(n + r)
                }, r);
                return t = n + r,
                s
            }
            ),
            window.cancelAnimationFrame || (window.cancelAnimationFrame = function(t) {
                clearTimeout(t)
            }
            )
        }
    };
    return e.init(),
    e
}),
function() {
    "use strict";
    var t = function() {
        this.init()
    };
    t.prototype = {
        init: function() {
            var t = this || e;
            return t._counter = 1e3,
            t._codecs = {},
            t._howls = [],
            t._muted = !1,
            t._volume = 1,
            t._canPlayEvent = "canplaythrough",
            t._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null,
            t.masterGain = null,
            t.noAudio = !1,
            t.usingWebAudio = !0,
            t.autoSuspend = !0,
            t.ctx = null,
            t.mobileAutoEnable = !0,
            t._setup(),
            t
        },
        volume: function(t) {
            var i = this || e;
            if (t = parseFloat(t),
            i.ctx || l(),
            void 0 !== t && t >= 0 && t <= 1) {
                if (i._volume = t,
                i._muted)
                    return i;
                i.usingWebAudio && i.masterGain.gain.setValueAtTime(t, e.ctx.currentTime);
                for (var n = 0; n < i._howls.length; n++)
                    if (!i._howls[n]._webAudio)
                        for (var r = i._howls[n]._getSoundIds(), s = 0; s < r.length; s++) {
                            var o = i._howls[n]._soundById(r[s]);
                            o && o._node && (o._node.volume = o._volume * t)
                        }
                return i
            }
            return i._volume
        },
        mute: function(t) {
            var i = this || e;
            i.ctx || l(),
            i._muted = t,
            i.usingWebAudio && i.masterGain.gain.setValueAtTime(t ? 0 : i._volume, e.ctx.currentTime);
            for (var n = 0; n < i._howls.length; n++)
                if (!i._howls[n]._webAudio)
                    for (var r = i._howls[n]._getSoundIds(), s = 0; s < r.length; s++) {
                        var o = i._howls[n]._soundById(r[s]);
                        o && o._node && (o._node.muted = !!t || o._muted)
                    }
            return i
        },
        unload: function() {
            for (var t = this || e, i = t._howls.length - 1; i >= 0; i--)
                t._howls[i].unload();
            return t.usingWebAudio && t.ctx && void 0 !== t.ctx.close && (t.ctx.close(),
            t.ctx = null,
            l()),
            t
        },
        codecs: function(t) {
            return (this || e)._codecs[t.replace(/^x-/, "")]
        },
        _setup: function() {
            var t = this || e;
            if (t.state = t.ctx ? t.ctx.state || "running" : "running",
            t._autoSuspend(),
            !t.usingWebAudio)
                if ("undefined" != typeof Audio)
                    try {
                        var i = new Audio;
                        void 0 === i.oncanplaythrough && (t._canPlayEvent = "canplay")
                    } catch (e) {
                        t.noAudio = !0
                    }
                else
                    t.noAudio = !0;
            try {
                var i = new Audio;
                i.muted && (t.noAudio = !0)
            } catch (t) {}
            return t.noAudio || t._setupCodecs(),
            t
        },
        _setupCodecs: function() {
            var t = this || e
              , i = null;
            try {
                i = "undefined" != typeof Audio ? new Audio : null
            } catch (e) {
                return t
            }
            if (!i || "function" != typeof i.canPlayType)
                return t;
            var n = i.canPlayType("audio/mpeg;").replace(/^no$/, "")
              , r = t._navigator && t._navigator.userAgent.match(/OPR\/([0-6].)/g)
              , s = r && parseInt(r[0].split("/")[1], 10) < 33;
            return t._codecs = {
                mp3: !(s || !n && !i.canPlayType("audio/mp3;").replace(/^no$/, "")),
                mpeg: !!n,
                opus: !!i.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""),
                ogg: !!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                oga: !!i.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""),
                wav: !!i.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""),
                aac: !!i.canPlayType("audio/aac;").replace(/^no$/, ""),
                caf: !!i.canPlayType("audio/x-caf;").replace(/^no$/, ""),
                m4a: !!(i.canPlayType("audio/x-m4a;") || i.canPlayType("audio/m4a;") || i.canPlayType("audio/aac;")).replace(/^no$/, ""),
                mp4: !!(i.canPlayType("audio/x-mp4;") || i.canPlayType("audio/mp4;") || i.canPlayType("audio/aac;")).replace(/^no$/, ""),
                weba: !!i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                webm: !!i.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""),
                dolby: !!i.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, ""),
                flac: !!(i.canPlayType("audio/x-flac;") || i.canPlayType("audio/flac;")).replace(/^no$/, "")
            },
            t
        },
        _enableMobileAudio: function() {
            var t = this || e
              , i = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator && t._navigator.userAgent)
              , n = !!("ontouchend"in window || t._navigator && t._navigator.maxTouchPoints > 0 || t._navigator && t._navigator.msMaxTouchPoints > 0);
            if (!t._mobileEnabled && t.ctx && (i || n)) {
                t._mobileEnabled = !1,
                t._mobileUnloaded || 44100 === t.ctx.sampleRate || (t._mobileUnloaded = !0,
                t.unload()),
                t._scratchBuffer = t.ctx.createBuffer(1, 1, 22050);
                var r = function() {
                    e._autoResume();
                    var i = t.ctx.createBufferSource();
                    i.buffer = t._scratchBuffer,
                    i.connect(t.ctx.destination),
                    void 0 === i.start ? i.noteOn(0) : i.start(0),
                    "function" == typeof t.ctx.resume && t.ctx.resume(),
                    i.onended = function() {
                        i.disconnect(0),
                        t._mobileEnabled = !0,
                        t.mobileAutoEnable = !1,
                        document.removeEventListener("touchstart", r, !0),
                        document.removeEventListener("touchend", r, !0)
                    }
                };
                return document.addEventListener("touchstart", r, !0),
                document.addEventListener("touchend", r, !0),
                t
            }
        },
        _autoSuspend: function() {
            var t = this;
            if (t.autoSuspend && t.ctx && void 0 !== t.ctx.suspend && e.usingWebAudio) {
                for (var i = 0; i < t._howls.length; i++)
                    if (t._howls[i]._webAudio)
                        for (var n = 0; n < t._howls[i]._sounds.length; n++)
                            if (!t._howls[i]._sounds[n]._paused)
                                return t;
                return t._suspendTimer && clearTimeout(t._suspendTimer),
                t._suspendTimer = setTimeout(function() {
                    t.autoSuspend && (t._suspendTimer = null,
                    t.state = "suspending",
                    t.ctx.suspend().then(function() {
                        t.state = "suspended",
                        t._resumeAfterSuspend && (delete t._resumeAfterSuspend,
                        t._autoResume())
                    }))
                }, 3e4),
                t
            }
        },
        _autoResume: function() {
            var t = this;
            if (t.ctx && void 0 !== t.ctx.resume && e.usingWebAudio)
                return "running" === t.state && t._suspendTimer ? (clearTimeout(t._suspendTimer),
                t._suspendTimer = null) : "suspended" === t.state ? (t.ctx.resume().then(function() {
                    t.state = "running";
                    for (var e = 0; e < t._howls.length; e++)
                        t._howls[e]._emit("resume")
                }),
                t._suspendTimer && (clearTimeout(t._suspendTimer),
                t._suspendTimer = null)) : "suspending" === t.state && (t._resumeAfterSuspend = !0),
                t
        }
    };
    var e = new t
      , i = function(t) {
        var e = this;
        if (!t.src || 0 === t.src.length)
            return void console.error("An array of source files must be passed with any new Howl.");
        e.init(t)
    };
    i.prototype = {
        init: function(t) {
            var i = this;
            return e.ctx || l(),
            i._autoplay = t.autoplay || !1,
            i._format = "string" != typeof t.format ? t.format : [t.format],
            i._html5 = t.html5 || !1,
            i._muted = t.mute || !1,
            i._loop = t.loop || !1,
            i._pool = t.pool || 5,
            i._preload = "boolean" != typeof t.preload || t.preload,
            i._rate = t.rate || 1,
            i._sprite = t.sprite || {},
            i._src = "string" != typeof t.src ? t.src : [t.src],
            i._volume = void 0 !== t.volume ? t.volume : 1,
            i._xhrWithCredentials = t.xhrWithCredentials || !1,
            i._duration = 0,
            i._state = "unloaded",
            i._sounds = [],
            i._endTimers = {},
            i._queue = [],
            i._playLock = !1,
            i._onend = t.onend ? [{
                fn: t.onend
            }] : [],
            i._onfade = t.onfade ? [{
                fn: t.onfade
            }] : [],
            i._onload = t.onload ? [{
                fn: t.onload
            }] : [],
            i._onloaderror = t.onloaderror ? [{
                fn: t.onloaderror
            }] : [],
            i._onplayerror = t.onplayerror ? [{
                fn: t.onplayerror
            }] : [],
            i._onpause = t.onpause ? [{
                fn: t.onpause
            }] : [],
            i._onplay = t.onplay ? [{
                fn: t.onplay
            }] : [],
            i._onstop = t.onstop ? [{
                fn: t.onstop
            }] : [],
            i._onmute = t.onmute ? [{
                fn: t.onmute
            }] : [],
            i._onvolume = t.onvolume ? [{
                fn: t.onvolume
            }] : [],
            i._onrate = t.onrate ? [{
                fn: t.onrate
            }] : [],
            i._onseek = t.onseek ? [{
                fn: t.onseek
            }] : [],
            i._onresume = [],
            i._webAudio = e.usingWebAudio && !i._html5,
            void 0 !== e.ctx && e.ctx && e.mobileAutoEnable && e._enableMobileAudio(),
            e._howls.push(i),
            i._autoplay && i._queue.push({
                event: "play",
                action: function() {
                    i.play()
                }
            }),
            i._preload && i.load(),
            i
        },
        load: function() {
            var t = this
              , i = null;
            if (e.noAudio)
                return void t._emit("loaderror", null, "No audio support.");
            "string" == typeof t._src && (t._src = [t._src]);
            for (var r = 0; r < t._src.length; r++) {
                var o, a;
                if (t._format && t._format[r])
                    o = t._format[r];
                else {
                    if ("string" != typeof (a = t._src[r])) {
                        t._emit("loaderror", null, "Non-string found in selected audio sources - ignoring.");
                        continue
                    }
                    o = /^data:audio\/([^;,]+);/i.exec(a),
                    o || (o = /\.([^.]+)$/.exec(a.split("?", 1)[0])),
                    o && (o = o[1].toLowerCase())
                }
                if (o || console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),
                o && e.codecs(o)) {
                    i = t._src[r];
                    break
                }
            }
            return i ? (t._src = i,
            t._state = "loading",
            "https:" === window.location.protocol && "http:" === i.slice(0, 5) && (t._html5 = !0,
            t._webAudio = !1),
            new n(t),
            t._webAudio && s(t),
            t) : void t._emit("loaderror", null, "No codec support for selected audio sources.")
        },
        play: function(t, i) {
            var n = this
              , r = null;
            if ("number" == typeof t)
                r = t,
                t = null;
            else {
                if ("string" == typeof t && "loaded" === n._state && !n._sprite[t])
                    return null;
                if (void 0 === t) {
                    t = "__default";
                    for (var s = 0, o = 0; o < n._sounds.length; o++)
                        n._sounds[o]._paused && !n._sounds[o]._ended && (s++,
                        r = n._sounds[o]._id);
                    1 === s ? t = null : r = null
                }
            }
            var a = r ? n._soundById(r) : n._inactiveSound();
            if (!a)
                return null;
            if (r && !t && (t = a._sprite || "__default"),
            "loaded" !== n._state) {
                a._sprite = t,
                a._ended = !1;
                var h = a._id;
                return n._queue.push({
                    event: "play",
                    action: function() {
                        n.play(h)
                    }
                }),
                h
            }
            if (r && !a._paused)
                return i || setTimeout(function() {
                    n._emit("play", a._id)
                }, 0),
                a._id;
            n._webAudio && e._autoResume();
            var l = Math.max(0, a._seek > 0 ? a._seek : n._sprite[t][0] / 1e3)
              , u = Math.max(0, (n._sprite[t][0] + n._sprite[t][1]) / 1e3 - l)
              , c = 1e3 * u / Math.abs(a._rate);
            a._paused = !1,
            a._ended = !1,
            a._sprite = t,
            a._seek = l,
            a._start = n._sprite[t][0] / 1e3,
            a._stop = (n._sprite[t][0] + n._sprite[t][1]) / 1e3,
            a._loop = !(!a._loop && !n._sprite[t][2]);
            var d = a._node;
            if (n._webAudio) {
                var p = function() {
                    n._refreshBuffer(a);
                    var t = a._muted || n._muted ? 0 : a._volume;
                    d.gain.setValueAtTime(t, e.ctx.currentTime),
                    a._playStart = e.ctx.currentTime,
                    void 0 === d.bufferSource.start ? a._loop ? d.bufferSource.noteGrainOn(0, l, 86400) : d.bufferSource.noteGrainOn(0, l, u) : a._loop ? d.bufferSource.start(0, l, 86400) : d.bufferSource.start(0, l, u),
                    c !== 1 / 0 && (n._endTimers[a._id] = setTimeout(n._ended.bind(n, a), c)),
                    i || setTimeout(function() {
                        n._emit("play", a._id)
                    }, 0)
                };
                "running" === e.state ? p() : (n.once("resume", p),
                n._clearTimer(a._id))
            } else {
                var f = function() {
                    d.currentTime = l,
                    d.muted = a._muted || n._muted || e._muted || d.muted,
                    d.volume = a._volume * e.volume(),
                    d.playbackRate = a._rate;
                    try {
                        var t = d.play();
                        if ("undefined" != typeof Promise && t instanceof Promise && (n._playLock = !0,
                        t.then(function() {
                            n._playLock = !1,
                            n._loadQueue()
                        })),
                        d.paused)
                            return void n._emit("playerror", a._id, "Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");
                        c !== 1 / 0 && (n._endTimers[a._id] = setTimeout(n._ended.bind(n, a), c)),
                        i || n._emit("play", a._id)
                    } catch (t) {
                        n._emit("playerror", a._id, t)
                    }
                }
                  , m = window && window.ejecta || !d.readyState && e._navigator.isCocoonJS;
                if (4 === d.readyState || m)
                    f();
                else {
                    var _ = function() {
                        f(),
                        d.removeEventListener(e._canPlayEvent, _, !1)
                    };
                    d.addEventListener(e._canPlayEvent, _, !1),
                    n._clearTimer(a._id)
                }
            }
            return a._id
        },
        pause: function(t) {
            var e = this;
            if ("loaded" !== e._state || e._playLock)
                return e._queue.push({
                    event: "pause",
                    action: function() {
                        e.pause(t)
                    }
                }),
                e;
            for (var i = e._getSoundIds(t), n = 0; n < i.length; n++) {
                e._clearTimer(i[n]);
                var r = e._soundById(i[n]);
                if (r && !r._paused && (r._seek = e.seek(i[n]),
                r._rateSeek = 0,
                r._paused = !0,
                e._stopFade(i[n]),
                r._node))
                    if (e._webAudio) {
                        if (!r._node.bufferSource)
                            continue;
                        void 0 === r._node.bufferSource.stop ? r._node.bufferSource.noteOff(0) : r._node.bufferSource.stop(0),
                        e._cleanBuffer(r._node)
                    } else
                        isNaN(r._node.duration) && r._node.duration !== 1 / 0 || r._node.pause();
                arguments[1] || e._emit("pause", r ? r._id : null)
            }
            return e
        },
        stop: function(t, e) {
            var i = this;
            if ("loaded" !== i._state)
                return i._queue.push({
                    event: "stop",
                    action: function() {
                        i.stop(t)
                    }
                }),
                i;
            for (var n = i._getSoundIds(t), r = 0; r < n.length; r++) {
                i._clearTimer(n[r]);
                var s = i._soundById(n[r]);
                s && (s._seek = s._start || 0,
                s._rateSeek = 0,
                s._paused = !0,
                s._ended = !0,
                i._stopFade(n[r]),
                s._node && (i._webAudio ? s._node.bufferSource && (void 0 === s._node.bufferSource.stop ? s._node.bufferSource.noteOff(0) : s._node.bufferSource.stop(0),
                i._cleanBuffer(s._node)) : isNaN(s._node.duration) && s._node.duration !== 1 / 0 || (s._node.currentTime = s._start || 0,
                s._node.pause())),
                e || i._emit("stop", s._id))
            }
            return i
        },
        mute: function(t, i) {
            var n = this;
            if ("loaded" !== n._state)
                return n._queue.push({
                    event: "mute",
                    action: function() {
                        n.mute(t, i)
                    }
                }),
                n;
            if (void 0 === i) {
                if ("boolean" != typeof t)
                    return n._muted;
                n._muted = t
            }
            for (var r = n._getSoundIds(i), s = 0; s < r.length; s++) {
                var o = n._soundById(r[s]);
                o && (o._muted = t,
                o._interval && n._stopFade(o._id),
                n._webAudio && o._node ? o._node.gain.setValueAtTime(t ? 0 : o._volume, e.ctx.currentTime) : o._node && (o._node.muted = !!e._muted || t),
                n._emit("mute", o._id))
            }
            return n
        },
        volume: function() {
            var t, i, n = this, r = arguments;
            if (0 === r.length)
                return n._volume;
            1 === r.length || 2 === r.length && void 0 === r[1] ? n._getSoundIds().indexOf(r[0]) >= 0 ? i = parseInt(r[0], 10) : t = parseFloat(r[0]) : r.length >= 2 && (t = parseFloat(r[0]),
            i = parseInt(r[1], 10));
            var s;
            if (!(void 0 !== t && t >= 0 && t <= 1))
                return s = i ? n._soundById(i) : n._sounds[0],
                s ? s._volume : 0;
            if ("loaded" !== n._state)
                return n._queue.push({
                    event: "volume",
                    action: function() {
                        n.volume.apply(n, r)
                    }
                }),
                n;
            void 0 === i && (n._volume = t),
            i = n._getSoundIds(i);
            for (var o = 0; o < i.length; o++)
                (s = n._soundById(i[o])) && (s._volume = t,
                r[2] || n._stopFade(i[o]),
                n._webAudio && s._node && !s._muted ? s._node.gain.setValueAtTime(t, e.ctx.currentTime) : s._node && !s._muted && (s._node.volume = t * e.volume()),
                n._emit("volume", s._id));
            return n
        },
        fade: function(t, i, n, r) {
            var s = this;
            if ("loaded" !== s._state)
                return s._queue.push({
                    event: "fade",
                    action: function() {
                        s.fade(t, i, n, r)
                    }
                }),
                s;
            s.volume(t, r);
            for (var o = s._getSoundIds(r), a = 0; a < o.length; a++) {
                var h = s._soundById(o[a]);
                if (h) {
                    if (r || s._stopFade(o[a]),
                    s._webAudio && !h._muted) {
                        var l = e.ctx.currentTime
                          , u = l + n / 1e3;
                        h._volume = t,
                        h._node.gain.setValueAtTime(t, l),
                        h._node.gain.linearRampToValueAtTime(i, u)
                    }
                    s._startFadeInterval(h, t, i, n, o[a], void 0 === r)
                }
            }
            return s
        },
        _startFadeInterval: function(t, e, i, n, r, s) {
            var o = this
              , a = e
              , h = e > i ? "out" : "in"
              , l = Math.abs(e - i)
              , u = l / .01
              , c = u > 0 ? n / u : n;
            c < 4 && (u = Math.ceil(u / (4 / c)),
            c = 4),
            t._fadeTo = i,
            t._interval = setInterval(function() {
                u > 0 && (a += "in" === h ? .01 : -.01),
                a = Math.max(0, a),
                a = Math.min(1, a),
                a = Math.round(100 * a) / 100,
                o._webAudio ? t._volume = a : o.volume(a, t._id, !0),
                s && (o._volume = a),
                (i < e && a <= i || i > e && a >= i) && (clearInterval(t._interval),
                t._interval = null,
                t._fadeTo = null,
                o.volume(i, t._id),
                o._emit("fade", t._id))
            }, c)
        },
        _stopFade: function(t) {
            var i = this
              , n = i._soundById(t);
            return n && n._interval && (i._webAudio && n._node.gain.cancelScheduledValues(e.ctx.currentTime),
            clearInterval(n._interval),
            n._interval = null,
            i.volume(n._fadeTo, t),
            n._fadeTo = null,
            i._emit("fade", t)),
            i
        },
        loop: function() {
            var t, e, i, n = this, r = arguments;
            if (0 === r.length)
                return n._loop;
            if (1 === r.length) {
                if ("boolean" != typeof r[0])
                    return !!(i = n._soundById(parseInt(r[0], 10))) && i._loop;
                t = r[0],
                n._loop = t
            } else
                2 === r.length && (t = r[0],
                e = parseInt(r[1], 10));
            for (var s = n._getSoundIds(e), o = 0; o < s.length; o++)
                (i = n._soundById(s[o])) && (i._loop = t,
                n._webAudio && i._node && i._node.bufferSource && (i._node.bufferSource.loop = t,
                t && (i._node.bufferSource.loopStart = i._start || 0,
                i._node.bufferSource.loopEnd = i._stop)));
            return n
        },
        rate: function() {
            var t, i, n = this, r = arguments;
            if (0 === r.length)
                i = n._sounds[0]._id;
            else if (1 === r.length) {
                var s = n._getSoundIds()
                  , o = s.indexOf(r[0]);
                o >= 0 ? i = parseInt(r[0], 10) : t = parseFloat(r[0])
            } else
                2 === r.length && (t = parseFloat(r[0]),
                i = parseInt(r[1], 10));
            var a;
            if ("number" != typeof t)
                return a = n._soundById(i),
                a ? a._rate : n._rate;
            if ("loaded" !== n._state)
                return n._queue.push({
                    event: "rate",
                    action: function() {
                        n.rate.apply(n, r)
                    }
                }),
                n;
            void 0 === i && (n._rate = t),
            i = n._getSoundIds(i);
            for (var h = 0; h < i.length; h++)
                if (a = n._soundById(i[h])) {
                    a._rateSeek = n.seek(i[h]),
                    a._playStart = n._webAudio ? e.ctx.currentTime : a._playStart,
                    a._rate = t,
                    n._webAudio && a._node && a._node.bufferSource ? a._node.bufferSource.playbackRate.value = t : a._node && (a._node.playbackRate = t);
                    var l = n.seek(i[h])
                      , u = (n._sprite[a._sprite][0] + n._sprite[a._sprite][1]) / 1e3 - l
                      , c = 1e3 * u / Math.abs(a._rate);
                    !n._endTimers[i[h]] && a._paused || (n._clearTimer(i[h]),
                    n._endTimers[i[h]] = setTimeout(n._ended.bind(n, a), c)),
                    n._emit("rate", a._id)
                }
            return n
        },
        seek: function() {
            var t, i, n = this, r = arguments;
            if (0 === r.length)
                i = n._sounds[0]._id;
            else if (1 === r.length) {
                var s = n._getSoundIds()
                  , o = s.indexOf(r[0]);
                o >= 0 ? i = parseInt(r[0], 10) : n._sounds.length && (i = n._sounds[0]._id,
                t = parseFloat(r[0]))
            } else
                2 === r.length && (t = parseFloat(r[0]),
                i = parseInt(r[1], 10));
            if (void 0 === i)
                return n;
            if ("loaded" !== n._state)
                return n._queue.push({
                    event: "seek",
                    action: function() {
                        n.seek.apply(n, r)
                    }
                }),
                n;
            var a = n._soundById(i);
            if (a) {
                if (!("number" == typeof t && t >= 0)) {
                    if (n._webAudio) {
                        var h = n.playing(i) ? e.ctx.currentTime - a._playStart : 0
                          , l = a._rateSeek ? a._rateSeek - a._seek : 0;
                        return a._seek + (l + h * Math.abs(a._rate))
                    }
                    return a._node.currentTime
                }
                var u = n.playing(i);
                u && n.pause(i, !0),
                a._seek = t,
                a._ended = !1,
                n._clearTimer(i),
                u && n.play(i, !0),
                !n._webAudio && a._node && (a._node.currentTime = t),
                n._emit("seek", i)
            }
            return n
        },
        playing: function(t) {
            var e = this;
            if ("number" == typeof t) {
                var i = e._soundById(t);
                return !!i && !i._paused
            }
            for (var n = 0; n < e._sounds.length; n++)
                if (!e._sounds[n]._paused)
                    return !0;
            return !1
        },
        duration: function(t) {
            var e = this
              , i = e._duration
              , n = e._soundById(t);
            return n && (i = e._sprite[n._sprite][1] / 1e3),
            i
        },
        state: function() {
            return this._state
        },
        unload: function() {
            for (var t = this, i = t._sounds, n = 0; n < i.length; n++) {
                i[n]._paused || t.stop(i[n]._id),
                t._webAudio || (/MSIE |Trident\//.test(e._navigator && e._navigator.userAgent) || (i[n]._node.src = "data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),
                i[n]._node.removeEventListener("error", i[n]._errorFn, !1),
                i[n]._node.removeEventListener(e._canPlayEvent, i[n]._loadFn, !1)),
                delete i[n]._node,
                t._clearTimer(i[n]._id);
                var s = e._howls.indexOf(t);
                s >= 0 && e._howls.splice(s, 1)
            }
            var o = !0;
            for (n = 0; n < e._howls.length; n++)
                if (e._howls[n]._src === t._src) {
                    o = !1;
                    break
                }
            return r && o && delete r[t._src],
            e.noAudio = !1,
            t._state = "unloaded",
            t._sounds = [],
            t = null,
            null
        },
        on: function(t, e, i, n) {
            var r = this
              , s = r["_on" + t];
            return "function" == typeof e && s.push(n ? {
                id: i,
                fn: e,
                once: n
            } : {
                id: i,
                fn: e
            }),
            r
        },
        off: function(t, e, i) {
            var n = this
              , r = n["_on" + t]
              , s = 0;
            if ("number" == typeof e && (i = e,
            e = null),
            e || i)
                for (s = 0; s < r.length; s++) {
                    var o = i === r[s].id;
                    if (e === r[s].fn && o || !e && o) {
                        r.splice(s, 1);
                        break
                    }
                }
            else if (t)
                n["_on" + t] = [];
            else {
                var a = Object.keys(n);
                for (s = 0; s < a.length; s++)
                    0 === a[s].indexOf("_on") && Array.isArray(n[a[s]]) && (n[a[s]] = [])
            }
            return n
        },
        once: function(t, e, i) {
            var n = this;
            return n.on(t, e, i, 1),
            n
        },
        _emit: function(t, e, i) {
            for (var n = this, r = n["_on" + t], s = r.length - 1; s >= 0; s--)
                r[s].id && r[s].id !== e && "load" !== t || (setTimeout(function(t) {
                    t.call(this, e, i)
                }
                .bind(n, r[s].fn), 0),
                r[s].once && n.off(t, r[s].fn, r[s].id));
            return n
        },
        _loadQueue: function() {
            var t = this;
            if (t._queue.length > 0) {
                var e = t._queue[0];
                t.once(e.event, function() {
                    t._queue.shift(),
                    t._loadQueue()
                }),
                e.action()
            }
            return t
        },
        _ended: function(t) {
            var i = this
              , n = t._sprite;
            if (!i._webAudio && t._node && !t._node.paused && !t._node.ended && t._node.currentTime < t._stop)
                return setTimeout(i._ended.bind(i, t), 100),
                i;
            var r = !(!t._loop && !i._sprite[n][2]);
            if (i._emit("end", t._id),
            !i._webAudio && r && i.stop(t._id, !0).play(t._id),
            i._webAudio && r) {
                i._emit("play", t._id),
                t._seek = t._start || 0,
                t._rateSeek = 0,
                t._playStart = e.ctx.currentTime;
                var s = 1e3 * (t._stop - t._start) / Math.abs(t._rate);
                i._endTimers[t._id] = setTimeout(i._ended.bind(i, t), s)
            }
            return i._webAudio && !r && (t._paused = !0,
            t._ended = !0,
            t._seek = t._start || 0,
            t._rateSeek = 0,
            i._clearTimer(t._id),
            i._cleanBuffer(t._node),
            e._autoSuspend()),
            i._webAudio || r || i.stop(t._id),
            i
        },
        _clearTimer: function(t) {
            var e = this;
            return e._endTimers[t] && (clearTimeout(e._endTimers[t]),
            delete e._endTimers[t]),
            e
        },
        _soundById: function(t) {
            for (var e = this, i = 0; i < e._sounds.length; i++)
                if (t === e._sounds[i]._id)
                    return e._sounds[i];
            return null
        },
        _inactiveSound: function() {
            var t = this;
            t._drain();
            for (var e = 0; e < t._sounds.length; e++)
                if (t._sounds[e]._ended)
                    return t._sounds[e].reset();
            return new n(t)
        },
        _drain: function() {
            var t = this
              , e = t._pool
              , i = 0
              , n = 0;
            if (!(t._sounds.length < e)) {
                for (n = 0; n < t._sounds.length; n++)
                    t._sounds[n]._ended && i++;
                for (n = t._sounds.length - 1; n >= 0; n--) {
                    if (i <= e)
                        return;
                    t._sounds[n]._ended && (t._webAudio && t._sounds[n]._node && t._sounds[n]._node.disconnect(0),
                    t._sounds.splice(n, 1),
                    i--)
                }
            }
        },
        _getSoundIds: function(t) {
            var e = this;
            if (void 0 === t) {
                for (var i = [], n = 0; n < e._sounds.length; n++)
                    i.push(e._sounds[n]._id);
                return i
            }
            return [t]
        },
        _refreshBuffer: function(t) {
            var i = this;
            return t._node.bufferSource = e.ctx.createBufferSource(),
            t._node.bufferSource.buffer = r[i._src],
            t._panner ? t._node.bufferSource.connect(t._panner) : t._node.bufferSource.connect(t._node),
            t._node.bufferSource.loop = t._loop,
            t._loop && (t._node.bufferSource.loopStart = t._start || 0,
            t._node.bufferSource.loopEnd = t._stop),
            t._node.bufferSource.playbackRate.value = t._rate,
            i
        },
        _cleanBuffer: function(t) {
            var i = this;
            if (e._scratchBuffer) {
                t.bufferSource.onended = null,
                t.bufferSource.disconnect(0);
                try {
                    t.bufferSource.buffer = e._scratchBuffer
                } catch (t) {}
            }
            return t.bufferSource = null,
            i
        }
    };
    var n = function(t) {
        this._parent = t,
        this.init()
    };
    n.prototype = {
        init: function() {
            var t = this
              , i = t._parent;
            return t._muted = i._muted,
            t._loop = i._loop,
            t._volume = i._volume,
            t._rate = i._rate,
            t._seek = 0,
            t._paused = !0,
            t._ended = !0,
            t._sprite = "__default",
            t._id = ++e._counter,
            i._sounds.push(t),
            t.create(),
            t
        },
        create: function() {
            var t = this
              , i = t._parent
              , n = e._muted || t._muted || t._parent._muted ? 0 : t._volume;
            return i._webAudio ? (t._node = void 0 === e.ctx.createGain ? e.ctx.createGainNode() : e.ctx.createGain(),
            t._node.gain.setValueAtTime(n, e.ctx.currentTime),
            t._node.paused = !0,
            t._node.connect(e.masterGain)) : (t._node = new Audio,
            t._errorFn = t._errorListener.bind(t),
            t._node.addEventListener("error", t._errorFn, !1),
            t._loadFn = t._loadListener.bind(t),
            t._node.addEventListener(e._canPlayEvent, t._loadFn, !1),
            t._node.src = i._src,
            t._node.preload = "auto",
            t._node.volume = n * e.volume(),
            t._node.load()),
            t
        },
        reset: function() {
            var t = this
              , i = t._parent;
            return t._muted = i._muted,
            t._loop = i._loop,
            t._volume = i._volume,
            t._rate = i._rate,
            t._seek = 0,
            t._rateSeek = 0,
            t._paused = !0,
            t._ended = !0,
            t._sprite = "__default",
            t._id = ++e._counter,
            t
        },
        _errorListener: function() {
            var t = this;
            t._parent._emit("loaderror", t._id, t._node.error ? t._node.error.code : 0),
            t._node.removeEventListener("error", t._errorFn, !1)
        },
        _loadListener: function() {
            var t = this
              , i = t._parent;
            i._duration = Math.ceil(10 * t._node.duration) / 10,
            0 === Object.keys(i._sprite).length && (i._sprite = {
                __default: [0, 1e3 * i._duration]
            }),
            "loaded" !== i._state && (i._state = "loaded",
            i._emit("load"),
            i._loadQueue()),
            t._node.removeEventListener(e._canPlayEvent, t._loadFn, !1)
        }
    };
    var r = {}
      , s = function(t) {
        var e = t._src;
        if (r[e])
            return t._duration = r[e].duration,
            void h(t);
        if (/^data:[^;]+;base64,/.test(e)) {
            for (var i = atob(e.split(",")[1]), n = new Uint8Array(i.length), s = 0; s < i.length; ++s)
                n[s] = i.charCodeAt(s);
            a(n.buffer, t)
        } else {
            var l = new XMLHttpRequest;
            l.open("GET", e, !0),
            l.withCredentials = t._xhrWithCredentials,
            l.responseType = "arraybuffer",
            l.onload = function() {
                var e = (l.status + "")[0];
                if ("0" !== e && "2" !== e && "3" !== e)
                    return void t._emit("loaderror", null, "Failed loading audio file with status: " + l.status + ".");
                a(l.response, t)
            }
            ,
            l.onerror = function() {
                t._webAudio && (t._html5 = !0,
                t._webAudio = !1,
                t._sounds = [],
                delete r[e],
                t.load())
            }
            ,
            o(l)
        }
    }
      , o = function(t) {
        try {
            t.send()
        } catch (e) {
            t.onerror()
        }
    }
      , a = function(t, i) {
        e.ctx.decodeAudioData(t, function(t) {
            t && i._sounds.length > 0 && (r[i._src] = t,
            h(i, t))
        }, function() {
            i._emit("loaderror", null, "Decoding audio data failed.")
        })
    }
      , h = function(t, e) {
        e && !t._duration && (t._duration = e.duration),
        0 === Object.keys(t._sprite).length && (t._sprite = {
            __default: [0, 1e3 * t._duration]
        }),
        "loaded" !== t._state && (t._state = "loaded",
        t._emit("load"),
        t._loadQueue())
    }
      , l = function() {
        try {
            "undefined" != typeof AudioContext ? e.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? e.ctx = new webkitAudioContext : e.usingWebAudio = !1
        } catch (t) {
            e.usingWebAudio = !1
        }
        var t = /iP(hone|od|ad)/.test(e._navigator && e._navigator.platform)
          , i = e._navigator && e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)
          , n = i ? parseInt(i[1], 10) : null;
        if (t && n && n < 9) {
            var r = /safari/.test(e._navigator && e._navigator.userAgent.toLowerCase());
            (e._navigator && e._navigator.standalone && !r || e._navigator && !e._navigator.standalone && !r) && (e.usingWebAudio = !1)
        }
        e.usingWebAudio && (e.masterGain = void 0 === e.ctx.createGain ? e.ctx.createGainNode() : e.ctx.createGain(),
        e.masterGain.gain.setValueAtTime(e._muted ? 0 : 1, e.ctx.currentTime),
        e.masterGain.connect(e.ctx.destination)),
        e._setup()
    };
    "function" == typeof define && define.amd && define("howler", [], function() {
        return {
            Howler: e,
            Howl: i
        }
    }),
    "undefined" != typeof exports && (exports.Howler = e,
    exports.Howl = i),
    "undefined" != typeof window ? (window.HowlerGlobal = t,
    window.Howler = e,
    window.Howl = i,
    window.Sound = n) : "undefined" != typeof global && (global.HowlerGlobal = t,
    global.Howler = e,
    global.Howl = i,
    global.Sound = n)
}(),
function() {
    "use strict";
    HowlerGlobal.prototype._pos = [0, 0, 0],
    HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0],
    HowlerGlobal.prototype.stereo = function(t) {
        var e = this;
        if (!e.ctx || !e.ctx.listener)
            return e;
        for (var i = e._howls.length - 1; i >= 0; i--)
            e._howls[i].stereo(t);
        return e
    }
    ,
    HowlerGlobal.prototype.pos = function(t, e, i) {
        var n = this;
        return n.ctx && n.ctx.listener ? (e = "number" != typeof e ? n._pos[1] : e,
        i = "number" != typeof i ? n._pos[2] : i,
        "number" != typeof t ? n._pos : (n._pos = [t, e, i],
        n.ctx.listener.setPosition(n._pos[0], n._pos[1], n._pos[2]),
        n)) : n
    }
    ,
    HowlerGlobal.prototype.orientation = function(t, e, i, n, r, s) {
        var o = this;
        if (!o.ctx || !o.ctx.listener)
            return o;
        var a = o._orientation;
        return e = "number" != typeof e ? a[1] : e,
        i = "number" != typeof i ? a[2] : i,
        n = "number" != typeof n ? a[3] : n,
        r = "number" != typeof r ? a[4] : r,
        s = "number" != typeof s ? a[5] : s,
        "number" != typeof t ? a : (o._orientation = [t, e, i, n, r, s],
        o.ctx.listener.setOrientation(t, e, i, n, r, s),
        o)
    }
    ,
    Howl.prototype.init = function(t) {
        return function(e) {
            var i = this;
            return i._orientation = e.orientation || [1, 0, 0],
            i._stereo = e.stereo || null,
            i._pos = e.pos || null,
            i._pannerAttr = {
                coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : 360,
                coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : 360,
                coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : 0,
                distanceModel: void 0 !== e.distanceModel ? e.distanceModel : "inverse",
                maxDistance: void 0 !== e.maxDistance ? e.maxDistance : 1e4,
                panningModel: void 0 !== e.panningModel ? e.panningModel : "HRTF",
                refDistance: void 0 !== e.refDistance ? e.refDistance : 1,
                rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : 1
            },
            i._onstereo = e.onstereo ? [{
                fn: e.onstereo
            }] : [],
            i._onpos = e.onpos ? [{
                fn: e.onpos
            }] : [],
            i._onorientation = e.onorientation ? [{
                fn: e.onorientation
            }] : [],
            t.call(this, e)
        }
    }(Howl.prototype.init),
    Howl.prototype.stereo = function(e, i) {
        var n = this;
        if (!n._webAudio)
            return n;
        if ("loaded" !== n._state)
            return n._queue.push({
                event: "stereo",
                action: function() {
                    n.stereo(e, i)
                }
            }),
            n;
        var r = void 0 === Howler.ctx.createStereoPanner ? "spatial" : "stereo";
        if (void 0 === i) {
            if ("number" != typeof e)
                return n._stereo;
            n._stereo = e,
            n._pos = [e, 0, 0]
        }
        for (var s = n._getSoundIds(i), o = 0; o < s.length; o++) {
            var a = n._soundById(s[o]);
            if (a) {
                if ("number" != typeof e)
                    return a._stereo;
                a._stereo = e,
                a._pos = [e, 0, 0],
                a._node && (a._pannerAttr.panningModel = "equalpower",
                a._panner && a._panner.pan || t(a, r),
                "spatial" === r ? a._panner.setPosition(e, 0, 0) : a._panner.pan.setValueAtTime(e, Howler.ctx.currentTime)),
                n._emit("stereo", a._id)
            }
        }
        return n
    }
    ,
    Howl.prototype.pos = function(e, i, n, r) {
        var s = this;
        if (!s._webAudio)
            return s;
        if ("loaded" !== s._state)
            return s._queue.push({
                event: "pos",
                action: function() {
                    s.pos(e, i, n, r)
                }
            }),
            s;
        if (i = "number" != typeof i ? 0 : i,
        n = "number" != typeof n ? -.5 : n,
        void 0 === r) {
            if ("number" != typeof e)
                return s._pos;
            s._pos = [e, i, n]
        }
        for (var o = s._getSoundIds(r), a = 0; a < o.length; a++) {
            var h = s._soundById(o[a]);
            if (h) {
                if ("number" != typeof e)
                    return h._pos;
                h._pos = [e, i, n],
                h._node && (h._panner && !h._panner.pan || t(h, "spatial"),
                h._panner.setPosition(e, i, n)),
                s._emit("pos", h._id)
            }
        }
        return s
    }
    ,
    Howl.prototype.orientation = function(e, i, n, r) {
        var s = this;
        if (!s._webAudio)
            return s;
        if ("loaded" !== s._state)
            return s._queue.push({
                event: "orientation",
                action: function() {
                    s.orientation(e, i, n, r)
                }
            }),
            s;
        if (i = "number" != typeof i ? s._orientation[1] : i,
        n = "number" != typeof n ? s._orientation[2] : n,
        void 0 === r) {
            if ("number" != typeof e)
                return s._orientation;
            s._orientation = [e, i, n]
        }
        for (var o = s._getSoundIds(r), a = 0; a < o.length; a++) {
            var h = s._soundById(o[a]);
            if (h) {
                if ("number" != typeof e)
                    return h._orientation;
                h._orientation = [e, i, n],
                h._node && (h._panner || (h._pos || (h._pos = s._pos || [0, 0, -.5]),
                t(h, "spatial")),
                h._panner.setOrientation(e, i, n)),
                s._emit("orientation", h._id)
            }
        }
        return s
    }
    ,
    Howl.prototype.pannerAttr = function() {
        var e, i, n, r = this, s = arguments;
        if (!r._webAudio)
            return r;
        if (0 === s.length)
            return r._pannerAttr;
        if (1 === s.length) {
            if ("object" != typeof s[0])
                return n = r._soundById(parseInt(s[0], 10)),
                n ? n._pannerAttr : r._pannerAttr;
            e = s[0],
            void 0 === i && (e.pannerAttr || (e.pannerAttr = {
                coneInnerAngle: e.coneInnerAngle,
                coneOuterAngle: e.coneOuterAngle,
                coneOuterGain: e.coneOuterGain,
                distanceModel: e.distanceModel,
                maxDistance: e.maxDistance,
                refDistance: e.refDistance,
                rolloffFactor: e.rolloffFactor,
                panningModel: e.panningModel
            }),
            r._pannerAttr = {
                coneInnerAngle: void 0 !== e.pannerAttr.coneInnerAngle ? e.pannerAttr.coneInnerAngle : r._coneInnerAngle,
                coneOuterAngle: void 0 !== e.pannerAttr.coneOuterAngle ? e.pannerAttr.coneOuterAngle : r._coneOuterAngle,
                coneOuterGain: void 0 !== e.pannerAttr.coneOuterGain ? e.pannerAttr.coneOuterGain : r._coneOuterGain,
                distanceModel: void 0 !== e.pannerAttr.distanceModel ? e.pannerAttr.distanceModel : r._distanceModel,
                maxDistance: void 0 !== e.pannerAttr.maxDistance ? e.pannerAttr.maxDistance : r._maxDistance,
                refDistance: void 0 !== e.pannerAttr.refDistance ? e.pannerAttr.refDistance : r._refDistance,
                rolloffFactor: void 0 !== e.pannerAttr.rolloffFactor ? e.pannerAttr.rolloffFactor : r._rolloffFactor,
                panningModel: void 0 !== e.pannerAttr.panningModel ? e.pannerAttr.panningModel : r._panningModel
            })
        } else
            2 === s.length && (e = s[0],
            i = parseInt(s[1], 10));
        for (var o = r._getSoundIds(i), a = 0; a < o.length; a++)
            if (n = r._soundById(o[a])) {
                var h = n._pannerAttr;
                h = {
                    coneInnerAngle: void 0 !== e.coneInnerAngle ? e.coneInnerAngle : h.coneInnerAngle,
                    coneOuterAngle: void 0 !== e.coneOuterAngle ? e.coneOuterAngle : h.coneOuterAngle,
                    coneOuterGain: void 0 !== e.coneOuterGain ? e.coneOuterGain : h.coneOuterGain,
                    distanceModel: void 0 !== e.distanceModel ? e.distanceModel : h.distanceModel,
                    maxDistance: void 0 !== e.maxDistance ? e.maxDistance : h.maxDistance,
                    refDistance: void 0 !== e.refDistance ? e.refDistance : h.refDistance,
                    rolloffFactor: void 0 !== e.rolloffFactor ? e.rolloffFactor : h.rolloffFactor,
                    panningModel: void 0 !== e.panningModel ? e.panningModel : h.panningModel
                };
                var l = n._panner;
                l ? (l.coneInnerAngle = h.coneInnerAngle,
                l.coneOuterAngle = h.coneOuterAngle,
                l.coneOuterGain = h.coneOuterGain,
                l.distanceModel = h.distanceModel,
                l.maxDistance = h.maxDistance,
                l.refDistance = h.refDistance,
                l.rolloffFactor = h.rolloffFactor,
                l.panningModel = h.panningModel) : (n._pos || (n._pos = r._pos || [0, 0, -.5]),
                t(n, "spatial"))
            }
        return r
    }
    ,
    Sound.prototype.init = function(t) {
        return function() {
            var e = this
              , i = e._parent;
            e._orientation = i._orientation,
            e._stereo = i._stereo,
            e._pos = i._pos,
            e._pannerAttr = i._pannerAttr,
            t.call(this),
            e._stereo ? i.stereo(e._stereo) : e._pos && i.pos(e._pos[0], e._pos[1], e._pos[2], e._id)
        }
    }(Sound.prototype.init),
    Sound.prototype.reset = function(t) {
        return function() {
            var e = this
              , i = e._parent;
            return e._orientation = i._orientation,
            e._pos = i._pos,
            e._pannerAttr = i._pannerAttr,
            t.call(this)
        }
    }(Sound.prototype.reset);
    var t = function(t, e) {
        e = e || "spatial",
        "spatial" === e ? (t._panner = Howler.ctx.createPanner(),
        t._panner.coneInnerAngle = t._pannerAttr.coneInnerAngle,
        t._panner.coneOuterAngle = t._pannerAttr.coneOuterAngle,
        t._panner.coneOuterGain = t._pannerAttr.coneOuterGain,
        t._panner.distanceModel = t._pannerAttr.distanceModel,
        t._panner.maxDistance = t._pannerAttr.maxDistance,
        t._panner.refDistance = t._pannerAttr.refDistance,
        t._panner.rolloffFactor = t._pannerAttr.rolloffFactor,
        t._panner.panningModel = t._pannerAttr.panningModel,
        t._panner.setPosition(t._pos[0], t._pos[1], t._pos[2]),
        t._panner.setOrientation(t._orientation[0], t._orientation[1], t._orientation[2])) : (t._panner = Howler.ctx.createStereoPanner(),
        t._panner.pan.setValueAtTime(t._stereo, Howler.ctx.currentTime)),
        t._panner.connect(t._node),
        t._paused || t._parent.pause(t._id, !0).play(t._id)
    }
}(),
function(t) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = t();
    else if ("function" == typeof define && define.amd)
        define("pixi", [], t);
    else {
        var e;
        e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this,
        e.PIXI = t()
    }
}(function() {
    var t;
    return function t(e, i, n) {
        function r(o, a) {
            if (!i[o]) {
                if (!e[o]) {
                    var h = "function" == typeof require && require;
                    if (!a && h)
                        return h(o, !0);
                    if (s)
                        return s(o, !0);
                    var l = new Error("Cannot find module '" + o + "'");
                    throw l.code = "MODULE_NOT_FOUND",
                    l
                }
                var u = i[o] = {
                    exports: {}
                };
                e[o][0].call(u.exports, function(t) {
                    var i = e[o][1][t];
                    return r(i || t)
                }, u, u.exports, t, e, i, n)
            }
            return i[o].exports
        }
        for (var s = "function" == typeof require && require, o = 0; o < n.length; o++)
            r(n[o]);
        return r
    }({
        1: [function(t, e, i) {
            "use strict";
            "use restrict";
            function n(t) {
                var e = 32;
                return t &= -t,
                t && e--,
                65535 & t && (e -= 16),
                16711935 & t && (e -= 8),
                252645135 & t && (e -= 4),
                858993459 & t && (e -= 2),
                1431655765 & t && (e -= 1),
                e
            }
            i.INT_BITS = 32,
            i.INT_MAX = 2147483647,
            i.INT_MIN = -1 << 31,
            i.sign = function(t) {
                return (t > 0) - (t < 0)
            }
            ,
            i.abs = function(t) {
                var e = t >> 31;
                return (t ^ e) - e
            }
            ,
            i.min = function(t, e) {
                return e ^ (t ^ e) & -(t < e)
            }
            ,
            i.max = function(t, e) {
                return t ^ (t ^ e) & -(t < e)
            }
            ,
            i.isPow2 = function(t) {
                return !(t & t - 1 || !t)
            }
            ,
            i.log2 = function(t) {
                var e, i;
                return e = (t > 65535) << 4,
                t >>>= e,
                i = (t > 255) << 3,
                t >>>= i,
                e |= i,
                i = (t > 15) << 2,
                t >>>= i,
                e |= i,
                i = (t > 3) << 1,
                t >>>= i,
                (e |= i) | t >> 1
            }
            ,
            i.log10 = function(t) {
                return t >= 1e9 ? 9 : t >= 1e8 ? 8 : t >= 1e7 ? 7 : t >= 1e6 ? 6 : t >= 1e5 ? 5 : t >= 1e4 ? 4 : t >= 1e3 ? 3 : t >= 100 ? 2 : t >= 10 ? 1 : 0
            }
            ,
            i.popCount = function(t) {
                return t -= t >>> 1 & 1431655765,
                16843009 * ((t = (858993459 & t) + (t >>> 2 & 858993459)) + (t >>> 4) & 252645135) >>> 24
            }
            ,
            i.countTrailingZeros = n,
            i.nextPow2 = function(t) {
                return t += 0 === t,
                --t,
                t |= t >>> 1,
                t |= t >>> 2,
                t |= t >>> 4,
                t |= t >>> 8,
                (t |= t >>> 16) + 1
            }
            ,
            i.prevPow2 = function(t) {
                return t |= t >>> 1,
                t |= t >>> 2,
                t |= t >>> 4,
                t |= t >>> 8,
                (t |= t >>> 16) - (t >>> 1)
            }
            ,
            i.parity = function(t) {
                return t ^= t >>> 16,
                t ^= t >>> 8,
                t ^= t >>> 4,
                27030 >>> (t &= 15) & 1
            }
            ;
            var r = new Array(256);
            !function(t) {
                for (var e = 0; e < 256; ++e) {
                    var i = e
                      , n = e
                      , r = 7;
                    for (i >>>= 1; i; i >>>= 1)
                        n <<= 1,
                        n |= 1 & i,
                        --r;
                    t[e] = n << r & 255
                }
            }(r),
            i.reverse = function(t) {
                return r[255 & t] << 24 | r[t >>> 8 & 255] << 16 | r[t >>> 16 & 255] << 8 | r[t >>> 24 & 255]
            }
            ,
            i.interleave2 = function(t, e) {
                return t &= 65535,
                t = 16711935 & (t | t << 8),
                t = 252645135 & (t | t << 4),
                t = 858993459 & (t | t << 2),
                t = 1431655765 & (t | t << 1),
                e &= 65535,
                e = 16711935 & (e | e << 8),
                e = 252645135 & (e | e << 4),
                e = 858993459 & (e | e << 2),
                e = 1431655765 & (e | e << 1),
                t | e << 1
            }
            ,
            i.deinterleave2 = function(t, e) {
                return t = t >>> e & 1431655765,
                t = 858993459 & (t | t >>> 1),
                t = 252645135 & (t | t >>> 2),
                t = 16711935 & (t | t >>> 4),
                (t = 65535 & (t | t >>> 16)) << 16 >> 16
            }
            ,
            i.interleave3 = function(t, e, i) {
                return t &= 1023,
                t = 4278190335 & (t | t << 16),
                t = 251719695 & (t | t << 8),
                t = 3272356035 & (t | t << 4),
                t = 1227133513 & (t | t << 2),
                e &= 1023,
                e = 4278190335 & (e | e << 16),
                e = 251719695 & (e | e << 8),
                e = 3272356035 & (e | e << 4),
                e = 1227133513 & (e | e << 2),
                t |= e << 1,
                i &= 1023,
                i = 4278190335 & (i | i << 16),
                i = 251719695 & (i | i << 8),
                i = 3272356035 & (i | i << 4),
                i = 1227133513 & (i | i << 2),
                t | i << 2
            }
            ,
            i.deinterleave3 = function(t, e) {
                return t = t >>> e & 1227133513,
                t = 3272356035 & (t | t >>> 2),
                t = 251719695 & (t | t >>> 4),
                t = 4278190335 & (t | t >>> 8),
                (t = 1023 & (t | t >>> 16)) << 22 >> 22
            }
            ,
            i.nextCombination = function(t) {
                var e = t | t - 1;
                return e + 1 | (~e & -~e) - 1 >>> n(t) + 1
            }
        }
        , {}],
        2: [function(t, e, i) {
            "use strict";
            function n(t, e, i) {
                i = i || 2;
                var n = e && e.length
                  , s = n ? e[0] * i : t.length
                  , a = r(t, 0, s, i, !0)
                  , h = [];
                if (!a)
                    return h;
                var l, u, d, p, f, m, _;
                if (n && (a = c(t, e, a, i)),
                t.length > 80 * i) {
                    l = d = t[0],
                    u = p = t[1];
                    for (var y = i; y < s; y += i)
                        f = t[y],
                        m = t[y + 1],
                        f < l && (l = f),
                        m < u && (u = m),
                        f > d && (d = f),
                        m > p && (p = m);
                    _ = Math.max(d - l, p - u)
                }
                return o(a, h, i, l, u, _),
                h
            }
            function r(t, e, i, n, r) {
                var s, o;
                if (r === I(t, e, i, n) > 0)
                    for (s = e; s < i; s += n)
                        o = P(s, t[s], t[s + 1], o);
                else
                    for (s = i - n; s >= e; s -= n)
                        o = P(s, t[s], t[s + 1], o);
                return o && w(o, o.next) && (M(o),
                o = o.next),
                o
            }
            function s(t, e) {
                if (!t)
                    return t;
                e || (e = t);
                var i, n = t;
                do {
                    if (i = !1,
                    n.steiner || !w(n, n.next) && 0 !== b(n.prev, n, n.next))
                        n = n.next;
                    else {
                        if (M(n),
                        (n = e = n.prev) === n.next)
                            return null;
                        i = !0
                    }
                } while (i || n !== e);return e
            }
            function o(t, e, i, n, r, c, d) {
                if (t) {
                    !d && c && m(t, n, r, c);
                    for (var p, f, _ = t; t.prev !== t.next; )
                        if (p = t.prev,
                        f = t.next,
                        c ? h(t, n, r, c) : a(t))
                            e.push(p.i / i),
                            e.push(t.i / i),
                            e.push(f.i / i),
                            M(t),
                            t = f.next,
                            _ = f.next;
                        else if ((t = f) === _) {
                            d ? 1 === d ? (t = l(t, e, i),
                            o(t, e, i, n, r, c, 2)) : 2 === d && u(t, e, i, n, r, c) : o(s(t), e, i, n, r, c, 1);
                            break
                        }
                }
            }
            function a(t) {
                var e = t.prev
                  , i = t
                  , n = t.next;
                if (b(e, i, n) >= 0)
                    return !1;
                for (var r = t.next.next; r !== t.prev; ) {
                    if (g(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) && b(r.prev, r, r.next) >= 0)
                        return !1;
                    r = r.next
                }
                return !0
            }
            function h(t, e, i, n) {
                var r = t.prev
                  , s = t
                  , o = t.next;
                if (b(r, s, o) >= 0)
                    return !1;
                for (var a = r.x < s.x ? r.x < o.x ? r.x : o.x : s.x < o.x ? s.x : o.x, h = r.y < s.y ? r.y < o.y ? r.y : o.y : s.y < o.y ? s.y : o.y, l = r.x > s.x ? r.x > o.x ? r.x : o.x : s.x > o.x ? s.x : o.x, u = r.y > s.y ? r.y > o.y ? r.y : o.y : s.y > o.y ? s.y : o.y, c = y(a, h, e, i, n), d = y(l, u, e, i, n), p = t.nextZ; p && p.z <= d; ) {
                    if (p !== t.prev && p !== t.next && g(r.x, r.y, s.x, s.y, o.x, o.y, p.x, p.y) && b(p.prev, p, p.next) >= 0)
                        return !1;
                    p = p.nextZ
                }
                for (p = t.prevZ; p && p.z >= c; ) {
                    if (p !== t.prev && p !== t.next && g(r.x, r.y, s.x, s.y, o.x, o.y, p.x, p.y) && b(p.prev, p, p.next) >= 0)
                        return !1;
                    p = p.prevZ
                }
                return !0
            }
            function l(t, e, i) {
                var n = t;
                do {
                    var r = n.prev
                      , s = n.next.next;
                    !w(r, s) && T(r, n, n.next, s) && S(r, s) && S(s, r) && (e.push(r.i / i),
                    e.push(n.i / i),
                    e.push(s.i / i),
                    M(n),
                    M(n.next),
                    n = t = s),
                    n = n.next
                } while (n !== t);return n
            }
            function u(t, e, i, n, r, a) {
                var h = t;
                do {
                    for (var l = h.next.next; l !== h.prev; ) {
                        if (h.i !== l.i && x(h, l)) {
                            var u = E(h, l);
                            return h = s(h, h.next),
                            u = s(u, u.next),
                            o(h, e, i, n, r, a),
                            void o(u, e, i, n, r, a)
                        }
                        l = l.next
                    }
                    h = h.next
                } while (h !== t)
            }
            function c(t, e, i, n) {
                var o, a, h, l, u, c = [];
                for (o = 0,
                a = e.length; o < a; o++)
                    h = e[o] * n,
                    l = o < a - 1 ? e[o + 1] * n : t.length,
                    u = r(t, h, l, n, !1),
                    u === u.next && (u.steiner = !0),
                    c.push(v(u));
                for (c.sort(d),
                o = 0; o < c.length; o++)
                    p(c[o], i),
                    i = s(i, i.next);
                return i
            }
            function d(t, e) {
                return t.x - e.x
            }
            function p(t, e) {
                if (e = f(t, e)) {
                    var i = E(e, t);
                    s(i, i.next)
                }
            }
            function f(t, e) {
                var i, n = e, r = t.x, s = t.y, o = -1 / 0;
                do {
                    if (s <= n.y && s >= n.next.y) {
                        var a = n.x + (s - n.y) * (n.next.x - n.x) / (n.next.y - n.y);
                        if (a <= r && a > o) {
                            if (o = a,
                            a === r) {
                                if (s === n.y)
                                    return n;
                                if (s === n.next.y)
                                    return n.next
                            }
                            i = n.x < n.next.x ? n : n.next
                        }
                    }
                    n = n.next
                } while (n !== e);if (!i)
                    return null;
                if (r === o)
                    return i.prev;
                var h, l = i, u = i.x, c = i.y, d = 1 / 0;
                for (n = i.next; n !== l; )
                    r >= n.x && n.x >= u && g(s < c ? r : o, s, u, c, s < c ? o : r, s, n.x, n.y) && ((h = Math.abs(s - n.y) / (r - n.x)) < d || h === d && n.x > i.x) && S(n, t) && (i = n,
                    d = h),
                    n = n.next;
                return i
            }
            function m(t, e, i, n) {
                var r = t;
                do {
                    null === r.z && (r.z = y(r.x, r.y, e, i, n)),
                    r.prevZ = r.prev,
                    r.nextZ = r.next,
                    r = r.next
                } while (r !== t);r.prevZ.nextZ = null,
                r.prevZ = null,
                _(r)
            }
            function _(t) {
                var e, i, n, r, s, o, a, h, l = 1;
                do {
                    for (i = t,
                    t = null,
                    s = null,
                    o = 0; i; ) {
                        for (o++,
                        n = i,
                        a = 0,
                        e = 0; e < l && (a++,
                        n = n.nextZ); e++)
                            ;
                        for (h = l; a > 0 || h > 0 && n; )
                            0 === a ? (r = n,
                            n = n.nextZ,
                            h--) : 0 !== h && n ? i.z <= n.z ? (r = i,
                            i = i.nextZ,
                            a--) : (r = n,
                            n = n.nextZ,
                            h--) : (r = i,
                            i = i.nextZ,
                            a--),
                            s ? s.nextZ = r : t = r,
                            r.prevZ = s,
                            s = r;
                        i = n
                    }
                    s.nextZ = null,
                    l *= 2
                } while (o > 1);return t
            }
            function y(t, e, i, n, r) {
                return t = 32767 * (t - i) / r,
                e = 32767 * (e - n) / r,
                t = 16711935 & (t | t << 8),
                t = 252645135 & (t | t << 4),
                t = 858993459 & (t | t << 2),
                t = 1431655765 & (t | t << 1),
                e = 16711935 & (e | e << 8),
                e = 252645135 & (e | e << 4),
                e = 858993459 & (e | e << 2),
                e = 1431655765 & (e | e << 1),
                t | e << 1
            }
            function v(t) {
                var e = t
                  , i = t;
                do {
                    e.x < i.x && (i = e),
                    e = e.next
                } while (e !== t);return i
            }
            function g(t, e, i, n, r, s, o, a) {
                return (r - o) * (e - a) - (t - o) * (s - a) >= 0 && (t - o) * (n - a) - (i - o) * (e - a) >= 0 && (i - o) * (s - a) - (r - o) * (n - a) >= 0
            }
            function x(t, e) {
                return t.next.i !== e.i && t.prev.i !== e.i && !A(t, e) && S(t, e) && S(e, t) && C(t, e)
            }
            function b(t, e, i) {
                return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y)
            }
            function w(t, e) {
                return t.x === e.x && t.y === e.y
            }
            function T(t, e, i, n) {
                return !!(w(t, e) && w(i, n) || w(t, n) && w(i, e)) || b(t, e, i) > 0 != b(t, e, n) > 0 && b(i, n, t) > 0 != b(i, n, e) > 0
            }
            function A(t, e) {
                var i = t;
                do {
                    if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && T(i, i.next, t, e))
                        return !0;
                    i = i.next
                } while (i !== t);return !1
            }
            function S(t, e) {
                return b(t.prev, t, t.next) < 0 ? b(t, e, t.next) >= 0 && b(t, t.prev, e) >= 0 : b(t, e, t.prev) < 0 || b(t, t.next, e) < 0
            }
            function C(t, e) {
                var i = t
                  , n = !1
                  , r = (t.x + e.x) / 2
                  , s = (t.y + e.y) / 2;
                do {
                    i.y > s != i.next.y > s && r < (i.next.x - i.x) * (s - i.y) / (i.next.y - i.y) + i.x && (n = !n),
                    i = i.next
                } while (i !== t);return n
            }
            function E(t, e) {
                var i = new O(t.i,t.x,t.y)
                  , n = new O(e.i,e.x,e.y)
                  , r = t.next
                  , s = e.prev;
                return t.next = e,
                e.prev = t,
                i.next = r,
                r.prev = i,
                n.next = i,
                i.prev = n,
                s.next = n,
                n.prev = s,
                n
            }
            function P(t, e, i, n) {
                var r = new O(t,e,i);
                return n ? (r.next = n.next,
                r.prev = n,
                n.next.prev = r,
                n.next = r) : (r.prev = r,
                r.next = r),
                r
            }
            function M(t) {
                t.next.prev = t.prev,
                t.prev.next = t.next,
                t.prevZ && (t.prevZ.nextZ = t.nextZ),
                t.nextZ && (t.nextZ.prevZ = t.prevZ)
            }
            function O(t, e, i) {
                this.i = t,
                this.x = e,
                this.y = i,
                this.prev = null,
                this.next = null,
                this.z = null,
                this.prevZ = null,
                this.nextZ = null,
                this.steiner = !1
            }
            function I(t, e, i, n) {
                for (var r = 0, s = e, o = i - n; s < i; s += n)
                    r += (t[o] - t[s]) * (t[s + 1] + t[o + 1]),
                    o = s;
                return r
            }
            e.exports = n,
            n.deviation = function(t, e, i, n) {
                var r = e && e.length
                  , s = r ? e[0] * i : t.length
                  , o = Math.abs(I(t, 0, s, i));
                if (r)
                    for (var a = 0, h = e.length; a < h; a++) {
                        var l = e[a] * i
                          , u = a < h - 1 ? e[a + 1] * i : t.length;
                        o -= Math.abs(I(t, l, u, i))
                    }
                var c = 0;
                for (a = 0; a < n.length; a += 3) {
                    var d = n[a] * i
                      , p = n[a + 1] * i
                      , f = n[a + 2] * i;
                    c += Math.abs((t[d] - t[f]) * (t[p + 1] - t[d + 1]) - (t[d] - t[p]) * (t[f + 1] - t[d + 1]))
                }
                return 0 === o && 0 === c ? 0 : Math.abs((c - o) / o)
            }
            ,
            n.flatten = function(t) {
                for (var e = t[0][0].length, i = {
                    vertices: [],
                    holes: [],
                    dimensions: e
                }, n = 0, r = 0; r < t.length; r++) {
                    for (var s = 0; s < t[r].length; s++)
                        for (var o = 0; o < e; o++)
                            i.vertices.push(t[r][s][o]);
                    r > 0 && (n += t[r - 1].length,
                    i.holes.push(n))
                }
                return i
            }
        }
        , {}],
        3: [function(t, e, i) {
            "use strict";
            function n() {}
            function r(t, e, i) {
                this.fn = t,
                this.context = e,
                this.once = i || !1
            }
            function s() {
                this._events = new n,
                this._eventsCount = 0
            }
            var o = Object.prototype.hasOwnProperty
              , a = "~";
            Object.create && (n.prototype = Object.create(null),
            (new n).__proto__ || (a = !1)),
            s.prototype.eventNames = function() {
                var t, e, i = [];
                if (0 === this._eventsCount)
                    return i;
                for (e in t = this._events)
                    o.call(t, e) && i.push(a ? e.slice(1) : e);
                return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i
            }
            ,
            s.prototype.listeners = function(t, e) {
                var i = a ? a + t : t
                  , n = this._events[i];
                if (e)
                    return !!n;
                if (!n)
                    return [];
                if (n.fn)
                    return [n.fn];
                for (var r = 0, s = n.length, o = new Array(s); r < s; r++)
                    o[r] = n[r].fn;
                return o
            }
            ,
            s.prototype.emit = function(t, e, i, n, r, s) {
                var o = a ? a + t : t;
                if (!this._events[o])
                    return !1;
                var h, l, u = this._events[o], c = arguments.length;
                if (u.fn) {
                    switch (u.once && this.removeListener(t, u.fn, void 0, !0),
                    c) {
                    case 1:
                        return u.fn.call(u.context),
                        !0;
                    case 2:
                        return u.fn.call(u.context, e),
                        !0;
                    case 3:
                        return u.fn.call(u.context, e, i),
                        !0;
                    case 4:
                        return u.fn.call(u.context, e, i, n),
                        !0;
                    case 5:
                        return u.fn.call(u.context, e, i, n, r),
                        !0;
                    case 6:
                        return u.fn.call(u.context, e, i, n, r, s),
                        !0
                    }
                    for (l = 1,
                    h = new Array(c - 1); l < c; l++)
                        h[l - 1] = arguments[l];
                    u.fn.apply(u.context, h)
                } else {
                    var d, p = u.length;
                    for (l = 0; l < p; l++)
                        switch (u[l].once && this.removeListener(t, u[l].fn, void 0, !0),
                        c) {
                        case 1:
                            u[l].fn.call(u[l].context);
                            break;
                        case 2:
                            u[l].fn.call(u[l].context, e);
                            break;
                        case 3:
                            u[l].fn.call(u[l].context, e, i);
                            break;
                        case 4:
                            u[l].fn.call(u[l].context, e, i, n);
                            break;
                        default:
                            if (!h)
                                for (d = 1,
                                h = new Array(c - 1); d < c; d++)
                                    h[d - 1] = arguments[d];
                            u[l].fn.apply(u[l].context, h)
                        }
                }
                return !0
            }
            ,
            s.prototype.on = function(t, e, i) {
                var n = new r(e,i || this)
                  , s = a ? a + t : t;
                return this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], n] : this._events[s].push(n) : (this._events[s] = n,
                this._eventsCount++),
                this
            }
            ,
            s.prototype.once = function(t, e, i) {
                var n = new r(e,i || this,!0)
                  , s = a ? a + t : t;
                return this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], n] : this._events[s].push(n) : (this._events[s] = n,
                this._eventsCount++),
                this
            }
            ,
            s.prototype.removeListener = function(t, e, i, r) {
                var s = a ? a + t : t;
                if (!this._events[s])
                    return this;
                if (!e)
                    return 0 == --this._eventsCount ? this._events = new n : delete this._events[s],
                    this;
                var o = this._events[s];
                if (o.fn)
                    o.fn !== e || r && !o.once || i && o.context !== i || (0 == --this._eventsCount ? this._events = new n : delete this._events[s]);
                else {
                    for (var h = 0, l = [], u = o.length; h < u; h++)
                        (o[h].fn !== e || r && !o[h].once || i && o[h].context !== i) && l.push(o[h]);
                    l.length ? this._events[s] = 1 === l.length ? l[0] : l : 0 == --this._eventsCount ? this._events = new n : delete this._events[s]
                }
                return this
            }
            ,
            s.prototype.removeAllListeners = function(t) {
                var e;
                return t ? (e = a ? a + t : t,
                this._events[e] && (0 == --this._eventsCount ? this._events = new n : delete this._events[e])) : (this._events = new n,
                this._eventsCount = 0),
                this
            }
            ,
            s.prototype.off = s.prototype.removeListener,
            s.prototype.addListener = s.prototype.on,
            s.prototype.setMaxListeners = function() {
                return this
            }
            ,
            s.prefixed = a,
            s.EventEmitter = s,
            void 0 !== e && (e.exports = s)
        }
        , {}],
        4: [function(e, i, n) {
            !function(e) {
                var n = /iPhone/i
                  , r = /iPod/i
                  , s = /iPad/i
                  , o = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i
                  , a = /Android/i
                  , h = /(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i
                  , l = /(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i
                  , u = /IEMobile/i
                  , c = /(?=.*\bWindows\b)(?=.*\bARM\b)/i
                  , d = /BlackBerry/i
                  , p = /BB10/i
                  , f = /Opera Mini/i
                  , m = /(CriOS|Chrome)(?=.*\bMobile\b)/i
                  , _ = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i
                  , y = new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i")
                  , v = function(t, e) {
                    return t.test(e)
                }
                  , g = function(t) {
                    var e = t || navigator.userAgent
                      , i = e.split("[FBAN");
                    if (void 0 !== i[1] && (e = i[0]),
                    i = e.split("Twitter"),
                    void 0 !== i[1] && (e = i[0]),
                    this.apple = {
                        phone: v(n, e),
                        ipod: v(r, e),
                        tablet: !v(n, e) && v(s, e),
                        device: v(n, e) || v(r, e) || v(s, e)
                    },
                    this.amazon = {
                        phone: v(h, e),
                        tablet: !v(h, e) && v(l, e),
                        device: v(h, e) || v(l, e)
                    },
                    this.android = {
                        phone: v(h, e) || v(o, e),
                        tablet: !v(h, e) && !v(o, e) && (v(l, e) || v(a, e)),
                        device: v(h, e) || v(l, e) || v(o, e) || v(a, e)
                    },
                    this.windows = {
                        phone: v(u, e),
                        tablet: v(c, e),
                        device: v(u, e) || v(c, e)
                    },
                    this.other = {
                        blackberry: v(d, e),
                        blackberry10: v(p, e),
                        opera: v(f, e),
                        firefox: v(_, e),
                        chrome: v(m, e),
                        device: v(d, e) || v(p, e) || v(f, e) || v(_, e) || v(m, e)
                    },
                    this.seven_inch = v(y, e),
                    this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch,
                    this.phone = this.apple.phone || this.android.phone || this.windows.phone,
                    this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet,
                    "undefined" == typeof window)
                        return this
                }
                  , x = function() {
                    var t = new g;
                    return t.Class = g,
                    t
                };
                void 0 !== i && i.exports && "undefined" == typeof window ? i.exports = g : void 0 !== i && i.exports && "undefined" != typeof window ? i.exports = x() : "function" == typeof t && t.amd ? t("isMobile", [], e.isMobile = x()) : e.isMobile = x()
            }(this)
        }
        , {}],
        5: [function(t, e, i) {
            "use strict";
            function n(t) {
                if (null === t || void 0 === t)
                    throw new TypeError("Object.assign cannot be called with null or undefined");
                return Object(t)
            }
            var r = Object.getOwnPropertySymbols
              , s = Object.prototype.hasOwnProperty
              , o = Object.prototype.propertyIsEnumerable;
            e.exports = function() {
                try {
                    if (!Object.assign)
                        return !1;
                    var t = new String("abc");
                    if (t[5] = "de",
                    "5" === Object.getOwnPropertyNames(t)[0])
                        return !1;
                    for (var e = {}, i = 0; i < 10; i++)
                        e["_" + String.fromCharCode(i)] = i;
                    if ("0123456789" !== Object.getOwnPropertyNames(e).map(function(t) {
                        return e[t]
                    }).join(""))
                        return !1;
                    var n = {};
                    return "abcdefghijklmnopqrst".split("").forEach(function(t) {
                        n[t] = t
                    }),
                    "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, n)).join("")
                } catch (t) {
                    return !1
                }
            }() ? Object.assign : function(t, e) {
                for (var i, a, h = n(t), l = 1; l < arguments.length; l++) {
                    i = Object(arguments[l]);
                    for (var u in i)
                        s.call(i, u) && (h[u] = i[u]);
                    if (r) {
                        a = r(i);
                        for (var c = 0; c < a.length; c++)
                            o.call(i, a[c]) && (h[a[c]] = i[a[c]])
                    }
                }
                return h
            }
        }
        , {}],
        6: [function(t, e, i) {
            var n = new ArrayBuffer(0)
              , r = function(t, e, i, r) {
                this.gl = t,
                this.buffer = t.createBuffer(),
                this.type = e || t.ARRAY_BUFFER,
                this.drawType = r || t.STATIC_DRAW,
                this.data = n,
                i && this.upload(i)
            };
            r.prototype.upload = function(t, e, i) {
                i || this.bind();
                var n = this.gl;
                t = t || this.data,
                e = e || 0,
                this.data.byteLength >= t.byteLength ? n.bufferSubData(this.type, e, t) : n.bufferData(this.type, t, this.drawType),
                this.data = t
            }
            ,
            r.prototype.bind = function() {
                this.gl.bindBuffer(this.type, this.buffer)
            }
            ,
            r.createVertexBuffer = function(t, e, i) {
                return new r(t,t.ARRAY_BUFFER,e,i)
            }
            ,
            r.createIndexBuffer = function(t, e, i) {
                return new r(t,t.ELEMENT_ARRAY_BUFFER,e,i)
            }
            ,
            r.create = function(t, e, i, n) {
                return new r(t,e,i,n)
            }
            ,
            r.prototype.destroy = function() {
                this.gl.deleteBuffer(this.buffer)
            }
            ,
            e.exports = r
        }
        , {}],
        7: [function(t, e, i) {
            var n = t("./GLTexture")
              , r = function(t, e, i) {
                this.gl = t,
                this.framebuffer = t.createFramebuffer(),
                this.stencil = null,
                this.texture = null,
                this.width = e || 100,
                this.height = i || 100
            };
            r.prototype.enableTexture = function(t) {
                var e = this.gl;
                this.texture = t || new n(e),
                this.texture.bind(),
                this.bind(),
                e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.texture.texture, 0)
            }
            ,
            r.prototype.enableStencil = function() {
                if (!this.stencil) {
                    var t = this.gl;
                    this.stencil = t.createRenderbuffer(),
                    t.bindRenderbuffer(t.RENDERBUFFER, this.stencil),
                    t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencil),
                    t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.width, this.height)
                }
            }
            ,
            r.prototype.clear = function(t, e, i, n) {
                this.bind();
                var r = this.gl;
                r.clearColor(t, e, i, n),
                r.clear(r.COLOR_BUFFER_BIT)
            }
            ,
            r.prototype.bind = function() {
                var t = this.gl;
                t.bindFramebuffer(t.FRAMEBUFFER, this.framebuffer)
            }
            ,
            r.prototype.unbind = function() {
                var t = this.gl;
                t.bindFramebuffer(t.FRAMEBUFFER, null)
            }
            ,
            r.prototype.resize = function(t, e) {
                var i = this.gl;
                this.width = t,
                this.height = e,
                this.texture && this.texture.uploadData(null, t, e),
                this.stencil && (i.bindRenderbuffer(i.RENDERBUFFER, this.stencil),
                i.renderbufferStorage(i.RENDERBUFFER, i.DEPTH_STENCIL, t, e))
            }
            ,
            r.prototype.destroy = function() {
                var t = this.gl;
                this.texture && this.texture.destroy(),
                t.deleteFramebuffer(this.framebuffer),
                this.gl = null,
                this.stencil = null,
                this.texture = null
            }
            ,
            r.createRGBA = function(t, e, i, s) {
                var o = n.fromData(t, null, e, i);
                o.enableNearestScaling(),
                o.enableWrapClamp();
                var a = new r(t,e,i);
                return a.enableTexture(o),
                a.unbind(),
                a
            }
            ,
            r.createFloat32 = function(t, e, i, s) {
                var o = new n.fromData(t,s,e,i);
                o.enableNearestScaling(),
                o.enableWrapClamp();
                var a = new r(t,e,i);
                return a.enableTexture(o),
                a.unbind(),
                a
            }
            ,
            e.exports = r
        }
        , {
            "./GLTexture": 9
        }],
        8: [function(t, e, i) {
            var n = t("./shader/compileProgram")
              , r = t("./shader/extractAttributes")
              , s = t("./shader/extractUniforms")
              , o = t("./shader/generateUniformAccessObject")
              , a = function(t, e, i) {
                this.gl = t,
                this.program = n(t, e, i),
                this.attributes = r(t, this.program);
                var a = s(t, this.program);
                this.uniforms = o(t, a)
            };
            a.prototype.bind = function() {
                this.gl.useProgram(this.program)
            }
            ,
            a.prototype.destroy = function() {}
            ,
            e.exports = a
        }
        , {
            "./shader/compileProgram": 14,
            "./shader/extractAttributes": 16,
            "./shader/extractUniforms": 17,
            "./shader/generateUniformAccessObject": 18
        }],
        9: [function(t, e, i) {
            var n = function(t, e, i, n, r) {
                this.gl = t,
                this.texture = t.createTexture(),
                this.mipmap = !1,
                this.premultiplyAlpha = !1,
                this.width = e || -1,
                this.height = i || -1,
                this.format = n || t.RGBA,
                this.type = r || t.UNSIGNED_BYTE
            };
            n.prototype.upload = function(t) {
                this.bind();
                var e = this.gl;
                e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);
                var i = t.videoWidth || t.width
                  , n = t.videoHeight || t.height;
                n !== this.height || i !== this.width ? e.texImage2D(e.TEXTURE_2D, 0, this.format, this.format, this.type, t) : e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, this.format, this.type, t),
                this.width = i,
                this.height = n
            }
            ;
            var r = !1;
            n.prototype.uploadData = function(t, e, i) {
                this.bind();
                var n = this.gl;
                if (t instanceof Float32Array) {
                    if (!r) {
                        if (!n.getExtension("OES_texture_float"))
                            throw new Error("floating point textures not available");
                        r = !0
                    }
                    this.type = n.FLOAT
                } else
                    this.type = n.UNSIGNED_BYTE;
                n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha),
                e !== this.width || i !== this.height ? n.texImage2D(n.TEXTURE_2D, 0, this.format, e, i, 0, this.format, this.type, t || null) : n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, e, i, this.format, this.type, t || null),
                this.width = e,
                this.height = i
            }
            ,
            n.prototype.bind = function(t) {
                var e = this.gl;
                void 0 !== t && e.activeTexture(e.TEXTURE0 + t),
                e.bindTexture(e.TEXTURE_2D, this.texture)
            }
            ,
            n.prototype.unbind = function() {
                var t = this.gl;
                t.bindTexture(t.TEXTURE_2D, null)
            }
            ,
            n.prototype.minFilter = function(t) {
                var e = this.gl;
                this.bind(),
                this.mipmap ? e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR_MIPMAP_LINEAR : e.NEAREST_MIPMAP_NEAREST) : e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR : e.NEAREST)
            }
            ,
            n.prototype.magFilter = function(t) {
                var e = this.gl;
                this.bind(),
                e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, t ? e.LINEAR : e.NEAREST)
            }
            ,
            n.prototype.enableMipmap = function() {
                var t = this.gl;
                this.bind(),
                this.mipmap = !0,
                t.generateMipmap(t.TEXTURE_2D)
            }
            ,
            n.prototype.enableLinearScaling = function() {
                this.minFilter(!0),
                this.magFilter(!0)
            }
            ,
            n.prototype.enableNearestScaling = function() {
                this.minFilter(!1),
                this.magFilter(!1)
            }
            ,
            n.prototype.enableWrapClamp = function() {
                var t = this.gl;
                this.bind(),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE)
            }
            ,
            n.prototype.enableWrapRepeat = function() {
                var t = this.gl;
                this.bind(),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.REPEAT),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.REPEAT)
            }
            ,
            n.prototype.enableWrapMirrorRepeat = function() {
                var t = this.gl;
                this.bind(),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.MIRRORED_REPEAT),
                t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.MIRRORED_REPEAT)
            }
            ,
            n.prototype.destroy = function() {
                this.gl.deleteTexture(this.texture)
            }
            ,
            n.fromSource = function(t, e, i) {
                var r = new n(t);
                return r.premultiplyAlpha = i || !1,
                r.upload(e),
                r
            }
            ,
            n.fromData = function(t, e, i, r) {
                var s = new n(t);
                return s.uploadData(e, i, r),
                s
            }
            ,
            e.exports = n
        }
        , {}],
        10: [function(t, e, i) {
            function n(t, e) {
                if (this.nativeVaoExtension = null,
                n.FORCE_NATIVE || (this.nativeVaoExtension = t.getExtension("OES_vertex_array_object") || t.getExtension("MOZ_OES_vertex_array_object") || t.getExtension("WEBKIT_OES_vertex_array_object")),
                this.nativeState = e,
                this.nativeVaoExtension) {
                    this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();
                    var i = t.getParameter(t.MAX_VERTEX_ATTRIBS);
                    this.nativeState = {
                        tempAttribState: new Array(i),
                        attribState: new Array(i)
                    }
                }
                this.gl = t,
                this.attributes = [],
                this.indexBuffer = null,
                this.dirty = !1
            }
            var r = t("./setVertexAttribArrays");
            n.prototype.constructor = n,
            e.exports = n,
            n.FORCE_NATIVE = !1,
            n.prototype.bind = function() {
                return this.nativeVao ? (this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),
                this.dirty && (this.dirty = !1,
                this.activate())) : this.activate(),
                this
            }
            ,
            n.prototype.unbind = function() {
                return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(null),
                this
            }
            ,
            n.prototype.activate = function() {
                for (var t = this.gl, e = null, i = 0; i < this.attributes.length; i++) {
                    var n = this.attributes[i];
                    e !== n.buffer && (n.buffer.bind(),
                    e = n.buffer),
                    t.vertexAttribPointer(n.attribute.location, n.attribute.size, n.type || t.FLOAT, n.normalized || !1, n.stride || 0, n.start || 0)
                }
                return r(t, this.attributes, this.nativeState),
                this.indexBuffer.bind(),
                this
            }
            ,
            n.prototype.addAttribute = function(t, e, i, n, r, s) {
                return this.attributes.push({
                    buffer: t,
                    attribute: e,
                    location: e.location,
                    type: i || this.gl.FLOAT,
                    normalized: n || !1,
                    stride: r || 0,
                    start: s || 0
                }),
                this.dirty = !0,
                this
            }
            ,
            n.prototype.addIndex = function(t) {
                return this.indexBuffer = t,
                this.dirty = !0,
                this
            }
            ,
            n.prototype.clear = function() {
                return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),
                this.attributes.length = 0,
                this.indexBuffer = null,
                this
            }
            ,
            n.prototype.draw = function(t, e, i) {
                var n = this.gl;
                return n.drawElements(t, e, n.UNSIGNED_SHORT, i || 0),
                this
            }
            ,
            n.prototype.destroy = function() {
                this.gl = null,
                this.indexBuffer = null,
                this.attributes = null,
                this.nativeState = null,
                this.nativeVao && this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),
                this.nativeVaoExtension = null,
                this.nativeVao = null
            }
        }
        , {
            "./setVertexAttribArrays": 13
        }],
        11: [function(t, e, i) {
            var n = function(t, e) {
                var i = t.getContext("webgl", e) || t.getContext("experimental-webgl", e);
                if (!i)
                    throw new Error("This browser does not support webGL. Try using the canvas renderer");
                return i
            };
            e.exports = n
        }
        , {}],
        12: [function(t, e, i) {
            var n = {
                createContext: t("./createContext"),
                setVertexAttribArrays: t("./setVertexAttribArrays"),
                GLBuffer: t("./GLBuffer"),
                GLFramebuffer: t("./GLFramebuffer"),
                GLShader: t("./GLShader"),
                GLTexture: t("./GLTexture"),
                VertexArrayObject: t("./VertexArrayObject"),
                shader: t("./shader")
            };
            void 0 !== e && e.exports && (e.exports = n),
            "undefined" != typeof window && (window.PIXI = window.PIXI || {},
            window.PIXI.glCore = n)
        }
        , {
            "./GLBuffer": 6,
            "./GLFramebuffer": 7,
            "./GLShader": 8,
            "./GLTexture": 9,
            "./VertexArrayObject": 10,
            "./createContext": 11,
            "./setVertexAttribArrays": 13,
            "./shader": 19
        }],
        13: [function(t, e, i) {
            var n = function(t, e, i) {
                var n;
                if (i) {
                    var r = i.tempAttribState
                      , s = i.attribState;
                    for (n = 0; n < r.length; n++)
                        r[n] = !1;
                    for (n = 0; n < e.length; n++)
                        r[e[n].attribute.location] = !0;
                    for (n = 0; n < s.length; n++)
                        s[n] !== r[n] && (s[n] = r[n],
                        i.attribState[n] ? t.enableVertexAttribArray(n) : t.disableVertexAttribArray(n))
                } else
                    for (n = 0; n < e.length; n++) {
                        var o = e[n];
                        t.enableVertexAttribArray(o.attribute.location)
                    }
            };
            e.exports = n
        }
        , {}],
        14: [function(t, e, i) {
            var n = function(t, e, i) {
                var n = r(t, t.VERTEX_SHADER, e)
                  , s = r(t, t.FRAGMENT_SHADER, i)
                  , o = t.createProgram();
                return t.attachShader(o, n),
                t.attachShader(o, s),
                t.linkProgram(o),
                t.getProgramParameter(o, t.LINK_STATUS) || (console.error("Pixi.js Error: Could not initialize shader."),
                console.error("gl.VALIDATE_STATUS", t.getProgramParameter(o, t.VALIDATE_STATUS)),
                console.error("gl.getError()", t.getError()),
                "" !== t.getProgramInfoLog(o) && console.warn("Pixi.js Warning: gl.getProgramInfoLog()", t.getProgramInfoLog(o)),
                t.deleteProgram(o),
                o = null),
                t.deleteShader(n),
                t.deleteShader(s),
                o
            }
              , r = function(t, e, i) {
                var n = t.createShader(e);
                return t.shaderSource(n, i),
                t.compileShader(n),
                t.getShaderParameter(n, t.COMPILE_STATUS) ? n : (console.log(t.getShaderInfoLog(n)),
                null)
            };
            e.exports = n
        }
        , {}],
        15: [function(t, e, i) {
            var n = function(t, e) {
                switch (t) {
                case "float":
                    return 0;
                case "vec2":
                    return new Float32Array(2 * e);
                case "vec3":
                    return new Float32Array(3 * e);
                case "vec4":
                    return new Float32Array(4 * e);
                case "int":
                case "sampler2D":
                    return 0;
                case "ivec2":
                    return new Int32Array(2 * e);
                case "ivec3":
                    return new Int32Array(3 * e);
                case "ivec4":
                    return new Int32Array(4 * e);
                case "bool":
                    return !1;
                case "bvec2":
                    return r(2 * e);
                case "bvec3":
                    return r(3 * e);
                case "bvec4":
                    return r(4 * e);
                case "mat2":
                    return new Float32Array([1, 0, 0, 1]);
                case "mat3":
                    return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
                case "mat4":
                    return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
                }
            }
              , r = function(t) {
                for (var e = new Array(t), i = 0; i < e.length; i++)
                    e[i] = !1;
                return e
            };
            e.exports = n
        }
        , {}],
        16: [function(t, e, i) {
            var n = t("./mapType")
              , r = t("./mapSize")
              , s = function(t, e) {
                for (var i = {}, s = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), a = 0; a < s; a++) {
                    var h = t.getActiveAttrib(e, a)
                      , l = n(t, h.type);
                    i[h.name] = {
                        type: l,
                        size: r(l),
                        location: t.getAttribLocation(e, h.name),
                        pointer: o
                    }
                }
                return i
            }
              , o = function(t, e, i, n) {
                gl.vertexAttribPointer(this.location, this.size, t || gl.FLOAT, e || !1, i || 0, n || 0)
            };
            e.exports = s
        }
        , {
            "./mapSize": 20,
            "./mapType": 21
        }],
        17: [function(t, e, i) {
            var n = t("./mapType")
              , r = t("./defaultValue")
              , s = function(t, e) {
                for (var i = {}, s = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), o = 0; o < s; o++) {
                    var a = t.getActiveUniform(e, o)
                      , h = a.name.replace(/\[.*?\]/, "")
                      , l = n(t, a.type);
                    i[h] = {
                        type: l,
                        size: a.size,
                        location: t.getUniformLocation(e, h),
                        value: r(l, a.size)
                    }
                }
                return i
            };
            e.exports = s
        }
        , {
            "./defaultValue": 15,
            "./mapType": 21
        }],
        18: [function(t, e, i) {
            var n = function(t, e) {
                var i = {
                    data: {}
                };
                i.gl = t;
                for (var n = Object.keys(e), a = 0; a < n.length; a++) {
                    var h = n[a]
                      , l = h.split(".")
                      , u = l[l.length - 1]
                      , c = o(l, i)
                      , d = e[h];
                    c.data[u] = d,
                    c.gl = t,
                    Object.defineProperty(c, u, {
                        get: r(u),
                        set: s(u, d)
                    })
                }
                return i
            }
              , r = function(t) {
                var e = a.replace("%%", t);
                return new Function(e)
            }
              , s = function(t, e) {
                var i, n = h.replace(/%%/g, t);
                return i = 1 === e.size ? l[e.type] : u[e.type],
                i && (n += "\nthis.gl." + i + ";"),
                new Function("value",n)
            }
              , o = function(t, e) {
                for (var i = e, n = 0; n < t.length - 1; n++) {
                    var r = i[t[n]] || {
                        data: {}
                    };
                    i[t[n]] = r,
                    i = r
                }
                return i
            }
              , a = ["return this.data.%%.value;"].join("\n")
              , h = ["this.data.%%.value = value;", "var location = this.data.%%.location;"].join("\n")
              , l = {
                float: "uniform1f(location, value)",
                vec2: "uniform2f(location, value[0], value[1])",
                vec3: "uniform3f(location, value[0], value[1], value[2])",
                vec4: "uniform4f(location, value[0], value[1], value[2], value[3])",
                int: "uniform1i(location, value)",
                ivec2: "uniform2i(location, value[0], value[1])",
                ivec3: "uniform3i(location, value[0], value[1], value[2])",
                ivec4: "uniform4i(location, value[0], value[1], value[2], value[3])",
                bool: "uniform1i(location, value)",
                bvec2: "uniform2i(location, value[0], value[1])",
                bvec3: "uniform3i(location, value[0], value[1], value[2])",
                bvec4: "uniform4i(location, value[0], value[1], value[2], value[3])",
                mat2: "uniformMatrix2fv(location, false, value)",
                mat3: "uniformMatrix3fv(location, false, value)",
                mat4: "uniformMatrix4fv(location, false, value)",
                sampler2D: "uniform1i(location, value)"
            }
              , u = {
                float: "uniform1fv(location, value)",
                vec2: "uniform2fv(location, value)",
                vec3: "uniform3fv(location, value)",
                vec4: "uniform4fv(location, value)",
                int: "uniform1iv(location, value)",
                ivec2: "uniform2iv(location, value)",
                ivec3: "uniform3iv(location, value)",
                ivec4: "uniform4iv(location, value)",
                bool: "uniform1iv(location, value)",
                bvec2: "uniform2iv(location, value)",
                bvec3: "uniform3iv(location, value)",
                bvec4: "uniform4iv(location, value)",
                sampler2D: "uniform1iv(location, value)"
            };
            e.exports = n
        }
        , {}],
        19: [function(t, e, i) {
            e.exports = {
                compileProgram: t("./compileProgram"),
                defaultValue: t("./defaultValue"),
                extractAttributes: t("./extractAttributes"),
                extractUniforms: t("./extractUniforms"),
                generateUniformAccessObject: t("./generateUniformAccessObject"),
                mapSize: t("./mapSize"),
                mapType: t("./mapType")
            }
        }
        , {
            "./compileProgram": 14,
            "./defaultValue": 15,
            "./extractAttributes": 16,
            "./extractUniforms": 17,
            "./generateUniformAccessObject": 18,
            "./mapSize": 20,
            "./mapType": 21
        }],
        20: [function(t, e, i) {
            var n = function(t) {
                return r[t]
            }
              , r = {
                float: 1,
                vec2: 2,
                vec3: 3,
                vec4: 4,
                int: 1,
                ivec2: 2,
                ivec3: 3,
                ivec4: 4,
                bool: 1,
                bvec2: 2,
                bvec3: 3,
                bvec4: 4,
                mat2: 4,
                mat3: 9,
                mat4: 16,
                sampler2D: 1
            };
            e.exports = n
        }
        , {}],
        21: [function(t, e, i) {
            var n = function(t, e) {
                if (!r) {
                    var i = Object.keys(s);
                    r = {};
                    for (var n = 0; n < i.length; ++n) {
                        var o = i[n];
                        r[t[o]] = s[o]
                    }
                }
                return r[e]
            }
              , r = null
              , s = {
                FLOAT: "float",
                FLOAT_VEC2: "vec2",
                FLOAT_VEC3: "vec3",
                FLOAT_VEC4: "vec4",
                INT: "int",
                INT_VEC2: "ivec2",
                INT_VEC3: "ivec3",
                INT_VEC4: "ivec4",
                BOOL: "bool",
                BOOL_VEC2: "bvec2",
                BOOL_VEC3: "bvec3",
                BOOL_VEC4: "bvec4",
                FLOAT_MAT2: "mat2",
                FLOAT_MAT3: "mat3",
                FLOAT_MAT4: "mat4",
                SAMPLER_2D: "sampler2D"
            };
            e.exports = n
        }
        , {}],
        22: [function(t, e, i) {
            (function(t) {
                function e(t, e) {
                    for (var i = 0, n = t.length - 1; n >= 0; n--) {
                        var r = t[n];
                        "." === r ? t.splice(n, 1) : ".." === r ? (t.splice(n, 1),
                        i++) : i && (t.splice(n, 1),
                        i--)
                    }
                    if (e)
                        for (; i--; i)
                            t.unshift("..");
                    return t
                }
                function n(t, e) {
                    if (t.filter)
                        return t.filter(e);
                    for (var i = [], n = 0; n < t.length; n++)
                        e(t[n], n, t) && i.push(t[n]);
                    return i
                }
                var r = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/
                  , s = function(t) {
                    return r.exec(t).slice(1)
                };
                i.resolve = function() {
                    for (var i = "", r = !1, s = arguments.length - 1; s >= -1 && !r; s--) {
                        var o = s >= 0 ? arguments[s] : t.cwd();
                        if ("string" != typeof o)
                            throw new TypeError("Arguments to path.resolve must be strings");
                        o && (i = o + "/" + i,
                        r = "/" === o.charAt(0))
                    }
                    return i = e(n(i.split("/"), function(t) {
                        return !!t
                    }), !r).join("/"),
                    (r ? "/" : "") + i || "."
                }
                ,
                i.normalize = function(t) {
                    var r = i.isAbsolute(t)
                      , s = "/" === o(t, -1);
                    return t = e(n(t.split("/"), function(t) {
                        return !!t
                    }), !r).join("/"),
                    t || r || (t = "."),
                    t && s && (t += "/"),
                    (r ? "/" : "") + t
                }
                ,
                i.isAbsolute = function(t) {
                    return "/" === t.charAt(0)
                }
                ,
                i.join = function() {
                    var t = Array.prototype.slice.call(arguments, 0);
                    return i.normalize(n(t, function(t, e) {
                        if ("string" != typeof t)
                            throw new TypeError("Arguments to path.join must be strings");
                        return t
                    }).join("/"))
                }
                ,
                i.relative = function(t, e) {
                    function n(t) {
                        for (var e = 0; e < t.length && "" === t[e]; e++)
                            ;
                        for (var i = t.length - 1; i >= 0 && "" === t[i]; i--)
                            ;
                        return e > i ? [] : t.slice(e, i - e + 1)
                    }
                    t = i.resolve(t).substr(1),
                    e = i.resolve(e).substr(1);
                    for (var r = n(t.split("/")), s = n(e.split("/")), o = Math.min(r.length, s.length), a = o, h = 0; h < o; h++)
                        if (r[h] !== s[h]) {
                            a = h;
                            break
                        }
                    for (var l = [], h = a; h < r.length; h++)
                        l.push("..");
                    return l = l.concat(s.slice(a)),
                    l.join("/")
                }
                ,
                i.sep = "/",
                i.delimiter = ":",
                i.dirname = function(t) {
                    var e = s(t)
                      , i = e[0]
                      , n = e[1];
                    return i || n ? (n && (n = n.substr(0, n.length - 1)),
                    i + n) : "."
                }
                ,
                i.basename = function(t, e) {
                    var i = s(t)[2];
                    return e && i.substr(-1 * e.length) === e && (i = i.substr(0, i.length - e.length)),
                    i
                }
                ,
                i.extname = function(t) {
                    return s(t)[3]
                }
                ;
                var o = "b" === "ab".substr(-1) ? function(t, e, i) {
                    return t.substr(e, i)
                }
                : function(t, e, i) {
                    return e < 0 && (e = t.length + e),
                    t.substr(e, i)
                }
            }
            ).call(this, t("_process"))
        }
        , {
            _process: 23
        }],
        23: [function(t, e, i) {
            function n() {
                throw new Error("setTimeout has not been defined")
            }
            function r() {
                throw new Error("clearTimeout has not been defined")
            }
            function s(t) {
                if (c === setTimeout)
                    return setTimeout(t, 0);
                if ((c === n || !c) && setTimeout)
                    return c = setTimeout,
                    setTimeout(t, 0);
                try {
                    return c(t, 0)
                } catch (e) {
                    try {
                        return c.call(null, t, 0)
                    } catch (e) {
                        return c.call(this, t, 0)
                    }
                }
            }
            function o(t) {
                if (d === clearTimeout)
                    return clearTimeout(t);
                if ((d === r || !d) && clearTimeout)
                    return d = clearTimeout,
                    clearTimeout(t);
                try {
                    return d(t)
                } catch (e) {
                    try {
                        return d.call(null, t)
                    } catch (e) {
                        return d.call(this, t)
                    }
                }
            }
            function a() {
                _ && f && (_ = !1,
                f.length ? m = f.concat(m) : y = -1,
                m.length && h())
            }
            function h() {
                if (!_) {
                    var t = s(a);
                    _ = !0;
                    for (var e = m.length; e; ) {
                        for (f = m,
                        m = []; ++y < e; )
                            f && f[y].run();
                        y = -1,
                        e = m.length
                    }
                    f = null,
                    _ = !1,
                    o(t)
                }
            }
            function l(t, e) {
                this.fun = t,
                this.array = e
            }
            function u() {}
            var c, d, p = e.exports = {};
            !function() {
                try {
                    c = "function" == typeof setTimeout ? setTimeout : n
                } catch (t) {
                    c = n
                }
                try {
                    d = "function" == typeof clearTimeout ? clearTimeout : r
                } catch (t) {
                    d = r
                }
            }();
            var f, m = [], _ = !1, y = -1;
            p.nextTick = function(t) {
                var e = new Array(arguments.length - 1);
                if (arguments.length > 1)
                    for (var i = 1; i < arguments.length; i++)
                        e[i - 1] = arguments[i];
                m.push(new l(t,e)),
                1 !== m.length || _ || s(h)
            }
            ,
            l.prototype.run = function() {
                this.fun.apply(null, this.array)
            }
            ,
            p.title = "browser",
            p.browser = !0,
            p.env = {},
            p.argv = [],
            p.version = "",
            p.versions = {},
            p.on = u,
            p.addListener = u,
            p.once = u,
            p.off = u,
            p.removeListener = u,
            p.removeAllListeners = u,
            p.emit = u,
            p.binding = function(t) {
                throw new Error("process.binding is not supported")
            }
            ,
            p.cwd = function() {
                return "/"
            }
            ,
            p.chdir = function(t) {
                throw new Error("process.chdir is not supported")
            }
            ,
            p.umask = function() {
                return 0
            }
        }
        , {}],
        24: [function(e, i, n) {
            (function(e) {
                !function(r) {
                    function s(t) {
                        throw new RangeError(k[t])
                    }
                    function o(t, e) {
                        for (var i = t.length, n = []; i--; )
                            n[i] = e(t[i]);
                        return n
                    }
                    function a(t, e) {
                        var i = t.split("@")
                          , n = "";
                        return i.length > 1 && (n = i[0] + "@",
                        t = i[1]),
                        t = t.replace(R, "."),
                        n + o(t.split("."), e).join(".")
                    }
                    function h(t) {
                        for (var e, i, n = [], r = 0, s = t.length; r < s; )
                            e = t.charCodeAt(r++),
                            e >= 55296 && e <= 56319 && r < s ? (i = t.charCodeAt(r++),
                            56320 == (64512 & i) ? n.push(((1023 & e) << 10) + (1023 & i) + 65536) : (n.push(e),
                            r--)) : n.push(e);
                        return n
                    }
                    function l(t) {
                        return o(t, function(t) {
                            var e = "";
                            return t > 65535 && (t -= 65536,
                            e += F(t >>> 10 & 1023 | 55296),
                            t = 56320 | 1023 & t),
                            e += F(t)
                        }).join("")
                    }
                    function u(t) {
                        return t - 48 < 10 ? t - 22 : t - 65 < 26 ? t - 65 : t - 97 < 26 ? t - 97 : T
                    }
                    function c(t, e) {
                        return t + 22 + 75 * (t < 26) - ((0 != e) << 5)
                    }
                    function d(t, e, i) {
                        var n = 0;
                        for (t = i ? L(t / E) : t >> 1,
                        t += L(t / e); t > D * S >> 1; n += T)
                            t = L(t / D);
                        return L(n + (D + 1) * t / (t + C))
                    }
                    function p(t) {
                        var e, i, n, r, o, a, h, c, p, f, m = [], _ = t.length, y = 0, v = M, g = P;
                        for (i = t.lastIndexOf(O),
                        i < 0 && (i = 0),
                        n = 0; n < i; ++n)
                            t.charCodeAt(n) >= 128 && s("not-basic"),
                            m.push(t.charCodeAt(n));
                        for (r = i > 0 ? i + 1 : 0; r < _; ) {
                            for (o = y,
                            a = 1,
                            h = T; r >= _ && s("invalid-input"),
                            c = u(t.charCodeAt(r++)),
                            (c >= T || c > L((w - y) / a)) && s("overflow"),
                            y += c * a,
                            p = h <= g ? A : h >= g + S ? S : h - g,
                            !(c < p); h += T)
                                f = T - p,
                                a > L(w / f) && s("overflow"),
                                a *= f;
                            e = m.length + 1,
                            g = d(y - o, e, 0 == o),
                            L(y / e) > w - v && s("overflow"),
                            v += L(y / e),
                            y %= e,
                            m.splice(y++, 0, v)
                        }
                        return l(m)
                    }
                    function f(t) {
                        var e, i, n, r, o, a, l, u, p, f, m, _, y, v, g, x = [];
                        for (t = h(t),
                        _ = t.length,
                        e = M,
                        i = 0,
                        o = P,
                        a = 0; a < _; ++a)
                            (m = t[a]) < 128 && x.push(F(m));
                        for (n = r = x.length,
                        r && x.push(O); n < _; ) {
                            for (l = w,
                            a = 0; a < _; ++a)
                                (m = t[a]) >= e && m < l && (l = m);
                            for (y = n + 1,
                            l - e > L((w - i) / y) && s("overflow"),
                            i += (l - e) * y,
                            e = l,
                            a = 0; a < _; ++a)
                                if (m = t[a],
                                m < e && ++i > w && s("overflow"),
                                m == e) {
                                    for (u = i,
                                    p = T; f = p <= o ? A : p >= o + S ? S : p - o,
                                    !(u < f); p += T)
                                        g = u - f,
                                        v = T - f,
                                        x.push(F(c(f + g % v, 0))),
                                        u = L(g / v);
                                    x.push(F(c(u, 0))),
                                    o = d(i, y, n == r),
                                    i = 0,
                                    ++n
                                }
                            ++i,
                            ++e
                        }
                        return x.join("")
                    }
                    function m(t) {
                        return a(t, function(t) {
                            return I.test(t) ? p(t.slice(4).toLowerCase()) : t
                        })
                    }
                    function _(t) {
                        return a(t, function(t) {
                            return B.test(t) ? "xn--" + f(t) : t
                        })
                    }
                    var y = "object" == typeof n && n && !n.nodeType && n
                      , v = "object" == typeof i && i && !i.nodeType && i
                      , g = "object" == typeof e && e;
                    g.global !== g && g.window !== g && g.self !== g || (r = g);
                    var x, b, w = 2147483647, T = 36, A = 1, S = 26, C = 38, E = 700, P = 72, M = 128, O = "-", I = /^xn--/, B = /[^\x20-\x7E]/, R = /[\x2E\u3002\uFF0E\uFF61]/g, k = {
                        overflow: "Overflow: input needs wider integers to process",
                        "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                        "invalid-input": "Invalid input"
                    }, D = T - A, L = Math.floor, F = String.fromCharCode;
                    if (x = {
                        version: "1.4.1",
                        ucs2: {
                            decode: h,
                            encode: l
                        },
                        decode: p,
                        encode: f,
                        toASCII: _,
                        toUnicode: m
                    },
                    "function" == typeof t && "object" == typeof t.amd && t.amd)
                        t("punycode", function() {
                            return x
                        });
                    else if (y && v)
                        if (i.exports == y)
                            v.exports = x;
                        else
                            for (b in x)
                                x.hasOwnProperty(b) && (y[b] = x[b]);
                    else
                        r.punycode = x
                }(this)
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {}],
        25: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                return Object.prototype.hasOwnProperty.call(t, e)
            }
            e.exports = function(t, e, i, s) {
                e = e || "&",
                i = i || "=";
                var o = {};
                if ("string" != typeof t || 0 === t.length)
                    return o;
                var a = /\+/g;
                t = t.split(e);
                var h = 1e3;
                s && "number" == typeof s.maxKeys && (h = s.maxKeys);
                var l = t.length;
                h > 0 && l > h && (l = h);
                for (var u = 0; u < l; ++u) {
                    var c, d, p, f, m = t[u].replace(a, "%20"), _ = m.indexOf(i);
                    _ >= 0 ? (c = m.substr(0, _),
                    d = m.substr(_ + 1)) : (c = m,
                    d = ""),
                    p = decodeURIComponent(c),
                    f = decodeURIComponent(d),
                    n(o, p) ? r(o[p]) ? o[p].push(f) : o[p] = [o[p], f] : o[p] = f
                }
                return o
            }
            ;
            var r = Array.isArray || function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }
        }
        , {}],
        26: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (t.map)
                    return t.map(e);
                for (var i = [], n = 0; n < t.length; n++)
                    i.push(e(t[n], n));
                return i
            }
            var r = function(t) {
                switch (typeof t) {
                case "string":
                    return t;
                case "boolean":
                    return t ? "true" : "false";
                case "number":
                    return isFinite(t) ? t : "";
                default:
                    return ""
                }
            };
            e.exports = function(t, e, i, a) {
                return e = e || "&",
                i = i || "=",
                null === t && (t = void 0),
                "object" == typeof t ? n(o(t), function(o) {
                    var a = encodeURIComponent(r(o)) + i;
                    return s(t[o]) ? n(t[o], function(t) {
                        return a + encodeURIComponent(r(t))
                    }).join(e) : a + encodeURIComponent(r(t[o]))
                }).join(e) : a ? encodeURIComponent(r(a)) + i + encodeURIComponent(r(t)) : ""
            }
            ;
            var s = Array.isArray || function(t) {
                return "[object Array]" === Object.prototype.toString.call(t)
            }
              , o = Object.keys || function(t) {
                var e = [];
                for (var i in t)
                    Object.prototype.hasOwnProperty.call(t, i) && e.push(i);
                return e
            }
        }
        , {}],
        27: [function(t, e, i) {
            "use strict";
            i.decode = i.parse = t("./decode"),
            i.encode = i.stringify = t("./encode")
        }
        , {
            "./decode": 25,
            "./encode": 26
        }],
        28: [function(t, e, i) {
            "use strict";
            function n() {
                this.protocol = null,
                this.slashes = null,
                this.auth = null,
                this.host = null,
                this.port = null,
                this.hostname = null,
                this.hash = null,
                this.search = null,
                this.query = null,
                this.pathname = null,
                this.path = null,
                this.href = null
            }
            function r(t, e, i) {
                if (t && l.isObject(t) && t instanceof n)
                    return t;
                var r = new n;
                return r.parse(t, e, i),
                r
            }
            function s(t) {
                return l.isString(t) && (t = r(t)),
                t instanceof n ? t.format() : n.prototype.format.call(t)
            }
            function o(t, e) {
                return r(t, !1, !0).resolve(e)
            }
            function a(t, e) {
                return t ? r(t, !1, !0).resolveObject(e) : e
            }
            var h = t("punycode")
              , l = t("./util");
            i.parse = r,
            i.resolve = o,
            i.resolveObject = a,
            i.format = s,
            i.Url = n;
            var u = /^([a-z0-9.+-]+:)/i
              , c = /:[0-9]*$/
              , d = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/
              , p = ["<", ">", '"', "`", " ", "\r", "\n", "\t"]
              , f = ["{", "}", "|", "\\", "^", "`"].concat(p)
              , m = ["'"].concat(f)
              , _ = ["%", "/", "?", ";", "#"].concat(m)
              , y = ["/", "?", "#"]
              , v = /^[+a-z0-9A-Z_-]{0,63}$/
              , g = /^([+a-z0-9A-Z_-]{0,63})(.*)$/
              , x = {
                javascript: !0,
                "javascript:": !0
            }
              , b = {
                javascript: !0,
                "javascript:": !0
            }
              , w = {
                http: !0,
                https: !0,
                ftp: !0,
                gopher: !0,
                file: !0,
                "http:": !0,
                "https:": !0,
                "ftp:": !0,
                "gopher:": !0,
                "file:": !0
            }
              , T = t("querystring");
            n.prototype.parse = function(t, e, i) {
                if (!l.isString(t))
                    throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
                var n = t.indexOf("?")
                  , r = -1 !== n && n < t.indexOf("#") ? "?" : "#"
                  , s = t.split(r)
                  , o = /\\/g;
                s[0] = s[0].replace(o, "/"),
                t = s.join(r);
                var a = t;
                if (a = a.trim(),
                !i && 1 === t.split("#").length) {
                    var c = d.exec(a);
                    if (c)
                        return this.path = a,
                        this.href = a,
                        this.pathname = c[1],
                        c[2] ? (this.search = c[2],
                        this.query = e ? T.parse(this.search.substr(1)) : this.search.substr(1)) : e && (this.search = "",
                        this.query = {}),
                        this
                }
                var p = u.exec(a);
                if (p) {
                    p = p[0];
                    var f = p.toLowerCase();
                    this.protocol = f,
                    a = a.substr(p.length)
                }
                if (i || p || a.match(/^\/\/[^@\/]+@[^@\/]+/)) {
                    var A = "//" === a.substr(0, 2);
                    !A || p && b[p] || (a = a.substr(2),
                    this.slashes = !0)
                }
                if (!b[p] && (A || p && !w[p])) {
                    for (var S = -1, C = 0; C < y.length; C++) {
                        var E = a.indexOf(y[C]);
                        -1 !== E && (-1 === S || E < S) && (S = E)
                    }
                    var P, M;
                    M = -1 === S ? a.lastIndexOf("@") : a.lastIndexOf("@", S),
                    -1 !== M && (P = a.slice(0, M),
                    a = a.slice(M + 1),
                    this.auth = decodeURIComponent(P)),
                    S = -1;
                    for (var C = 0; C < _.length; C++) {
                        var E = a.indexOf(_[C]);
                        -1 !== E && (-1 === S || E < S) && (S = E)
                    }
                    -1 === S && (S = a.length),
                    this.host = a.slice(0, S),
                    a = a.slice(S),
                    this.parseHost(),
                    this.hostname = this.hostname || "";
                    var O = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                    if (!O)
                        for (var I = this.hostname.split(/\./), C = 0, B = I.length; C < B; C++) {
                            var R = I[C];
                            if (R && !R.match(v)) {
                                for (var k = "", D = 0, L = R.length; D < L; D++)
                                    k += R.charCodeAt(D) > 127 ? "x" : R[D];
                                if (!k.match(v)) {
                                    var F = I.slice(0, C)
                                      , j = I.slice(C + 1)
                                      , N = R.match(g);
                                    N && (F.push(N[1]),
                                    j.unshift(N[2])),
                                    j.length && (a = "/" + j.join(".") + a),
                                    this.hostname = F.join(".");
                                    break
                                }
                            }
                        }
                    this.hostname.length > 255 ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(),
                    O || (this.hostname = h.toASCII(this.hostname));
                    var z = this.port ? ":" + this.port : ""
                      , U = this.hostname || "";
                    this.host = U + z,
                    this.href += this.host,
                    O && (this.hostname = this.hostname.substr(1, this.hostname.length - 2),
                    "/" !== a[0] && (a = "/" + a))
                }
                if (!x[f])
                    for (var C = 0, B = m.length; C < B; C++) {
                        var V = m[C];
                        if (-1 !== a.indexOf(V)) {
                            var X = encodeURIComponent(V);
                            X === V && (X = escape(V)),
                            a = a.split(V).join(X)
                        }
                    }
                var W = a.indexOf("#");
                -1 !== W && (this.hash = a.substr(W),
                a = a.slice(0, W));
                var q = a.indexOf("?");
                if (-1 !== q ? (this.search = a.substr(q),
                this.query = a.substr(q + 1),
                e && (this.query = T.parse(this.query)),
                a = a.slice(0, q)) : e && (this.search = "",
                this.query = {}),
                a && (this.pathname = a),
                w[f] && this.hostname && !this.pathname && (this.pathname = "/"),
                this.pathname || this.search) {
                    var z = this.pathname || ""
                      , H = this.search || "";
                    this.path = z + H
                }
                return this.href = this.format(),
                this
            }
            ,
            n.prototype.format = function() {
                var t = this.auth || "";
                t && (t = encodeURIComponent(t),
                t = t.replace(/%3A/i, ":"),
                t += "@");
                var e = this.protocol || ""
                  , i = this.pathname || ""
                  , n = this.hash || ""
                  , r = !1
                  , s = "";
                this.host ? r = t + this.host : this.hostname && (r = t + (-1 === this.hostname.indexOf(":") ? this.hostname : "[" + this.hostname + "]"),
                this.port && (r += ":" + this.port)),
                this.query && l.isObject(this.query) && Object.keys(this.query).length && (s = T.stringify(this.query));
                var o = this.search || s && "?" + s || "";
                return e && ":" !== e.substr(-1) && (e += ":"),
                this.slashes || (!e || w[e]) && !1 !== r ? (r = "//" + (r || ""),
                i && "/" !== i.charAt(0) && (i = "/" + i)) : r || (r = ""),
                n && "#" !== n.charAt(0) && (n = "#" + n),
                o && "?" !== o.charAt(0) && (o = "?" + o),
                i = i.replace(/[?#]/g, function(t) {
                    return encodeURIComponent(t)
                }),
                o = o.replace("#", "%23"),
                e + r + i + o + n
            }
            ,
            n.prototype.resolve = function(t) {
                return this.resolveObject(r(t, !1, !0)).format()
            }
            ,
            n.prototype.resolveObject = function(t) {
                if (l.isString(t)) {
                    var e = new n;
                    e.parse(t, !1, !0),
                    t = e
                }
                for (var i = new n, r = Object.keys(this), s = 0; s < r.length; s++) {
                    var o = r[s];
                    i[o] = this[o]
                }
                if (i.hash = t.hash,
                "" === t.href)
                    return i.href = i.format(),
                    i;
                if (t.slashes && !t.protocol) {
                    for (var a = Object.keys(t), h = 0; h < a.length; h++) {
                        var u = a[h];
                        "protocol" !== u && (i[u] = t[u])
                    }
                    return w[i.protocol] && i.hostname && !i.pathname && (i.path = i.pathname = "/"),
                    i.href = i.format(),
                    i
                }
                if (t.protocol && t.protocol !== i.protocol) {
                    if (!w[t.protocol]) {
                        for (var c = Object.keys(t), d = 0; d < c.length; d++) {
                            var p = c[d];
                            i[p] = t[p]
                        }
                        return i.href = i.format(),
                        i
                    }
                    if (i.protocol = t.protocol,
                    t.host || b[t.protocol])
                        i.pathname = t.pathname;
                    else {
                        for (var f = (t.pathname || "").split("/"); f.length && !(t.host = f.shift()); )
                            ;
                        t.host || (t.host = ""),
                        t.hostname || (t.hostname = ""),
                        "" !== f[0] && f.unshift(""),
                        f.length < 2 && f.unshift(""),
                        i.pathname = f.join("/")
                    }
                    if (i.search = t.search,
                    i.query = t.query,
                    i.host = t.host || "",
                    i.auth = t.auth,
                    i.hostname = t.hostname || t.host,
                    i.port = t.port,
                    i.pathname || i.search) {
                        var m = i.pathname || ""
                          , _ = i.search || "";
                        i.path = m + _
                    }
                    return i.slashes = i.slashes || t.slashes,
                    i.href = i.format(),
                    i
                }
                var y = i.pathname && "/" === i.pathname.charAt(0)
                  , v = t.host || t.pathname && "/" === t.pathname.charAt(0)
                  , g = v || y || i.host && t.pathname
                  , x = g
                  , T = i.pathname && i.pathname.split("/") || []
                  , f = t.pathname && t.pathname.split("/") || []
                  , A = i.protocol && !w[i.protocol];
                if (A && (i.hostname = "",
                i.port = null,
                i.host && ("" === T[0] ? T[0] = i.host : T.unshift(i.host)),
                i.host = "",
                t.protocol && (t.hostname = null,
                t.port = null,
                t.host && ("" === f[0] ? f[0] = t.host : f.unshift(t.host)),
                t.host = null),
                g = g && ("" === f[0] || "" === T[0])),
                v)
                    i.host = t.host || "" === t.host ? t.host : i.host,
                    i.hostname = t.hostname || "" === t.hostname ? t.hostname : i.hostname,
                    i.search = t.search,
                    i.query = t.query,
                    T = f;
                else if (f.length)
                    T || (T = []),
                    T.pop(),
                    T = T.concat(f),
                    i.search = t.search,
                    i.query = t.query;
                else if (!l.isNullOrUndefined(t.search)) {
                    if (A) {
                        i.hostname = i.host = T.shift();
                        var S = !!(i.host && i.host.indexOf("@") > 0) && i.host.split("@");
                        S && (i.auth = S.shift(),
                        i.host = i.hostname = S.shift())
                    }
                    return i.search = t.search,
                    i.query = t.query,
                    l.isNull(i.pathname) && l.isNull(i.search) || (i.path = (i.pathname ? i.pathname : "") + (i.search ? i.search : "")),
                    i.href = i.format(),
                    i
                }
                if (!T.length)
                    return i.pathname = null,
                    i.search ? i.path = "/" + i.search : i.path = null,
                    i.href = i.format(),
                    i;
                for (var C = T.slice(-1)[0], E = (i.host || t.host || T.length > 1) && ("." === C || ".." === C) || "" === C, P = 0, M = T.length; M >= 0; M--)
                    C = T[M],
                    "." === C ? T.splice(M, 1) : ".." === C ? (T.splice(M, 1),
                    P++) : P && (T.splice(M, 1),
                    P--);
                if (!g && !x)
                    for (; P--; P)
                        T.unshift("..");
                !g || "" === T[0] || T[0] && "/" === T[0].charAt(0) || T.unshift(""),
                E && "/" !== T.join("/").substr(-1) && T.push("");
                var O = "" === T[0] || T[0] && "/" === T[0].charAt(0);
                if (A) {
                    i.hostname = i.host = O ? "" : T.length ? T.shift() : "";
                    var S = !!(i.host && i.host.indexOf("@") > 0) && i.host.split("@");
                    S && (i.auth = S.shift(),
                    i.host = i.hostname = S.shift())
                }
                return g = g || i.host && T.length,
                g && !O && T.unshift(""),
                T.length ? i.pathname = T.join("/") : (i.pathname = null,
                i.path = null),
                l.isNull(i.pathname) && l.isNull(i.search) || (i.path = (i.pathname ? i.pathname : "") + (i.search ? i.search : "")),
                i.auth = t.auth || i.auth,
                i.slashes = i.slashes || t.slashes,
                i.href = i.format(),
                i
            }
            ,
            n.prototype.parseHost = function() {
                var t = this.host
                  , e = c.exec(t);
                e && (e = e[0],
                ":" !== e && (this.port = e.substr(1)),
                t = t.substr(0, t.length - e.length)),
                t && (this.hostname = t)
            }
        }
        , {
            "./util": 29,
            punycode: 24,
            querystring: 27
        }],
        29: [function(t, e, i) {
            "use strict";
            e.exports = {
                isString: function(t) {
                    return "string" == typeof t
                },
                isObject: function(t) {
                    return "object" == typeof t && null !== t
                },
                isNull: function(t) {
                    return null === t
                },
                isNullOrUndefined: function(t) {
                    return null == t
                }
            }
        }
        , {}],
        30: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
              , o = t("mini-signals")
              , a = n(o)
              , h = t("parse-uri")
              , l = n(h)
              , u = t("./async")
              , c = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(u)
              , d = t("./Resource")
              , p = n(d)
              , f = /(#[\w-]+)?$/
              , m = function() {
                function t() {
                    var e = this
                      , i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                      , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
                    r(this, t),
                    this.baseUrl = i,
                    this.progress = 0,
                    this.loading = !1,
                    this.defaultQueryString = "",
                    this._beforeMiddleware = [],
                    this._afterMiddleware = [],
                    this._resourcesParsing = [],
                    this._boundLoadResource = function(t, i) {
                        return e._loadResource(t, i)
                    }
                    ,
                    this._queue = c.queue(this._boundLoadResource, n),
                    this._queue.pause(),
                    this.resources = {},
                    this.onProgress = new a.default,
                    this.onError = new a.default,
                    this.onLoad = new a.default,
                    this.onStart = new a.default,
                    this.onComplete = new a.default
                }
                return t.prototype.add = function(t, e, i, n) {
                    if (Array.isArray(t)) {
                        for (var r = 0; r < t.length; ++r)
                            this.add(t[r]);
                        return this
                    }
                    if ("object" === (void 0 === t ? "undefined" : s(t)) && (n = e || t.callback || t.onComplete,
                    i = t,
                    e = t.url,
                    t = t.name || t.key || t.url),
                    "string" != typeof e && (n = i,
                    i = e,
                    e = t),
                    "string" != typeof e)
                        throw new Error("No url passed to add resource to loader.");
                    if ("function" == typeof i && (n = i,
                    i = null),
                    this.loading && (!i || !i.parentResource))
                        throw new Error("Cannot add resources while the loader is running.");
                    if (this.resources[t])
                        throw new Error('Resource named "' + t + '" already exists.');
                    if (e = this._prepareUrl(e),
                    this.resources[t] = new p.default(t,e,i),
                    "function" == typeof n && this.resources[t].onAfterMiddleware.once(n),
                    this.loading) {
                        for (var o = i.parentResource, a = [], h = 0; h < o.children.length; ++h)
                            o.children[h].isComplete || a.push(o.children[h]);
                        var l = o.progressChunk * (a.length + 1)
                          , u = l / (a.length + 2);
                        o.children.push(this.resources[t]),
                        o.progressChunk = u;
                        for (var c = 0; c < a.length; ++c)
                            a[c].progressChunk = u;
                        this.resources[t].progressChunk = u
                    }
                    return this._queue.push(this.resources[t]),
                    this
                }
                ,
                t.prototype.pre = function(t) {
                    return this._beforeMiddleware.push(t),
                    this
                }
                ,
                t.prototype.use = function(t) {
                    return this._afterMiddleware.push(t),
                    this
                }
                ,
                t.prototype.reset = function() {
                    this.progress = 0,
                    this.loading = !1,
                    this._queue.kill(),
                    this._queue.pause();
                    for (var t in this.resources) {
                        var e = this.resources[t];
                        e._onLoadBinding && e._onLoadBinding.detach(),
                        e.isLoading && e.abort()
                    }
                    return this.resources = {},
                    this
                }
                ,
                t.prototype.load = function(t) {
                    if ("function" == typeof t && this.onComplete.once(t),
                    this.loading)
                        return this;
                    for (var e = 100 / this._queue._tasks.length, i = 0; i < this._queue._tasks.length; ++i)
                        this._queue._tasks[i].data.progressChunk = e;
                    return this.loading = !0,
                    this.onStart.dispatch(this),
                    this._queue.resume(),
                    this
                }
                ,
                t.prototype._prepareUrl = function(t) {
                    var e = (0,
                    l.default)(t, {
                        strictMode: !0
                    })
                      , i = void 0;
                    if (i = e.protocol || !e.path || 0 === t.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t,
                    this.defaultQueryString) {
                        var n = f.exec(i)[0];
                        i = i.substr(0, i.length - n.length),
                        i += -1 !== i.indexOf("?") ? "&" + this.defaultQueryString : "?" + this.defaultQueryString,
                        i += n
                    }
                    return i
                }
                ,
                t.prototype._loadResource = function(t, e) {
                    var i = this;
                    t._dequeue = e,
                    c.eachSeries(this._beforeMiddleware, function(e, n) {
                        e.call(i, t, function() {
                            n(t.isComplete ? {} : null)
                        })
                    }, function() {
                        t.isComplete ? i._onLoad(t) : (t._onLoadBinding = t.onComplete.once(i._onLoad, i),
                        t.load())
                    })
                }
                ,
                t.prototype._onComplete = function() {
                    this.loading = !1,
                    this.onComplete.dispatch(this, this.resources)
                }
                ,
                t.prototype._onLoad = function(t) {
                    var e = this;
                    t._onLoadBinding = null,
                    t._dequeue(),
                    this._resourcesParsing.push(t),
                    c.eachSeries(this._afterMiddleware, function(i, n) {
                        i.call(e, t, n)
                    }, function() {
                        t.onAfterMiddleware.dispatch(t),
                        e.progress += t.progressChunk,
                        e.onProgress.dispatch(e, t),
                        t.error ? e.onError.dispatch(t.error, e, t) : e.onLoad.dispatch(e, t),
                        e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1),
                        e._queue.idle() && 0 === e._resourcesParsing.length && (e.progress = 100,
                        e._onComplete())
                    })
                }
                ,
                t
            }();
            i.default = m
        }
        , {
            "./Resource": 31,
            "./async": 32,
            "mini-signals": 36,
            "parse-uri": 37
        }],
        31: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s() {}
            function o(t, e, i) {
                e && 0 === e.indexOf(".") && (e = e.substring(1)),
                e && (t[e] = i)
            }
            function a(t) {
                return t.toString().replace("object ", "")
            }
            i.__esModule = !0;
            var h = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , l = t("parse-uri")
              , u = n(l)
              , c = t("mini-signals")
              , d = n(c)
              , p = !(!window.XDomainRequest || "withCredentials"in new XMLHttpRequest)
              , f = null
              , m = function() {
                function t(e, i, n) {
                    if (r(this, t),
                    "string" != typeof e || "string" != typeof i)
                        throw new Error("Both name and url are required for constructing a resource.");
                    n = n || {},
                    this._flags = 0,
                    this._setFlag(t.STATUS_FLAGS.DATA_URL, 0 === i.indexOf("data:")),
                    this.name = e,
                    this.url = i,
                    this.extension = this._getExtension(),
                    this.data = null,
                    this.crossOrigin = !0 === n.crossOrigin ? "anonymous" : n.crossOrigin,
                    this.loadType = n.loadType || this._determineLoadType(),
                    this.xhrType = n.xhrType,
                    this.metadata = n.metadata || {},
                    this.error = null,
                    this.xhr = null,
                    this.children = [],
                    this.type = t.TYPE.UNKNOWN,
                    this.progressChunk = 0,
                    this._dequeue = s,
                    this._onLoadBinding = null,
                    this._boundComplete = this.complete.bind(this),
                    this._boundOnError = this._onError.bind(this),
                    this._boundOnProgress = this._onProgress.bind(this),
                    this._boundXhrOnError = this._xhrOnError.bind(this),
                    this._boundXhrOnAbort = this._xhrOnAbort.bind(this),
                    this._boundXhrOnLoad = this._xhrOnLoad.bind(this),
                    this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this),
                    this.onStart = new d.default,
                    this.onProgress = new d.default,
                    this.onComplete = new d.default,
                    this.onAfterMiddleware = new d.default
                }
                return t.setExtensionLoadType = function(e, i) {
                    o(t._loadTypeMap, e, i)
                }
                ,
                t.setExtensionXhrType = function(e, i) {
                    o(t._xhrTypeMap, e, i)
                }
                ,
                t.prototype.complete = function() {
                    if (this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1),
                    this.data.removeEventListener("load", this._boundComplete, !1),
                    this.data.removeEventListener("progress", this._boundOnProgress, !1),
                    this.data.removeEventListener("canplaythrough", this._boundComplete, !1)),
                    this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1),
                    this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1),
                    this.xhr.removeEventListener("progress", this._boundOnProgress, !1),
                    this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null,
                    this.xhr.ontimeout = null,
                    this.xhr.onprogress = null,
                    this.xhr.onload = null)),
                    this.isComplete)
                        throw new Error("Complete called again for an already completed resource.");
                    this._setFlag(t.STATUS_FLAGS.COMPLETE, !0),
                    this._setFlag(t.STATUS_FLAGS.LOADING, !1),
                    this.onComplete.dispatch(this)
                }
                ,
                t.prototype.abort = function(e) {
                    if (!this.error) {
                        if (this.error = new Error(e),
                        this.xhr)
                            this.xhr.abort();
                        else if (this.xdr)
                            this.xdr.abort();
                        else if (this.data)
                            if (this.data.src)
                                this.data.src = t.EMPTY_GIF;
                            else
                                for (; this.data.firstChild; )
                                    this.data.removeChild(this.data.firstChild);
                        this.complete()
                    }
                }
                ,
                t.prototype.load = function(e) {
                    var i = this;
                    if (!this.isLoading) {
                        if (this.isComplete)
                            return void (e && setTimeout(function() {
                                return e(i)
                            }, 1));
                        switch (e && this.onComplete.once(e),
                        this._setFlag(t.STATUS_FLAGS.LOADING, !0),
                        this.onStart.dispatch(this),
                        !1 !== this.crossOrigin && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)),
                        this.loadType) {
                        case t.LOAD_TYPE.IMAGE:
                            this.type = t.TYPE.IMAGE,
                            this._loadElement("image");
                            break;
                        case t.LOAD_TYPE.AUDIO:
                            this.type = t.TYPE.AUDIO,
                            this._loadSourceElement("audio");
                            break;
                        case t.LOAD_TYPE.VIDEO:
                            this.type = t.TYPE.VIDEO,
                            this._loadSourceElement("video");
                            break;
                        case t.LOAD_TYPE.XHR:
                        default:
                            p && this.crossOrigin ? this._loadXdr() : this._loadXhr()
                        }
                    }
                }
                ,
                t.prototype._hasFlag = function(t) {
                    return !!(this._flags & t)
                }
                ,
                t.prototype._setFlag = function(t, e) {
                    this._flags = e ? this._flags | t : this._flags & ~t
                }
                ,
                t.prototype._loadElement = function(t) {
                    this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === t && void 0 !== window.Image ? this.data = new Image : this.data = document.createElement(t),
                    this.crossOrigin && (this.data.crossOrigin = this.crossOrigin),
                    this.metadata.skipSource || (this.data.src = this.url),
                    this.data.addEventListener("error", this._boundOnError, !1),
                    this.data.addEventListener("load", this._boundComplete, !1),
                    this.data.addEventListener("progress", this._boundOnProgress, !1)
                }
                ,
                t.prototype._loadSourceElement = function(t) {
                    if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === t && void 0 !== window.Audio ? this.data = new Audio : this.data = document.createElement(t),
                    null === this.data)
                        return void this.abort("Unsupported element: " + t);
                    if (!this.metadata.skipSource)
                        if (navigator.isCocoonJS)
                            this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                        else if (Array.isArray(this.url))
                            for (var e = 0; e < this.url.length; ++e)
                                this.data.appendChild(this._createSource(t, this.url[e]));
                        else
                            this.data.appendChild(this._createSource(t, this.url));
                    this.data.addEventListener("error", this._boundOnError, !1),
                    this.data.addEventListener("load", this._boundComplete, !1),
                    this.data.addEventListener("progress", this._boundOnProgress, !1),
                    this.data.addEventListener("canplaythrough", this._boundComplete, !1),
                    this.data.load()
                }
                ,
                t.prototype._loadXhr = function() {
                    "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                    var e = this.xhr = new XMLHttpRequest;
                    e.open("GET", this.url, !0),
                    this.xhrType === t.XHR_RESPONSE_TYPE.JSON || this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT ? e.responseType = t.XHR_RESPONSE_TYPE.TEXT : e.responseType = this.xhrType,
                    e.addEventListener("error", this._boundXhrOnError, !1),
                    e.addEventListener("abort", this._boundXhrOnAbort, !1),
                    e.addEventListener("progress", this._boundOnProgress, !1),
                    e.addEventListener("load", this._boundXhrOnLoad, !1),
                    e.send()
                }
                ,
                t.prototype._loadXdr = function() {
                    "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType());
                    var t = this.xhr = new XDomainRequest;
                    t.timeout = 5e3,
                    t.onerror = this._boundXhrOnError,
                    t.ontimeout = this._boundXdrOnTimeout,
                    t.onprogress = this._boundOnProgress,
                    t.onload = this._boundXhrOnLoad,
                    t.open("GET", this.url, !0),
                    setTimeout(function() {
                        return t.send()
                    }, 1)
                }
                ,
                t.prototype._createSource = function(t, e, i) {
                    i || (i = t + "/" + e.substr(e.lastIndexOf(".") + 1));
                    var n = document.createElement("source");
                    return n.src = e,
                    n.type = i,
                    n
                }
                ,
                t.prototype._onError = function(t) {
                    this.abort("Failed to load element using: " + t.target.nodeName)
                }
                ,
                t.prototype._onProgress = function(t) {
                    t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total)
                }
                ,
                t.prototype._xhrOnError = function() {
                    var t = this.xhr;
                    this.abort(a(t) + " Request failed. Status: " + t.status + ', text: "' + t.statusText + '"')
                }
                ,
                t.prototype._xhrOnAbort = function() {
                    this.abort(a(this.xhr) + " Request was aborted by the user.")
                }
                ,
                t.prototype._xdrOnTimeout = function() {
                    this.abort(a(this.xhr) + " Request timed out.")
                }
                ,
                t.prototype._xhrOnLoad = function() {
                    var e = this.xhr
                      , i = void 0 === e.status ? e.status : 200;
                    if (!(200 === i || 204 === i || 0 === i && e.responseText.length > 0))
                        return void this.abort("[" + e.status + "] " + e.statusText + ": " + e.responseURL);
                    if (this.xhrType === t.XHR_RESPONSE_TYPE.TEXT)
                        this.data = e.responseText,
                        this.type = t.TYPE.TEXT;
                    else if (this.xhrType === t.XHR_RESPONSE_TYPE.JSON)
                        try {
                            this.data = JSON.parse(e.responseText),
                            this.type = t.TYPE.JSON
                        } catch (t) {
                            return void this.abort("Error trying to parse loaded json: " + t)
                        }
                    else if (this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT)
                        try {
                            if (window.DOMParser) {
                                var n = new DOMParser;
                                this.data = n.parseFromString(e.responseText, "text/xml")
                            } else {
                                var r = document.createElement("div");
                                r.innerHTML = e.responseText,
                                this.data = r
                            }
                            this.type = t.TYPE.XML
                        } catch (t) {
                            return void this.abort("Error trying to parse loaded xml: " + t)
                        }
                    else
                        this.data = e.response || e.responseText;
                    this.complete()
                }
                ,
                t.prototype._determineCrossOrigin = function(t, e) {
                    if (0 === t.indexOf("data:"))
                        return "";
                    e = e || window.location,
                    f || (f = document.createElement("a")),
                    f.href = t,
                    t = (0,
                    u.default)(f.href, {
                        strictMode: !0
                    });
                    var i = !t.port && "" === e.port || t.port === e.port
                      , n = t.protocol ? t.protocol + ":" : "";
                    return t.host === e.hostname && i && n === e.protocol ? "" : "anonymous"
                }
                ,
                t.prototype._determineXhrType = function() {
                    return t._xhrTypeMap[this.extension] || t.XHR_RESPONSE_TYPE.TEXT
                }
                ,
                t.prototype._determineLoadType = function() {
                    return t._loadTypeMap[this.extension] || t.LOAD_TYPE.XHR
                }
                ,
                t.prototype._getExtension = function() {
                    var t = this.url
                      , e = "";
                    if (this.isDataUrl) {
                        var i = t.indexOf("/");
                        e = t.substring(i + 1, t.indexOf(";", i))
                    } else {
                        var n = t.indexOf("?");
                        -1 !== n && (t = t.substring(0, n)),
                        e = t.substring(t.lastIndexOf(".") + 1)
                    }
                    return e.toLowerCase()
                }
                ,
                t.prototype._getMimeFromXhrType = function(e) {
                    switch (e) {
                    case t.XHR_RESPONSE_TYPE.BUFFER:
                        return "application/octet-binary";
                    case t.XHR_RESPONSE_TYPE.BLOB:
                        return "application/blob";
                    case t.XHR_RESPONSE_TYPE.DOCUMENT:
                        return "application/xml";
                    case t.XHR_RESPONSE_TYPE.JSON:
                        return "application/json";
                    case t.XHR_RESPONSE_TYPE.DEFAULT:
                    case t.XHR_RESPONSE_TYPE.TEXT:
                    default:
                        return "text/plain"
                    }
                }
                ,
                h(t, [{
                    key: "isDataUrl",
                    get: function() {
                        return this._hasFlag(t.STATUS_FLAGS.DATA_URL)
                    }
                }, {
                    key: "isComplete",
                    get: function() {
                        return this._hasFlag(t.STATUS_FLAGS.COMPLETE)
                    }
                }, {
                    key: "isLoading",
                    get: function() {
                        return this._hasFlag(t.STATUS_FLAGS.LOADING)
                    }
                }]),
                t
            }();
            i.default = m,
            m.STATUS_FLAGS = {
                NONE: 0,
                DATA_URL: 1,
                COMPLETE: 2,
                LOADING: 4
            },
            m.TYPE = {
                UNKNOWN: 0,
                JSON: 1,
                XML: 2,
                IMAGE: 3,
                AUDIO: 4,
                VIDEO: 5,
                TEXT: 6
            },
            m.LOAD_TYPE = {
                XHR: 1,
                IMAGE: 2,
                AUDIO: 3,
                VIDEO: 4
            },
            m.XHR_RESPONSE_TYPE = {
                DEFAULT: "text",
                BUFFER: "arraybuffer",
                BLOB: "blob",
                DOCUMENT: "document",
                JSON: "json",
                TEXT: "text"
            },
            m._loadTypeMap = {
                gif: m.LOAD_TYPE.IMAGE,
                png: m.LOAD_TYPE.IMAGE,
                bmp: m.LOAD_TYPE.IMAGE,
                jpg: m.LOAD_TYPE.IMAGE,
                jpeg: m.LOAD_TYPE.IMAGE,
                tif: m.LOAD_TYPE.IMAGE,
                tiff: m.LOAD_TYPE.IMAGE,
                webp: m.LOAD_TYPE.IMAGE,
                tga: m.LOAD_TYPE.IMAGE,
                svg: m.LOAD_TYPE.IMAGE,
                "svg+xml": m.LOAD_TYPE.IMAGE,
                mp3: m.LOAD_TYPE.AUDIO,
                ogg: m.LOAD_TYPE.AUDIO,
                wav: m.LOAD_TYPE.AUDIO,
                mp4: m.LOAD_TYPE.VIDEO,
                webm: m.LOAD_TYPE.VIDEO
            },
            m._xhrTypeMap = {
                xhtml: m.XHR_RESPONSE_TYPE.DOCUMENT,
                html: m.XHR_RESPONSE_TYPE.DOCUMENT,
                htm: m.XHR_RESPONSE_TYPE.DOCUMENT,
                xml: m.XHR_RESPONSE_TYPE.DOCUMENT,
                tmx: m.XHR_RESPONSE_TYPE.DOCUMENT,
                svg: m.XHR_RESPONSE_TYPE.DOCUMENT,
                tsx: m.XHR_RESPONSE_TYPE.DOCUMENT,
                gif: m.XHR_RESPONSE_TYPE.BLOB,
                png: m.XHR_RESPONSE_TYPE.BLOB,
                bmp: m.XHR_RESPONSE_TYPE.BLOB,
                jpg: m.XHR_RESPONSE_TYPE.BLOB,
                jpeg: m.XHR_RESPONSE_TYPE.BLOB,
                tif: m.XHR_RESPONSE_TYPE.BLOB,
                tiff: m.XHR_RESPONSE_TYPE.BLOB,
                webp: m.XHR_RESPONSE_TYPE.BLOB,
                tga: m.XHR_RESPONSE_TYPE.BLOB,
                json: m.XHR_RESPONSE_TYPE.JSON,
                text: m.XHR_RESPONSE_TYPE.TEXT,
                txt: m.XHR_RESPONSE_TYPE.TEXT,
                ttf: m.XHR_RESPONSE_TYPE.BUFFER,
                otf: m.XHR_RESPONSE_TYPE.BUFFER
            },
            m.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="
        }
        , {
            "mini-signals": 36,
            "parse-uri": 37
        }],
        32: [function(t, e, i) {
            "use strict";
            function n() {}
            function r(t, e, i) {
                var n = 0
                  , r = t.length;
                !function s(o) {
                    return o || n === r ? void (i && i(o)) : void e(t[n++], s)
                }()
            }
            function s(t) {
                return function() {
                    if (null === t)
                        throw new Error("Callback was already called.");
                    var e = t;
                    t = null,
                    e.apply(this, arguments)
                }
            }
            function o(t, e) {
                function i(t, e, i) {
                    if (null != i && "function" != typeof i)
                        throw new Error("task callback must be a function");
                    if (a.started = !0,
                    null == t && a.idle())
                        return void setTimeout(function() {
                            return a.drain()
                        }, 1);
                    var r = {
                        data: t,
                        callback: "function" == typeof i ? i : n
                    };
                    e ? a._tasks.unshift(r) : a._tasks.push(r),
                    setTimeout(function() {
                        return a.process()
                    }, 1)
                }
                function r(t) {
                    return function() {
                        o -= 1,
                        t.callback.apply(t, arguments),
                        null != arguments[0] && a.error(arguments[0], t.data),
                        o <= a.concurrency - a.buffer && a.unsaturated(),
                        a.idle() && a.drain(),
                        a.process()
                    }
                }
                if (null == e)
                    e = 1;
                else if (0 === e)
                    throw new Error("Concurrency must not be zero");
                var o = 0
                  , a = {
                    _tasks: [],
                    concurrency: e,
                    saturated: n,
                    unsaturated: n,
                    buffer: e / 4,
                    empty: n,
                    drain: n,
                    error: n,
                    started: !1,
                    paused: !1,
                    push: function(t, e) {
                        i(t, !1, e)
                    },
                    kill: function() {
                        o = 0,
                        a.drain = n,
                        a.started = !1,
                        a._tasks = []
                    },
                    unshift: function(t, e) {
                        i(t, !0, e)
                    },
                    process: function() {
                        for (; !a.paused && o < a.concurrency && a._tasks.length; ) {
                            var e = a._tasks.shift();
                            0 === a._tasks.length && a.empty(),
                            o += 1,
                            o === a.concurrency && a.saturated(),
                            t(e.data, s(r(e)))
                        }
                    },
                    length: function() {
                        return a._tasks.length
                    },
                    running: function() {
                        return o
                    },
                    idle: function() {
                        return a._tasks.length + o === 0
                    },
                    pause: function() {
                        !0 !== a.paused && (a.paused = !0)
                    },
                    resume: function() {
                        if (!1 !== a.paused) {
                            a.paused = !1;
                            for (var t = 1; t <= a.concurrency; t++)
                                a.process()
                        }
                    }
                };
                return a
            }
            i.__esModule = !0,
            i.eachSeries = r,
            i.queue = o
        }
        , {}],
        33: [function(t, e, i) {
            "use strict";
            function n(t) {
                for (var e = "", i = 0; i < t.length; ) {
                    for (var n = [0, 0, 0], s = [0, 0, 0, 0], o = 0; o < n.length; ++o)
                        i < t.length ? n[o] = 255 & t.charCodeAt(i++) : n[o] = 0;
                    s[0] = n[0] >> 2,
                    s[1] = (3 & n[0]) << 4 | n[1] >> 4,
                    s[2] = (15 & n[1]) << 2 | n[2] >> 6,
                    s[3] = 63 & n[2];
                    switch (i - (t.length - 1)) {
                    case 2:
                        s[3] = 64,
                        s[2] = 64;
                        break;
                    case 1:
                        s[3] = 64
                    }
                    for (var a = 0; a < s.length; ++a)
                        e += r.charAt(s[a])
                }
                return e
            }
            i.__esModule = !0,
            i.encodeBinary = n;
            var r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="
        }
        , {}],
        34: [function(t, e, i) {
            "use strict";
            function n(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }
            function r(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var s = t("./Loader")
              , o = r(s)
              , a = t("./Resource")
              , h = r(a)
              , l = t("./async")
              , u = n(l)
              , c = t("./b64")
              , d = n(c);
            o.default.Resource = h.default,
            o.default.async = u,
            o.default.base64 = d,
            e.exports = o.default,
            i.default = o.default
        }
        , {
            "./Loader": 30,
            "./Resource": 31,
            "./async": 32,
            "./b64": 33
        }],
        35: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r() {
                return function(t, e) {
                    if (!t.data)
                        return void e();
                    if (t.xhr && t.xhrType === a.default.XHR_RESPONSE_TYPE.BLOB)
                        if (window.Blob && "string" != typeof t.data) {
                            if (0 === t.data.type.indexOf("image")) {
                                var i = function() {
                                    var i = u.createObjectURL(t.data);
                                    return t.blob = t.data,
                                    t.data = new Image,
                                    t.data.src = i,
                                    t.type = a.default.TYPE.IMAGE,
                                    t.data.onload = function() {
                                        u.revokeObjectURL(i),
                                        t.data.onload = null,
                                        e()
                                    }
                                    ,
                                    {
                                        v: void 0
                                    }
                                }();
                                if ("object" === (void 0 === i ? "undefined" : s(i)))
                                    return i.v
                            }
                        } else {
                            var n = t.xhr.getResponseHeader("content-type");
                            if (n && 0 === n.indexOf("image"))
                                return t.data = new Image,
                                t.data.src = "data:" + n + ";base64," + l.default.encodeBinary(t.xhr.responseText),
                                t.type = a.default.TYPE.IMAGE,
                                void (t.data.onload = function() {
                                    t.data.onload = null,
                                    e()
                                }
                                )
                        }
                    e()
                }
            }
            i.__esModule = !0;
            var s = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
            ;
            i.blobMiddlewareFactory = r;
            var o = t("../../Resource")
              , a = n(o)
              , h = t("../../b64")
              , l = n(h)
              , u = window.URL || window.webkitURL
        }
        , {
            "../../Resource": 31,
            "../../b64": 33
        }],
        36: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                return t._head ? (t._tail._next = e,
                e._prev = t._tail,
                t._tail = e) : (t._head = e,
                t._tail = e),
                e._owner = t,
                e
            }
            Object.defineProperty(i, "__esModule", {
                value: !0
            });
            var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , o = function() {
                function t(e, i, r) {
                    void 0 === i && (i = !1),
                    n(this, t),
                    this._fn = e,
                    this._once = i,
                    this._thisArg = r,
                    this._next = this._prev = this._owner = null
                }
                return s(t, [{
                    key: "detach",
                    value: function() {
                        return null !== this._owner && (this._owner.detach(this),
                        !0)
                    }
                }]),
                t
            }()
              , a = function() {
                function t() {
                    n(this, t),
                    this._head = this._tail = void 0
                }
                return s(t, [{
                    key: "handlers",
                    value: function() {
                        var t = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0]
                          , e = this._head;
                        if (t)
                            return !!e;
                        for (var i = []; e; )
                            i.push(e),
                            e = e._next;
                        return i
                    }
                }, {
                    key: "has",
                    value: function(t) {
                        if (!(t instanceof o))
                            throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");
                        return t._owner === this
                    }
                }, {
                    key: "dispatch",
                    value: function() {
                        var t = this._head;
                        if (!t)
                            return !1;
                        for (; t; )
                            t._once && this.detach(t),
                            t._fn.apply(t._thisArg, arguments),
                            t = t._next;
                        return !0
                    }
                }, {
                    key: "add",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
                        if ("function" != typeof t)
                            throw new Error("MiniSignal#add(): First arg must be a Function.");
                        return r(this, new o(t,!1,e))
                    }
                }, {
                    key: "once",
                    value: function(t) {
                        var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1];
                        if ("function" != typeof t)
                            throw new Error("MiniSignal#once(): First arg must be a Function.");
                        return r(this, new o(t,!0,e))
                    }
                }, {
                    key: "detach",
                    value: function(t) {
                        if (!(t instanceof o))
                            throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");
                        return t._owner !== this ? this : (t._prev && (t._prev._next = t._next),
                        t._next && (t._next._prev = t._prev),
                        t === this._head ? (this._head = t._next,
                        null === t._next && (this._tail = null)) : t === this._tail && (this._tail = t._prev,
                        this._tail._next = null),
                        t._owner = null,
                        this)
                    }
                }, {
                    key: "detachAll",
                    value: function() {
                        var t = this._head;
                        if (!t)
                            return this;
                        for (this._head = this._tail = null; t; )
                            t._owner = null,
                            t = t._next;
                        return this
                    }
                }]),
                t
            }();
            a.MiniSignalBinding = o,
            i.default = a,
            e.exports = i.default
        }
        , {}],
        37: [function(t, e, i) {
            "use strict";
            e.exports = function(t, e) {
                e = e || {};
                for (var i = {
                    key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"],
                    q: {
                        name: "queryKey",
                        parser: /(?:^|&)([^&=]*)=?([^&]*)/g
                    },
                    parser: {
                        strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
                        loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/
                    }
                }, n = i.parser[e.strictMode ? "strict" : "loose"].exec(t), r = {}, s = 14; s--; )
                    r[i.key[s]] = n[s] || "";
                return r[i.q.name] = {},
                r[i.key[12]].replace(i.q.parser, function(t, e, n) {
                    e && (r[i.q.name][e] = n)
                }),
                r
            }
        }
        , {}],
        38: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var s = t("../core")
              , o = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(s)
              , a = t("ismobilejs")
              , h = n(a)
              , l = t("./accessibleTarget")
              , u = n(l);
            o.utils.mixins.delayMixin(o.DisplayObject.prototype, u.default);
            var c = 100
              , d = 0
              , p = 0
              , f = 2
              , m = function() {
                function t(e) {
                    r(this, t),
                    !h.default.tablet && !h.default.phone || navigator.isCocoonJS || this.createTouchHook();
                    var i = document.createElement("div");
                    i.style.width = c + "px",
                    i.style.height = c + "px",
                    i.style.position = "absolute",
                    i.style.top = d + "px",
                    i.style.left = p + "px",
                    i.style.zIndex = f,
                    this.div = i,
                    this.pool = [],
                    this.renderId = 0,
                    this.debug = !1,
                    this.renderer = e,
                    this.children = [],
                    this._onKeyDown = this._onKeyDown.bind(this),
                    this._onMouseMove = this._onMouseMove.bind(this),
                    this.isActive = !1,
                    this.isMobileAccessabillity = !1,
                    window.addEventListener("keydown", this._onKeyDown, !1)
                }
                return t.prototype.createTouchHook = function() {
                    var t = this
                      , e = document.createElement("button");
                    e.style.width = "1px",
                    e.style.height = "1px",
                    e.style.position = "absolute",
                    e.style.top = "-1000px",
                    e.style.left = "-1000px",
                    e.style.zIndex = 2,
                    e.style.backgroundColor = "#FF0000",
                    e.title = "HOOK DIV",
                    e.addEventListener("focus", function() {
                        t.isMobileAccessabillity = !0,
                        t.activate(),
                        document.body.removeChild(e)
                    }),
                    document.body.appendChild(e)
                }
                ,
                t.prototype.activate = function() {
                    this.isActive || (this.isActive = !0,
                    window.document.addEventListener("mousemove", this._onMouseMove, !0),
                    window.removeEventListener("keydown", this._onKeyDown, !1),
                    this.renderer.on("postrender", this.update, this),
                    this.renderer.view.parentNode && this.renderer.view.parentNode.appendChild(this.div))
                }
                ,
                t.prototype.deactivate = function() {
                    this.isActive && !this.isMobileAccessabillity && (this.isActive = !1,
                    window.document.removeEventListener("mousemove", this._onMouseMove),
                    window.addEventListener("keydown", this._onKeyDown, !1),
                    this.renderer.off("postrender", this.update),
                    this.div.parentNode && this.div.parentNode.removeChild(this.div))
                }
                ,
                t.prototype.updateAccessibleObjects = function(t) {
                    if (t.visible) {
                        t.accessible && t.interactive && (t._accessibleActive || this.addChild(t),
                        t.renderId = this.renderId);
                        for (var e = t.children, i = e.length - 1; i >= 0; i--)
                            this.updateAccessibleObjects(e[i])
                    }
                }
                ,
                t.prototype.update = function() {
                    if (this.renderer.renderingToScreen) {
                        this.updateAccessibleObjects(this.renderer._lastObjectRendered);
                        var t = this.renderer.view.getBoundingClientRect()
                          , e = t.width / this.renderer.width
                          , i = t.height / this.renderer.height
                          , n = this.div;
                        n.style.left = t.left + "px",
                        n.style.top = t.top + "px",
                        n.style.width = this.renderer.width + "px",
                        n.style.height = this.renderer.height + "px";
                        for (var r = 0; r < this.children.length; r++) {
                            var s = this.children[r];
                            if (s.renderId !== this.renderId)
                                s._accessibleActive = !1,
                                o.utils.removeItems(this.children, r, 1),
                                this.div.removeChild(s._accessibleDiv),
                                this.pool.push(s._accessibleDiv),
                                s._accessibleDiv = null,
                                r--,
                                0 === this.children.length && this.deactivate();
                            else {
                                n = s._accessibleDiv;
                                var a = s.hitArea
                                  , h = s.worldTransform;
                                s.hitArea ? (n.style.left = (h.tx + a.x * h.a) * e + "px",
                                n.style.top = (h.ty + a.y * h.d) * i + "px",
                                n.style.width = a.width * h.a * e + "px",
                                n.style.height = a.height * h.d * i + "px") : (a = s.getBounds(),
                                this.capHitArea(a),
                                n.style.left = a.x * e + "px",
                                n.style.top = a.y * i + "px",
                                n.style.width = a.width * e + "px",
                                n.style.height = a.height * i + "px")
                            }
                        }
                        this.renderId++
                    }
                }
                ,
                t.prototype.capHitArea = function(t) {
                    t.x < 0 && (t.width += t.x,
                    t.x = 0),
                    t.y < 0 && (t.height += t.y,
                    t.y = 0),
                    t.x + t.width > this.renderer.width && (t.width = this.renderer.width - t.x),
                    t.y + t.height > this.renderer.height && (t.height = this.renderer.height - t.y)
                }
                ,
                t.prototype.addChild = function(t) {
                    var e = this.pool.pop();
                    e || (e = document.createElement("button"),
                    e.style.width = c + "px",
                    e.style.height = c + "px",
                    e.style.backgroundColor = this.debug ? "rgba(255,0,0,0.5)" : "transparent",
                    e.style.position = "absolute",
                    e.style.zIndex = f,
                    e.style.borderStyle = "none",
                    e.addEventListener("click", this._onClick.bind(this)),
                    e.addEventListener("focus", this._onFocus.bind(this)),
                    e.addEventListener("focusout", this._onFocusOut.bind(this))),
                    t.accessibleTitle ? e.title = t.accessibleTitle : t.accessibleTitle || t.accessibleHint || (e.title = "displayObject " + this.tabIndex),
                    t.accessibleHint && e.setAttribute("aria-label", t.accessibleHint),
                    t._accessibleActive = !0,
                    t._accessibleDiv = e,
                    e.displayObject = t,
                    this.children.push(t),
                    this.div.appendChild(t._accessibleDiv),
                    t._accessibleDiv.tabIndex = t.tabIndex
                }
                ,
                t.prototype._onClick = function(t) {
                    var e = this.renderer.plugins.interaction;
                    e.dispatchEvent(t.target.displayObject, "click", e.eventData)
                }
                ,
                t.prototype._onFocus = function(t) {
                    var e = this.renderer.plugins.interaction;
                    e.dispatchEvent(t.target.displayObject, "mouseover", e.eventData)
                }
                ,
                t.prototype._onFocusOut = function(t) {
                    var e = this.renderer.plugins.interaction;
                    e.dispatchEvent(t.target.displayObject, "mouseout", e.eventData)
                }
                ,
                t.prototype._onKeyDown = function(t) {
                    9 === t.keyCode && this.activate()
                }
                ,
                t.prototype._onMouseMove = function() {
                    this.deactivate()
                }
                ,
                t.prototype.destroy = function() {
                    this.div = null;
                    for (var t = 0; t < this.children.length; t++)
                        this.children[t].div = null;
                    window.document.removeEventListener("mousemove", this._onMouseMove),
                    window.removeEventListener("keydown", this._onKeyDown),
                    this.pool = null,
                    this.children = null,
                    this.renderer = null
                }
                ,
                t
            }();
            i.default = m,
            o.WebGLRenderer.registerPlugin("accessibility", m),
            o.CanvasRenderer.registerPlugin("accessibility", m)
        }
        , {
            "../core": 63,
            "./accessibleTarget": 39,
            ismobilejs: 4
        }],
        39: [function(t, e, i) {
            "use strict";
            i.__esModule = !0,
            i.default = {
                accessible: !1,
                accessibleTitle: null,
                accessibleHint: null,
                tabIndex: 0,
                _accessibleActive: !1,
                _accessibleDiv: !1
            }
        }
        , {}],
        40: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./accessibleTarget");
            Object.defineProperty(i, "accessibleTarget", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./AccessibilityManager");
            Object.defineProperty(i, "AccessibilityManager", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            })
        }
        , {
            "./AccessibilityManager": 38,
            "./accessibleTarget": 39
        }],
        41: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , o = t("./autoDetectRenderer")
              , a = t("./display/Container")
              , h = n(a)
              , l = t("./ticker")
              , u = t("./settings")
              , c = n(u)
              , d = t("./const")
              , p = function() {
                function t(e, i, n, s, a) {
                    r(this, t),
                    "number" == typeof e && (e = Object.assign({
                        width: e,
                        height: i || c.default.RENDER_OPTIONS.height,
                        forceCanvas: !!s,
                        sharedTicker: !!a
                    }, n)),
                    this._options = e = Object.assign({
                        sharedTicker: !1,
                        forceCanvas: !1,
                        sharedLoader: !1
                    }, e),
                    this.renderer = (0,
                    o.autoDetectRenderer)(e),
                    this.stage = new h.default,
                    this._ticker = null,
                    this.ticker = e.sharedTicker ? l.shared : new l.Ticker,
                    this.start()
                }
                return t.prototype.render = function() {
                    this.renderer.render(this.stage)
                }
                ,
                t.prototype.stop = function() {
                    this._ticker.stop()
                }
                ,
                t.prototype.start = function() {
                    this._ticker.start()
                }
                ,
                t.prototype.destroy = function(t) {
                    var e = this._ticker;
                    this.ticker = null,
                    e.destroy(),
                    this.stage.destroy(),
                    this.stage = null,
                    this.renderer.destroy(t),
                    this.renderer = null,
                    this._options = null
                }
                ,
                s(t, [{
                    key: "ticker",
                    set: function(t) {
                        this._ticker && this._ticker.remove(this.render, this),
                        this._ticker = t,
                        t && t.add(this.render, this, d.UPDATE_PRIORITY.LOW)
                    },
                    get: function() {
                        return this._ticker
                    }
                }, {
                    key: "view",
                    get: function() {
                        return this.renderer.view
                    }
                }, {
                    key: "screen",
                    get: function() {
                        return this.renderer.screen
                    }
                }]),
                t
            }();
            i.default = p
        }
        , {
            "./autoDetectRenderer": 43,
            "./const": 44,
            "./display/Container": 46,
            "./settings": 99,
            "./ticker": 118
        }],
        42: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function o(t, e) {
                if (t instanceof Array) {
                    if ("precision" !== t[0].substring(0, 9)) {
                        var i = t.slice(0);
                        return i.unshift("precision " + e + " float;"),
                        i
                    }
                } else if ("precision" !== t.substring(0, 9))
                    return "precision " + e + " float;\n" + t;
                return t
            }
            i.__esModule = !0;
            var a = t("pixi-gl-core")
              , h = t("./settings")
              , l = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(h)
              , u = function(t) {
                function e(i, s, a) {
                    return n(this, e),
                    r(this, t.call(this, i, o(s, l.default.PRECISION_VERTEX), o(a, l.default.PRECISION_FRAGMENT)))
                }
                return s(e, t),
                e
            }(a.GLShader);
            i.default = u
        }
        , {
            "./settings": 99,
            "pixi-gl-core": 12
        }],
        43: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e, i, n) {
                var r = t && t.forceCanvas;
                return void 0 !== n && (r = n),
                !r && o.isWebGLSupported() ? new u.default(t,e,i) : new h.default(t,e,i)
            }
            i.__esModule = !0,
            i.autoDetectRenderer = r;
            var s = t("./utils")
              , o = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(s)
              , a = t("./renderers/canvas/CanvasRenderer")
              , h = n(a)
              , l = t("./renderers/webgl/WebGLRenderer")
              , u = n(l)
        }
        , {
            "./renderers/canvas/CanvasRenderer": 75,
            "./renderers/webgl/WebGLRenderer": 82,
            "./utils": 122
        }],
        44: [function(t, e, i) {
            "use strict";
            i.__esModule = !0,
            i.VERSION = "4.5.1",
            i.PI_2 = 2 * Math.PI,
            i.RAD_TO_DEG = 180 / Math.PI,
            i.DEG_TO_RAD = Math.PI / 180,
            i.RENDERER_TYPE = {
                UNKNOWN: 0,
                WEBGL: 1,
                CANVAS: 2
            },
            i.BLEND_MODES = {
                NORMAL: 0,
                ADD: 1,
                MULTIPLY: 2,
                SCREEN: 3,
                OVERLAY: 4,
                DARKEN: 5,
                LIGHTEN: 6,
                COLOR_DODGE: 7,
                COLOR_BURN: 8,
                HARD_LIGHT: 9,
                SOFT_LIGHT: 10,
                DIFFERENCE: 11,
                EXCLUSION: 12,
                HUE: 13,
                SATURATION: 14,
                COLOR: 15,
                LUMINOSITY: 16
            },
            i.DRAW_MODES = {
                POINTS: 0,
                LINES: 1,
                LINE_LOOP: 2,
                LINE_STRIP: 3,
                TRIANGLES: 4,
                TRIANGLE_STRIP: 5,
                TRIANGLE_FAN: 6
            },
            i.SCALE_MODES = {
                LINEAR: 0,
                NEAREST: 1
            },
            i.WRAP_MODES = {
                CLAMP: 0,
                REPEAT: 1,
                MIRRORED_REPEAT: 2
            },
            i.GC_MODES = {
                AUTO: 0,
                MANUAL: 1
            },
            i.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i,
            i.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,
            i.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,
            i.SHAPES = {
                POLY: 0,
                RECT: 1,
                CIRC: 2,
                ELIP: 3,
                RREC: 4
            },
            i.PRECISION = {
                LOW: "lowp",
                MEDIUM: "mediump",
                HIGH: "highp"
            },
            i.TRANSFORM_MODE = {
                STATIC: 0,
                DYNAMIC: 1
            },
            i.TEXT_GRADIENT = {
                LINEAR_VERTICAL: 0,
                LINEAR_HORIZONTAL: 1
            },
            i.UPDATE_PRIORITY = {
                INTERACTION: 50,
                HIGH: 25,
                NORMAL: 0,
                LOW: -25,
                UTILITY: -50
            }
        }
        , {}],
        45: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../math")
              , s = function() {
                function t() {
                    n(this, t),
                    this.minX = 1 / 0,
                    this.minY = 1 / 0,
                    this.maxX = -1 / 0,
                    this.maxY = -1 / 0,
                    this.rect = null
                }
                return t.prototype.isEmpty = function() {
                    return this.minX > this.maxX || this.minY > this.maxY
                }
                ,
                t.prototype.clear = function() {
                    this.updateID++,
                    this.minX = 1 / 0,
                    this.minY = 1 / 0,
                    this.maxX = -1 / 0,
                    this.maxY = -1 / 0
                }
                ,
                t.prototype.getRectangle = function(t) {
                    return this.minX > this.maxX || this.minY > this.maxY ? r.Rectangle.EMPTY : (t = t || new r.Rectangle(0,0,1,1),
                    t.x = this.minX,
                    t.y = this.minY,
                    t.width = this.maxX - this.minX,
                    t.height = this.maxY - this.minY,
                    t)
                }
                ,
                t.prototype.addPoint = function(t) {
                    this.minX = Math.min(this.minX, t.x),
                    this.maxX = Math.max(this.maxX, t.x),
                    this.minY = Math.min(this.minY, t.y),
                    this.maxY = Math.max(this.maxY, t.y)
                }
                ,
                t.prototype.addQuad = function(t) {
                    var e = this.minX
                      , i = this.minY
                      , n = this.maxX
                      , r = this.maxY
                      , s = t[0]
                      , o = t[1];
                    e = s < e ? s : e,
                    i = o < i ? o : i,
                    n = s > n ? s : n,
                    r = o > r ? o : r,
                    s = t[2],
                    o = t[3],
                    e = s < e ? s : e,
                    i = o < i ? o : i,
                    n = s > n ? s : n,
                    r = o > r ? o : r,
                    s = t[4],
                    o = t[5],
                    e = s < e ? s : e,
                    i = o < i ? o : i,
                    n = s > n ? s : n,
                    r = o > r ? o : r,
                    s = t[6],
                    o = t[7],
                    e = s < e ? s : e,
                    i = o < i ? o : i,
                    n = s > n ? s : n,
                    r = o > r ? o : r,
                    this.minX = e,
                    this.minY = i,
                    this.maxX = n,
                    this.maxY = r
                }
                ,
                t.prototype.addFrame = function(t, e, i, n, r) {
                    var s = t.worldTransform
                      , o = s.a
                      , a = s.b
                      , h = s.c
                      , l = s.d
                      , u = s.tx
                      , c = s.ty
                      , d = this.minX
                      , p = this.minY
                      , f = this.maxX
                      , m = this.maxY
                      , _ = o * e + h * i + u
                      , y = a * e + l * i + c;
                    d = _ < d ? _ : d,
                    p = y < p ? y : p,
                    f = _ > f ? _ : f,
                    m = y > m ? y : m,
                    _ = o * n + h * i + u,
                    y = a * n + l * i + c,
                    d = _ < d ? _ : d,
                    p = y < p ? y : p,
                    f = _ > f ? _ : f,
                    m = y > m ? y : m,
                    _ = o * e + h * r + u,
                    y = a * e + l * r + c,
                    d = _ < d ? _ : d,
                    p = y < p ? y : p,
                    f = _ > f ? _ : f,
                    m = y > m ? y : m,
                    _ = o * n + h * r + u,
                    y = a * n + l * r + c,
                    d = _ < d ? _ : d,
                    p = y < p ? y : p,
                    f = _ > f ? _ : f,
                    m = y > m ? y : m,
                    this.minX = d,
                    this.minY = p,
                    this.maxX = f,
                    this.maxY = m
                }
                ,
                t.prototype.addVertices = function(t, e, i, n) {
                    for (var r = t.worldTransform, s = r.a, o = r.b, a = r.c, h = r.d, l = r.tx, u = r.ty, c = this.minX, d = this.minY, p = this.maxX, f = this.maxY, m = i; m < n; m += 2) {
                        var _ = e[m]
                          , y = e[m + 1]
                          , v = s * _ + a * y + l
                          , g = h * y + o * _ + u;
                        c = v < c ? v : c,
                        d = g < d ? g : d,
                        p = v > p ? v : p,
                        f = g > f ? g : f
                    }
                    this.minX = c,
                    this.minY = d,
                    this.maxX = p,
                    this.maxY = f
                }
                ,
                t.prototype.addBounds = function(t) {
                    var e = this.minX
                      , i = this.minY
                      , n = this.maxX
                      , r = this.maxY;
                    this.minX = t.minX < e ? t.minX : e,
                    this.minY = t.minY < i ? t.minY : i,
                    this.maxX = t.maxX > n ? t.maxX : n,
                    this.maxY = t.maxY > r ? t.maxY : r
                }
                ,
                t.prototype.addBoundsMask = function(t, e) {
                    var i = t.minX > e.minX ? t.minX : e.minX
                      , n = t.minY > e.minY ? t.minY : e.minY
                      , r = t.maxX < e.maxX ? t.maxX : e.maxX
                      , s = t.maxY < e.maxY ? t.maxY : e.maxY;
                    if (i <= r && n <= s) {
                        var o = this.minX
                          , a = this.minY
                          , h = this.maxX
                          , l = this.maxY;
                        this.minX = i < o ? i : o,
                        this.minY = n < a ? n : a,
                        this.maxX = r > h ? r : h,
                        this.maxY = s > l ? s : l
                    }
                }
                ,
                t.prototype.addBoundsArea = function(t, e) {
                    var i = t.minX > e.x ? t.minX : e.x
                      , n = t.minY > e.y ? t.minY : e.y
                      , r = t.maxX < e.x + e.width ? t.maxX : e.x + e.width
                      , s = t.maxY < e.y + e.height ? t.maxY : e.y + e.height;
                    if (i <= r && n <= s) {
                        var o = this.minX
                          , a = this.minY
                          , h = this.maxX
                          , l = this.maxY;
                        this.minX = i < o ? i : o,
                        this.minY = n < a ? n : a,
                        this.maxX = r > h ? r : h,
                        this.maxY = s > l ? s : l
                    }
                }
                ,
                t
            }();
            i.default = s
        }
        , {
            "../math": 68
        }],
        46: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../utils")
              , h = t("./DisplayObject")
              , l = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(h)
              , u = function(t) {
                function e() {
                    n(this, e);
                    var i = r(this, t.call(this));
                    return i.children = [],
                    i
                }
                return s(e, t),
                e.prototype.onChildrenChange = function() {}
                ,
                e.prototype.addChild = function(t) {
                    var e = arguments.length;
                    if (e > 1)
                        for (var i = 0; i < e; i++)
                            this.addChild(arguments[i]);
                    else
                        t.parent && t.parent.removeChild(t),
                        t.parent = this,
                        t.transform._parentID = -1,
                        this.children.push(t),
                        this._boundsID++,
                        this.onChildrenChange(this.children.length - 1),
                        t.emit("added", this);
                    return t
                }
                ,
                e.prototype.addChildAt = function(t, e) {
                    if (e < 0 || e > this.children.length)
                        throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length);
                    return t.parent && t.parent.removeChild(t),
                    t.parent = this,
                    t.transform._parentID = -1,
                    this.children.splice(e, 0, t),
                    this._boundsID++,
                    this.onChildrenChange(e),
                    t.emit("added", this),
                    t
                }
                ,
                e.prototype.swapChildren = function(t, e) {
                    if (t !== e) {
                        var i = this.getChildIndex(t)
                          , n = this.getChildIndex(e);
                        this.children[i] = e,
                        this.children[n] = t,
                        this.onChildrenChange(i < n ? i : n)
                    }
                }
                ,
                e.prototype.getChildIndex = function(t) {
                    var e = this.children.indexOf(t);
                    if (-1 === e)
                        throw new Error("The supplied DisplayObject must be a child of the caller");
                    return e
                }
                ,
                e.prototype.setChildIndex = function(t, e) {
                    if (e < 0 || e >= this.children.length)
                        throw new Error("The supplied index is out of bounds");
                    var i = this.getChildIndex(t);
                    (0,
                    a.removeItems)(this.children, i, 1),
                    this.children.splice(e, 0, t),
                    this.onChildrenChange(e)
                }
                ,
                e.prototype.getChildAt = function(t) {
                    if (t < 0 || t >= this.children.length)
                        throw new Error("getChildAt: Index (" + t + ") does not exist.");
                    return this.children[t]
                }
                ,
                e.prototype.removeChild = function(t) {
                    var e = arguments.length;
                    if (e > 1)
                        for (var i = 0; i < e; i++)
                            this.removeChild(arguments[i]);
                    else {
                        var n = this.children.indexOf(t);
                        if (-1 === n)
                            return null;
                        t.parent = null,
                        t.transform._parentID = -1,
                        (0,
                        a.removeItems)(this.children, n, 1),
                        this._boundsID++,
                        this.onChildrenChange(n),
                        t.emit("removed", this)
                    }
                    return t
                }
                ,
                e.prototype.removeChildAt = function(t) {
                    var e = this.getChildAt(t);
                    return e.parent = null,
                    e.transform._parentID = -1,
                    (0,
                    a.removeItems)(this.children, t, 1),
                    this._boundsID++,
                    this.onChildrenChange(t),
                    e.emit("removed", this),
                    e
                }
                ,
                e.prototype.removeChildren = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , e = arguments[1]
                      , i = t
                      , n = "number" == typeof e ? e : this.children.length
                      , r = n - i
                      , s = void 0;
                    if (r > 0 && r <= n) {
                        s = this.children.splice(i, r);
                        for (var o = 0; o < s.length; ++o)
                            s[o].parent = null,
                            s[o].transform && (s[o].transform._parentID = -1);
                        this._boundsID++,
                        this.onChildrenChange(t);
                        for (var a = 0; a < s.length; ++a)
                            s[a].emit("removed", this);
                        return s
                    }
                    if (0 === r && 0 === this.children.length)
                        return [];
                    throw new RangeError("removeChildren: numeric values are outside the acceptable range.")
                }
                ,
                e.prototype.updateTransform = function() {
                    this._boundsID++,
                    this.transform.updateTransform(this.parent.transform),
                    this.worldAlpha = this.alpha * this.parent.worldAlpha;
                    for (var t = 0, e = this.children.length; t < e; ++t) {
                        var i = this.children[t];
                        i.visible && i.updateTransform()
                    }
                }
                ,
                e.prototype.calculateBounds = function() {
                    this._bounds.clear(),
                    this._calculateBounds();
                    for (var t = 0; t < this.children.length; t++) {
                        var e = this.children[t];
                        e.visible && e.renderable && (e.calculateBounds(),
                        e._mask ? (e._mask.calculateBounds(),
                        this._bounds.addBoundsMask(e._bounds, e._mask._bounds)) : e.filterArea ? this._bounds.addBoundsArea(e._bounds, e.filterArea) : this._bounds.addBounds(e._bounds))
                    }
                    this._lastBoundsID = this._boundsID
                }
                ,
                e.prototype._calculateBounds = function() {}
                ,
                e.prototype.renderWebGL = function(t) {
                    if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                        if (this._mask || this._filters)
                            this.renderAdvancedWebGL(t);
                        else {
                            this._renderWebGL(t);
                            for (var e = 0, i = this.children.length; e < i; ++e)
                                this.children[e].renderWebGL(t)
                        }
                }
                ,
                e.prototype.renderAdvancedWebGL = function(t) {
                    t.flush();
                    var e = this._filters
                      , i = this._mask;
                    if (e) {
                        this._enabledFilters || (this._enabledFilters = []),
                        this._enabledFilters.length = 0;
                        for (var n = 0; n < e.length; n++)
                            e[n].enabled && this._enabledFilters.push(e[n]);
                        this._enabledFilters.length && t.filterManager.pushFilter(this, this._enabledFilters)
                    }
                    i && t.maskManager.pushMask(this, this._mask),
                    this._renderWebGL(t);
                    for (var r = 0, s = this.children.length; r < s; r++)
                        this.children[r].renderWebGL(t);
                    t.flush(),
                    i && t.maskManager.popMask(this, this._mask),
                    e && this._enabledFilters && this._enabledFilters.length && t.filterManager.popFilter()
                }
                ,
                e.prototype._renderWebGL = function(t) {}
                ,
                e.prototype._renderCanvas = function(t) {}
                ,
                e.prototype.renderCanvas = function(t) {
                    if (this.visible && !(this.worldAlpha <= 0) && this.renderable) {
                        this._mask && t.maskManager.pushMask(this._mask),
                        this._renderCanvas(t);
                        for (var e = 0, i = this.children.length; e < i; ++e)
                            this.children[e].renderCanvas(t);
                        this._mask && t.maskManager.popMask(t)
                    }
                }
                ,
                e.prototype.destroy = function(e) {
                    t.prototype.destroy.call(this);
                    var i = "boolean" == typeof e ? e : e && e.children
                      , n = this.removeChildren(0, this.children.length);
                    if (i)
                        for (var r = 0; r < n.length; ++r)
                            n[r].destroy(e)
                }
                ,
                o(e, [{
                    key: "width",
                    get: function() {
                        return this.scale.x * this.getLocalBounds().width
                    },
                    set: function(t) {
                        var e = this.getLocalBounds().width;
                        this.scale.x = 0 !== e ? t / e : 1,
                        this._width = t
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this.scale.y * this.getLocalBounds().height
                    },
                    set: function(t) {
                        var e = this.getLocalBounds().height;
                        this.scale.y = 0 !== e ? t / e : 1,
                        this._height = t
                    }
                }]),
                e
            }(l.default);
            i.default = u,
            u.prototype.containerUpdateTransform = u.prototype.updateTransform
        }
        , {
            "../utils": 122,
            "./DisplayObject": 47
        }],
        47: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("eventemitter3")
              , l = n(h)
              , u = t("../const")
              , c = t("../settings")
              , d = n(c)
              , p = t("./TransformStatic")
              , f = n(p)
              , m = t("./Transform")
              , _ = n(m)
              , y = t("./Bounds")
              , v = n(y)
              , g = t("../math")
              , x = function(t) {
                function e() {
                    r(this, e);
                    var i = s(this, t.call(this))
                      , n = d.default.TRANSFORM_MODE === u.TRANSFORM_MODE.STATIC ? f.default : _.default;
                    return i.tempDisplayObjectParent = null,
                    i.transform = new n,
                    i.alpha = 1,
                    i.visible = !0,
                    i.renderable = !0,
                    i.parent = null,
                    i.worldAlpha = 1,
                    i.filterArea = null,
                    i._filters = null,
                    i._enabledFilters = null,
                    i._bounds = new v.default,
                    i._boundsID = 0,
                    i._lastBoundsID = -1,
                    i._boundsRect = null,
                    i._localBoundsRect = null,
                    i._mask = null,
                    i._destroyed = !1,
                    i
                }
                return o(e, t),
                e.prototype.updateTransform = function() {
                    this.transform.updateTransform(this.parent.transform),
                    this.worldAlpha = this.alpha * this.parent.worldAlpha,
                    this._bounds.updateID++
                }
                ,
                e.prototype._recursivePostUpdateTransform = function() {
                    this.parent ? (this.parent._recursivePostUpdateTransform(),
                    this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform)
                }
                ,
                e.prototype.getBounds = function(t, e) {
                    return t || (this.parent ? (this._recursivePostUpdateTransform(),
                    this.updateTransform()) : (this.parent = this._tempDisplayObjectParent,
                    this.updateTransform(),
                    this.parent = null)),
                    this._boundsID !== this._lastBoundsID && this.calculateBounds(),
                    e || (this._boundsRect || (this._boundsRect = new g.Rectangle),
                    e = this._boundsRect),
                    this._bounds.getRectangle(e)
                }
                ,
                e.prototype.getLocalBounds = function(t) {
                    var e = this.transform
                      , i = this.parent;
                    this.parent = null,
                    this.transform = this._tempDisplayObjectParent.transform,
                    t || (this._localBoundsRect || (this._localBoundsRect = new g.Rectangle),
                    t = this._localBoundsRect);
                    var n = this.getBounds(!1, t);
                    return this.parent = i,
                    this.transform = e,
                    n
                }
                ,
                e.prototype.toGlobal = function(t, e) {
                    return arguments.length > 2 && void 0 !== arguments[2] && arguments[2] || (this._recursivePostUpdateTransform(),
                    this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent,
                    this.displayObjectUpdateTransform(),
                    this.parent = null)),
                    this.worldTransform.apply(t, e)
                }
                ,
                e.prototype.toLocal = function(t, e, i, n) {
                    return e && (t = e.toGlobal(t, i, n)),
                    n || (this._recursivePostUpdateTransform(),
                    this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent,
                    this.displayObjectUpdateTransform(),
                    this.parent = null)),
                    this.worldTransform.applyInverse(t, i)
                }
                ,
                e.prototype.renderWebGL = function(t) {}
                ,
                e.prototype.renderCanvas = function(t) {}
                ,
                e.prototype.setParent = function(t) {
                    if (!t || !t.addChild)
                        throw new Error("setParent: Argument must be a Container");
                    return t.addChild(this),
                    t
                }
                ,
                e.prototype.setTransform = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1
                      , n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                      , r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0
                      , s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0
                      , o = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0
                      , a = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0
                      , h = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0;
                    return this.position.x = t,
                    this.position.y = e,
                    this.scale.x = i || 1,
                    this.scale.y = n || 1,
                    this.rotation = r,
                    this.skew.x = s,
                    this.skew.y = o,
                    this.pivot.x = a,
                    this.pivot.y = h,
                    this
                }
                ,
                e.prototype.destroy = function() {
                    this.removeAllListeners(),
                    this.parent && this.parent.removeChild(this),
                    this.transform = null,
                    this.parent = null,
                    this._bounds = null,
                    this._currentBounds = null,
                    this._mask = null,
                    this.filterArea = null,
                    this.interactive = !1,
                    this.interactiveChildren = !1,
                    this._destroyed = !0
                }
                ,
                a(e, [{
                    key: "_tempDisplayObjectParent",
                    get: function() {
                        return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new e),
                        this.tempDisplayObjectParent
                    }
                }, {
                    key: "x",
                    get: function() {
                        return this.position.x
                    },
                    set: function(t) {
                        this.transform.position.x = t
                    }
                }, {
                    key: "y",
                    get: function() {
                        return this.position.y
                    },
                    set: function(t) {
                        this.transform.position.y = t
                    }
                }, {
                    key: "worldTransform",
                    get: function() {
                        return this.transform.worldTransform
                    }
                }, {
                    key: "localTransform",
                    get: function() {
                        return this.transform.localTransform
                    }
                }, {
                    key: "position",
                    get: function() {
                        return this.transform.position
                    },
                    set: function(t) {
                        this.transform.position.copy(t)
                    }
                }, {
                    key: "scale",
                    get: function() {
                        return this.transform.scale
                    },
                    set: function(t) {
                        this.transform.scale.copy(t)
                    }
                }, {
                    key: "pivot",
                    get: function() {
                        return this.transform.pivot
                    },
                    set: function(t) {
                        this.transform.pivot.copy(t)
                    }
                }, {
                    key: "skew",
                    get: function() {
                        return this.transform.skew
                    },
                    set: function(t) {
                        this.transform.skew.copy(t)
                    }
                }, {
                    key: "rotation",
                    get: function() {
                        return this.transform.rotation
                    },
                    set: function(t) {
                        this.transform.rotation = t
                    }
                }, {
                    key: "worldVisible",
                    get: function() {
                        var t = this;
                        do {
                            if (!t.visible)
                                return !1;
                            t = t.parent
                        } while (t);return !0
                    }
                }, {
                    key: "mask",
                    get: function() {
                        return this._mask
                    },
                    set: function(t) {
                        this._mask && (this._mask.renderable = !0),
                        this._mask = t,
                        this._mask && (this._mask.renderable = !1)
                    }
                }, {
                    key: "filters",
                    get: function() {
                        return this._filters && this._filters.slice()
                    },
                    set: function(t) {
                        this._filters = t && t.slice()
                    }
                }]),
                e
            }(l.default);
            i.default = x,
            x.prototype.displayObjectUpdateTransform = x.prototype.updateTransform
        }
        , {
            "../const": 44,
            "../math": 68,
            "../settings": 99,
            "./Bounds": 45,
            "./Transform": 48,
            "./TransformStatic": 50,
            eventemitter3: 3
        }],
        48: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../math")
              , h = t("./TransformBase")
              , l = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(h)
              , u = function(t) {
                function e() {
                    n(this, e);
                    var i = r(this, t.call(this));
                    return i.position = new a.Point(0,0),
                    i.scale = new a.Point(1,1),
                    i.skew = new a.ObservablePoint(i.updateSkew,i,0,0),
                    i.pivot = new a.Point(0,0),
                    i._rotation = 0,
                    i._cx = 1,
                    i._sx = 0,
                    i._cy = 0,
                    i._sy = 1,
                    i
                }
                return s(e, t),
                e.prototype.updateSkew = function() {
                    this._cx = Math.cos(this._rotation + this.skew._y),
                    this._sx = Math.sin(this._rotation + this.skew._y),
                    this._cy = -Math.sin(this._rotation - this.skew._x),
                    this._sy = Math.cos(this._rotation - this.skew._x)
                }
                ,
                e.prototype.updateLocalTransform = function() {
                    var t = this.localTransform;
                    t.a = this._cx * this.scale.x,
                    t.b = this._sx * this.scale.x,
                    t.c = this._cy * this.scale.y,
                    t.d = this._sy * this.scale.y,
                    t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c),
                    t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d)
                }
                ,
                e.prototype.updateTransform = function(t) {
                    var e = this.localTransform;
                    e.a = this._cx * this.scale.x,
                    e.b = this._sx * this.scale.x,
                    e.c = this._cy * this.scale.y,
                    e.d = this._sy * this.scale.y,
                    e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c),
                    e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d);
                    var i = t.worldTransform
                      , n = this.worldTransform;
                    n.a = e.a * i.a + e.b * i.c,
                    n.b = e.a * i.b + e.b * i.d,
                    n.c = e.c * i.a + e.d * i.c,
                    n.d = e.c * i.b + e.d * i.d,
                    n.tx = e.tx * i.a + e.ty * i.c + i.tx,
                    n.ty = e.tx * i.b + e.ty * i.d + i.ty,
                    this._worldID++
                }
                ,
                e.prototype.setFromMatrix = function(t) {
                    t.decompose(this)
                }
                ,
                o(e, [{
                    key: "rotation",
                    get: function() {
                        return this._rotation
                    },
                    set: function(t) {
                        this._rotation = t,
                        this.updateSkew()
                    }
                }]),
                e
            }(l.default);
            i.default = u
        }
        , {
            "../math": 68,
            "./TransformBase": 49
        }],
        49: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../math")
              , s = function() {
                function t() {
                    n(this, t),
                    this.worldTransform = new r.Matrix,
                    this.localTransform = new r.Matrix,
                    this._worldID = 0,
                    this._parentID = 0
                }
                return t.prototype.updateLocalTransform = function() {}
                ,
                t.prototype.updateTransform = function(t) {
                    var e = t.worldTransform
                      , i = this.worldTransform
                      , n = this.localTransform;
                    i.a = n.a * e.a + n.b * e.c,
                    i.b = n.a * e.b + n.b * e.d,
                    i.c = n.c * e.a + n.d * e.c,
                    i.d = n.c * e.b + n.d * e.d,
                    i.tx = n.tx * e.a + n.ty * e.c + e.tx,
                    i.ty = n.tx * e.b + n.ty * e.d + e.ty,
                    this._worldID++
                }
                ,
                t
            }();
            i.default = s,
            s.prototype.updateWorldTransform = s.prototype.updateTransform,
            s.IDENTITY = new s
        }
        , {
            "../math": 68
        }],
        50: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../math")
              , h = t("./TransformBase")
              , l = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(h)
              , u = function(t) {
                function e() {
                    n(this, e);
                    var i = r(this, t.call(this));
                    return i.position = new a.ObservablePoint(i.onChange,i,0,0),
                    i.scale = new a.ObservablePoint(i.onChange,i,1,1),
                    i.pivot = new a.ObservablePoint(i.onChange,i,0,0),
                    i.skew = new a.ObservablePoint(i.updateSkew,i,0,0),
                    i._rotation = 0,
                    i._cx = 1,
                    i._sx = 0,
                    i._cy = 0,
                    i._sy = 1,
                    i._localID = 0,
                    i._currentLocalID = 0,
                    i
                }
                return s(e, t),
                e.prototype.onChange = function() {
                    this._localID++
                }
                ,
                e.prototype.updateSkew = function() {
                    this._cx = Math.cos(this._rotation + this.skew._y),
                    this._sx = Math.sin(this._rotation + this.skew._y),
                    this._cy = -Math.sin(this._rotation - this.skew._x),
                    this._sy = Math.cos(this._rotation - this.skew._x),
                    this._localID++
                }
                ,
                e.prototype.updateLocalTransform = function() {
                    var t = this.localTransform;
                    this._localID !== this._currentLocalID && (t.a = this._cx * this.scale._x,
                    t.b = this._sx * this.scale._x,
                    t.c = this._cy * this.scale._y,
                    t.d = this._sy * this.scale._y,
                    t.tx = this.position._x - (this.pivot._x * t.a + this.pivot._y * t.c),
                    t.ty = this.position._y - (this.pivot._x * t.b + this.pivot._y * t.d),
                    this._currentLocalID = this._localID,
                    this._parentID = -1)
                }
                ,
                e.prototype.updateTransform = function(t) {
                    var e = this.localTransform;
                    if (this._localID !== this._currentLocalID && (e.a = this._cx * this.scale._x,
                    e.b = this._sx * this.scale._x,
                    e.c = this._cy * this.scale._y,
                    e.d = this._sy * this.scale._y,
                    e.tx = this.position._x - (this.pivot._x * e.a + this.pivot._y * e.c),
                    e.ty = this.position._y - (this.pivot._x * e.b + this.pivot._y * e.d),
                    this._currentLocalID = this._localID,
                    this._parentID = -1),
                    this._parentID !== t._worldID) {
                        var i = t.worldTransform
                          , n = this.worldTransform;
                        n.a = e.a * i.a + e.b * i.c,
                        n.b = e.a * i.b + e.b * i.d,
                        n.c = e.c * i.a + e.d * i.c,
                        n.d = e.c * i.b + e.d * i.d,
                        n.tx = e.tx * i.a + e.ty * i.c + i.tx,
                        n.ty = e.tx * i.b + e.ty * i.d + i.ty,
                        this._parentID = t._worldID,
                        this._worldID++
                    }
                }
                ,
                e.prototype.setFromMatrix = function(t) {
                    t.decompose(this),
                    this._localID++
                }
                ,
                o(e, [{
                    key: "rotation",
                    get: function() {
                        return this._rotation
                    },
                    set: function(t) {
                        this._rotation = t,
                        this.updateSkew()
                    }
                }]),
                e
            }(l.default);
            i.default = u
        }
        , {
            "../math": 68,
            "./TransformBase": 49
        }],
        51: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("../display/Container")
              , h = n(a)
              , l = t("../textures/RenderTexture")
              , u = n(l)
              , c = t("../textures/Texture")
              , d = n(c)
              , p = t("./GraphicsData")
              , f = n(p)
              , m = t("../sprites/Sprite")
              , _ = n(m)
              , y = t("../math")
              , v = t("../utils")
              , g = t("../const")
              , x = t("../display/Bounds")
              , b = n(x)
              , w = t("./utils/bezierCurveTo")
              , T = n(w)
              , A = t("../renderers/canvas/CanvasRenderer")
              , S = n(A)
              , C = void 0
              , E = new y.Matrix
              , P = new y.Point
              , M = new Float32Array(4)
              , O = new Float32Array(4)
              , I = function(t) {
                function e() {
                    var i = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    r(this, e);
                    var n = s(this, t.call(this));
                    return n.fillAlpha = 1,
                    n.lineWidth = 0,
                    n.nativeLines = i,
                    n.lineColor = 0,
                    n.graphicsData = [],
                    n.tint = 16777215,
                    n._prevTint = 16777215,
                    n.blendMode = g.BLEND_MODES.NORMAL,
                    n.currentPath = null,
                    n._webGL = {},
                    n.isMask = !1,
                    n.boundsPadding = 0,
                    n._localBounds = new b.default,
                    n.dirty = 0,
                    n.fastRectDirty = -1,
                    n.clearDirty = 0,
                    n.boundsDirty = -1,
                    n.cachedSpriteDirty = !1,
                    n._spriteRect = null,
                    n._fastRect = !1,
                    n
                }
                return o(e, t),
                e.prototype.clone = function() {
                    var t = new e;
                    t.renderable = this.renderable,
                    t.fillAlpha = this.fillAlpha,
                    t.lineWidth = this.lineWidth,
                    t.lineColor = this.lineColor,
                    t.tint = this.tint,
                    t.blendMode = this.blendMode,
                    t.isMask = this.isMask,
                    t.boundsPadding = this.boundsPadding,
                    t.dirty = 0,
                    t.cachedSpriteDirty = this.cachedSpriteDirty;
                    for (var i = 0; i < this.graphicsData.length; ++i)
                        t.graphicsData.push(this.graphicsData[i].clone());
                    return t.currentPath = t.graphicsData[t.graphicsData.length - 1],
                    t.updateLocalBounds(),
                    t
                }
                ,
                e.prototype.lineStyle = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                    if (this.lineWidth = t,
                    this.lineColor = e,
                    this.lineAlpha = i,
                    this.currentPath)
                        if (this.currentPath.shape.points.length) {
                            var n = new y.Polygon(this.currentPath.shape.points.slice(-2));
                            n.closed = !1,
                            this.drawShape(n)
                        } else
                            this.currentPath.lineWidth = this.lineWidth,
                            this.currentPath.lineColor = this.lineColor,
                            this.currentPath.lineAlpha = this.lineAlpha;
                    return this
                }
                ,
                e.prototype.moveTo = function(t, e) {
                    var i = new y.Polygon([t, e]);
                    return i.closed = !1,
                    this.drawShape(i),
                    this
                }
                ,
                e.prototype.lineTo = function(t, e) {
                    return this.currentPath.shape.points.push(t, e),
                    this.dirty++,
                    this
                }
                ,
                e.prototype.quadraticCurveTo = function(t, e, i, n) {
                    this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                    var r = this.currentPath.shape.points
                      , s = 0
                      , o = 0;
                    0 === r.length && this.moveTo(0, 0);
                    for (var a = r[r.length - 2], h = r[r.length - 1], l = 1; l <= 20; ++l) {
                        var u = l / 20;
                        s = a + (t - a) * u,
                        o = h + (e - h) * u,
                        r.push(s + (t + (i - t) * u - s) * u, o + (e + (n - e) * u - o) * u)
                    }
                    return this.dirty++,
                    this
                }
                ,
                e.prototype.bezierCurveTo = function(t, e, i, n, r, s) {
                    this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0);
                    var o = this.currentPath.shape.points
                      , a = o[o.length - 2]
                      , h = o[o.length - 1];
                    return o.length -= 2,
                    (0,
                    T.default)(a, h, t, e, i, n, r, s, o),
                    this.dirty++,
                    this
                }
                ,
                e.prototype.arcTo = function(t, e, i, n, r) {
                    this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(t, e) : this.moveTo(t, e);
                    var s = this.currentPath.shape.points
                      , o = s[s.length - 2]
                      , a = s[s.length - 1]
                      , h = a - e
                      , l = o - t
                      , u = n - e
                      , c = i - t
                      , d = Math.abs(h * c - l * u);
                    if (d < 1e-8 || 0 === r)
                        s[s.length - 2] === t && s[s.length - 1] === e || s.push(t, e);
                    else {
                        var p = h * h + l * l
                          , f = u * u + c * c
                          , m = h * u + l * c
                          , _ = r * Math.sqrt(p) / d
                          , y = r * Math.sqrt(f) / d
                          , v = _ * m / p
                          , g = y * m / f
                          , x = _ * c + y * l
                          , b = _ * u + y * h
                          , w = l * (y + v)
                          , T = h * (y + v)
                          , A = c * (_ + g)
                          , S = u * (_ + g)
                          , C = Math.atan2(T - b, w - x)
                          , E = Math.atan2(S - b, A - x);
                        this.arc(x + t, b + e, r, C, E, l * u > c * h)
                    }
                    return this.dirty++,
                    this
                }
                ,
                e.prototype.arc = function(t, e, i, n, r) {
                    var s = arguments.length > 5 && void 0 !== arguments[5] && arguments[5];
                    if (n === r)
                        return this;
                    !s && r <= n ? r += 2 * Math.PI : s && n <= r && (n += 2 * Math.PI);
                    var o = r - n
                      , a = 40 * Math.ceil(Math.abs(o) / (2 * Math.PI));
                    if (0 === o)
                        return this;
                    var h = t + Math.cos(n) * i
                      , l = e + Math.sin(n) * i
                      , u = this.currentPath ? this.currentPath.shape.points : null;
                    u ? u[u.length - 2] === h && u[u.length - 1] === l || u.push(h, l) : (this.moveTo(h, l),
                    u = this.currentPath.shape.points);
                    for (var c = o / (2 * a), d = 2 * c, p = Math.cos(c), f = Math.sin(c), m = a - 1, _ = m % 1 / m, y = 0; y <= m; ++y) {
                        var v = y + _ * y
                          , g = c + n + d * v
                          , x = Math.cos(g)
                          , b = -Math.sin(g);
                        u.push((p * x + f * b) * i + t, (p * -b + f * x) * i + e)
                    }
                    return this.dirty++,
                    this
                }
                ,
                e.prototype.beginFill = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                    return this.filling = !0,
                    this.fillColor = t,
                    this.fillAlpha = e,
                    this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling,
                    this.currentPath.fillColor = this.fillColor,
                    this.currentPath.fillAlpha = this.fillAlpha),
                    this
                }
                ,
                e.prototype.endFill = function() {
                    return this.filling = !1,
                    this.fillColor = null,
                    this.fillAlpha = 1,
                    this
                }
                ,
                e.prototype.drawRect = function(t, e, i, n) {
                    return this.drawShape(new y.Rectangle(t,e,i,n)),
                    this
                }
                ,
                e.prototype.drawRoundedRect = function(t, e, i, n, r) {
                    return this.drawShape(new y.RoundedRectangle(t,e,i,n,r)),
                    this
                }
                ,
                e.prototype.drawCircle = function(t, e, i) {
                    return this.drawShape(new y.Circle(t,e,i)),
                    this
                }
                ,
                e.prototype.drawEllipse = function(t, e, i, n) {
                    return this.drawShape(new y.Ellipse(t,e,i,n)),
                    this
                }
                ,
                e.prototype.drawPolygon = function(t) {
                    var e = t
                      , i = !0;
                    if (e instanceof y.Polygon && (i = e.closed,
                    e = e.points),
                    !Array.isArray(e)) {
                        e = new Array(arguments.length);
                        for (var n = 0; n < e.length; ++n)
                            e[n] = arguments[n]
                    }
                    var r = new y.Polygon(e);
                    return r.closed = i,
                    this.drawShape(r),
                    this
                }
                ,
                e.prototype.clear = function() {
                    return (this.lineWidth || this.filling || this.graphicsData.length > 0) && (this.lineWidth = 0,
                    this.filling = !1,
                    this.boundsDirty = -1,
                    this.dirty++,
                    this.clearDirty++,
                    this.graphicsData.length = 0),
                    this.currentPath = null,
                    this._spriteRect = null,
                    this
                }
                ,
                e.prototype.isFastRect = function() {
                    return 1 === this.graphicsData.length && this.graphicsData[0].shape.type === g.SHAPES.RECT && !this.graphicsData[0].lineWidth
                }
                ,
                e.prototype._renderWebGL = function(t) {
                    this.dirty !== this.fastRectDirty && (this.fastRectDirty = this.dirty,
                    this._fastRect = this.isFastRect()),
                    this._fastRect ? this._renderSpriteRect(t) : (t.setObjectRenderer(t.plugins.graphics),
                    t.plugins.graphics.render(this))
                }
                ,
                e.prototype._renderSpriteRect = function(t) {
                    var e = this.graphicsData[0].shape;
                    this._spriteRect || (this._spriteRect = new _.default(new d.default(d.default.WHITE)));
                    var i = this._spriteRect;
                    if (16777215 === this.tint)
                        i.tint = this.graphicsData[0].fillColor;
                    else {
                        var n = M
                          , r = O;
                        (0,
                        v.hex2rgb)(this.graphicsData[0].fillColor, n),
                        (0,
                        v.hex2rgb)(this.tint, r),
                        n[0] *= r[0],
                        n[1] *= r[1],
                        n[2] *= r[2],
                        i.tint = (0,
                        v.rgb2hex)(n)
                    }
                    i.alpha = this.graphicsData[0].fillAlpha,
                    i.worldAlpha = this.worldAlpha * i.alpha,
                    i.blendMode = this.blendMode,
                    i._texture._frame.width = e.width,
                    i._texture._frame.height = e.height,
                    i.transform.worldTransform = this.transform.worldTransform,
                    i.anchor.set(-e.x / e.width, -e.y / e.height),
                    i._onAnchorUpdate(),
                    i._renderWebGL(t)
                }
                ,
                e.prototype._renderCanvas = function(t) {
                    !0 !== this.isMask && t.plugins.graphics.render(this)
                }
                ,
                e.prototype._calculateBounds = function() {
                    this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty,
                    this.updateLocalBounds(),
                    this.cachedSpriteDirty = !0);
                    var t = this._localBounds;
                    this._bounds.addFrame(this.transform, t.minX, t.minY, t.maxX, t.maxY)
                }
                ,
                e.prototype.containsPoint = function(t) {
                    this.worldTransform.applyInverse(t, P);
                    for (var e = this.graphicsData, i = 0; i < e.length; ++i) {
                        var n = e[i];
                        if (n.fill && n.shape && n.shape.contains(P.x, P.y))
                            return !0
                    }
                    return !1
                }
                ,
                e.prototype.updateLocalBounds = function() {
                    var t = 1 / 0
                      , e = -1 / 0
                      , i = 1 / 0
                      , n = -1 / 0;
                    if (this.graphicsData.length)
                        for (var r = 0, s = 0, o = 0, a = 0, h = 0, l = 0; l < this.graphicsData.length; l++) {
                            var u = this.graphicsData[l]
                              , c = u.type
                              , d = u.lineWidth;
                            if (r = u.shape,
                            c === g.SHAPES.RECT || c === g.SHAPES.RREC)
                                s = r.x - d / 2,
                                o = r.y - d / 2,
                                a = r.width + d,
                                h = r.height + d,
                                t = s < t ? s : t,
                                e = s + a > e ? s + a : e,
                                i = o < i ? o : i,
                                n = o + h > n ? o + h : n;
                            else if (c === g.SHAPES.CIRC)
                                s = r.x,
                                o = r.y,
                                a = r.radius + d / 2,
                                h = r.radius + d / 2,
                                t = s - a < t ? s - a : t,
                                e = s + a > e ? s + a : e,
                                i = o - h < i ? o - h : i,
                                n = o + h > n ? o + h : n;
                            else if (c === g.SHAPES.ELIP)
                                s = r.x,
                                o = r.y,
                                a = r.width + d / 2,
                                h = r.height + d / 2,
                                t = s - a < t ? s - a : t,
                                e = s + a > e ? s + a : e,
                                i = o - h < i ? o - h : i,
                                n = o + h > n ? o + h : n;
                            else
                                for (var p = r.points, f = 0, m = 0, _ = 0, y = 0, v = 0, x = 0, b = 0, w = 0, T = 0; T + 2 < p.length; T += 2)
                                    s = p[T],
                                    o = p[T + 1],
                                    f = p[T + 2],
                                    m = p[T + 3],
                                    _ = Math.abs(f - s),
                                    y = Math.abs(m - o),
                                    h = d,
                                    (a = Math.sqrt(_ * _ + y * y)) < 1e-9 || (v = (h / a * y + _) / 2,
                                    x = (h / a * _ + y) / 2,
                                    b = (f + s) / 2,
                                    w = (m + o) / 2,
                                    t = b - v < t ? b - v : t,
                                    e = b + v > e ? b + v : e,
                                    i = w - x < i ? w - x : i,
                                    n = w + x > n ? w + x : n)
                        }
                    else
                        t = 0,
                        e = 0,
                        i = 0,
                        n = 0;
                    var A = this.boundsPadding;
                    this._localBounds.minX = t - A,
                    this._localBounds.maxX = e + 2 * A,
                    this._localBounds.minY = i - A,
                    this._localBounds.maxY = n + 2 * A
                }
                ,
                e.prototype.drawShape = function(t) {
                    this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(),
                    this.currentPath = null;
                    var e = new f.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);
                    return this.graphicsData.push(e),
                    e.type === g.SHAPES.POLY && (e.shape.closed = e.shape.closed || this.filling,
                    this.currentPath = e),
                    this.dirty++,
                    e
                }
                ,
                e.prototype.generateCanvasTexture = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1
                      , i = this.getLocalBounds()
                      , n = u.default.create(i.width, i.height, t, e);
                    C || (C = new S.default),
                    this.transform.updateLocalTransform(),
                    this.transform.localTransform.copy(E),
                    E.invert(),
                    E.tx -= i.x,
                    E.ty -= i.y,
                    C.render(this, n, !0, E);
                    var r = d.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas, t, "graphics");
                    return r.baseTexture.resolution = e,
                    r.baseTexture.update(),
                    r
                }
                ,
                e.prototype.closePath = function() {
                    var t = this.currentPath;
                    return t && t.shape && t.shape.close(),
                    this
                }
                ,
                e.prototype.addHole = function() {
                    var t = this.graphicsData.pop();
                    return this.currentPath = this.graphicsData[this.graphicsData.length - 1],
                    this.currentPath.addHole(t.shape),
                    this.currentPath = null,
                    this
                }
                ,
                e.prototype.destroy = function(e) {
                    t.prototype.destroy.call(this, e);
                    for (var i = 0; i < this.graphicsData.length; ++i)
                        this.graphicsData[i].destroy();
                    for (var n in this._webgl)
                        for (var r = 0; r < this._webgl[n].data.length; ++r)
                            this._webgl[n].data[r].destroy();
                    this._spriteRect && this._spriteRect.destroy(),
                    this.graphicsData = null,
                    this.currentPath = null,
                    this._webgl = null,
                    this._localBounds = null
                }
                ,
                e
            }(h.default);
            i.default = I,
            I._SPRITE_TEXTURE = null
        }
        , {
            "../const": 44,
            "../display/Bounds": 45,
            "../display/Container": 46,
            "../math": 68,
            "../renderers/canvas/CanvasRenderer": 75,
            "../sprites/Sprite": 100,
            "../textures/RenderTexture": 111,
            "../textures/Texture": 113,
            "../utils": 122,
            "./GraphicsData": 52,
            "./utils/bezierCurveTo": 54
        }],
        52: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(e, i, r, s, o, a, h, l) {
                    n(this, t),
                    this.lineWidth = e,
                    this.nativeLines = h,
                    this.lineColor = i,
                    this.lineAlpha = r,
                    this._lineTint = i,
                    this.fillColor = s,
                    this.fillAlpha = o,
                    this._fillTint = s,
                    this.fill = a,
                    this.holes = [],
                    this.shape = l,
                    this.type = l.type
                }
                return t.prototype.clone = function() {
                    return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)
                }
                ,
                t.prototype.addHole = function(t) {
                    this.holes.push(t)
                }
                ,
                t.prototype.destroy = function() {
                    this.shape = null,
                    this.holes = null
                }
                ,
                t
            }();
            i.default = r
        }
        , {}],
        53: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../../renderers/canvas/CanvasRenderer")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = t("../../const")
              , a = function() {
                function t(e) {
                    n(this, t),
                    this.renderer = e
                }
                return t.prototype.render = function(t) {
                    var e = this.renderer
                      , i = e.context
                      , n = t.worldAlpha
                      , r = t.transform.worldTransform
                      , s = e.resolution;
                    this._prevTint !== this.tint && (this.dirty = !0),
                    i.setTransform(r.a * s, r.b * s, r.c * s, r.d * s, r.tx * s, r.ty * s),
                    t.dirty && (this.updateGraphicsTint(t),
                    t.dirty = !1),
                    e.setBlendMode(t.blendMode);
                    for (var a = 0; a < t.graphicsData.length; a++) {
                        var h = t.graphicsData[a]
                          , l = h.shape
                          , u = h._fillTint
                          , c = h._lineTint;
                        if (i.lineWidth = h.lineWidth,
                        h.type === o.SHAPES.POLY) {
                            i.beginPath(),
                            this.renderPolygon(l.points, l.closed, i);
                            for (var d = 0; d < h.holes.length; d++)
                                this.renderPolygon(h.holes[d].points, !0, i);
                            h.fill && (i.globalAlpha = h.fillAlpha * n,
                            i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6),
                            i.fill()),
                            h.lineWidth && (i.globalAlpha = h.lineAlpha * n,
                            i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6),
                            i.stroke())
                        } else if (h.type === o.SHAPES.RECT)
                            (h.fillColor || 0 === h.fillColor) && (i.globalAlpha = h.fillAlpha * n,
                            i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6),
                            i.fillRect(l.x, l.y, l.width, l.height)),
                            h.lineWidth && (i.globalAlpha = h.lineAlpha * n,
                            i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6),
                            i.strokeRect(l.x, l.y, l.width, l.height));
                        else if (h.type === o.SHAPES.CIRC)
                            i.beginPath(),
                            i.arc(l.x, l.y, l.radius, 0, 2 * Math.PI),
                            i.closePath(),
                            h.fill && (i.globalAlpha = h.fillAlpha * n,
                            i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6),
                            i.fill()),
                            h.lineWidth && (i.globalAlpha = h.lineAlpha * n,
                            i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6),
                            i.stroke());
                        else if (h.type === o.SHAPES.ELIP) {
                            var p = 2 * l.width
                              , f = 2 * l.height
                              , m = l.x - p / 2
                              , _ = l.y - f / 2;
                            i.beginPath();
                            var y = .5522848
                              , v = p / 2 * y
                              , g = f / 2 * y
                              , x = m + p
                              , b = _ + f
                              , w = m + p / 2
                              , T = _ + f / 2;
                            i.moveTo(m, T),
                            i.bezierCurveTo(m, T - g, w - v, _, w, _),
                            i.bezierCurveTo(w + v, _, x, T - g, x, T),
                            i.bezierCurveTo(x, T + g, w + v, b, w, b),
                            i.bezierCurveTo(w - v, b, m, T + g, m, T),
                            i.closePath(),
                            h.fill && (i.globalAlpha = h.fillAlpha * n,
                            i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6),
                            i.fill()),
                            h.lineWidth && (i.globalAlpha = h.lineAlpha * n,
                            i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6),
                            i.stroke())
                        } else if (h.type === o.SHAPES.RREC) {
                            var A = l.x
                              , S = l.y
                              , C = l.width
                              , E = l.height
                              , P = l.radius
                              , M = Math.min(C, E) / 2 | 0;
                            P = P > M ? M : P,
                            i.beginPath(),
                            i.moveTo(A, S + P),
                            i.lineTo(A, S + E - P),
                            i.quadraticCurveTo(A, S + E, A + P, S + E),
                            i.lineTo(A + C - P, S + E),
                            i.quadraticCurveTo(A + C, S + E, A + C, S + E - P),
                            i.lineTo(A + C, S + P),
                            i.quadraticCurveTo(A + C, S, A + C - P, S),
                            i.lineTo(A + P, S),
                            i.quadraticCurveTo(A, S, A, S + P),
                            i.closePath(),
                            (h.fillColor || 0 === h.fillColor) && (i.globalAlpha = h.fillAlpha * n,
                            i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6),
                            i.fill()),
                            h.lineWidth && (i.globalAlpha = h.lineAlpha * n,
                            i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6),
                            i.stroke())
                        }
                    }
                }
                ,
                t.prototype.updateGraphicsTint = function(t) {
                    t._prevTint = t.tint;
                    for (var e = (t.tint >> 16 & 255) / 255, i = (t.tint >> 8 & 255) / 255, n = (255 & t.tint) / 255, r = 0; r < t.graphicsData.length; ++r) {
                        var s = t.graphicsData[r]
                          , o = 0 | s.fillColor
                          , a = 0 | s.lineColor;
                        s._fillTint = ((o >> 16 & 255) / 255 * e * 255 << 16) + ((o >> 8 & 255) / 255 * i * 255 << 8) + (255 & o) / 255 * n * 255,
                        s._lineTint = ((a >> 16 & 255) / 255 * e * 255 << 16) + ((a >> 8 & 255) / 255 * i * 255 << 8) + (255 & a) / 255 * n * 255
                    }
                }
                ,
                t.prototype.renderPolygon = function(t, e, i) {
                    i.moveTo(t[0], t[1]);
                    for (var n = 1; n < t.length / 2; ++n)
                        i.lineTo(t[2 * n], t[2 * n + 1]);
                    e && i.closePath()
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }();
            i.default = a,
            s.default.registerPlugin("graphics", a)
        }
        , {
            "../../const": 44,
            "../../renderers/canvas/CanvasRenderer": 75
        }],
        54: [function(t, e, i) {
            "use strict";
            function n(t, e, i, n, r, s, o, a) {
                var h = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : []
                  , l = 0
                  , u = 0
                  , c = 0
                  , d = 0
                  , p = 0;
                h.push(t, e);
                for (var f = 1, m = 0; f <= 20; ++f)
                    m = f / 20,
                    l = 1 - m,
                    u = l * l,
                    c = u * l,
                    d = m * m,
                    p = d * m,
                    h.push(c * t + 3 * u * m * i + 3 * l * d * r + p * o, c * e + 3 * u * m * n + 3 * l * d * s + p * a);
                return h
            }
            i.__esModule = !0,
            i.default = n
        }
        , {}],
        55: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("../../utils")
              , h = t("../../const")
              , l = t("../../renderers/webgl/utils/ObjectRenderer")
              , u = n(l)
              , c = t("../../renderers/webgl/WebGLRenderer")
              , d = n(c)
              , p = t("./WebGLGraphicsData")
              , f = n(p)
              , m = t("./shaders/PrimitiveShader")
              , _ = n(m)
              , y = t("./utils/buildPoly")
              , v = n(y)
              , g = t("./utils/buildRectangle")
              , x = n(g)
              , b = t("./utils/buildRoundedRectangle")
              , w = n(b)
              , T = t("./utils/buildCircle")
              , A = n(T)
              , S = function(t) {
                function e(i) {
                    r(this, e);
                    var n = s(this, t.call(this, i));
                    return n.graphicsDataPool = [],
                    n.primitiveShader = null,
                    n.gl = i.gl,
                    n.CONTEXT_UID = 0,
                    n
                }
                return o(e, t),
                e.prototype.onContextChange = function() {
                    this.gl = this.renderer.gl,
                    this.CONTEXT_UID = this.renderer.CONTEXT_UID,
                    this.primitiveShader = new _.default(this.gl)
                }
                ,
                e.prototype.destroy = function() {
                    u.default.prototype.destroy.call(this);
                    for (var t = 0; t < this.graphicsDataPool.length; ++t)
                        this.graphicsDataPool[t].destroy();
                    this.graphicsDataPool = null
                }
                ,
                e.prototype.render = function(t) {
                    var e = this.renderer
                      , i = e.gl
                      , n = void 0
                      , r = t._webGL[this.CONTEXT_UID];
                    r && t.dirty === r.dirty || (this.updateGraphics(t),
                    r = t._webGL[this.CONTEXT_UID]);
                    var s = this.primitiveShader;
                    e.bindShader(s),
                    e.state.setBlendMode(t.blendMode);
                    for (var o = 0, h = r.data.length; o < h; o++) {
                        n = r.data[o];
                        var l = n.shader;
                        e.bindShader(l),
                        l.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0),
                        l.uniforms.tint = (0,
                        a.hex2rgb)(t.tint),
                        l.uniforms.alpha = t.worldAlpha,
                        e.bindVao(n.vao),
                        n.nativeLines ? i.drawArrays(i.LINES, 0, n.points.length / 6) : n.vao.draw(i.TRIANGLE_STRIP, n.indices.length)
                    }
                }
                ,
                e.prototype.updateGraphics = function(t) {
                    var e = this.renderer.gl
                      , i = t._webGL[this.CONTEXT_UID];
                    if (i || (i = t._webGL[this.CONTEXT_UID] = {
                        lastIndex: 0,
                        data: [],
                        gl: e,
                        clearDirty: -1,
                        dirty: -1
                    }),
                    i.dirty = t.dirty,
                    t.clearDirty !== i.clearDirty) {
                        i.clearDirty = t.clearDirty;
                        for (var n = 0; n < i.data.length; n++)
                            this.graphicsDataPool.push(i.data[n]);
                        i.data.length = 0,
                        i.lastIndex = 0
                    }
                    for (var r = void 0, s = void 0, o = i.lastIndex; o < t.graphicsData.length; o++) {
                        var a = t.graphicsData[o];
                        r = this.getWebGLData(i, 0),
                        a.nativeLines && a.lineWidth && (s = this.getWebGLData(i, 0, !0),
                        i.lastIndex++),
                        a.type === h.SHAPES.POLY && (0,
                        v.default)(a, r, s),
                        a.type === h.SHAPES.RECT ? (0,
                        x.default)(a, r, s) : a.type === h.SHAPES.CIRC || a.type === h.SHAPES.ELIP ? (0,
                        A.default)(a, r, s) : a.type === h.SHAPES.RREC && (0,
                        w.default)(a, r, s),
                        i.lastIndex++
                    }
                    this.renderer.bindVao(null);
                    for (var l = 0; l < i.data.length; l++)
                        r = i.data[l],
                        r.dirty && r.upload()
                }
                ,
                e.prototype.getWebGLData = function(t, e, i) {
                    var n = t.data[t.data.length - 1];
                    return (!n || n.nativeLines !== i || n.points.length > 32e4) && (n = this.graphicsDataPool.pop() || new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),
                    n.nativeLines = i,
                    n.reset(e),
                    t.data.push(n)),
                    n.dirty = !0,
                    n
                }
                ,
                e
            }(u.default);
            i.default = S,
            d.default.registerPlugin("graphics", S)
        }
        , {
            "../../const": 44,
            "../../renderers/webgl/WebGLRenderer": 82,
            "../../renderers/webgl/utils/ObjectRenderer": 92,
            "../../utils": 122,
            "./WebGLGraphicsData": 56,
            "./shaders/PrimitiveShader": 57,
            "./utils/buildCircle": 58,
            "./utils/buildPoly": 60,
            "./utils/buildRectangle": 61,
            "./utils/buildRoundedRectangle": 62
        }],
        56: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("pixi-gl-core")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = function() {
                function t(e, i, r) {
                    n(this, t),
                    this.gl = e,
                    this.color = [0, 0, 0],
                    this.points = [],
                    this.indices = [],
                    this.buffer = s.default.GLBuffer.createVertexBuffer(e),
                    this.indexBuffer = s.default.GLBuffer.createIndexBuffer(e),
                    this.dirty = !0,
                    this.nativeLines = !1,
                    this.glPoints = null,
                    this.glIndices = null,
                    this.shader = i,
                    this.vao = new s.default.VertexArrayObject(e,r).addIndex(this.indexBuffer).addAttribute(this.buffer, i.attributes.aVertexPosition, e.FLOAT, !1, 24, 0).addAttribute(this.buffer, i.attributes.aColor, e.FLOAT, !1, 24, 8)
                }
                return t.prototype.reset = function() {
                    this.points.length = 0,
                    this.indices.length = 0
                }
                ,
                t.prototype.upload = function() {
                    this.glPoints = new Float32Array(this.points),
                    this.buffer.upload(this.glPoints),
                    this.glIndices = new Uint16Array(this.indices),
                    this.indexBuffer.upload(this.glIndices),
                    this.dirty = !1
                }
                ,
                t.prototype.destroy = function() {
                    this.color = null,
                    this.points = null,
                    this.indices = null,
                    this.vao.destroy(),
                    this.buffer.destroy(),
                    this.indexBuffer.destroy(),
                    this.gl = null,
                    this.buffer = null,
                    this.indexBuffer = null,
                    this.glPoints = null,
                    this.glIndices = null
                }
                ,
                t
            }();
            i.default = o
        }
        , {
            "pixi-gl-core": 12
        }],
        57: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("../../../Shader")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = function(t) {
                function e(i) {
                    return n(this, e),
                    r(this, t.call(this, i, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n")))
                }
                return s(e, t),
                e
            }(a.default);
            i.default = h
        }
        , {
            "../../../Shader": 42
        }],
        58: [function(t, e, i) {
            "use strict";
            function n(t, e, i) {
                var n = t.shape
                  , r = n.x
                  , h = n.y
                  , l = void 0
                  , u = void 0;
                if (t.type === o.SHAPES.CIRC ? (l = n.radius,
                u = n.radius) : (l = n.width,
                u = n.height),
                0 !== l && 0 !== u) {
                    var c = Math.floor(30 * Math.sqrt(n.radius)) || Math.floor(15 * Math.sqrt(n.width + n.height))
                      , d = 2 * Math.PI / c;
                    if (t.fill) {
                        var p = (0,
                        a.hex2rgb)(t.fillColor)
                          , f = t.fillAlpha
                          , m = p[0] * f
                          , _ = p[1] * f
                          , y = p[2] * f
                          , v = e.points
                          , g = e.indices
                          , x = v.length / 6;
                        g.push(x);
                        for (var b = 0; b < c + 1; b++)
                            v.push(r, h, m, _, y, f),
                            v.push(r + Math.sin(d * b) * l, h + Math.cos(d * b) * u, m, _, y, f),
                            g.push(x++, x++);
                        g.push(x - 1)
                    }
                    if (t.lineWidth) {
                        var w = t.points;
                        t.points = [];
                        for (var T = 0; T < c + 1; T++)
                            t.points.push(r + Math.sin(d * T) * l, h + Math.cos(d * T) * u);
                        (0,
                        s.default)(t, e, i),
                        t.points = w
                    }
                }
            }
            i.__esModule = !0,
            i.default = n;
            var r = t("./buildLine")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = t("../../../const")
              , a = t("../../../utils")
        }
        , {
            "../../../const": 44,
            "../../../utils": 122,
            "./buildLine": 59
        }],
        59: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                var i = t.points;
                if (0 !== i.length) {
                    var n = new s.Point(i[0],i[1])
                      , r = new s.Point(i[i.length - 2],i[i.length - 1]);
                    if (n.x === r.x && n.y === r.y) {
                        i = i.slice(),
                        i.pop(),
                        i.pop(),
                        r = new s.Point(i[i.length - 2],i[i.length - 1]);
                        var a = r.x + .5 * (n.x - r.x)
                          , h = r.y + .5 * (n.y - r.y);
                        i.unshift(a, h),
                        i.push(a, h)
                    }
                    var l = e.points
                      , u = e.indices
                      , c = i.length / 2
                      , d = i.length
                      , p = l.length / 6
                      , f = t.lineWidth / 2
                      , m = (0,
                    o.hex2rgb)(t.lineColor)
                      , _ = t.lineAlpha
                      , y = m[0] * _
                      , v = m[1] * _
                      , g = m[2] * _
                      , x = i[0]
                      , b = i[1]
                      , w = i[2]
                      , T = i[3]
                      , A = 0
                      , S = 0
                      , C = -(b - T)
                      , E = x - w
                      , P = 0
                      , M = 0
                      , O = 0
                      , I = 0
                      , B = Math.sqrt(C * C + E * E);
                    C /= B,
                    E /= B,
                    C *= f,
                    E *= f,
                    l.push(x - C, b - E, y, v, g, _),
                    l.push(x + C, b + E, y, v, g, _);
                    for (var R = 1; R < c - 1; ++R) {
                        x = i[2 * (R - 1)],
                        b = i[2 * (R - 1) + 1],
                        w = i[2 * R],
                        T = i[2 * R + 1],
                        A = i[2 * (R + 1)],
                        S = i[2 * (R + 1) + 1],
                        C = -(b - T),
                        E = x - w,
                        B = Math.sqrt(C * C + E * E),
                        C /= B,
                        E /= B,
                        C *= f,
                        E *= f,
                        P = -(T - S),
                        M = w - A,
                        B = Math.sqrt(P * P + M * M),
                        P /= B,
                        M /= B,
                        P *= f,
                        M *= f;
                        var k = -E + b - (-E + T)
                          , D = -C + w - (-C + x)
                          , L = (-C + x) * (-E + T) - (-C + w) * (-E + b)
                          , F = -M + S - (-M + T)
                          , j = -P + w - (-P + A)
                          , N = (-P + A) * (-M + T) - (-P + w) * (-M + S)
                          , z = k * j - F * D;
                        if (Math.abs(z) < .1)
                            z += 10.1,
                            l.push(w - C, T - E, y, v, g, _),
                            l.push(w + C, T + E, y, v, g, _);
                        else {
                            var U = (D * N - j * L) / z
                              , V = (F * L - k * N) / z;
                            (U - w) * (U - w) + (V - T) * (V - T) > 196 * f * f ? (O = C - P,
                            I = E - M,
                            B = Math.sqrt(O * O + I * I),
                            O /= B,
                            I /= B,
                            O *= f,
                            I *= f,
                            l.push(w - O, T - I),
                            l.push(y, v, g, _),
                            l.push(w + O, T + I),
                            l.push(y, v, g, _),
                            l.push(w - O, T - I),
                            l.push(y, v, g, _),
                            d++) : (l.push(U, V),
                            l.push(y, v, g, _),
                            l.push(w - (U - w), T - (V - T)),
                            l.push(y, v, g, _))
                        }
                    }
                    x = i[2 * (c - 2)],
                    b = i[2 * (c - 2) + 1],
                    w = i[2 * (c - 1)],
                    T = i[2 * (c - 1) + 1],
                    C = -(b - T),
                    E = x - w,
                    B = Math.sqrt(C * C + E * E),
                    C /= B,
                    E /= B,
                    C *= f,
                    E *= f,
                    l.push(w - C, T - E),
                    l.push(y, v, g, _),
                    l.push(w + C, T + E),
                    l.push(y, v, g, _),
                    u.push(p);
                    for (var X = 0; X < d; ++X)
                        u.push(p++);
                    u.push(p - 1)
                }
            }
            function r(t, e) {
                var i = 0
                  , n = t.points;
                if (0 !== n.length) {
                    var r = e.points
                      , s = n.length / 2
                      , a = (0,
                    o.hex2rgb)(t.lineColor)
                      , h = t.lineAlpha
                      , l = a[0] * h
                      , u = a[1] * h
                      , c = a[2] * h;
                    for (i = 1; i < s; i++) {
                        var d = n[2 * (i - 1)]
                          , p = n[2 * (i - 1) + 1]
                          , f = n[2 * i]
                          , m = n[2 * i + 1];
                        r.push(d, p),
                        r.push(l, u, c, h),
                        r.push(f, m),
                        r.push(l, u, c, h)
                    }
                }
            }
            i.__esModule = !0,
            i.default = function(t, e, i) {
                t.nativeLines ? r(t, i) : n(t, e)
            }
            ;
            var s = t("../../../math")
              , o = t("../../../utils")
        }
        , {
            "../../../math": 68,
            "../../../utils": 122
        }],
        60: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e, i) {
                t.points = t.shape.points.slice();
                var n = t.points;
                if (t.fill && n.length >= 6) {
                    for (var r = [], s = t.holes, h = 0; h < s.length; h++) {
                        var u = s[h];
                        r.push(n.length / 2),
                        n = n.concat(u.points)
                    }
                    var c = e.points
                      , d = e.indices
                      , p = n.length / 2
                      , f = (0,
                    a.hex2rgb)(t.fillColor)
                      , m = t.fillAlpha
                      , _ = f[0] * m
                      , y = f[1] * m
                      , v = f[2] * m
                      , g = (0,
                    l.default)(n, r, 2);
                    if (!g)
                        return;
                    for (var x = c.length / 6, b = 0; b < g.length; b += 3)
                        d.push(g[b] + x),
                        d.push(g[b] + x),
                        d.push(g[b + 1] + x),
                        d.push(g[b + 2] + x),
                        d.push(g[b + 2] + x);
                    for (var w = 0; w < p; w++)
                        c.push(n[2 * w], n[2 * w + 1], _, y, v, m)
                }
                t.lineWidth > 0 && (0,
                o.default)(t, e, i)
            }
            i.__esModule = !0,
            i.default = r;
            var s = t("./buildLine")
              , o = n(s)
              , a = t("../../../utils")
              , h = t("earcut")
              , l = n(h)
        }
        , {
            "../../../utils": 122,
            "./buildLine": 59,
            earcut: 2
        }],
        61: [function(t, e, i) {
            "use strict";
            function n(t, e, i) {
                var n = t.shape
                  , r = n.x
                  , a = n.y
                  , h = n.width
                  , l = n.height;
                if (t.fill) {
                    var u = (0,
                    o.hex2rgb)(t.fillColor)
                      , c = t.fillAlpha
                      , d = u[0] * c
                      , p = u[1] * c
                      , f = u[2] * c
                      , m = e.points
                      , _ = e.indices
                      , y = m.length / 6;
                    m.push(r, a),
                    m.push(d, p, f, c),
                    m.push(r + h, a),
                    m.push(d, p, f, c),
                    m.push(r, a + l),
                    m.push(d, p, f, c),
                    m.push(r + h, a + l),
                    m.push(d, p, f, c),
                    _.push(y, y, y + 1, y + 2, y + 3, y + 3)
                }
                if (t.lineWidth) {
                    var v = t.points;
                    t.points = [r, a, r + h, a, r + h, a + l, r, a + l, r, a],
                    (0,
                    s.default)(t, e, i),
                    t.points = v
                }
            }
            i.__esModule = !0,
            i.default = n;
            var r = t("./buildLine")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = t("../../../utils")
        }
        , {
            "../../../utils": 122,
            "./buildLine": 59
        }],
        62: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e, i) {
                var n = t.shape
                  , r = n.x
                  , s = n.y
                  , a = n.width
                  , l = n.height
                  , d = n.radius
                  , p = [];
                if (p.push(r, s + d),
                o(r, s + l - d, r, s + l, r + d, s + l, p),
                o(r + a - d, s + l, r + a, s + l, r + a, s + l - d, p),
                o(r + a, s + d, r + a, s, r + a - d, s, p),
                o(r + d, s, r, s, r, s + d + 1e-10, p),
                t.fill) {
                    for (var f = (0,
                    c.hex2rgb)(t.fillColor), m = t.fillAlpha, _ = f[0] * m, y = f[1] * m, v = f[2] * m, g = e.points, x = e.indices, b = g.length / 6, w = (0,
                    h.default)(p, null, 2), T = 0, A = w.length; T < A; T += 3)
                        x.push(w[T] + b),
                        x.push(w[T] + b),
                        x.push(w[T + 1] + b),
                        x.push(w[T + 2] + b),
                        x.push(w[T + 2] + b);
                    for (var S = 0, C = p.length; S < C; S++)
                        g.push(p[S], p[++S], _, y, v, m)
                }
                if (t.lineWidth) {
                    var E = t.points;
                    t.points = p,
                    (0,
                    u.default)(t, e, i),
                    t.points = E
                }
            }
            function s(t, e, i) {
                return t + (e - t) * i
            }
            function o(t, e, i, n, r, o) {
                for (var a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [], h = a, l = 0, u = 0, c = 0, d = 0, p = 0, f = 0, m = 0, _ = 0; m <= 20; ++m)
                    _ = m / 20,
                    l = s(t, i, _),
                    u = s(e, n, _),
                    c = s(i, r, _),
                    d = s(n, o, _),
                    p = s(l, c, _),
                    f = s(u, d, _),
                    h.push(p, f);
                return h
            }
            i.__esModule = !0,
            i.default = r;
            var a = t("earcut")
              , h = n(a)
              , l = t("./buildLine")
              , u = n(l)
              , c = t("../../../utils")
        }
        , {
            "../../../utils": 122,
            "./buildLine": 59,
            earcut: 2
        }],
        63: [function(t, e, i) {
            "use strict";
            function n(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }
            function r(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0,
            i.autoDetectRenderer = i.Application = i.Filter = i.SpriteMaskFilter = i.Quad = i.RenderTarget = i.ObjectRenderer = i.WebGLManager = i.Shader = i.CanvasRenderTarget = i.TextureUvs = i.VideoBaseTexture = i.BaseRenderTexture = i.RenderTexture = i.BaseTexture = i.Texture = i.Spritesheet = i.CanvasGraphicsRenderer = i.GraphicsRenderer = i.GraphicsData = i.Graphics = i.TextMetrics = i.TextStyle = i.Text = i.SpriteRenderer = i.CanvasTinter = i.CanvasSpriteRenderer = i.Sprite = i.TransformBase = i.TransformStatic = i.Transform = i.Container = i.DisplayObject = i.Bounds = i.glCore = i.WebGLRenderer = i.CanvasRenderer = i.ticker = i.utils = i.settings = void 0;
            var s = t("./const");
            Object.keys(s).forEach(function(t) {
                "default" !== t && "__esModule" !== t && Object.defineProperty(i, t, {
                    enumerable: !0,
                    get: function() {
                        return s[t]
                    }
                })
            });
            var o = t("./math");
            Object.keys(o).forEach(function(t) {
                "default" !== t && "__esModule" !== t && Object.defineProperty(i, t, {
                    enumerable: !0,
                    get: function() {
                        return o[t]
                    }
                })
            });
            var a = t("pixi-gl-core");
            Object.defineProperty(i, "glCore", {
                enumerable: !0,
                get: function() {
                    return r(a).default
                }
            });
            var h = t("./display/Bounds");
            Object.defineProperty(i, "Bounds", {
                enumerable: !0,
                get: function() {
                    return r(h).default
                }
            });
            var l = t("./display/DisplayObject");
            Object.defineProperty(i, "DisplayObject", {
                enumerable: !0,
                get: function() {
                    return r(l).default
                }
            });
            var u = t("./display/Container");
            Object.defineProperty(i, "Container", {
                enumerable: !0,
                get: function() {
                    return r(u).default
                }
            });
            var c = t("./display/Transform");
            Object.defineProperty(i, "Transform", {
                enumerable: !0,
                get: function() {
                    return r(c).default
                }
            });
            var d = t("./display/TransformStatic");
            Object.defineProperty(i, "TransformStatic", {
                enumerable: !0,
                get: function() {
                    return r(d).default
                }
            });
            var p = t("./display/TransformBase");
            Object.defineProperty(i, "TransformBase", {
                enumerable: !0,
                get: function() {
                    return r(p).default
                }
            });
            var f = t("./sprites/Sprite");
            Object.defineProperty(i, "Sprite", {
                enumerable: !0,
                get: function() {
                    return r(f).default
                }
            });
            var m = t("./sprites/canvas/CanvasSpriteRenderer");
            Object.defineProperty(i, "CanvasSpriteRenderer", {
                enumerable: !0,
                get: function() {
                    return r(m).default
                }
            });
            var _ = t("./sprites/canvas/CanvasTinter");
            Object.defineProperty(i, "CanvasTinter", {
                enumerable: !0,
                get: function() {
                    return r(_).default
                }
            });
            var y = t("./sprites/webgl/SpriteRenderer");
            Object.defineProperty(i, "SpriteRenderer", {
                enumerable: !0,
                get: function() {
                    return r(y).default
                }
            });
            var v = t("./text/Text");
            Object.defineProperty(i, "Text", {
                enumerable: !0,
                get: function() {
                    return r(v).default
                }
            });
            var g = t("./text/TextStyle");
            Object.defineProperty(i, "TextStyle", {
                enumerable: !0,
                get: function() {
                    return r(g).default
                }
            });
            var x = t("./text/TextMetrics");
            Object.defineProperty(i, "TextMetrics", {
                enumerable: !0,
                get: function() {
                    return r(x).default
                }
            });
            var b = t("./graphics/Graphics");
            Object.defineProperty(i, "Graphics", {
                enumerable: !0,
                get: function() {
                    return r(b).default
                }
            });
            var w = t("./graphics/GraphicsData");
            Object.defineProperty(i, "GraphicsData", {
                enumerable: !0,
                get: function() {
                    return r(w).default
                }
            });
            var T = t("./graphics/webgl/GraphicsRenderer");
            Object.defineProperty(i, "GraphicsRenderer", {
                enumerable: !0,
                get: function() {
                    return r(T).default
                }
            });
            var A = t("./graphics/canvas/CanvasGraphicsRenderer");
            Object.defineProperty(i, "CanvasGraphicsRenderer", {
                enumerable: !0,
                get: function() {
                    return r(A).default
                }
            });
            var S = t("./textures/Spritesheet");
            Object.defineProperty(i, "Spritesheet", {
                enumerable: !0,
                get: function() {
                    return r(S).default
                }
            });
            var C = t("./textures/Texture");
            Object.defineProperty(i, "Texture", {
                enumerable: !0,
                get: function() {
                    return r(C).default
                }
            });
            var E = t("./textures/BaseTexture");
            Object.defineProperty(i, "BaseTexture", {
                enumerable: !0,
                get: function() {
                    return r(E).default
                }
            });
            var P = t("./textures/RenderTexture");
            Object.defineProperty(i, "RenderTexture", {
                enumerable: !0,
                get: function() {
                    return r(P).default
                }
            });
            var M = t("./textures/BaseRenderTexture");
            Object.defineProperty(i, "BaseRenderTexture", {
                enumerable: !0,
                get: function() {
                    return r(M).default
                }
            });
            var O = t("./textures/VideoBaseTexture");
            Object.defineProperty(i, "VideoBaseTexture", {
                enumerable: !0,
                get: function() {
                    return r(O).default
                }
            });
            var I = t("./textures/TextureUvs");
            Object.defineProperty(i, "TextureUvs", {
                enumerable: !0,
                get: function() {
                    return r(I).default
                }
            });
            var B = t("./renderers/canvas/utils/CanvasRenderTarget");
            Object.defineProperty(i, "CanvasRenderTarget", {
                enumerable: !0,
                get: function() {
                    return r(B).default
                }
            });
            var R = t("./Shader");
            Object.defineProperty(i, "Shader", {
                enumerable: !0,
                get: function() {
                    return r(R).default
                }
            });
            var k = t("./renderers/webgl/managers/WebGLManager");
            Object.defineProperty(i, "WebGLManager", {
                enumerable: !0,
                get: function() {
                    return r(k).default
                }
            });
            var D = t("./renderers/webgl/utils/ObjectRenderer");
            Object.defineProperty(i, "ObjectRenderer", {
                enumerable: !0,
                get: function() {
                    return r(D).default
                }
            });
            var L = t("./renderers/webgl/utils/RenderTarget");
            Object.defineProperty(i, "RenderTarget", {
                enumerable: !0,
                get: function() {
                    return r(L).default
                }
            });
            var F = t("./renderers/webgl/utils/Quad");
            Object.defineProperty(i, "Quad", {
                enumerable: !0,
                get: function() {
                    return r(F).default
                }
            });
            var j = t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");
            Object.defineProperty(i, "SpriteMaskFilter", {
                enumerable: !0,
                get: function() {
                    return r(j).default
                }
            });
            var N = t("./renderers/webgl/filters/Filter");
            Object.defineProperty(i, "Filter", {
                enumerable: !0,
                get: function() {
                    return r(N).default
                }
            });
            var z = t("./Application");
            Object.defineProperty(i, "Application", {
                enumerable: !0,
                get: function() {
                    return r(z).default
                }
            });
            var U = t("./autoDetectRenderer");
            Object.defineProperty(i, "autoDetectRenderer", {
                enumerable: !0,
                get: function() {
                    return U.autoDetectRenderer
                }
            });
            var V = t("./utils")
              , X = n(V)
              , W = t("./ticker")
              , q = n(W)
              , H = t("./settings")
              , G = r(H)
              , Y = t("./renderers/canvas/CanvasRenderer")
              , J = r(Y)
              , Q = t("./renderers/webgl/WebGLRenderer")
              , Z = r(Q);
            i.settings = G.default,
            i.utils = X,
            i.ticker = q,
            i.CanvasRenderer = J.default,
            i.WebGLRenderer = Z.default
        }
        , {
            "./Application": 41,
            "./Shader": 42,
            "./autoDetectRenderer": 43,
            "./const": 44,
            "./display/Bounds": 45,
            "./display/Container": 46,
            "./display/DisplayObject": 47,
            "./display/Transform": 48,
            "./display/TransformBase": 49,
            "./display/TransformStatic": 50,
            "./graphics/Graphics": 51,
            "./graphics/GraphicsData": 52,
            "./graphics/canvas/CanvasGraphicsRenderer": 53,
            "./graphics/webgl/GraphicsRenderer": 55,
            "./math": 68,
            "./renderers/canvas/CanvasRenderer": 75,
            "./renderers/canvas/utils/CanvasRenderTarget": 77,
            "./renderers/webgl/WebGLRenderer": 82,
            "./renderers/webgl/filters/Filter": 84,
            "./renderers/webgl/filters/spriteMask/SpriteMaskFilter": 87,
            "./renderers/webgl/managers/WebGLManager": 91,
            "./renderers/webgl/utils/ObjectRenderer": 92,
            "./renderers/webgl/utils/Quad": 93,
            "./renderers/webgl/utils/RenderTarget": 94,
            "./settings": 99,
            "./sprites/Sprite": 100,
            "./sprites/canvas/CanvasSpriteRenderer": 101,
            "./sprites/canvas/CanvasTinter": 102,
            "./sprites/webgl/SpriteRenderer": 104,
            "./text/Text": 106,
            "./text/TextMetrics": 107,
            "./text/TextStyle": 108,
            "./textures/BaseRenderTexture": 109,
            "./textures/BaseTexture": 110,
            "./textures/RenderTexture": 111,
            "./textures/Spritesheet": 112,
            "./textures/Texture": 113,
            "./textures/TextureUvs": 114,
            "./textures/VideoBaseTexture": 115,
            "./ticker": 118,
            "./utils": 122,
            "pixi-gl-core": 12
        }],
        64: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t < 0 ? -1 : t > 0 ? 1 : 0
            }
            i.__esModule = !0;
            var r = t("./Matrix")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1]
              , a = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1]
              , h = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1]
              , l = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1]
              , u = []
              , c = [];
            !function() {
                for (var t = 0; t < 16; t++) {
                    var e = [];
                    c.push(e);
                    for (var i = 0; i < 16; i++)
                        for (var r = n(o[t] * o[i] + h[t] * a[i]), d = n(a[t] * o[i] + l[t] * a[i]), p = n(o[t] * h[i] + h[t] * l[i]), f = n(a[t] * h[i] + l[t] * l[i]), m = 0; m < 16; m++)
                            if (o[m] === r && a[m] === d && h[m] === p && l[m] === f) {
                                e.push(m);
                                break
                            }
                }
                for (var _ = 0; _ < 16; _++) {
                    var y = new s.default;
                    y.set(o[_], a[_], h[_], l[_], 0, 0),
                    u.push(y)
                }
            }();
            var d = {
                E: 0,
                SE: 1,
                S: 2,
                SW: 3,
                W: 4,
                NW: 5,
                N: 6,
                NE: 7,
                MIRROR_VERTICAL: 8,
                MIRROR_HORIZONTAL: 12,
                uX: function(t) {
                    return o[t]
                },
                uY: function(t) {
                    return a[t]
                },
                vX: function(t) {
                    return h[t]
                },
                vY: function(t) {
                    return l[t]
                },
                inv: function(t) {
                    return 8 & t ? 15 & t : 7 & -t
                },
                add: function(t, e) {
                    return c[t][e]
                },
                sub: function(t, e) {
                    return c[t][d.inv(e)]
                },
                rotate180: function(t) {
                    return 4 ^ t
                },
                isSwapWidthHeight: function(t) {
                    return 2 == (3 & t)
                },
                byDirection: function(t, e) {
                    return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? d.S : d.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? d.E : d.W : e > 0 ? t > 0 ? d.SE : d.SW : t > 0 ? d.NE : d.NW
                },
                matrixAppendRotationInv: function(t, e) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      , n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
                      , r = u[d.inv(e)];
                    r.tx = i,
                    r.ty = n,
                    t.append(r)
                }
            };
            i.default = d
        }
        , {
            "./Matrix": 65
        }],
        65: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , s = t("./Point")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
              , a = function() {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1
                      , i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      , s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1
                      , o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0
                      , a = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
                    n(this, t),
                    this.a = e,
                    this.b = i,
                    this.c = r,
                    this.d = s,
                    this.tx = o,
                    this.ty = a,
                    this.array = null
                }
                return t.prototype.fromArray = function(t) {
                    this.a = t[0],
                    this.b = t[1],
                    this.c = t[3],
                    this.d = t[4],
                    this.tx = t[2],
                    this.ty = t[5]
                }
                ,
                t.prototype.set = function(t, e, i, n, r, s) {
                    return this.a = t,
                    this.b = e,
                    this.c = i,
                    this.d = n,
                    this.tx = r,
                    this.ty = s,
                    this
                }
                ,
                t.prototype.toArray = function(t, e) {
                    this.array || (this.array = new Float32Array(9));
                    var i = e || this.array;
                    return t ? (i[0] = this.a,
                    i[1] = this.b,
                    i[2] = 0,
                    i[3] = this.c,
                    i[4] = this.d,
                    i[5] = 0,
                    i[6] = this.tx,
                    i[7] = this.ty,
                    i[8] = 1) : (i[0] = this.a,
                    i[1] = this.c,
                    i[2] = this.tx,
                    i[3] = this.b,
                    i[4] = this.d,
                    i[5] = this.ty,
                    i[6] = 0,
                    i[7] = 0,
                    i[8] = 1),
                    i
                }
                ,
                t.prototype.apply = function(t, e) {
                    e = e || new o.default;
                    var i = t.x
                      , n = t.y;
                    return e.x = this.a * i + this.c * n + this.tx,
                    e.y = this.b * i + this.d * n + this.ty,
                    e
                }
                ,
                t.prototype.applyInverse = function(t, e) {
                    e = e || new o.default;
                    var i = 1 / (this.a * this.d + this.c * -this.b)
                      , n = t.x
                      , r = t.y;
                    return e.x = this.d * i * n + -this.c * i * r + (this.ty * this.c - this.tx * this.d) * i,
                    e.y = this.a * i * r + -this.b * i * n + (-this.ty * this.a + this.tx * this.b) * i,
                    e
                }
                ,
                t.prototype.translate = function(t, e) {
                    return this.tx += t,
                    this.ty += e,
                    this
                }
                ,
                t.prototype.scale = function(t, e) {
                    return this.a *= t,
                    this.d *= e,
                    this.c *= t,
                    this.b *= e,
                    this.tx *= t,
                    this.ty *= e,
                    this
                }
                ,
                t.prototype.rotate = function(t) {
                    var e = Math.cos(t)
                      , i = Math.sin(t)
                      , n = this.a
                      , r = this.c
                      , s = this.tx;
                    return this.a = n * e - this.b * i,
                    this.b = n * i + this.b * e,
                    this.c = r * e - this.d * i,
                    this.d = r * i + this.d * e,
                    this.tx = s * e - this.ty * i,
                    this.ty = s * i + this.ty * e,
                    this
                }
                ,
                t.prototype.append = function(t) {
                    var e = this.a
                      , i = this.b
                      , n = this.c
                      , r = this.d;
                    return this.a = t.a * e + t.b * n,
                    this.b = t.a * i + t.b * r,
                    this.c = t.c * e + t.d * n,
                    this.d = t.c * i + t.d * r,
                    this.tx = t.tx * e + t.ty * n + this.tx,
                    this.ty = t.tx * i + t.ty * r + this.ty,
                    this
                }
                ,
                t.prototype.setTransform = function(t, e, i, n, r, s, o, a, h) {
                    var l = Math.sin(o)
                      , u = Math.cos(o)
                      , c = Math.cos(h)
                      , d = Math.sin(h)
                      , p = -Math.sin(a)
                      , f = Math.cos(a)
                      , m = u * r
                      , _ = l * r
                      , y = -l * s
                      , v = u * s;
                    return this.a = c * m + d * y,
                    this.b = c * _ + d * v,
                    this.c = p * m + f * y,
                    this.d = p * _ + f * v,
                    this.tx = t + (i * m + n * y),
                    this.ty = e + (i * _ + n * v),
                    this
                }
                ,
                t.prototype.prepend = function(t) {
                    var e = this.tx;
                    if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) {
                        var i = this.a
                          , n = this.c;
                        this.a = i * t.a + this.b * t.c,
                        this.b = i * t.b + this.b * t.d,
                        this.c = n * t.a + this.d * t.c,
                        this.d = n * t.b + this.d * t.d
                    }
                    return this.tx = e * t.a + this.ty * t.c + t.tx,
                    this.ty = e * t.b + this.ty * t.d + t.ty,
                    this
                }
                ,
                t.prototype.decompose = function(t) {
                    var e = this.a
                      , i = this.b
                      , n = this.c
                      , r = this.d
                      , s = -Math.atan2(-n, r)
                      , o = Math.atan2(i, e);
                    return Math.abs(s + o) < 1e-5 ? (t.rotation = o,
                    e < 0 && r >= 0 && (t.rotation += t.rotation <= 0 ? Math.PI : -Math.PI),
                    t.skew.x = t.skew.y = 0) : (t.skew.x = s,
                    t.skew.y = o),
                    t.scale.x = Math.sqrt(e * e + i * i),
                    t.scale.y = Math.sqrt(n * n + r * r),
                    t.position.x = this.tx,
                    t.position.y = this.ty,
                    t
                }
                ,
                t.prototype.invert = function() {
                    var t = this.a
                      , e = this.b
                      , i = this.c
                      , n = this.d
                      , r = this.tx
                      , s = t * n - e * i;
                    return this.a = n / s,
                    this.b = -e / s,
                    this.c = -i / s,
                    this.d = t / s,
                    this.tx = (i * this.ty - n * r) / s,
                    this.ty = -(t * this.ty - e * r) / s,
                    this
                }
                ,
                t.prototype.identity = function() {
                    return this.a = 1,
                    this.b = 0,
                    this.c = 0,
                    this.d = 1,
                    this.tx = 0,
                    this.ty = 0,
                    this
                }
                ,
                t.prototype.clone = function() {
                    var e = new t;
                    return e.a = this.a,
                    e.b = this.b,
                    e.c = this.c,
                    e.d = this.d,
                    e.tx = this.tx,
                    e.ty = this.ty,
                    e
                }
                ,
                t.prototype.copy = function(t) {
                    return t.a = this.a,
                    t.b = this.b,
                    t.c = this.c,
                    t.d = this.d,
                    t.tx = this.tx,
                    t.ty = this.ty,
                    t
                }
                ,
                r(t, null, [{
                    key: "IDENTITY",
                    get: function() {
                        return new t
                    }
                }, {
                    key: "TEMP_MATRIX",
                    get: function() {
                        return new t
                    }
                }]),
                t
            }();
            i.default = a
        }
        , {
            "./Point": 67
        }],
        66: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , s = function() {
                function t(e, i) {
                    var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      , s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                    n(this, t),
                    this._x = r,
                    this._y = s,
                    this.cb = e,
                    this.scope = i
                }
                return t.prototype.set = function(t, e) {
                    var i = t || 0
                      , n = e || (0 !== e ? i : 0);
                    this._x === i && this._y === n || (this._x = i,
                    this._y = n,
                    this.cb.call(this.scope))
                }
                ,
                t.prototype.copy = function(t) {
                    this._x === t.x && this._y === t.y || (this._x = t.x,
                    this._y = t.y,
                    this.cb.call(this.scope))
                }
                ,
                r(t, [{
                    key: "x",
                    get: function() {
                        return this._x
                    },
                    set: function(t) {
                        this._x !== t && (this._x = t,
                        this.cb.call(this.scope))
                    }
                }, {
                    key: "y",
                    get: function() {
                        return this._y
                    },
                    set: function(t) {
                        this._y !== t && (this._y = t,
                        this.cb.call(this.scope))
                    }
                }]),
                t
            }();
            i.default = s
        }
        , {}],
        67: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    n(this, t),
                    this.x = e,
                    this.y = i
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y)
                }
                ,
                t.prototype.copy = function(t) {
                    this.set(t.x, t.y)
                }
                ,
                t.prototype.equals = function(t) {
                    return t.x === this.x && t.y === this.y
                }
                ,
                t.prototype.set = function(t, e) {
                    this.x = t || 0,
                    this.y = e || (0 !== e ? this.x : 0)
                }
                ,
                t
            }();
            i.default = r
        }
        , {}],
        68: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./Point");
            Object.defineProperty(i, "Point", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./ObservablePoint");
            Object.defineProperty(i, "ObservablePoint", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            });
            var o = t("./Matrix");
            Object.defineProperty(i, "Matrix", {
                enumerable: !0,
                get: function() {
                    return n(o).default
                }
            });
            var a = t("./GroupD8");
            Object.defineProperty(i, "GroupD8", {
                enumerable: !0,
                get: function() {
                    return n(a).default
                }
            });
            var h = t("./shapes/Circle");
            Object.defineProperty(i, "Circle", {
                enumerable: !0,
                get: function() {
                    return n(h).default
                }
            });
            var l = t("./shapes/Ellipse");
            Object.defineProperty(i, "Ellipse", {
                enumerable: !0,
                get: function() {
                    return n(l).default
                }
            });
            var u = t("./shapes/Polygon");
            Object.defineProperty(i, "Polygon", {
                enumerable: !0,
                get: function() {
                    return n(u).default
                }
            });
            var c = t("./shapes/Rectangle");
            Object.defineProperty(i, "Rectangle", {
                enumerable: !0,
                get: function() {
                    return n(c).default
                }
            });
            var d = t("./shapes/RoundedRectangle");
            Object.defineProperty(i, "RoundedRectangle", {
                enumerable: !0,
                get: function() {
                    return n(d).default
                }
            })
        }
        , {
            "./GroupD8": 64,
            "./Matrix": 65,
            "./ObservablePoint": 66,
            "./Point": 67,
            "./shapes/Circle": 69,
            "./shapes/Ellipse": 70,
            "./shapes/Polygon": 71,
            "./shapes/Rectangle": 72,
            "./shapes/RoundedRectangle": 73
        }],
        69: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("./Rectangle")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = t("../../const")
              , a = function() {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                    n(this, t),
                    this.x = e,
                    this.y = i,
                    this.radius = r,
                    this.type = o.SHAPES.CIRC
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y,this.radius)
                }
                ,
                t.prototype.contains = function(t, e) {
                    if (this.radius <= 0)
                        return !1;
                    var i = this.radius * this.radius
                      , n = this.x - t
                      , r = this.y - e;
                    return n *= n,
                    r *= r,
                    n + r <= i
                }
                ,
                t.prototype.getBounds = function() {
                    return new s.default(this.x - this.radius,this.y - this.radius,2 * this.radius,2 * this.radius)
                }
                ,
                t
            }();
            i.default = a
        }
        , {
            "../../const": 44,
            "./Rectangle": 72
        }],
        70: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("./Rectangle")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = t("../../const")
              , a = function() {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      , s = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                    n(this, t),
                    this.x = e,
                    this.y = i,
                    this.width = r,
                    this.height = s,
                    this.type = o.SHAPES.ELIP
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y,this.width,this.height)
                }
                ,
                t.prototype.contains = function(t, e) {
                    if (this.width <= 0 || this.height <= 0)
                        return !1;
                    var i = (t - this.x) / this.width
                      , n = (e - this.y) / this.height;
                    return i *= i,
                    n *= n,
                    i + n <= 1
                }
                ,
                t.prototype.getBounds = function() {
                    return new s.default(this.x - this.width,this.y - this.height,this.width,this.height)
                }
                ,
                t
            }();
            i.default = a
        }
        , {
            "../../const": 44,
            "./Rectangle": 72
        }],
        71: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../Point")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = t("../../const")
              , a = function() {
                function t() {
                    for (var e = arguments.length, i = Array(e), r = 0; r < e; r++)
                        i[r] = arguments[r];
                    if (n(this, t),
                    Array.isArray(i[0]) && (i = i[0]),
                    i[0]instanceof s.default) {
                        for (var a = [], h = 0, l = i.length; h < l; h++)
                            a.push(i[h].x, i[h].y);
                        i = a
                    }
                    this.closed = !0,
                    this.points = i,
                    this.type = o.SHAPES.POLY
                }
                return t.prototype.clone = function() {
                    return new t(this.points.slice())
                }
                ,
                t.prototype.close = function() {
                    var t = this.points;
                    t[0] === t[t.length - 2] && t[1] === t[t.length - 1] || t.push(t[0], t[1])
                }
                ,
                t.prototype.contains = function(t, e) {
                    for (var i = !1, n = this.points.length / 2, r = 0, s = n - 1; r < n; s = r++) {
                        var o = this.points[2 * r]
                          , a = this.points[2 * r + 1]
                          , h = this.points[2 * s]
                          , l = this.points[2 * s + 1];
                        a > e != l > e && t < (e - a) / (l - a) * (h - o) + o && (i = !i)
                    }
                    return i
                }
                ,
                t
            }();
            i.default = a
        }
        , {
            "../../const": 44,
            "../Point": 67
        }],
        72: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , s = t("../../const")
              , o = function() {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      , o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                    n(this, t),
                    this.x = e,
                    this.y = i,
                    this.width = r,
                    this.height = o,
                    this.type = s.SHAPES.RECT
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y,this.width,this.height)
                }
                ,
                t.prototype.copy = function(t) {
                    return this.x = t.x,
                    this.y = t.y,
                    this.width = t.width,
                    this.height = t.height,
                    this
                }
                ,
                t.prototype.contains = function(t, e) {
                    return !(this.width <= 0 || this.height <= 0) && t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height
                }
                ,
                t.prototype.pad = function(t, e) {
                    t = t || 0,
                    e = e || (0 !== e ? t : 0),
                    this.x -= t,
                    this.y -= e,
                    this.width += 2 * t,
                    this.height += 2 * e
                }
                ,
                t.prototype.fit = function(t) {
                    this.x < t.x && (this.width += this.x,
                    this.width < 0 && (this.width = 0),
                    this.x = t.x),
                    this.y < t.y && (this.height += this.y,
                    this.height < 0 && (this.height = 0),
                    this.y = t.y),
                    this.x + this.width > t.x + t.width && (this.width = t.width - this.x,
                    this.width < 0 && (this.width = 0)),
                    this.y + this.height > t.y + t.height && (this.height = t.height - this.y,
                    this.height < 0 && (this.height = 0))
                }
                ,
                t.prototype.enlarge = function(t) {
                    var e = Math.min(this.x, t.x)
                      , i = Math.max(this.x + this.width, t.x + t.width)
                      , n = Math.min(this.y, t.y)
                      , r = Math.max(this.y + this.height, t.y + t.height);
                    this.x = e,
                    this.width = i - e,
                    this.y = n,
                    this.height = r - n
                }
                ,
                r(t, [{
                    key: "left",
                    get: function() {
                        return this.x
                    }
                }, {
                    key: "right",
                    get: function() {
                        return this.x + this.width
                    }
                }, {
                    key: "top",
                    get: function() {
                        return this.y
                    }
                }, {
                    key: "bottom",
                    get: function() {
                        return this.y + this.height
                    }
                }], [{
                    key: "EMPTY",
                    get: function() {
                        return new t(0,0,0,0)
                    }
                }]),
                t
            }();
            i.default = o
        }
        , {
            "../../const": 44
        }],
        73: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../../const")
              , s = function() {
                function t() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0
                      , s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      , o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0
                      , a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 20;
                    n(this, t),
                    this.x = e,
                    this.y = i,
                    this.width = s,
                    this.height = o,
                    this.radius = a,
                    this.type = r.SHAPES.RREC
                }
                return t.prototype.clone = function() {
                    return new t(this.x,this.y,this.width,this.height,this.radius)
                }
                ,
                t.prototype.contains = function(t, e) {
                    if (this.width <= 0 || this.height <= 0)
                        return !1;
                    if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) {
                        if (e >= this.y + this.radius && e <= this.y + this.height - this.radius || t >= this.x + this.radius && t <= this.x + this.width - this.radius)
                            return !0;
                        var i = t - (this.x + this.radius)
                          , n = e - (this.y + this.radius)
                          , r = this.radius * this.radius;
                        if (i * i + n * n <= r)
                            return !0;
                        if ((i = t - (this.x + this.width - this.radius)) * i + n * n <= r)
                            return !0;
                        if (n = e - (this.y + this.height - this.radius),
                        i * i + n * n <= r)
                            return !0;
                        if ((i = t - (this.x + this.radius)) * i + n * n <= r)
                            return !0
                    }
                    return !1
                }
                ,
                t
            }();
            i.default = s
        }
        , {
            "../../const": 44
        }],
        74: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("../utils")
              , l = t("../math")
              , u = t("../const")
              , c = t("../settings")
              , d = n(c)
              , p = t("../display/Container")
              , f = n(p)
              , m = t("../textures/RenderTexture")
              , _ = n(m)
              , y = t("eventemitter3")
              , v = n(y)
              , g = new l.Matrix
              , x = function(t) {
                function e(i, n, o, a) {
                    r(this, e);
                    var c = s(this, t.call(this));
                    return (0,
                    h.sayHello)(i),
                    "number" == typeof n && (n = Object.assign({
                        width: n,
                        height: o || d.default.RENDER_OPTIONS.height
                    }, a)),
                    n = Object.assign({}, d.default.RENDER_OPTIONS, n),
                    c.options = n,
                    c.type = u.RENDERER_TYPE.UNKNOWN,
                    c.screen = new l.Rectangle(0,0,n.width,n.height),
                    c.view = n.view || document.createElement("canvas"),
                    c.resolution = n.resolution || d.default.RESOLUTION,
                    c.transparent = n.transparent,
                    c.autoResize = n.autoResize || !1,
                    c.blendModes = null,
                    c.preserveDrawingBuffer = n.preserveDrawingBuffer,
                    c.clearBeforeRender = n.clearBeforeRender,
                    c.roundPixels = n.roundPixels,
                    c._backgroundColor = 0,
                    c._backgroundColorRgba = [0, 0, 0, 0],
                    c._backgroundColorString = "#000000",
                    c.backgroundColor = n.backgroundColor || c._backgroundColor,
                    c._tempDisplayObjectParent = new f.default,
                    c._lastObjectRendered = c._tempDisplayObjectParent,
                    c
                }
                return o(e, t),
                e.prototype.resize = function(t, e) {
                    this.screen.width = t,
                    this.screen.height = e,
                    this.view.width = t * this.resolution,
                    this.view.height = e * this.resolution,
                    this.autoResize && (this.view.style.width = t + "px",
                    this.view.style.height = e + "px")
                }
                ,
                e.prototype.generateTexture = function(t, e, i) {
                    var n = t.getLocalBounds()
                      , r = _.default.create(0 | n.width, 0 | n.height, e, i);
                    return g.tx = -n.x,
                    g.ty = -n.y,
                    this.render(t, r, !1, g, !0),
                    r
                }
                ,
                e.prototype.destroy = function(t) {
                    t && this.view.parentNode && this.view.parentNode.removeChild(this.view),
                    this.type = u.RENDERER_TYPE.UNKNOWN,
                    this.view = null,
                    this.screen = null,
                    this.resolution = 0,
                    this.transparent = !1,
                    this.autoResize = !1,
                    this.blendModes = null,
                    this.options = null,
                    this.preserveDrawingBuffer = !1,
                    this.clearBeforeRender = !1,
                    this.roundPixels = !1,
                    this._backgroundColor = 0,
                    this._backgroundColorRgba = null,
                    this._backgroundColorString = null,
                    this.backgroundColor = 0,
                    this._tempDisplayObjectParent = null,
                    this._lastObjectRendered = null
                }
                ,
                a(e, [{
                    key: "width",
                    get: function() {
                        return this.view.width
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this.view.height
                    }
                }, {
                    key: "backgroundColor",
                    get: function() {
                        return this._backgroundColor
                    },
                    set: function(t) {
                        this._backgroundColor = t,
                        this._backgroundColorString = (0,
                        h.hex2string)(t),
                        (0,
                        h.hex2rgb)(t, this._backgroundColorRgba)
                    }
                }]),
                e
            }(v.default);
            i.default = x
        }
        , {
            "../const": 44,
            "../display/Container": 46,
            "../math": 68,
            "../settings": 99,
            "../textures/RenderTexture": 111,
            "../utils": 122,
            eventemitter3: 3
        }],
        75: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("../SystemRenderer")
              , h = n(a)
              , l = t("./utils/CanvasMaskManager")
              , u = n(l)
              , c = t("./utils/CanvasRenderTarget")
              , d = n(c)
              , p = t("./utils/mapCanvasBlendModesToPixi")
              , f = n(p)
              , m = t("../../utils")
              , _ = t("../../const")
              , y = t("../../settings")
              , v = n(y)
              , g = function(t) {
                function e(i, n, o) {
                    r(this, e);
                    var a = s(this, t.call(this, "Canvas", i, n, o));
                    return a.type = _.RENDERER_TYPE.CANVAS,
                    a.rootContext = a.view.getContext("2d", {
                        alpha: a.transparent
                    }),
                    a.refresh = !0,
                    a.maskManager = new u.default(a),
                    a.smoothProperty = "imageSmoothingEnabled",
                    a.rootContext.imageSmoothingEnabled || (a.rootContext.webkitImageSmoothingEnabled ? a.smoothProperty = "webkitImageSmoothingEnabled" : a.rootContext.mozImageSmoothingEnabled ? a.smoothProperty = "mozImageSmoothingEnabled" : a.rootContext.oImageSmoothingEnabled ? a.smoothProperty = "oImageSmoothingEnabled" : a.rootContext.msImageSmoothingEnabled && (a.smoothProperty = "msImageSmoothingEnabled")),
                    a.initPlugins(),
                    a.blendModes = (0,
                    f.default)(),
                    a._activeBlendMode = null,
                    a.context = null,
                    a.renderingToScreen = !1,
                    a.resize(a.options.width, a.options.height),
                    a
                }
                return o(e, t),
                e.prototype.render = function(t, e, i, n, r) {
                    if (this.view) {
                        this.renderingToScreen = !e,
                        this.emit("prerender");
                        var s = this.resolution;
                        e ? (e = e.baseTexture || e,
                        e._canvasRenderTarget || (e._canvasRenderTarget = new d.default(e.width,e.height,e.resolution),
                        e.source = e._canvasRenderTarget.canvas,
                        e.valid = !0),
                        this.context = e._canvasRenderTarget.context,
                        this.resolution = e._canvasRenderTarget.resolution) : this.context = this.rootContext;
                        var o = this.context;
                        if (e || (this._lastObjectRendered = t),
                        !r) {
                            var a = t.parent
                              , h = this._tempDisplayObjectParent.transform.worldTransform;
                            n ? (n.copy(h),
                            this._tempDisplayObjectParent.transform._worldID = -1) : h.identity(),
                            t.parent = this._tempDisplayObjectParent,
                            t.updateTransform(),
                            t.parent = a
                        }
                        o.setTransform(1, 0, 0, 1, 0, 0),
                        o.globalAlpha = 1,
                        o.globalCompositeOperation = this.blendModes[_.BLEND_MODES.NORMAL],
                        navigator.isCocoonJS && this.view.screencanvas && (o.fillStyle = "black",
                        o.clear()),
                        (void 0 !== i ? i : this.clearBeforeRender) && this.renderingToScreen && (this.transparent ? o.clearRect(0, 0, this.width, this.height) : (o.fillStyle = this._backgroundColorString,
                        o.fillRect(0, 0, this.width, this.height)));
                        var l = this.context;
                        this.context = o,
                        t.renderCanvas(this),
                        this.context = l,
                        this.resolution = s,
                        this.emit("postrender")
                    }
                }
                ,
                e.prototype.clear = function(t) {
                    var e = this.context;
                    t = t || this._backgroundColorString,
                    !this.transparent && t ? (e.fillStyle = t,
                    e.fillRect(0, 0, this.width, this.height)) : e.clearRect(0, 0, this.width, this.height)
                }
                ,
                e.prototype.setBlendMode = function(t) {
                    this._activeBlendMode !== t && (this._activeBlendMode = t,
                    this.context.globalCompositeOperation = this.blendModes[t])
                }
                ,
                e.prototype.destroy = function(e) {
                    this.destroyPlugins(),
                    t.prototype.destroy.call(this, e),
                    this.context = null,
                    this.refresh = !0,
                    this.maskManager.destroy(),
                    this.maskManager = null,
                    this.smoothProperty = null
                }
                ,
                e.prototype.resize = function(e, i) {
                    t.prototype.resize.call(this, e, i),
                    this.smoothProperty && (this.rootContext[this.smoothProperty] = v.default.SCALE_MODE === _.SCALE_MODES.LINEAR)
                }
                ,
                e
            }(h.default);
            i.default = g,
            m.pluginTarget.mixin(g)
        }
        , {
            "../../const": 44,
            "../../settings": 99,
            "../../utils": 122,
            "../SystemRenderer": 74,
            "./utils/CanvasMaskManager": 76,
            "./utils/CanvasRenderTarget": 77,
            "./utils/mapCanvasBlendModesToPixi": 79
        }],
        76: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../../../const")
              , s = function() {
                function t(e) {
                    n(this, t),
                    this.renderer = e
                }
                return t.prototype.pushMask = function(t) {
                    var e = this.renderer;
                    e.context.save();
                    var i = t.alpha
                      , n = t.transform.worldTransform
                      , r = e.resolution;
                    e.context.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r, n.ty * r),
                    t._texture || (this.renderGraphicsShape(t),
                    e.context.clip()),
                    t.worldAlpha = i
                }
                ,
                t.prototype.renderGraphicsShape = function(t) {
                    var e = this.renderer.context
                      , i = t.graphicsData.length;
                    if (0 !== i) {
                        e.beginPath();
                        for (var n = 0; n < i; n++) {
                            var s = t.graphicsData[n]
                              , o = s.shape;
                            if (s.type === r.SHAPES.POLY) {
                                var a = o.points;
                                e.moveTo(a[0], a[1]);
                                for (var h = 1; h < a.length / 2; h++)
                                    e.lineTo(a[2 * h], a[2 * h + 1]);
                                a[0] === a[a.length - 2] && a[1] === a[a.length - 1] && e.closePath()
                            } else if (s.type === r.SHAPES.RECT)
                                e.rect(o.x, o.y, o.width, o.height),
                                e.closePath();
                            else if (s.type === r.SHAPES.CIRC)
                                e.arc(o.x, o.y, o.radius, 0, 2 * Math.PI),
                                e.closePath();
                            else if (s.type === r.SHAPES.ELIP) {
                                var l = 2 * o.width
                                  , u = 2 * o.height
                                  , c = o.x - l / 2
                                  , d = o.y - u / 2
                                  , p = .5522848
                                  , f = l / 2 * p
                                  , m = u / 2 * p
                                  , _ = c + l
                                  , y = d + u
                                  , v = c + l / 2
                                  , g = d + u / 2;
                                e.moveTo(c, g),
                                e.bezierCurveTo(c, g - m, v - f, d, v, d),
                                e.bezierCurveTo(v + f, d, _, g - m, _, g),
                                e.bezierCurveTo(_, g + m, v + f, y, v, y),
                                e.bezierCurveTo(v - f, y, c, g + m, c, g),
                                e.closePath()
                            } else if (s.type === r.SHAPES.RREC) {
                                var x = o.x
                                  , b = o.y
                                  , w = o.width
                                  , T = o.height
                                  , A = o.radius
                                  , S = Math.min(w, T) / 2 | 0;
                                A = A > S ? S : A,
                                e.moveTo(x, b + A),
                                e.lineTo(x, b + T - A),
                                e.quadraticCurveTo(x, b + T, x + A, b + T),
                                e.lineTo(x + w - A, b + T),
                                e.quadraticCurveTo(x + w, b + T, x + w, b + T - A),
                                e.lineTo(x + w, b + A),
                                e.quadraticCurveTo(x + w, b, x + w - A, b),
                                e.lineTo(x + A, b),
                                e.quadraticCurveTo(x, b, x, b + A),
                                e.closePath()
                            }
                        }
                    }
                }
                ,
                t.prototype.popMask = function(t) {
                    t.context.restore()
                }
                ,
                t.prototype.destroy = function() {}
                ,
                t
            }();
            i.default = s
        }
        , {
            "../../../const": 44
        }],
        77: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , s = t("../../../settings")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
              , a = function() {
                function t(e, i, r) {
                    n(this, t),
                    this.canvas = document.createElement("canvas"),
                    this.context = this.canvas.getContext("2d"),
                    this.resolution = r || o.default.RESOLUTION,
                    this.resize(e, i)
                }
                return t.prototype.clear = function() {
                    this.context.setTransform(1, 0, 0, 1, 0, 0),
                    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)
                }
                ,
                t.prototype.resize = function(t, e) {
                    this.canvas.width = t * this.resolution,
                    this.canvas.height = e * this.resolution
                }
                ,
                t.prototype.destroy = function() {
                    this.context = null,
                    this.canvas = null
                }
                ,
                r(t, [{
                    key: "width",
                    get: function() {
                        return this.canvas.width
                    },
                    set: function(t) {
                        this.canvas.width = t
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this.canvas.height
                    },
                    set: function(t) {
                        this.canvas.height = t
                    }
                }]),
                t
            }();
            i.default = a
        }
        , {
            "../../../settings": 99
        }],
        78: [function(t, e, i) {
            "use strict";
            function n(t) {
                var e = document.createElement("canvas");
                e.width = 6,
                e.height = 1;
                var i = e.getContext("2d");
                return i.fillStyle = t,
                i.fillRect(0, 0, 6, 1),
                e
            }
            function r() {
                if ("undefined" == typeof document)
                    return !1;
                var t = n("#ff00ff")
                  , e = n("#ffff00")
                  , i = document.createElement("canvas");
                i.width = 6,
                i.height = 1;
                var r = i.getContext("2d");
                r.globalCompositeOperation = "multiply",
                r.drawImage(t, 0, 0),
                r.drawImage(e, 2, 0);
                var s = r.getImageData(2, 0, 1, 1);
                if (!s)
                    return !1;
                var o = s.data;
                return 255 === o[0] && 0 === o[1] && 0 === o[2]
            }
            i.__esModule = !0,
            i.default = r
        }
        , {}],
        79: [function(t, e, i) {
            "use strict";
            function n() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                return (0,
                o.default)() ? (t[r.BLEND_MODES.NORMAL] = "source-over",
                t[r.BLEND_MODES.ADD] = "lighter",
                t[r.BLEND_MODES.MULTIPLY] = "multiply",
                t[r.BLEND_MODES.SCREEN] = "screen",
                t[r.BLEND_MODES.OVERLAY] = "overlay",
                t[r.BLEND_MODES.DARKEN] = "darken",
                t[r.BLEND_MODES.LIGHTEN] = "lighten",
                t[r.BLEND_MODES.COLOR_DODGE] = "color-dodge",
                t[r.BLEND_MODES.COLOR_BURN] = "color-burn",
                t[r.BLEND_MODES.HARD_LIGHT] = "hard-light",
                t[r.BLEND_MODES.SOFT_LIGHT] = "soft-light",
                t[r.BLEND_MODES.DIFFERENCE] = "difference",
                t[r.BLEND_MODES.EXCLUSION] = "exclusion",
                t[r.BLEND_MODES.HUE] = "hue",
                t[r.BLEND_MODES.SATURATION] = "saturate",
                t[r.BLEND_MODES.COLOR] = "color",
                t[r.BLEND_MODES.LUMINOSITY] = "luminosity") : (t[r.BLEND_MODES.NORMAL] = "source-over",
                t[r.BLEND_MODES.ADD] = "lighter",
                t[r.BLEND_MODES.MULTIPLY] = "source-over",
                t[r.BLEND_MODES.SCREEN] = "source-over",
                t[r.BLEND_MODES.OVERLAY] = "source-over",
                t[r.BLEND_MODES.DARKEN] = "source-over",
                t[r.BLEND_MODES.LIGHTEN] = "source-over",
                t[r.BLEND_MODES.COLOR_DODGE] = "source-over",
                t[r.BLEND_MODES.COLOR_BURN] = "source-over",
                t[r.BLEND_MODES.HARD_LIGHT] = "source-over",
                t[r.BLEND_MODES.SOFT_LIGHT] = "source-over",
                t[r.BLEND_MODES.DIFFERENCE] = "source-over",
                t[r.BLEND_MODES.EXCLUSION] = "source-over",
                t[r.BLEND_MODES.HUE] = "source-over",
                t[r.BLEND_MODES.SATURATION] = "source-over",
                t[r.BLEND_MODES.COLOR] = "source-over",
                t[r.BLEND_MODES.LUMINOSITY] = "source-over"),
                t
            }
            i.__esModule = !0,
            i.default = n;
            var r = t("../../../const")
              , s = t("./canUseNewCanvasBlendModes")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
        }
        , {
            "../../../const": 44,
            "./canUseNewCanvasBlendModes": 78
        }],
        80: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../../const")
              , s = t("../../settings")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
              , a = function() {
                function t(e) {
                    n(this, t),
                    this.renderer = e,
                    this.count = 0,
                    this.checkCount = 0,
                    this.maxIdle = o.default.GC_MAX_IDLE,
                    this.checkCountMax = o.default.GC_MAX_CHECK_COUNT,
                    this.mode = o.default.GC_MODE
                }
                return t.prototype.update = function() {
                    this.count++,
                    this.mode !== r.GC_MODES.MANUAL && ++this.checkCount > this.checkCountMax && (this.checkCount = 0,
                    this.run())
                }
                ,
                t.prototype.run = function() {
                    for (var t = this.renderer.textureManager, e = t._managedTextures, i = !1, n = 0; n < e.length; n++) {
                        var r = e[n];
                        !r._glRenderTargets && this.count - r.touched > this.maxIdle && (t.destroyTexture(r, !0),
                        e[n] = null,
                        i = !0)
                    }
                    if (i) {
                        for (var s = 0, o = 0; o < e.length; o++)
                            null !== e[o] && (e[s++] = e[o]);
                        e.length = s
                    }
                }
                ,
                t.prototype.unload = function(t) {
                    var e = this.renderer.textureManager;
                    t._texture && t._texture._glRenderTargets && e.destroyTexture(t._texture, !0);
                    for (var i = t.children.length - 1; i >= 0; i--)
                        this.unload(t.children[i])
                }
                ,
                t
            }();
            i.default = a
        }
        , {
            "../../const": 44,
            "../../settings": 99
        }],
        81: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("pixi-gl-core")
              , s = t("../../const")
              , o = t("./utils/RenderTarget")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = t("../../utils")
              , l = function() {
                function t(e) {
                    n(this, t),
                    this.renderer = e,
                    this.gl = e.gl,
                    this._managedTextures = []
                }
                return t.prototype.bindTexture = function() {}
                ,
                t.prototype.getTexture = function() {}
                ,
                t.prototype.updateTexture = function(t, e) {
                    var i = this.gl
                      , n = !!t._glRenderTargets;
                    if (!t.hasLoaded)
                        return null;
                    var o = this.renderer.boundTextures;
                    if (void 0 === e) {
                        e = 0;
                        for (var h = 0; h < o.length; ++h)
                            if (o[h] === t) {
                                e = h;
                                break
                            }
                    }
                    o[e] = t,
                    i.activeTexture(i.TEXTURE0 + e);
                    var l = t._glTextures[this.renderer.CONTEXT_UID];
                    if (l)
                        n ? t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width, t.height) : l.upload(t.source);
                    else {
                        if (n) {
                            var u = new a.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);
                            u.resize(t.width, t.height),
                            t._glRenderTargets[this.renderer.CONTEXT_UID] = u,
                            l = u.texture
                        } else
                            l = new r.GLTexture(this.gl,null,null,null,null),
                            l.bind(e),
                            l.premultiplyAlpha = !0,
                            l.upload(t.source);
                        t._glTextures[this.renderer.CONTEXT_UID] = l,
                        t.on("update", this.updateTexture, this),
                        t.on("dispose", this.destroyTexture, this),
                        this._managedTextures.push(t),
                        t.isPowerOfTwo ? (t.mipmap && l.enableMipmap(),
                        t.wrapMode === s.WRAP_MODES.CLAMP ? l.enableWrapClamp() : t.wrapMode === s.WRAP_MODES.REPEAT ? l.enableWrapRepeat() : l.enableWrapMirrorRepeat()) : l.enableWrapClamp(),
                        t.scaleMode === s.SCALE_MODES.NEAREST ? l.enableNearestScaling() : l.enableLinearScaling()
                    }
                    return l
                }
                ,
                t.prototype.destroyTexture = function(t, e) {
                    if (t = t.baseTexture || t,
                    t.hasLoaded && t._glTextures[this.renderer.CONTEXT_UID] && (this.renderer.unbindTexture(t),
                    t._glTextures[this.renderer.CONTEXT_UID].destroy(),
                    t.off("update", this.updateTexture, this),
                    t.off("dispose", this.destroyTexture, this),
                    delete t._glTextures[this.renderer.CONTEXT_UID],
                    !e)) {
                        var i = this._managedTextures.indexOf(t);
                        -1 !== i && (0,
                        h.removeItems)(this._managedTextures, i, 1)
                    }
                }
                ,
                t.prototype.removeAll = function() {
                    for (var t = 0; t < this._managedTextures.length; ++t) {
                        var e = this._managedTextures[t];
                        e._glTextures[this.renderer.CONTEXT_UID] && delete e._glTextures[this.renderer.CONTEXT_UID]
                    }
                }
                ,
                t.prototype.destroy = function() {
                    for (var t = 0; t < this._managedTextures.length; ++t) {
                        var e = this._managedTextures[t];
                        this.destroyTexture(e, !0),
                        e.off("update", this.updateTexture, this),
                        e.off("dispose", this.destroyTexture, this)
                    }
                    this._managedTextures = null
                }
                ,
                t
            }();
            i.default = l
        }
        , {
            "../../const": 44,
            "../../utils": 122,
            "./utils/RenderTarget": 94,
            "pixi-gl-core": 12
        }],
        82: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("../SystemRenderer")
              , h = n(a)
              , l = t("./managers/MaskManager")
              , u = n(l)
              , c = t("./managers/StencilManager")
              , d = n(c)
              , p = t("./managers/FilterManager")
              , f = n(p)
              , m = t("./utils/RenderTarget")
              , _ = n(m)
              , y = t("./utils/ObjectRenderer")
              , v = n(y)
              , g = t("./TextureManager")
              , x = n(g)
              , b = t("../../textures/BaseTexture")
              , w = n(b)
              , T = t("./TextureGarbageCollector")
              , A = n(T)
              , S = t("./WebGLState")
              , C = n(S)
              , E = t("./utils/mapWebGLDrawModesToPixi")
              , P = n(E)
              , M = t("./utils/validateContext")
              , O = n(M)
              , I = t("../../utils")
              , B = t("pixi-gl-core")
              , R = n(B)
              , k = t("../../const")
              , D = 0
              , L = function(t) {
                function e(i, n, o) {
                    r(this, e);
                    var a = s(this, t.call(this, "WebGL", i, n, o));
                    return a.legacy = a.options.legacy,
                    a.legacy && (R.default.VertexArrayObject.FORCE_NATIVE = !0),
                    a.type = k.RENDERER_TYPE.WEBGL,
                    a.handleContextLost = a.handleContextLost.bind(a),
                    a.handleContextRestored = a.handleContextRestored.bind(a),
                    a.view.addEventListener("webglcontextlost", a.handleContextLost, !1),
                    a.view.addEventListener("webglcontextrestored", a.handleContextRestored, !1),
                    a._contextOptions = {
                        alpha: a.transparent,
                        antialias: a.options.antialias,
                        premultipliedAlpha: a.transparent && "notMultiplied" !== a.transparent,
                        stencil: !0,
                        preserveDrawingBuffer: a.options.preserveDrawingBuffer
                    },
                    a._backgroundColorRgba[3] = a.transparent ? 0 : 1,
                    a.maskManager = new u.default(a),
                    a.stencilManager = new d.default(a),
                    a.emptyRenderer = new v.default(a),
                    a.currentRenderer = a.emptyRenderer,
                    a.initPlugins(),
                    a.options.context && (0,
                    O.default)(a.options.context),
                    a.gl = a.options.context || R.default.createContext(a.view, a._contextOptions),
                    a.CONTEXT_UID = D++,
                    a.state = new C.default(a.gl),
                    a.renderingToScreen = !0,
                    a.boundTextures = null,
                    a._activeShader = null,
                    a._activeVao = null,
                    a._activeRenderTarget = null,
                    a._initContext(),
                    a.filterManager = new f.default(a),
                    a.drawModes = (0,
                    P.default)(a.gl),
                    a._nextTextureLocation = 0,
                    a.setBlendMode(0),
                    a
                }
                return o(e, t),
                e.prototype._initContext = function() {
                    var t = this.gl;
                    t.isContextLost() && t.getExtension("WEBGL_lose_context") && t.getExtension("WEBGL_lose_context").restoreContext();
                    var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);
                    this.boundTextures = new Array(e),
                    this.emptyTextures = new Array(e),
                    this.textureManager = new x.default(this),
                    this.textureGC = new A.default(this),
                    this.state.resetToDefault(),
                    this.rootRenderTarget = new _.default(t,this.width,this.height,null,this.resolution,!0),
                    this.rootRenderTarget.clearColor = this._backgroundColorRgba,
                    this.bindRenderTarget(this.rootRenderTarget);
                    var i = new R.default.GLTexture.fromData(t,null,1,1)
                      , n = {
                        _glTextures: {}
                    };
                    n._glTextures[this.CONTEXT_UID] = {};
                    for (var r = 0; r < e; r++) {
                        var s = new w.default;
                        s._glTextures[this.CONTEXT_UID] = i,
                        this.boundTextures[r] = n,
                        this.emptyTextures[r] = s,
                        this.bindTexture(null, r)
                    }
                    this.emit("context", t),
                    this.resize(this.screen.width, this.screen.height)
                }
                ,
                e.prototype.render = function(t, e, i, n, r) {
                    if (this.renderingToScreen = !e,
                    this.emit("prerender"),
                    this.gl && !this.gl.isContextLost()) {
                        if (this._nextTextureLocation = 0,
                        e || (this._lastObjectRendered = t),
                        !r) {
                            var s = t.parent;
                            t.parent = this._tempDisplayObjectParent,
                            t.updateTransform(),
                            t.parent = s
                        }
                        this.bindRenderTexture(e, n),
                        this.currentRenderer.start(),
                        (void 0 !== i ? i : this.clearBeforeRender) && this._activeRenderTarget.clear(),
                        t.renderWebGL(this),
                        this.currentRenderer.flush(),
                        this.textureGC.update(),
                        this.emit("postrender")
                    }
                }
                ,
                e.prototype.setObjectRenderer = function(t) {
                    this.currentRenderer !== t && (this.currentRenderer.stop(),
                    this.currentRenderer = t,
                    this.currentRenderer.start())
                }
                ,
                e.prototype.flush = function() {
                    this.setObjectRenderer(this.emptyRenderer)
                }
                ,
                e.prototype.resize = function(t, e) {
                    h.default.prototype.resize.call(this, t, e),
                    this.rootRenderTarget.resize(t, e),
                    this._activeRenderTarget === this.rootRenderTarget && (this.rootRenderTarget.activate(),
                    this._activeShader && (this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(!0)))
                }
                ,
                e.prototype.setBlendMode = function(t) {
                    this.state.setBlendMode(t)
                }
                ,
                e.prototype.clear = function(t) {
                    this._activeRenderTarget.clear(t)
                }
                ,
                e.prototype.setTransform = function(t) {
                    this._activeRenderTarget.transform = t
                }
                ,
                e.prototype.clearRenderTexture = function(t, e) {
                    var i = t.baseTexture
                      , n = i._glRenderTargets[this.CONTEXT_UID];
                    return n && n.clear(e),
                    this
                }
                ,
                e.prototype.bindRenderTexture = function(t, e) {
                    var i = void 0;
                    if (t) {
                        var n = t.baseTexture;
                        n._glRenderTargets[this.CONTEXT_UID] || this.textureManager.updateTexture(n, 0),
                        this.unbindTexture(n),
                        i = n._glRenderTargets[this.CONTEXT_UID],
                        i.setFrame(t.frame)
                    } else
                        i = this.rootRenderTarget;
                    return i.transform = e,
                    this.bindRenderTarget(i),
                    this
                }
                ,
                e.prototype.bindRenderTarget = function(t) {
                    return t !== this._activeRenderTarget && (this._activeRenderTarget = t,
                    t.activate(),
                    this._activeShader && (this._activeShader.uniforms.projectionMatrix = t.projectionMatrix.toArray(!0)),
                    this.stencilManager.setMaskStack(t.stencilMaskStack)),
                    this
                }
                ,
                e.prototype.bindShader = function(t, e) {
                    return this._activeShader !== t && (this._activeShader = t,
                    t.bind(),
                    !1 !== e && (t.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(!0))),
                    this
                }
                ,
                e.prototype.bindTexture = function(t, e, i) {
                    if (t = t || this.emptyTextures[e],
                    t = t.baseTexture || t,
                    t.touched = this.textureGC.count,
                    i)
                        e = e || 0;
                    else {
                        for (var n = 0; n < this.boundTextures.length; n++)
                            if (this.boundTextures[n] === t)
                                return n;
                        void 0 === e && (this._nextTextureLocation++,
                        this._nextTextureLocation %= this.boundTextures.length,
                        e = this.boundTextures.length - this._nextTextureLocation - 1)
                    }
                    var r = this.gl
                      , s = t._glTextures[this.CONTEXT_UID];
                    return s ? (this.boundTextures[e] = t,
                    r.activeTexture(r.TEXTURE0 + e),
                    r.bindTexture(r.TEXTURE_2D, s.texture)) : this.textureManager.updateTexture(t, e),
                    e
                }
                ,
                e.prototype.unbindTexture = function(t) {
                    var e = this.gl;
                    t = t.baseTexture || t;
                    for (var i = 0; i < this.boundTextures.length; i++)
                        this.boundTextures[i] === t && (this.boundTextures[i] = this.emptyTextures[i],
                        e.activeTexture(e.TEXTURE0 + i),
                        e.bindTexture(e.TEXTURE_2D, this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture));
                    return this
                }
                ,
                e.prototype.createVao = function() {
                    return new R.default.VertexArrayObject(this.gl,this.state.attribState)
                }
                ,
                e.prototype.bindVao = function(t) {
                    return this._activeVao === t ? this : (t ? t.bind() : this._activeVao && this._activeVao.unbind(),
                    this._activeVao = t,
                    this)
                }
                ,
                e.prototype.reset = function() {
                    return this.setObjectRenderer(this.emptyRenderer),
                    this._activeShader = null,
                    this._activeRenderTarget = this.rootRenderTarget,
                    this.rootRenderTarget.activate(),
                    this.state.resetToDefault(),
                    this
                }
                ,
                e.prototype.handleContextLost = function(t) {
                    t.preventDefault()
                }
                ,
                e.prototype.handleContextRestored = function() {
                    this._initContext(),
                    this.textureManager.removeAll()
                }
                ,
                e.prototype.destroy = function(e) {
                    this.destroyPlugins(),
                    this.view.removeEventListener("webglcontextlost", this.handleContextLost),
                    this.view.removeEventListener("webglcontextrestored", this.handleContextRestored),
                    this.textureManager.destroy(),
                    t.prototype.destroy.call(this, e),
                    this.uid = 0,
                    this.maskManager.destroy(),
                    this.stencilManager.destroy(),
                    this.filterManager.destroy(),
                    this.maskManager = null,
                    this.filterManager = null,
                    this.textureManager = null,
                    this.currentRenderer = null,
                    this.handleContextLost = null,
                    this.handleContextRestored = null,
                    this._contextOptions = null,
                    this.gl.useProgram(null),
                    this.gl.getExtension("WEBGL_lose_context") && this.gl.getExtension("WEBGL_lose_context").loseContext(),
                    this.gl = null
                }
                ,
                e
            }(h.default);
            i.default = L,
            I.pluginTarget.mixin(L)
        }
        , {
            "../../const": 44,
            "../../textures/BaseTexture": 110,
            "../../utils": 122,
            "../SystemRenderer": 74,
            "./TextureGarbageCollector": 80,
            "./TextureManager": 81,
            "./WebGLState": 83,
            "./managers/FilterManager": 88,
            "./managers/MaskManager": 89,
            "./managers/StencilManager": 90,
            "./utils/ObjectRenderer": 92,
            "./utils/RenderTarget": 94,
            "./utils/mapWebGLDrawModesToPixi": 97,
            "./utils/validateContext": 98,
            "pixi-gl-core": 12
        }],
        83: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("./utils/mapWebGLBlendModesToPixi")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = function() {
                function t(e) {
                    n(this, t),
                    this.activeState = new Uint8Array(16),
                    this.defaultState = new Uint8Array(16),
                    this.defaultState[0] = 1,
                    this.stackIndex = 0,
                    this.stack = [],
                    this.gl = e,
                    this.maxAttribs = e.getParameter(e.MAX_VERTEX_ATTRIBS),
                    this.attribState = {
                        tempAttribState: new Array(this.maxAttribs),
                        attribState: new Array(this.maxAttribs)
                    },
                    this.blendModes = (0,
                    s.default)(e),
                    this.nativeVaoExtension = e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object")
                }
                return t.prototype.push = function() {
                    var t = this.stack[this.stackIndex];
                    t || (t = this.stack[this.stackIndex] = new Uint8Array(16)),
                    ++this.stackIndex;
                    for (var e = 0; e < this.activeState.length; e++)
                        t[e] = this.activeState[e]
                }
                ,
                t.prototype.pop = function() {
                    var t = this.stack[--this.stackIndex];
                    this.setState(t)
                }
                ,
                t.prototype.setState = function(t) {
                    this.setBlend(t[0]),
                    this.setDepthTest(t[1]),
                    this.setFrontFace(t[2]),
                    this.setCullFace(t[3]),
                    this.setBlendMode(t[4])
                }
                ,
                t.prototype.setBlend = function(t) {
                    t = t ? 1 : 0,
                    this.activeState[0] !== t && (this.activeState[0] = t,
                    this.gl[t ? "enable" : "disable"](this.gl.BLEND))
                }
                ,
                t.prototype.setBlendMode = function(t) {
                    t !== this.activeState[4] && (this.activeState[4] = t,
                    this.gl.blendFunc(this.blendModes[t][0], this.blendModes[t][1]))
                }
                ,
                t.prototype.setDepthTest = function(t) {
                    t = t ? 1 : 0,
                    this.activeState[1] !== t && (this.activeState[1] = t,
                    this.gl[t ? "enable" : "disable"](this.gl.DEPTH_TEST))
                }
                ,
                t.prototype.setCullFace = function(t) {
                    t = t ? 1 : 0,
                    this.activeState[3] !== t && (this.activeState[3] = t,
                    this.gl[t ? "enable" : "disable"](this.gl.CULL_FACE))
                }
                ,
                t.prototype.setFrontFace = function(t) {
                    t = t ? 1 : 0,
                    this.activeState[2] !== t && (this.activeState[2] = t,
                    this.gl.frontFace(this.gl[t ? "CW" : "CCW"]))
                }
                ,
                t.prototype.resetAttributes = function() {
                    for (var t = 0; t < this.attribState.tempAttribState.length; t++)
                        this.attribState.tempAttribState[t] = 0;
                    for (var e = 0; e < this.attribState.attribState.length; e++)
                        this.attribState.attribState[e] = 0;
                    for (var i = 1; i < this.maxAttribs; i++)
                        this.gl.disableVertexAttribArray(i)
                }
                ,
                t.prototype.resetToDefault = function() {
                    this.nativeVaoExtension && this.nativeVaoExtension.bindVertexArrayOES(null),
                    this.resetAttributes();
                    for (var t = 0; t < this.activeState.length; ++t)
                        this.activeState[t] = 32;
                    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1),
                    this.setState(this.defaultState)
                }
                ,
                t
            }();
            i.default = o
        }
        , {
            "./utils/mapWebGLBlendModesToPixi": 96
        }],
        84: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , o = t("./extractUniformsFromSrc")
              , a = n(o)
              , h = t("../../../utils")
              , l = t("../../../const")
              , u = t("../../../settings")
              , c = n(u)
              , d = {}
              , p = function() {
                function t(e, i, n) {
                    r(this, t),
                    this.vertexSrc = e || t.defaultVertexSrc,
                    this.fragmentSrc = i || t.defaultFragmentSrc,
                    this.blendMode = l.BLEND_MODES.NORMAL,
                    this.uniformData = n || (0,
                    a.default)(this.vertexSrc, this.fragmentSrc, "projectionMatrix|uSampler"),
                    this.uniforms = {};
                    for (var s in this.uniformData)
                        this.uniforms[s] = this.uniformData[s].value;
                    this.glShaders = {},
                    d[this.vertexSrc + this.fragmentSrc] || (d[this.vertexSrc + this.fragmentSrc] = (0,
                    h.uid)()),
                    this.glShaderKey = d[this.vertexSrc + this.fragmentSrc],
                    this.padding = 4,
                    this.resolution = c.default.RESOLUTION,
                    this.enabled = !0,
                    this.autoFit = !0
                }
                return t.prototype.apply = function(t, e, i, n, r) {
                    t.applyFilter(this, e, i, n)
                }
                ,
                s(t, null, [{
                    key: "defaultVertexSrc",
                    get: function() {
                        return ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 projectionMatrix;", "uniform mat3 filterMatrix;", "varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;", "   vTextureCoord = aTextureCoord ;", "}"].join("\n")
                    }
                }, {
                    key: "defaultFragmentSrc",
                    get: function() {
                        return ["varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "uniform sampler2D uSampler;", "uniform sampler2D filterSampler;", "void main(void){", "   vec4 masky = texture2D(filterSampler, vFilterCoord);", "   vec4 sample = texture2D(uSampler, vTextureCoord);", "   vec4 color;", "   if(mod(vFilterCoord.x, 1.0) > 0.5)", "   {", "     color = vec4(1.0, 0.0, 0.0, 1.0);", "   }", "   else", "   {", "     color = vec4(0.0, 1.0, 0.0, 1.0);", "   }", "   gl_FragColor = mix(sample, masky, 0.5);", "   gl_FragColor *= sample.a;", "}"].join("\n")
                    }
                }]),
                t
            }();
            i.default = p
        }
        , {
            "../../../const": 44,
            "../../../settings": 99,
            "../../../utils": 122,
            "./extractUniformsFromSrc": 85
        }],
        85: [function(t, e, i) {
            "use strict";
            function n(t, e, i) {
                var n = r(t)
                  , s = r(e);
                return Object.assign(n, s)
            }
            function r(t) {
                for (var e = new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"), i = {}, n = void 0, r = t.replace(/\s+/g, " ").split(/\s*;\s*/), s = 0; s < r.length; s++) {
                    var o = r[s].trim();
                    if (o.indexOf("uniform") > -1) {
                        var h = o.split(" ")
                          , l = h[1]
                          , u = h[2]
                          , c = 1;
                        u.indexOf("[") > -1 && (n = u.split(/\[|]/),
                        u = n[0],
                        c *= Number(n[1])),
                        u.match(e) || (i[u] = {
                            value: a(l, c),
                            name: u,
                            type: l
                        })
                    }
                }
                return i
            }
            i.__esModule = !0,
            i.default = n;
            var s = t("pixi-gl-core")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
              , a = o.default.shader.defaultValue
        }
        , {
            "pixi-gl-core": 12
        }],
        86: [function(t, e, i) {
            "use strict";
            function n(t, e, i) {
                var n = t.identity();
                return n.translate(e.x / i.width, e.y / i.height),
                n.scale(i.width, i.height),
                n
            }
            function r(t, e, i) {
                var n = t.identity();
                n.translate(e.x / i.width, e.y / i.height);
                var r = i.width / e.width
                  , s = i.height / e.height;
                return n.scale(r, s),
                n
            }
            function s(t, e, i, n) {
                var r = n.worldTransform.copy(o.Matrix.TEMP_MATRIX)
                  , s = n._texture.baseTexture
                  , a = t.identity()
                  , h = i.height / i.width;
                a.translate(e.x / i.width, e.y / i.height),
                a.scale(1, h);
                var l = i.width / s.width
                  , u = i.height / s.height;
                return r.tx /= s.width * l,
                r.ty /= s.width * l,
                r.invert(),
                a.prepend(r),
                a.scale(1, 1 / h),
                a.scale(l, u),
                a.translate(n.anchor.x, n.anchor.y),
                a
            }
            i.__esModule = !0,
            i.calculateScreenSpaceMatrix = n,
            i.calculateNormalizedScreenSpaceMatrix = r,
            i.calculateSpriteMatrix = s;
            var o = t("../../../math")
        }
        , {
            "../../../math": 68
        }],
        87: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("../Filter")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = t("../../../../math")
              , l = (t("path"),
            function(t) {
                function e(i) {
                    n(this, e);
                    var s = new h.Matrix
                      , o = r(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));
                    return i.renderable = !1,
                    o.maskSprite = i,
                    o.maskMatrix = s,
                    o
                }
                return s(e, t),
                e.prototype.apply = function(t, e, i) {
                    var n = this.maskSprite;
                    this.uniforms.mask = n._texture,
                    this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, n),
                    this.uniforms.alpha = n.worldAlpha,
                    t.applyFilter(this, e, i)
                }
                ,
                e
            }(a.default));
            i.default = l
        }
        , {
            "../../../../math": 68,
            "../Filter": 84,
            path: 22
        }],
        88: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function o(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var a = t("./WebGLManager")
              , h = n(a)
              , l = t("../utils/RenderTarget")
              , u = n(l)
              , c = t("../utils/Quad")
              , d = n(c)
              , p = t("../../../math")
              , f = t("../../../Shader")
              , m = n(f)
              , _ = t("../filters/filterTransforms")
              , y = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(_)
              , v = t("bit-twiddle")
              , g = n(v)
              , x = function t() {
                o(this, t),
                this.renderTarget = null,
                this.sourceFrame = new p.Rectangle,
                this.destinationFrame = new p.Rectangle,
                this.filters = [],
                this.target = null,
                this.resolution = 1
            }
              , b = function(t) {
                function e(i) {
                    o(this, e);
                    var n = r(this, t.call(this, i));
                    return n.gl = n.renderer.gl,
                    n.quad = new d.default(n.gl,i.state.attribState),
                    n.shaderCache = {},
                    n.pool = {},
                    n.filterData = null,
                    n
                }
                return s(e, t),
                e.prototype.pushFilter = function(t, e) {
                    var i = this.renderer
                      , n = this.filterData;
                    if (!n) {
                        n = this.renderer._activeRenderTarget.filterStack;
                        var r = new x;
                        r.sourceFrame = r.destinationFrame = this.renderer._activeRenderTarget.size,
                        r.renderTarget = i._activeRenderTarget,
                        this.renderer._activeRenderTarget.filterData = n = {
                            index: 0,
                            stack: [r]
                        },
                        this.filterData = n
                    }
                    var s = n.stack[++n.index];
                    s || (s = n.stack[n.index] = new x);
                    var o = e[0].resolution
                      , a = 0 | e[0].padding
                      , h = t.filterArea || t.getBounds(!0)
                      , l = s.sourceFrame
                      , u = s.destinationFrame;
                    l.x = (h.x * o | 0) / o,
                    l.y = (h.y * o | 0) / o,
                    l.width = (h.width * o | 0) / o,
                    l.height = (h.height * o | 0) / o,
                    n.stack[0].renderTarget.transform || e[0].autoFit && l.fit(n.stack[0].destinationFrame),
                    l.pad(a),
                    u.width = l.width,
                    u.height = l.height;
                    var c = this.getPotRenderTarget(i.gl, l.width, l.height, o);
                    s.target = t,
                    s.filters = e,
                    s.resolution = o,
                    s.renderTarget = c,
                    c.setFrame(u, l),
                    i.bindRenderTarget(c),
                    c.clear()
                }
                ,
                e.prototype.popFilter = function() {
                    var t = this.filterData
                      , e = t.stack[t.index - 1]
                      , i = t.stack[t.index];
                    this.quad.map(i.renderTarget.size, i.sourceFrame).upload();
                    var n = i.filters;
                    if (1 === n.length)
                        n[0].apply(this, i.renderTarget, e.renderTarget, !1, i),
                        this.freePotRenderTarget(i.renderTarget);
                    else {
                        var r = i.renderTarget
                          , s = this.getPotRenderTarget(this.renderer.gl, i.sourceFrame.width, i.sourceFrame.height, i.resolution);
                        s.setFrame(i.destinationFrame, i.sourceFrame),
                        s.clear();
                        var o = 0;
                        for (o = 0; o < n.length - 1; ++o) {
                            n[o].apply(this, r, s, !0, i);
                            var a = r;
                            r = s,
                            s = a
                        }
                        n[o].apply(this, r, e.renderTarget, !1, i),
                        this.freePotRenderTarget(r),
                        this.freePotRenderTarget(s)
                    }
                    0 === --t.index && (this.filterData = null)
                }
                ,
                e.prototype.applyFilter = function(t, e, i, n) {
                    var r = this.renderer
                      , s = r.gl
                      , o = t.glShaders[r.CONTEXT_UID];
                    o || (t.glShaderKey ? (o = this.shaderCache[t.glShaderKey]) || (o = new m.default(this.gl,t.vertexSrc,t.fragmentSrc),
                    t.glShaders[r.CONTEXT_UID] = this.shaderCache[t.glShaderKey] = o) : o = t.glShaders[r.CONTEXT_UID] = new m.default(this.gl,t.vertexSrc,t.fragmentSrc),
                    r.bindVao(null),
                    this.quad.initVao(o)),
                    r.bindVao(this.quad.vao),
                    r.bindRenderTarget(i),
                    n && (s.disable(s.SCISSOR_TEST),
                    r.clear(),
                    s.enable(s.SCISSOR_TEST)),
                    i === r.maskManager.scissorRenderTarget && r.maskManager.pushScissorMask(null, r.maskManager.scissorData),
                    r.bindShader(o);
                    var a = this.renderer.emptyTextures[0];
                    this.renderer.boundTextures[0] = a,
                    this.syncUniforms(o, t),
                    r.state.setBlendMode(t.blendMode),
                    s.activeTexture(s.TEXTURE0),
                    s.bindTexture(s.TEXTURE_2D, e.texture.texture),
                    this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0),
                    s.bindTexture(s.TEXTURE_2D, a._glTextures[this.renderer.CONTEXT_UID].texture)
                }
                ,
                e.prototype.syncUniforms = function(t, e) {
                    var i = e.uniformData
                      , n = e.uniforms
                      , r = 1
                      , s = void 0;
                    if (t.uniforms.filterArea) {
                        s = this.filterData.stack[this.filterData.index];
                        var o = t.uniforms.filterArea;
                        o[0] = s.renderTarget.size.width,
                        o[1] = s.renderTarget.size.height,
                        o[2] = s.sourceFrame.x,
                        o[3] = s.sourceFrame.y,
                        t.uniforms.filterArea = o
                    }
                    if (t.uniforms.filterClamp) {
                        s = s || this.filterData.stack[this.filterData.index];
                        var a = t.uniforms.filterClamp;
                        a[0] = 0,
                        a[1] = 0,
                        a[2] = (s.sourceFrame.width - 1) / s.renderTarget.size.width,
                        a[3] = (s.sourceFrame.height - 1) / s.renderTarget.size.height,
                        t.uniforms.filterClamp = a
                    }
                    for (var h in i)
                        if ("sampler2D" === i[h].type && 0 !== n[h]) {
                            if (n[h].baseTexture)
                                t.uniforms[h] = this.renderer.bindTexture(n[h].baseTexture, r);
                            else {
                                t.uniforms[h] = r;
                                var l = this.renderer.gl;
                                this.renderer.boundTextures[r] = this.renderer.emptyTextures[r],
                                l.activeTexture(l.TEXTURE0 + r),
                                n[h].texture.bind()
                            }
                            r++
                        } else if ("mat3" === i[h].type)
                            void 0 !== n[h].a ? t.uniforms[h] = n[h].toArray(!0) : t.uniforms[h] = n[h];
                        else if ("vec2" === i[h].type)
                            if (void 0 !== n[h].x) {
                                var u = t.uniforms[h] || new Float32Array(2);
                                u[0] = n[h].x,
                                u[1] = n[h].y,
                                t.uniforms[h] = u
                            } else
                                t.uniforms[h] = n[h];
                        else
                            "float" === i[h].type ? t.uniforms.data[h].value !== i[h] && (t.uniforms[h] = n[h]) : t.uniforms[h] = n[h]
                }
                ,
                e.prototype.getRenderTarget = function(t, e) {
                    var i = this.filterData.stack[this.filterData.index]
                      , n = this.getPotRenderTarget(this.renderer.gl, i.sourceFrame.width, i.sourceFrame.height, e || i.resolution);
                    return n.setFrame(i.destinationFrame, i.sourceFrame),
                    n
                }
                ,
                e.prototype.returnRenderTarget = function(t) {
                    this.freePotRenderTarget(t)
                }
                ,
                e.prototype.calculateScreenSpaceMatrix = function(t) {
                    var e = this.filterData.stack[this.filterData.index];
                    return y.calculateScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size)
                }
                ,
                e.prototype.calculateNormalizedScreenSpaceMatrix = function(t) {
                    var e = this.filterData.stack[this.filterData.index];
                    return y.calculateNormalizedScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size, e.destinationFrame)
                }
                ,
                e.prototype.calculateSpriteMatrix = function(t, e) {
                    var i = this.filterData.stack[this.filterData.index];
                    return y.calculateSpriteMatrix(t, i.sourceFrame, i.renderTarget.size, e)
                }
                ,
                e.prototype.destroy = function() {
                    this.shaderCache = {},
                    this.emptyPool()
                }
                ,
                e.prototype.getPotRenderTarget = function(t, e, i, n) {
                    e = g.default.nextPow2(e * n),
                    i = g.default.nextPow2(i * n);
                    var r = (65535 & e) << 16 | 65535 & i;
                    this.pool[r] || (this.pool[r] = []);
                    var s = this.pool[r].pop();
                    if (!s) {
                        var o = this.renderer.boundTextures[0];
                        t.activeTexture(t.TEXTURE0),
                        s = new u.default(t,e,i,null,1),
                        t.bindTexture(t.TEXTURE_2D, o._glTextures[this.renderer.CONTEXT_UID].texture)
                    }
                    return s.resolution = n,
                    s.defaultFrame.width = s.size.width = e / n,
                    s.defaultFrame.height = s.size.height = i / n,
                    s
                }
                ,
                e.prototype.emptyPool = function() {
                    for (var t in this.pool) {
                        var e = this.pool[t];
                        if (e)
                            for (var i = 0; i < e.length; i++)
                                e[i].destroy(!0)
                    }
                    this.pool = {}
                }
                ,
                e.prototype.freePotRenderTarget = function(t) {
                    var e = t.size.width * t.resolution
                      , i = t.size.height * t.resolution
                      , n = (65535 & e) << 16 | 65535 & i;
                    this.pool[n].push(t)
                }
                ,
                e
            }(h.default);
            i.default = b
        }
        , {
            "../../../Shader": 42,
            "../../../math": 68,
            "../filters/filterTransforms": 86,
            "../utils/Quad": 93,
            "../utils/RenderTarget": 94,
            "./WebGLManager": 91,
            "bit-twiddle": 1
        }],
        89: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("./WebGLManager")
              , h = n(a)
              , l = t("../filters/spriteMask/SpriteMaskFilter")
              , u = n(l)
              , c = function(t) {
                function e(i) {
                    r(this, e);
                    var n = s(this, t.call(this, i));
                    return n.scissor = !1,
                    n.scissorData = null,
                    n.scissorRenderTarget = null,
                    n.enableScissor = !0,
                    n.alphaMaskPool = [],
                    n.alphaMaskIndex = 0,
                    n
                }
                return o(e, t),
                e.prototype.pushMask = function(t, e) {
                    if (e.texture)
                        this.pushSpriteMask(t, e);
                    else if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && e.isFastRect()) {
                        var i = e.worldTransform
                          , n = Math.atan2(i.b, i.a);
                        n = Math.round(n * (180 / Math.PI)),
                        n % 90 ? this.pushStencilMask(e) : this.pushScissorMask(t, e)
                    } else
                        this.pushStencilMask(e)
                }
                ,
                e.prototype.popMask = function(t, e) {
                    e.texture ? this.popSpriteMask(t, e) : this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length ? this.popScissorMask(t, e) : this.popStencilMask(t, e)
                }
                ,
                e.prototype.pushSpriteMask = function(t, e) {
                    var i = this.alphaMaskPool[this.alphaMaskIndex];
                    i || (i = this.alphaMaskPool[this.alphaMaskIndex] = [new u.default(e)]),
                    i[0].resolution = this.renderer.resolution,
                    i[0].maskSprite = e,
                    t.filterArea = e.getBounds(!0),
                    this.renderer.filterManager.pushFilter(t, i),
                    this.alphaMaskIndex++
                }
                ,
                e.prototype.popSpriteMask = function() {
                    this.renderer.filterManager.popFilter(),
                    this.alphaMaskIndex--
                }
                ,
                e.prototype.pushStencilMask = function(t) {
                    this.renderer.currentRenderer.stop(),
                    this.renderer.stencilManager.pushStencil(t)
                }
                ,
                e.prototype.popStencilMask = function() {
                    this.renderer.currentRenderer.stop(),
                    this.renderer.stencilManager.popStencil()
                }
                ,
                e.prototype.pushScissorMask = function(t, e) {
                    e.renderable = !0;
                    var i = this.renderer._activeRenderTarget
                      , n = e.getBounds();
                    n.fit(i.size),
                    e.renderable = !1,
                    this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);
                    var r = this.renderer.resolution;
                    this.renderer.gl.scissor(n.x * r, (i.root ? i.size.height - n.y - n.height : n.y) * r, n.width * r, n.height * r),
                    this.scissorRenderTarget = i,
                    this.scissorData = e,
                    this.scissor = !0
                }
                ,
                e.prototype.popScissorMask = function() {
                    this.scissorRenderTarget = null,
                    this.scissorData = null,
                    this.scissor = !1;
                    var t = this.renderer.gl;
                    t.disable(t.SCISSOR_TEST)
                }
                ,
                e
            }(h.default);
            i.default = c
        }
        , {
            "../filters/spriteMask/SpriteMaskFilter": 87,
            "./WebGLManager": 91
        }],
        90: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("./WebGLManager")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = function(t) {
                function e(i) {
                    n(this, e);
                    var s = r(this, t.call(this, i));
                    return s.stencilMaskStack = null,
                    s
                }
                return s(e, t),
                e.prototype.setMaskStack = function(t) {
                    this.stencilMaskStack = t;
                    var e = this.renderer.gl;
                    0 === t.length ? e.disable(e.STENCIL_TEST) : e.enable(e.STENCIL_TEST)
                }
                ,
                e.prototype.pushStencil = function(t) {
                    this.renderer.setObjectRenderer(this.renderer.plugins.graphics),
                    this.renderer._activeRenderTarget.attachStencilBuffer();
                    var e = this.renderer.gl
                      , i = this.stencilMaskStack;
                    0 === i.length && (e.enable(e.STENCIL_TEST),
                    e.clear(e.STENCIL_BUFFER_BIT),
                    e.stencilFunc(e.ALWAYS, 1, 1)),
                    i.push(t),
                    e.colorMask(!1, !1, !1, !1),
                    e.stencilOp(e.KEEP, e.KEEP, e.INCR),
                    this.renderer.plugins.graphics.render(t),
                    e.colorMask(!0, !0, !0, !0),
                    e.stencilFunc(e.NOTEQUAL, 0, i.length),
                    e.stencilOp(e.KEEP, e.KEEP, e.KEEP)
                }
                ,
                e.prototype.popStencil = function() {
                    this.renderer.setObjectRenderer(this.renderer.plugins.graphics);
                    var t = this.renderer.gl
                      , e = this.stencilMaskStack
                      , i = e.pop();
                    0 === e.length ? t.disable(t.STENCIL_TEST) : (t.colorMask(!1, !1, !1, !1),
                    t.stencilOp(t.KEEP, t.KEEP, t.DECR),
                    this.renderer.plugins.graphics.render(i),
                    t.colorMask(!0, !0, !0, !0),
                    t.stencilFunc(t.NOTEQUAL, 0, e.length),
                    t.stencilOp(t.KEEP, t.KEEP, t.KEEP))
                }
                ,
                e.prototype.destroy = function() {
                    a.default.prototype.destroy.call(this),
                    this.stencilMaskStack.stencilStack = null
                }
                ,
                e
            }(a.default);
            i.default = h
        }
        , {
            "./WebGLManager": 91
        }],
        91: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(e) {
                    n(this, t),
                    this.renderer = e,
                    this.renderer.on("context", this.onContextChange, this)
                }
                return t.prototype.onContextChange = function() {}
                ,
                t.prototype.destroy = function() {
                    this.renderer.off("context", this.onContextChange, this),
                    this.renderer = null
                }
                ,
                t
            }();
            i.default = r
        }
        , {}],
        92: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("../managers/WebGLManager")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = function(t) {
                function e() {
                    return n(this, e),
                    r(this, t.apply(this, arguments))
                }
                return s(e, t),
                e.prototype.start = function() {}
                ,
                e.prototype.stop = function() {
                    this.flush()
                }
                ,
                e.prototype.flush = function() {}
                ,
                e.prototype.render = function(t) {}
                ,
                e
            }(a.default);
            i.default = h
        }
        , {
            "../managers/WebGLManager": 91
        }],
        93: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var s = t("pixi-gl-core")
              , o = n(s)
              , a = t("../../../utils/createIndicesForQuads")
              , h = n(a)
              , l = function() {
                function t(e, i) {
                    r(this, t),
                    this.gl = e,
                    this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]),
                    this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                    this.interleaved = new Float32Array(16);
                    for (var n = 0; n < 4; n++)
                        this.interleaved[4 * n] = this.vertices[2 * n],
                        this.interleaved[4 * n + 1] = this.vertices[2 * n + 1],
                        this.interleaved[4 * n + 2] = this.uvs[2 * n],
                        this.interleaved[4 * n + 3] = this.uvs[2 * n + 1];
                    this.indices = (0,
                    h.default)(1),
                    this.vertexBuffer = o.default.GLBuffer.createVertexBuffer(e, this.interleaved, e.STATIC_DRAW),
                    this.indexBuffer = o.default.GLBuffer.createIndexBuffer(e, this.indices, e.STATIC_DRAW),
                    this.vao = new o.default.VertexArrayObject(e,i)
                }
                return t.prototype.initVao = function(t) {
                    this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer, t.attributes.aVertexPosition, this.gl.FLOAT, !1, 16, 0).addAttribute(this.vertexBuffer, t.attributes.aTextureCoord, this.gl.FLOAT, !1, 16, 8)
                }
                ,
                t.prototype.map = function(t, e) {
                    var i = 0
                      , n = 0;
                    return this.uvs[0] = i,
                    this.uvs[1] = n,
                    this.uvs[2] = i + e.width / t.width,
                    this.uvs[3] = n,
                    this.uvs[4] = i + e.width / t.width,
                    this.uvs[5] = n + e.height / t.height,
                    this.uvs[6] = i,
                    this.uvs[7] = n + e.height / t.height,
                    i = e.x,
                    n = e.y,
                    this.vertices[0] = i,
                    this.vertices[1] = n,
                    this.vertices[2] = i + e.width,
                    this.vertices[3] = n,
                    this.vertices[4] = i + e.width,
                    this.vertices[5] = n + e.height,
                    this.vertices[6] = i,
                    this.vertices[7] = n + e.height,
                    this
                }
                ,
                t.prototype.upload = function() {
                    for (var t = 0; t < 4; t++)
                        this.interleaved[4 * t] = this.vertices[2 * t],
                        this.interleaved[4 * t + 1] = this.vertices[2 * t + 1],
                        this.interleaved[4 * t + 2] = this.uvs[2 * t],
                        this.interleaved[4 * t + 3] = this.uvs[2 * t + 1];
                    return this.vertexBuffer.upload(this.interleaved),
                    this
                }
                ,
                t.prototype.destroy = function() {
                    var t = this.gl;
                    t.deleteBuffer(this.vertexBuffer),
                    t.deleteBuffer(this.indexBuffer)
                }
                ,
                t
            }();
            i.default = l
        }
        , {
            "../../../utils/createIndicesForQuads": 120,
            "pixi-gl-core": 12
        }],
        94: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../../../math")
              , s = t("../../../const")
              , o = t("../../../settings")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = t("pixi-gl-core")
              , l = function() {
                function t(e, i, o, l, u, c) {
                    n(this, t),
                    this.gl = e,
                    this.frameBuffer = null,
                    this.texture = null,
                    this.clearColor = [0, 0, 0, 0],
                    this.size = new r.Rectangle(0,0,1,1),
                    this.resolution = u || a.default.RESOLUTION,
                    this.projectionMatrix = new r.Matrix,
                    this.transform = null,
                    this.frame = null,
                    this.defaultFrame = new r.Rectangle,
                    this.destinationFrame = null,
                    this.sourceFrame = null,
                    this.stencilBuffer = null,
                    this.stencilMaskStack = [],
                    this.filterData = null,
                    this.scaleMode = void 0 !== l ? l : a.default.SCALE_MODE,
                    this.root = c,
                    this.root ? (this.frameBuffer = new h.GLFramebuffer(e,100,100),
                    this.frameBuffer.framebuffer = null) : (this.frameBuffer = h.GLFramebuffer.createRGBA(e, 100, 100),
                    this.scaleMode === s.SCALE_MODES.NEAREST ? this.frameBuffer.texture.enableNearestScaling() : this.frameBuffer.texture.enableLinearScaling(),
                    this.texture = this.frameBuffer.texture),
                    this.setFrame(),
                    this.resize(i, o)
                }
                return t.prototype.clear = function(t) {
                    var e = t || this.clearColor;
                    this.frameBuffer.clear(e[0], e[1], e[2], e[3])
                }
                ,
                t.prototype.attachStencilBuffer = function() {
                    this.root || this.frameBuffer.enableStencil()
                }
                ,
                t.prototype.setFrame = function(t, e) {
                    this.destinationFrame = t || this.destinationFrame || this.defaultFrame,
                    this.sourceFrame = e || this.sourceFrame || t
                }
                ,
                t.prototype.activate = function() {
                    var t = this.gl;
                    this.frameBuffer.bind(),
                    this.calculateProjection(this.destinationFrame, this.sourceFrame),
                    this.transform && this.projectionMatrix.append(this.transform),
                    this.destinationFrame !== this.sourceFrame ? (t.enable(t.SCISSOR_TEST),
                    t.scissor(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)) : t.disable(t.SCISSOR_TEST),
                    t.viewport(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)
                }
                ,
                t.prototype.calculateProjection = function(t, e) {
                    var i = this.projectionMatrix;
                    e = e || t,
                    i.identity(),
                    this.root ? (i.a = 1 / t.width * 2,
                    i.d = -1 / t.height * 2,
                    i.tx = -1 - e.x * i.a,
                    i.ty = 1 - e.y * i.d) : (i.a = 1 / t.width * 2,
                    i.d = 1 / t.height * 2,
                    i.tx = -1 - e.x * i.a,
                    i.ty = -1 - e.y * i.d)
                }
                ,
                t.prototype.resize = function(t, e) {
                    if (t |= 0,
                    e |= 0,
                    this.size.width !== t || this.size.height !== e) {
                        this.size.width = t,
                        this.size.height = e,
                        this.defaultFrame.width = t,
                        this.defaultFrame.height = e,
                        this.frameBuffer.resize(t * this.resolution, e * this.resolution);
                        var i = this.frame || this.size;
                        this.calculateProjection(i)
                    }
                }
                ,
                t.prototype.destroy = function() {
                    this.frameBuffer.destroy(),
                    this.frameBuffer = null,
                    this.texture = null
                }
                ,
                t
            }();
            i.default = l
        }
        , {
            "../../../const": 44,
            "../../../math": 68,
            "../../../settings": 99,
            "pixi-gl-core": 12
        }],
        95: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                var i = !e;
                if (i) {
                    var n = document.createElement("canvas");
                    n.width = 1,
                    n.height = 1,
                    e = o.default.createContext(n)
                }
                for (var s = e.createShader(e.FRAGMENT_SHADER); ; ) {
                    var h = a.replace(/%forloop%/gi, r(t));
                    if (e.shaderSource(s, h),
                    e.compileShader(s),
                    e.getShaderParameter(s, e.COMPILE_STATUS))
                        break;
                    t = t / 2 | 0
                }
                return i && e.getExtension("WEBGL_lose_context") && e.getExtension("WEBGL_lose_context").loseContext(),
                t
            }
            function r(t) {
                for (var e = "", i = 0; i < t; ++i)
                    i > 0 && (e += "\nelse "),
                    i < t - 1 && (e += "if(test == " + i + ".0){}");
                return e
            }
            i.__esModule = !0,
            i.default = n;
            var s = t("pixi-gl-core")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
              , a = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n")
        }
        , {
            "pixi-gl-core": 12
        }],
        96: [function(t, e, i) {
            "use strict";
            function n(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                return e[r.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.ADD] = [t.ONE, t.DST_ALPHA],
                e[r.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR],
                e[r.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e[r.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA],
                e
            }
            i.__esModule = !0,
            i.default = n;
            var r = t("../../../const")
        }
        , {
            "../../../const": 44
        }],
        97: [function(t, e, i) {
            "use strict";
            function n(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return e[r.DRAW_MODES.POINTS] = t.POINTS,
                e[r.DRAW_MODES.LINES] = t.LINES,
                e[r.DRAW_MODES.LINE_LOOP] = t.LINE_LOOP,
                e[r.DRAW_MODES.LINE_STRIP] = t.LINE_STRIP,
                e[r.DRAW_MODES.TRIANGLES] = t.TRIANGLES,
                e[r.DRAW_MODES.TRIANGLE_STRIP] = t.TRIANGLE_STRIP,
                e[r.DRAW_MODES.TRIANGLE_FAN] = t.TRIANGLE_FAN,
                e
            }
            i.__esModule = !0,
            i.default = n;
            var r = t("../../../const")
        }
        , {
            "../../../const": 44
        }],
        98: [function(t, e, i) {
            "use strict";
            function n(t) {
                t.getContextAttributes().stencil || console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")
            }
            i.__esModule = !0,
            i.default = n
        }
        , {}],
        99: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./utils/maxRecommendedTextures")
              , s = n(r)
              , o = t("./utils/canUploadSameBuffer")
              , a = n(o);
            i.default = {
                TARGET_FPMS: .06,
                MIPMAP_TEXTURES: !0,
                RESOLUTION: 1,
                FILTER_RESOLUTION: 1,
                SPRITE_MAX_TEXTURES: (0,
                s.default)(32),
                SPRITE_BATCH_SIZE: 4096,
                RETINA_PREFIX: /@([0-9\.]+)x/,
                RENDER_OPTIONS: {
                    view: null,
                    antialias: !1,
                    forceFXAA: !1,
                    autoResize: !1,
                    transparent: !1,
                    backgroundColor: 0,
                    clearBeforeRender: !0,
                    preserveDrawingBuffer: !1,
                    roundPixels: !1,
                    width: 800,
                    height: 600,
                    legacy: !1
                },
                TRANSFORM_MODE: 0,
                GC_MODE: 0,
                GC_MAX_IDLE: 3600,
                GC_MAX_CHECK_COUNT: 600,
                WRAP_MODE: 0,
                SCALE_MODE: 0,
                PRECISION_VERTEX: "highp",
                PRECISION_FRAGMENT: "mediump",
                CAN_UPLOAD_SAME_BUFFER: (0,
                a.default)()
            }
        }
        , {
            "./utils/canUploadSameBuffer": 119,
            "./utils/maxRecommendedTextures": 123
        }],
        100: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("../math")
              , l = t("../utils")
              , u = t("../const")
              , c = t("../textures/Texture")
              , d = n(c)
              , p = t("../display/Container")
              , f = n(p)
              , m = new h.Point
              , _ = function(t) {
                function e(i) {
                    r(this, e);
                    var n = s(this, t.call(this));
                    return n._anchor = new h.ObservablePoint(n._onAnchorUpdate,n),
                    n._texture = null,
                    n._width = 0,
                    n._height = 0,
                    n._tint = null,
                    n._tintRGB = null,
                    n.tint = 16777215,
                    n.blendMode = u.BLEND_MODES.NORMAL,
                    n.shader = null,
                    n.cachedTint = 16777215,
                    n.texture = i || d.default.EMPTY,
                    n.vertexData = new Float32Array(8),
                    n.vertexTrimmedData = null,
                    n._transformID = -1,
                    n._textureID = -1,
                    n._transformTrimmedID = -1,
                    n._textureTrimmedID = -1,
                    n.pluginName = "sprite",
                    n
                }
                return o(e, t),
                e.prototype._onTextureUpdate = function() {
                    this._textureID = -1,
                    this._textureTrimmedID = -1,
                    this._width && (this.scale.x = (0,
                    l.sign)(this.scale.x) * this._width / this._texture.orig.width),
                    this._height && (this.scale.y = (0,
                    l.sign)(this.scale.y) * this._height / this._texture.orig.height)
                }
                ,
                e.prototype._onAnchorUpdate = function() {
                    this._transformID = -1,
                    this._transformTrimmedID = -1
                }
                ,
                e.prototype.calculateVertices = function() {
                    if (this._transformID !== this.transform._worldID || this._textureID !== this._texture._updateID) {
                        this._transformID = this.transform._worldID,
                        this._textureID = this._texture._updateID;
                        var t = this._texture
                          , e = this.transform.worldTransform
                          , i = e.a
                          , n = e.b
                          , r = e.c
                          , s = e.d
                          , o = e.tx
                          , a = e.ty
                          , h = this.vertexData
                          , l = t.trim
                          , u = t.orig
                          , c = this._anchor
                          , d = 0
                          , p = 0
                          , f = 0
                          , m = 0;
                        l ? (p = l.x - c._x * u.width,
                        d = p + l.width,
                        m = l.y - c._y * u.height,
                        f = m + l.height) : (p = -c._x * u.width,
                        d = p + u.width,
                        m = -c._y * u.height,
                        f = m + u.height),
                        h[0] = i * p + r * m + o,
                        h[1] = s * m + n * p + a,
                        h[2] = i * d + r * m + o,
                        h[3] = s * m + n * d + a,
                        h[4] = i * d + r * f + o,
                        h[5] = s * f + n * d + a,
                        h[6] = i * p + r * f + o,
                        h[7] = s * f + n * p + a
                    }
                }
                ,
                e.prototype.calculateTrimmedVertices = function() {
                    if (this.vertexTrimmedData) {
                        if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID)
                            return
                    } else
                        this.vertexTrimmedData = new Float32Array(8);
                    this._transformTrimmedID = this.transform._worldID,
                    this._textureTrimmedID = this._texture._updateID;
                    var t = this._texture
                      , e = this.vertexTrimmedData
                      , i = t.orig
                      , n = this._anchor
                      , r = this.transform.worldTransform
                      , s = r.a
                      , o = r.b
                      , a = r.c
                      , h = r.d
                      , l = r.tx
                      , u = r.ty
                      , c = -n._x * i.width
                      , d = c + i.width
                      , p = -n._y * i.height
                      , f = p + i.height;
                    e[0] = s * c + a * p + l,
                    e[1] = h * p + o * c + u,
                    e[2] = s * d + a * p + l,
                    e[3] = h * p + o * d + u,
                    e[4] = s * d + a * f + l,
                    e[5] = h * f + o * d + u,
                    e[6] = s * c + a * f + l,
                    e[7] = h * f + o * c + u
                }
                ,
                e.prototype._renderWebGL = function(t) {
                    this.calculateVertices(),
                    t.setObjectRenderer(t.plugins[this.pluginName]),
                    t.plugins[this.pluginName].render(this)
                }
                ,
                e.prototype._renderCanvas = function(t) {
                    t.plugins[this.pluginName].render(this)
                }
                ,
                e.prototype._calculateBounds = function() {
                    var t = this._texture.trim
                      , e = this._texture.orig;
                    !t || t.width === e.width && t.height === e.height ? (this.calculateVertices(),
                    this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(),
                    this._bounds.addQuad(this.vertexTrimmedData))
                }
                ,
                e.prototype.getLocalBounds = function(e) {
                    return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x,
                    this._bounds.minY = this._texture.orig.height * -this._anchor._y,
                    this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x),
                    this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._x),
                    e || (this._localBoundsRect || (this._localBoundsRect = new h.Rectangle),
                    e = this._localBoundsRect),
                    this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e)
                }
                ,
                e.prototype.containsPoint = function(t) {
                    this.worldTransform.applyInverse(t, m);
                    var e = this._texture.orig.width
                      , i = this._texture.orig.height
                      , n = -e * this.anchor.x
                      , r = 0;
                    return m.x > n && m.x < n + e && (r = -i * this.anchor.y,
                    m.y > r && m.y < r + i)
                }
                ,
                e.prototype.destroy = function(e) {
                    if (t.prototype.destroy.call(this, e),
                    this._anchor = null,
                    "boolean" == typeof e ? e : e && e.texture) {
                        var i = "boolean" == typeof e ? e : e && e.baseTexture;
                        this._texture.destroy(!!i)
                    }
                    this._texture = null,
                    this.shader = null
                }
                ,
                e.from = function(t) {
                    return new e(d.default.from(t))
                }
                ,
                e.fromFrame = function(t) {
                    var i = l.TextureCache[t];
                    if (!i)
                        throw new Error('The frameId "' + t + '" does not exist in the texture cache');
                    return new e(i)
                }
                ,
                e.fromImage = function(t, i, n) {
                    return new e(d.default.fromImage(t, i, n))
                }
                ,
                a(e, [{
                    key: "width",
                    get: function() {
                        return Math.abs(this.scale.x) * this._texture.orig.width
                    },
                    set: function(t) {
                        var e = (0,
                        l.sign)(this.scale.x) || 1;
                        this.scale.x = e * t / this._texture.orig.width,
                        this._width = t
                    }
                }, {
                    key: "height",
                    get: function() {
                        return Math.abs(this.scale.y) * this._texture.orig.height
                    },
                    set: function(t) {
                        var e = (0,
                        l.sign)(this.scale.y) || 1;
                        this.scale.y = e * t / this._texture.orig.height,
                        this._height = t
                    }
                }, {
                    key: "anchor",
                    get: function() {
                        return this._anchor
                    },
                    set: function(t) {
                        this._anchor.copy(t)
                    }
                }, {
                    key: "tint",
                    get: function() {
                        return this._tint
                    },
                    set: function(t) {
                        this._tint = t,
                        this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16)
                    }
                }, {
                    key: "texture",
                    get: function() {
                        return this._texture
                    },
                    set: function(t) {
                        this._texture !== t && (this._texture = t,
                        this.cachedTint = 16777215,
                        this._textureID = -1,
                        this._textureTrimmedID = -1,
                        t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
                    }
                }]),
                e
            }(f.default);
            i.default = _
        }
        , {
            "../const": 44,
            "../display/Container": 46,
            "../math": 68,
            "../textures/Texture": 113,
            "../utils": 122
        }],
        101: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var s = t("../../renderers/canvas/CanvasRenderer")
              , o = n(s)
              , a = t("../../const")
              , h = t("../../math")
              , l = t("./CanvasTinter")
              , u = n(l)
              , c = new h.Matrix
              , d = function() {
                function t(e) {
                    r(this, t),
                    this.renderer = e
                }
                return t.prototype.render = function(t) {
                    var e = t._texture
                      , i = this.renderer
                      , n = e._frame.width
                      , r = e._frame.height
                      , s = t.transform.worldTransform
                      , o = 0
                      , l = 0;
                    if (!(e.orig.width <= 0 || e.orig.height <= 0) && e.baseTexture.source && (i.setBlendMode(t.blendMode),
                    e.valid)) {
                        i.context.globalAlpha = t.worldAlpha;
                        var d = e.baseTexture.scaleMode === a.SCALE_MODES.LINEAR;
                        i.smoothProperty && i.context[i.smoothProperty] !== d && (i.context[i.smoothProperty] = d),
                        e.trim ? (o = e.trim.width / 2 + e.trim.x - t.anchor.x * e.orig.width,
                        l = e.trim.height / 2 + e.trim.y - t.anchor.y * e.orig.height) : (o = (.5 - t.anchor.x) * e.orig.width,
                        l = (.5 - t.anchor.y) * e.orig.height),
                        e.rotate && (s.copy(c),
                        s = c,
                        h.GroupD8.matrixAppendRotationInv(s, e.rotate, o, l),
                        o = 0,
                        l = 0),
                        o -= n / 2,
                        l -= r / 2,
                        i.roundPixels ? (i.context.setTransform(s.a, s.b, s.c, s.d, s.tx * i.resolution | 0, s.ty * i.resolution | 0),
                        o |= 0,
                        l |= 0) : i.context.setTransform(s.a, s.b, s.c, s.d, s.tx * i.resolution, s.ty * i.resolution);
                        var p = e.baseTexture.resolution;
                        16777215 !== t.tint ? (t.cachedTint !== t.tint && (t.cachedTint = t.tint,
                        t.tintedTexture = u.default.getTintedTexture(t, t.tint)),
                        i.context.drawImage(t.tintedTexture, 0, 0, n * p, r * p, o * i.resolution, l * i.resolution, n * i.resolution, r * i.resolution)) : i.context.drawImage(e.baseTexture.source, e._frame.x * p, e._frame.y * p, n * p, r * p, o * i.resolution, l * i.resolution, n * i.resolution, r * i.resolution)
                    }
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }();
            i.default = d,
            o.default.registerPlugin("sprite", d)
        }
        , {
            "../../const": 44,
            "../../math": 68,
            "../../renderers/canvas/CanvasRenderer": 75,
            "./CanvasTinter": 102
        }],
        102: [function(t, e, i) {
            "use strict";
            i.__esModule = !0;
            var n = t("../../utils")
              , r = t("../../renderers/canvas/utils/canUseNewCanvasBlendModes")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = {
                getTintedTexture: function(t, e) {
                    var i = t._texture;
                    e = o.roundColor(e);
                    var n = "#" + ("00000" + (0 | e).toString(16)).substr(-6);
                    if (i.tintCache = i.tintCache || {},
                    i.tintCache[n])
                        return i.tintCache[n];
                    var r = o.canvas || document.createElement("canvas");
                    if (o.tintMethod(i, e, r),
                    o.convertTintToImage) {
                        var s = new Image;
                        s.src = r.toDataURL(),
                        i.tintCache[n] = s
                    } else
                        i.tintCache[n] = r,
                        o.canvas = null;
                    return r
                },
                tintWithMultiply: function(t, e, i) {
                    var n = i.getContext("2d")
                      , r = t._frame.clone()
                      , s = t.baseTexture.resolution;
                    r.x *= s,
                    r.y *= s,
                    r.width *= s,
                    r.height *= s,
                    i.width = Math.ceil(r.width),
                    i.height = Math.ceil(r.height),
                    n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6),
                    n.fillRect(0, 0, r.width, r.height),
                    n.globalCompositeOperation = "multiply",
                    n.drawImage(t.baseTexture.source, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height),
                    n.globalCompositeOperation = "destination-atop",
                    n.drawImage(t.baseTexture.source, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height)
                },
                tintWithOverlay: function(t, e, i) {
                    var n = i.getContext("2d")
                      , r = t._frame.clone()
                      , s = t.baseTexture.resolution;
                    r.x *= s,
                    r.y *= s,
                    r.width *= s,
                    r.height *= s,
                    i.width = Math.ceil(r.width),
                    i.height = Math.ceil(r.height),
                    n.globalCompositeOperation = "copy",
                    n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6),
                    n.fillRect(0, 0, r.width, r.height),
                    n.globalCompositeOperation = "destination-atop",
                    n.drawImage(t.baseTexture.source, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height)
                },
                tintWithPerPixel: function(t, e, i) {
                    var r = i.getContext("2d")
                      , s = t._frame.clone()
                      , o = t.baseTexture.resolution;
                    s.x *= o,
                    s.y *= o,
                    s.width *= o,
                    s.height *= o,
                    i.width = Math.ceil(s.width),
                    i.height = Math.ceil(s.height),
                    r.globalCompositeOperation = "copy",
                    r.drawImage(t.baseTexture.source, s.x, s.y, s.width, s.height, 0, 0, s.width, s.height);
                    for (var a = (0,
                    n.hex2rgb)(e), h = a[0], l = a[1], u = a[2], c = r.getImageData(0, 0, s.width, s.height), d = c.data, p = 0; p < d.length; p += 4)
                        d[p + 0] *= h,
                        d[p + 1] *= l,
                        d[p + 2] *= u;
                    r.putImageData(c, 0, 0)
                },
                roundColor: function(t) {
                    var e = o.cacheStepsPerColorChannel
                      , i = (0,
                    n.hex2rgb)(t);
                    return i[0] = Math.min(255, i[0] / e * e),
                    i[1] = Math.min(255, i[1] / e * e),
                    i[2] = Math.min(255, i[2] / e * e),
                    (0,
                    n.rgb2hex)(i)
                },
                cacheStepsPerColorChannel: 8,
                convertTintToImage: !1,
                canUseMultiply: (0,
                s.default)(),
                tintMethod: 0
            };
            o.tintMethod = o.canUseMultiply ? o.tintWithMultiply : o.tintWithPerPixel,
            i.default = o
        }
        , {
            "../../renderers/canvas/utils/canUseNewCanvasBlendModes": 78,
            "../../utils": 122
        }],
        103: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(e) {
                    n(this, t),
                    this.vertices = new ArrayBuffer(e),
                    this.float32View = new Float32Array(this.vertices),
                    this.uint32View = new Uint32Array(this.vertices)
                }
                return t.prototype.destroy = function() {
                    this.vertices = null,
                    this.positions = null,
                    this.uvs = null,
                    this.colors = null
                }
                ,
                t
            }();
            i.default = r
        }
        , {}],
        104: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("../../renderers/webgl/utils/ObjectRenderer")
              , h = n(a)
              , l = t("../../renderers/webgl/WebGLRenderer")
              , u = n(l)
              , c = t("../../utils/createIndicesForQuads")
              , d = n(c)
              , p = t("./generateMultiTextureShader")
              , f = n(p)
              , m = t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader")
              , _ = n(m)
              , y = t("./BatchBuffer")
              , v = n(y)
              , g = t("../../settings")
              , x = n(g)
              , b = t("pixi-gl-core")
              , w = n(b)
              , T = t("bit-twiddle")
              , A = n(T)
              , S = 0
              , C = 0
              , E = function(t) {
                function e(i) {
                    r(this, e);
                    var n = s(this, t.call(this, i));
                    n.vertSize = 5,
                    n.vertByteSize = 4 * n.vertSize,
                    n.size = x.default.SPRITE_BATCH_SIZE,
                    n.buffers = [];
                    for (var o = 1; o <= A.default.nextPow2(n.size); o *= 2)
                        n.buffers.push(new v.default(4 * o * n.vertByteSize));
                    n.indices = (0,
                    d.default)(n.size),
                    n.shader = null,
                    n.currentIndex = 0,
                    n.groups = [];
                    for (var a = 0; a < n.size; a++)
                        n.groups[a] = {
                            textures: [],
                            textureCount: 0,
                            ids: [],
                            size: 0,
                            start: 0,
                            blend: 0
                        };
                    return n.sprites = [],
                    n.vertexBuffers = [],
                    n.vaos = [],
                    n.vaoMax = 2,
                    n.vertexCount = 0,
                    n.renderer.on("prerender", n.onPrerender, n),
                    n
                }
                return o(e, t),
                e.prototype.onContextChange = function() {
                    var t = this.renderer.gl;
                    this.renderer.legacy ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), x.default.SPRITE_MAX_TEXTURES),
                    this.MAX_TEXTURES = (0,
                    _.default)(this.MAX_TEXTURES, t)),
                    this.shader = (0,
                    f.default)(t, this.MAX_TEXTURES),
                    this.indexBuffer = w.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW),
                    this.renderer.bindVao(null);
                    for (var e = this.shader.attributes, i = 0; i < this.vaoMax; i++) {
                        var n = this.vertexBuffers[i] = w.default.GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW)
                          , r = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n, e.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(n, e.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(n, e.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                        e.aTextureId && r.addAttribute(n, e.aTextureId, t.FLOAT, !1, this.vertByteSize, 16),
                        this.vaos[i] = r
                    }
                    this.vao = this.vaos[0],
                    this.currentBlendMode = 99999,
                    this.boundTextures = new Array(this.MAX_TEXTURES)
                }
                ,
                e.prototype.onPrerender = function() {
                    this.vertexCount = 0
                }
                ,
                e.prototype.render = function(t) {
                    this.currentIndex >= this.size && this.flush(),
                    t._texture._uvs && (this.sprites[this.currentIndex++] = t)
                }
                ,
                e.prototype.flush = function() {
                    if (0 !== this.currentIndex) {
                        var t = this.renderer.gl
                          , e = this.MAX_TEXTURES
                          , i = A.default.nextPow2(this.currentIndex)
                          , n = A.default.log2(i)
                          , r = this.buffers[n]
                          , s = this.sprites
                          , o = this.groups
                          , a = r.float32View
                          , h = r.uint32View
                          , l = this.boundTextures
                          , u = this.renderer.boundTextures
                          , c = this.renderer.textureGC.count
                          , d = 0
                          , p = void 0
                          , f = void 0
                          , m = 1
                          , _ = 0
                          , y = o[0]
                          , v = void 0
                          , g = void 0
                          , b = s[0].blendMode;
                        y.textureCount = 0,
                        y.start = 0,
                        y.blend = b,
                        S++;
                        var T = void 0;
                        for (T = 0; T < e; ++T)
                            l[T] = u[T],
                            l[T]._virtalBoundId = T;
                        for (T = 0; T < this.currentIndex; ++T) {
                            var E = s[T];
                            if (p = E._texture.baseTexture,
                            b !== E.blendMode && (b = E.blendMode,
                            f = null,
                            _ = e,
                            S++),
                            f !== p && (f = p,
                            p._enabled !== S)) {
                                if (_ === e && (S++,
                                y.size = T - y.start,
                                _ = 0,
                                y = o[m++],
                                y.blend = b,
                                y.textureCount = 0,
                                y.start = T),
                                p.touched = c,
                                -1 === p._virtalBoundId)
                                    for (var P = 0; P < e; ++P) {
                                        var M = (P + C) % e
                                          , O = l[M];
                                        if (O._enabled !== S) {
                                            C++,
                                            O._virtalBoundId = -1,
                                            p._virtalBoundId = M,
                                            l[M] = p;
                                            break
                                        }
                                    }
                                p._enabled = S,
                                y.textureCount++,
                                y.ids[_] = p._virtalBoundId,
                                y.textures[_++] = p
                            }
                            if (v = E.vertexData,
                            g = E._texture._uvs.uvsUint32,
                            this.renderer.roundPixels) {
                                var I = this.renderer.resolution;
                                a[d] = (v[0] * I | 0) / I,
                                a[d + 1] = (v[1] * I | 0) / I,
                                a[d + 5] = (v[2] * I | 0) / I,
                                a[d + 6] = (v[3] * I | 0) / I,
                                a[d + 10] = (v[4] * I | 0) / I,
                                a[d + 11] = (v[5] * I | 0) / I,
                                a[d + 15] = (v[6] * I | 0) / I,
                                a[d + 16] = (v[7] * I | 0) / I
                            } else
                                a[d] = v[0],
                                a[d + 1] = v[1],
                                a[d + 5] = v[2],
                                a[d + 6] = v[3],
                                a[d + 10] = v[4],
                                a[d + 11] = v[5],
                                a[d + 15] = v[6],
                                a[d + 16] = v[7];
                            h[d + 2] = g[0],
                            h[d + 7] = g[1],
                            h[d + 12] = g[2],
                            h[d + 17] = g[3],
                            h[d + 3] = h[d + 8] = h[d + 13] = h[d + 18] = E._tintRGB + (255 * Math.min(E.worldAlpha, 1) << 24),
                            a[d + 4] = a[d + 9] = a[d + 14] = a[d + 19] = p._virtalBoundId,
                            d += 20
                        }
                        if (y.size = T - y.start,
                        x.default.CAN_UPLOAD_SAME_BUFFER)
                            this.vertexBuffers[this.vertexCount].upload(r.vertices, 0, !0);
                        else {
                            if (this.vaoMax <= this.vertexCount) {
                                this.vaoMax++;
                                var B = this.shader.attributes
                                  , R = this.vertexBuffers[this.vertexCount] = w.default.GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW)
                                  , k = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(R, B.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(R, B.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(R, B.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                                B.aTextureId && k.addAttribute(R, B.aTextureId, t.FLOAT, !1, this.vertByteSize, 16),
                                this.vaos[this.vertexCount] = k
                            }
                            this.renderer.bindVao(this.vaos[this.vertexCount]),
                            this.vertexBuffers[this.vertexCount].upload(r.vertices, 0, !1),
                            this.vertexCount++
                        }
                        for (T = 0; T < e; ++T)
                            u[T]._virtalBoundId = -1;
                        for (T = 0; T < m; ++T) {
                            for (var D = o[T], L = D.textureCount, F = 0; F < L; F++)
                                f = D.textures[F],
                                u[D.ids[F]] !== f && this.renderer.bindTexture(f, D.ids[F], !0),
                                f._virtalBoundId = -1;
                            this.renderer.state.setBlendMode(D.blend),
                            t.drawElements(t.TRIANGLES, 6 * D.size, t.UNSIGNED_SHORT, 6 * D.start * 2)
                        }
                        this.currentIndex = 0
                    }
                }
                ,
                e.prototype.start = function() {
                    this.renderer.bindShader(this.shader),
                    x.default.CAN_UPLOAD_SAME_BUFFER && (this.renderer.bindVao(this.vaos[this.vertexCount]),
                    this.vertexBuffers[this.vertexCount].bind())
                }
                ,
                e.prototype.stop = function() {
                    this.flush()
                }
                ,
                e.prototype.destroy = function() {
                    for (var e = 0; e < this.vaoMax; e++)
                        this.vertexBuffers[e] && this.vertexBuffers[e].destroy(),
                        this.vaos[e] && this.vaos[e].destroy();
                    this.indexBuffer && this.indexBuffer.destroy(),
                    this.renderer.off("prerender", this.onPrerender, this),
                    t.prototype.destroy.call(this),
                    this.shader && (this.shader.destroy(),
                    this.shader = null),
                    this.vertexBuffers = null,
                    this.vaos = null,
                    this.indexBuffer = null,
                    this.indices = null,
                    this.sprites = null;
                    for (var i = 0; i < this.buffers.length; ++i)
                        this.buffers[i].destroy()
                }
                ,
                e
            }(h.default);
            i.default = E,
            u.default.registerPlugin("sprite", E)
        }
        , {
            "../../renderers/webgl/WebGLRenderer": 82,
            "../../renderers/webgl/utils/ObjectRenderer": 92,
            "../../renderers/webgl/utils/checkMaxIfStatmentsInShader": 95,
            "../../settings": 99,
            "../../utils/createIndicesForQuads": 120,
            "./BatchBuffer": 103,
            "./generateMultiTextureShader": 105,
            "bit-twiddle": 1,
            "pixi-gl-core": 12
        }],
        105: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                var i = a;
                i = i.replace(/%count%/gi, e),
                i = i.replace(/%forloop%/gi, r(e));
                for (var n = new o.default(t,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",i), s = [], h = 0; h < e; h++)
                    s[h] = h;
                return n.bind(),
                n.uniforms.uSamplers = s,
                n
            }
            function r(t) {
                var e = "";
                e += "\n",
                e += "\n";
                for (var i = 0; i < t; i++)
                    i > 0 && (e += "\nelse "),
                    i < t - 1 && (e += "if(textureId == " + i + ".0)"),
                    e += "\n{",
                    e += "\n\tcolor = texture2D(uSamplers[" + i + "], vTextureCoord);",
                    e += "\n}";
                return e += "\n",
                e += "\n"
            }
            i.__esModule = !0,
            i.default = n;
            var s = t("../../Shader")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
              , a = (t("path"),
            ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureId;", "uniform sampler2D uSamplers[%count%];", "void main(void){", "vec4 color;", "float textureId = floor(vTextureId+0.5);", "%forloop%", "gl_FragColor = color * vColor;", "}"].join("\n"))
        }
        , {
            "../../Shader": 42,
            path: 22
        }],
        106: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("../sprites/Sprite")
              , l = n(h)
              , u = t("../textures/Texture")
              , c = n(u)
              , d = t("../math")
              , p = t("../utils")
              , f = t("../const")
              , m = t("../settings")
              , _ = n(m)
              , y = t("./TextStyle")
              , v = n(y)
              , g = t("./TextMetrics")
              , x = n(g)
              , b = t("../utils/trimCanvas")
              , w = n(b)
              , T = {
                texture: !0,
                children: !1,
                baseTexture: !0
            }
              , A = function(t) {
                function e(i, n, o) {
                    r(this, e),
                    o = o || document.createElement("canvas"),
                    o.width = 3,
                    o.height = 3;
                    var a = c.default.fromCanvas(o, _.default.SCALE_MODE, "text");
                    a.orig = new d.Rectangle,
                    a.trim = new d.Rectangle;
                    var h = s(this, t.call(this, a));
                    return c.default.addToCache(h._texture, h._texture.baseTexture.textureCacheIds[0]),
                    h.canvas = o,
                    h.context = h.canvas.getContext("2d"),
                    h.resolution = _.default.RESOLUTION,
                    h._text = null,
                    h._style = null,
                    h._styleListener = null,
                    h._font = "",
                    h.text = i,
                    h.style = n,
                    h.localStyleID = -1,
                    h
                }
                return o(e, t),
                e.prototype.updateText = function(t) {
                    var e = this._style;
                    if (this.localStyleID !== e.styleID && (this.dirty = !0,
                    this.localStyleID = e.styleID),
                    this.dirty || !t) {
                        this._font = this._style.toFontString();
                        var i = x.default.measureText(this._text, this._style, this._style.wordWrap, this.canvas)
                          , n = i.width
                          , r = i.height
                          , s = i.lines
                          , o = i.lineHeight
                          , a = i.lineWidths
                          , h = i.maxLineWidth
                          , l = i.fontProperties;
                        this.canvas.width = Math.ceil((n + 2 * e.padding) * this.resolution),
                        this.canvas.height = Math.ceil((r + 2 * e.padding) * this.resolution),
                        this.context.scale(this.resolution, this.resolution),
                        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height),
                        this.context.font = this._font,
                        this.context.strokeStyle = e.stroke,
                        this.context.lineWidth = e.strokeThickness,
                        this.context.textBaseline = e.textBaseline,
                        this.context.lineJoin = e.lineJoin,
                        this.context.miterLimit = e.miterLimit;
                        var u = void 0
                          , c = void 0;
                        if (e.dropShadow) {
                            this.context.shadowBlur = e.dropShadowBlur,
                            this.context.globalAlpha = e.dropShadowAlpha,
                            e.dropShadowBlur > 0 ? this.context.shadowColor = e.dropShadowColor : this.context.fillStyle = e.dropShadowColor;
                            for (var d = Math.cos(e.dropShadowAngle) * e.dropShadowDistance, p = Math.sin(e.dropShadowAngle) * e.dropShadowDistance, f = 0; f < s.length; f++)
                                u = e.strokeThickness / 2,
                                c = e.strokeThickness / 2 + f * o + l.ascent,
                                "right" === e.align ? u += h - a[f] : "center" === e.align && (u += (h - a[f]) / 2),
                                e.fill && (this.drawLetterSpacing(s[f], u + d + e.padding, c + p + e.padding),
                                e.stroke && e.strokeThickness && (this.context.strokeStyle = e.dropShadowColor,
                                this.drawLetterSpacing(s[f], u + d + e.padding, c + p + e.padding, !0),
                                this.context.strokeStyle = e.stroke))
                        }
                        this.context.shadowBlur = 0,
                        this.context.globalAlpha = 1,
                        this.context.fillStyle = this._generateFillStyle(e, s);
                        for (var m = 0; m < s.length; m++)
                            u = e.strokeThickness / 2,
                            c = e.strokeThickness / 2 + m * o + l.ascent,
                            "right" === e.align ? u += h - a[m] : "center" === e.align && (u += (h - a[m]) / 2),
                            e.stroke && e.strokeThickness && this.drawLetterSpacing(s[m], u + e.padding, c + e.padding, !0),
                            e.fill && this.drawLetterSpacing(s[m], u + e.padding, c + e.padding);
                        this.updateTexture()
                    }
                }
                ,
                e.prototype.drawLetterSpacing = function(t, e, i) {
                    var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]
                      , r = this._style
                      , s = r.letterSpacing;
                    if (0 === s)
                        return void (n ? this.context.strokeText(t, e, i) : this.context.fillText(t, e, i));
                    for (var o = String.prototype.split.call(t, ""), a = e, h = 0, l = ""; h < t.length; )
                        l = o[h++],
                        n ? this.context.strokeText(l, a, i) : this.context.fillText(l, a, i),
                        a += this.context.measureText(l).width + s
                }
                ,
                e.prototype.updateTexture = function() {
                    if (this._style.trim) {
                        var t = (0,
                        w.default)(this.canvas);
                        this.canvas.width = t.width,
                        this.canvas.height = t.height,
                        this.context.putImageData(t.data, 0, 0)
                    }
                    var e = this._texture
                      , i = this._style
                      , n = i.trim ? 0 : i.padding;
                    e.baseTexture.hasLoaded = !0,
                    e.baseTexture.resolution = this.resolution,
                    e.baseTexture.realWidth = this.canvas.width,
                    e.baseTexture.realHeight = this.canvas.height,
                    e.baseTexture.width = this.canvas.width / this.resolution,
                    e.baseTexture.height = this.canvas.height / this.resolution,
                    e.trim.width = e._frame.width = this.canvas.width / this.resolution,
                    e.trim.height = e._frame.height = this.canvas.height / this.resolution,
                    e.trim.x = -n,
                    e.trim.y = -n,
                    e.orig.width = e._frame.width - 2 * n,
                    e.orig.height = e._frame.height - 2 * n,
                    this._onTextureUpdate(),
                    e.baseTexture.emit("update", e.baseTexture),
                    this.dirty = !1
                }
                ,
                e.prototype.renderWebGL = function(e) {
                    this.resolution !== e.resolution && (this.resolution = e.resolution,
                    this.dirty = !0),
                    this.updateText(!0),
                    t.prototype.renderWebGL.call(this, e)
                }
                ,
                e.prototype._renderCanvas = function(e) {
                    this.resolution !== e.resolution && (this.resolution = e.resolution,
                    this.dirty = !0),
                    this.updateText(!0),
                    t.prototype._renderCanvas.call(this, e)
                }
                ,
                e.prototype.getLocalBounds = function(e) {
                    return this.updateText(!0),
                    t.prototype.getLocalBounds.call(this, e)
                }
                ,
                e.prototype._calculateBounds = function() {
                    this.updateText(!0),
                    this.calculateVertices(),
                    this._bounds.addQuad(this.vertexData)
                }
                ,
                e.prototype._onStyleChange = function() {
                    this.dirty = !0
                }
                ,
                e.prototype._generateFillStyle = function(t, e) {
                    if (!Array.isArray(t.fill))
                        return t.fill;
                    if (navigator.isCocoonJS)
                        return t.fill[0];
                    var i = void 0
                      , n = void 0
                      , r = void 0
                      , s = void 0
                      , o = this.canvas.width / this.resolution
                      , a = this.canvas.height / this.resolution
                      , h = t.fill.slice()
                      , l = t.fillGradientStops.slice();
                    if (!l.length)
                        for (var u = h.length + 1, c = 1; c < u; ++c)
                            l.push(c / u);
                    if (h.unshift(t.fill[0]),
                    l.unshift(0),
                    h.push(t.fill[t.fill.length - 1]),
                    l.push(1),
                    t.fillGradientType === f.TEXT_GRADIENT.LINEAR_VERTICAL) {
                        i = this.context.createLinearGradient(o / 2, 0, o / 2, a),
                        n = (h.length + 1) * e.length,
                        r = 0;
                        for (var d = 0; d < e.length; d++) {
                            r += 1;
                            for (var p = 0; p < h.length; p++)
                                s = "number" == typeof l[p] ? l[p] / e.length + d / e.length : r / n,
                                i.addColorStop(s, h[p]),
                                r++
                        }
                    } else {
                        i = this.context.createLinearGradient(0, a / 2, o, a / 2),
                        n = h.length + 1,
                        r = 1;
                        for (var m = 0; m < h.length; m++)
                            s = "number" == typeof l[m] ? l[m] : r / n,
                            i.addColorStop(s, h[m]),
                            r++
                    }
                    return i
                }
                ,
                e.prototype.destroy = function(e) {
                    "boolean" == typeof e && (e = {
                        children: e
                    }),
                    e = Object.assign({}, T, e),
                    t.prototype.destroy.call(this, e),
                    this.context = null,
                    this.canvas = null,
                    this._style = null
                }
                ,
                a(e, [{
                    key: "width",
                    get: function() {
                        return this.updateText(!0),
                        Math.abs(this.scale.x) * this._texture.orig.width
                    },
                    set: function(t) {
                        this.updateText(!0);
                        var e = (0,
                        p.sign)(this.scale.x) || 1;
                        this.scale.x = e * t / this._texture.orig.width,
                        this._width = t
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this.updateText(!0),
                        Math.abs(this.scale.y) * this._texture.orig.height
                    },
                    set: function(t) {
                        this.updateText(!0);
                        var e = (0,
                        p.sign)(this.scale.y) || 1;
                        this.scale.y = e * t / this._texture.orig.height,
                        this._height = t
                    }
                }, {
                    key: "style",
                    get: function() {
                        return this._style
                    },
                    set: function(t) {
                        t = t || {},
                        t instanceof v.default ? this._style = t : this._style = new v.default(t),
                        this.localStyleID = -1,
                        this.dirty = !0
                    }
                }, {
                    key: "text",
                    get: function() {
                        return this._text
                    },
                    set: function(t) {
                        t = String("" === t || null === t || void 0 === t ? " " : t),
                        this._text !== t && (this._text = t,
                        this.dirty = !0)
                    }
                }]),
                e
            }(l.default);
            i.default = A
        }
        , {
            "../const": 44,
            "../math": 68,
            "../settings": 99,
            "../sprites/Sprite": 100,
            "../textures/Texture": 113,
            "../utils": 122,
            "../utils/trimCanvas": 126,
            "./TextMetrics": 107,
            "./TextStyle": 108
        }],
        107: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(e, i, r, s, o, a, h, l, u) {
                    n(this, t),
                    this.text = e,
                    this.style = i,
                    this.width = r,
                    this.height = s,
                    this.lines = o,
                    this.lineWidths = a,
                    this.lineHeight = h,
                    this.maxLineWidth = l,
                    this.fontProperties = u
                }
                return t.measureText = function(e, i, n) {
                    var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : t._canvas;
                    n = n || i.wordWrap;
                    var s = i.toFontString()
                      , o = t.measureFont(s)
                      , a = r.getContext("2d");
                    a.font = s;
                    for (var h = n ? t.wordWrap(e, i, r) : e, l = h.split(/(?:\r\n|\r|\n)/), u = new Array(l.length), c = 0, d = 0; d < l.length; d++) {
                        var p = a.measureText(l[d]).width + (l[d].length - 1) * i.letterSpacing;
                        u[d] = p,
                        c = Math.max(c, p)
                    }
                    var f = c + i.strokeThickness;
                    i.dropShadow && (f += i.dropShadowDistance);
                    var m = i.lineHeight || o.fontSize + i.strokeThickness
                      , _ = Math.max(m, o.fontSize + i.strokeThickness) + (l.length - 1) * m;
                    return i.dropShadow && (_ += i.dropShadowDistance),
                    new t(e,i,f,_,l,u,m,c,o)
                }
                ,
                t.wordWrap = function(e, i) {
                    for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t._canvas, r = n.getContext("2d"), s = "", o = e.split("\n"), a = i.wordWrapWidth, h = {}, l = 0; l < o.length; l++) {
                        for (var u = a, c = o[l].split(" "), d = 0; d < c.length; d++) {
                            var p = r.measureText(c[d]).width;
                            if (i.breakWords && p > a)
                                for (var f = c[d].split(""), m = 0; m < f.length; m++) {
                                    var _ = f[m]
                                      , y = h[_];
                                    void 0 === y && (y = r.measureText(_).width,
                                    h[_] = y),
                                    y > u ? (s += "\n" + _,
                                    u = a - y) : (0 === m && (s += " "),
                                    s += _,
                                    u -= y)
                                }
                            else {
                                var v = p + r.measureText(" ").width;
                                0 === d || v > u ? (d > 0 && (s += "\n"),
                                s += c[d],
                                u = a - p) : (u -= v,
                                s += " " + c[d])
                            }
                        }
                        l < o.length - 1 && (s += "\n")
                    }
                    return s
                }
                ,
                t.measureFont = function(e) {
                    if (t._fonts[e])
                        return t._fonts[e];
                    var i = {}
                      , n = t._canvas
                      , r = t._context;
                    r.font = e;
                    var s = Math.ceil(r.measureText("|Mq").width)
                      , o = Math.ceil(r.measureText("M").width)
                      , a = 2 * o;
                    o = 1.4 * o | 0,
                    n.width = s,
                    n.height = a,
                    r.fillStyle = "#f00",
                    r.fillRect(0, 0, s, a),
                    r.font = e,
                    r.textBaseline = "alphabetic",
                    r.fillStyle = "#000",
                    r.fillText("|Mq", 0, o);
                    var h = r.getImageData(0, 0, s, a).data
                      , l = h.length
                      , u = 4 * s
                      , c = 0
                      , d = 0
                      , p = !1;
                    for (c = 0; c < o; ++c) {
                        for (var f = 0; f < u; f += 4)
                            if (255 !== h[d + f]) {
                                p = !0;
                                break
                            }
                        if (p)
                            break;
                        d += u
                    }
                    for (i.ascent = o - c,
                    d = l - u,
                    p = !1,
                    c = a; c > o; --c) {
                        for (var m = 0; m < u; m += 4)
                            if (255 !== h[d + m]) {
                                p = !0;
                                break
                            }
                        if (p)
                            break;
                        d -= u
                    }
                    return i.descent = c - o,
                    i.fontSize = i.ascent + i.descent,
                    t._fonts[e] = i,
                    i
                }
                ,
                t
            }();
            i.default = r;
            var s = document.createElement("canvas");
            s.width = s.height = 10,
            r._canvas = s,
            r._context = s.getContext("2d"),
            r._fonts = {}
        }
        , {}],
        108: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t) {
                return "number" == typeof t ? (0,
                l.hex2string)(t) : ("string" == typeof t && 0 === t.indexOf("0x") && (t = t.replace("0x", "#")),
                t)
            }
            function s(t) {
                if (Array.isArray(t)) {
                    for (var e = 0; e < t.length; ++e)
                        t[e] = r(t[e]);
                    return t
                }
                return r(t)
            }
            function o(t, e) {
                if (!Array.isArray(t) || !Array.isArray(e))
                    return !1;
                if (t.length !== e.length)
                    return !1;
                for (var i = 0; i < t.length; ++i)
                    if (t[i] !== e[i])
                        return !1;
                return !0
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("../const")
              , l = t("../utils")
              , u = {
                align: "left",
                breakWords: !1,
                dropShadow: !1,
                dropShadowAlpha: 1,
                dropShadowAngle: Math.PI / 6,
                dropShadowBlur: 0,
                dropShadowColor: "#000000",
                dropShadowDistance: 5,
                fill: "black",
                fillGradientType: h.TEXT_GRADIENT.LINEAR_VERTICAL,
                fillGradientStops: [],
                fontFamily: "Arial",
                fontSize: 26,
                fontStyle: "normal",
                fontVariant: "normal",
                fontWeight: "normal",
                letterSpacing: 0,
                lineHeight: 0,
                lineJoin: "miter",
                miterLimit: 10,
                padding: 0,
                stroke: "black",
                strokeThickness: 0,
                textBaseline: "alphabetic",
                trim: !1,
                wordWrap: !1,
                wordWrapWidth: 100
            }
              , c = function() {
                function t(e) {
                    n(this, t),
                    this.styleID = 0,
                    Object.assign(this, u, e)
                }
                return t.prototype.clone = function() {
                    var e = {};
                    for (var i in u)
                        e[i] = this[i];
                    return new t(e)
                }
                ,
                t.prototype.reset = function() {
                    Object.assign(this, u)
                }
                ,
                t.prototype.toFontString = function() {
                    var t = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize
                      , e = this.fontFamily;
                    Array.isArray(this.fontFamily) || (e = this.fontFamily.split(","));
                    for (var i = e.length - 1; i >= 0; i--) {
                        var n = e[i].trim();
                        /([\"\'])[^\'\"]+\1/.test(n) || (n = '"' + n + '"'),
                        e[i] = n
                    }
                    return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + e.join(",")
                }
                ,
                a(t, [{
                    key: "align",
                    get: function() {
                        return this._align
                    },
                    set: function(t) {
                        this._align !== t && (this._align = t,
                        this.styleID++)
                    }
                }, {
                    key: "breakWords",
                    get: function() {
                        return this._breakWords
                    },
                    set: function(t) {
                        this._breakWords !== t && (this._breakWords = t,
                        this.styleID++)
                    }
                }, {
                    key: "dropShadow",
                    get: function() {
                        return this._dropShadow
                    },
                    set: function(t) {
                        this._dropShadow !== t && (this._dropShadow = t,
                        this.styleID++)
                    }
                }, {
                    key: "dropShadowAlpha",
                    get: function() {
                        return this._dropShadowAlpha
                    },
                    set: function(t) {
                        this._dropShadowAlpha !== t && (this._dropShadowAlpha = t,
                        this.styleID++)
                    }
                }, {
                    key: "dropShadowAngle",
                    get: function() {
                        return this._dropShadowAngle
                    },
                    set: function(t) {
                        this._dropShadowAngle !== t && (this._dropShadowAngle = t,
                        this.styleID++)
                    }
                }, {
                    key: "dropShadowBlur",
                    get: function() {
                        return this._dropShadowBlur
                    },
                    set: function(t) {
                        this._dropShadowBlur !== t && (this._dropShadowBlur = t,
                        this.styleID++)
                    }
                }, {
                    key: "dropShadowColor",
                    get: function() {
                        return this._dropShadowColor
                    },
                    set: function(t) {
                        var e = s(t);
                        this._dropShadowColor !== e && (this._dropShadowColor = e,
                        this.styleID++)
                    }
                }, {
                    key: "dropShadowDistance",
                    get: function() {
                        return this._dropShadowDistance
                    },
                    set: function(t) {
                        this._dropShadowDistance !== t && (this._dropShadowDistance = t,
                        this.styleID++)
                    }
                }, {
                    key: "fill",
                    get: function() {
                        return this._fill
                    },
                    set: function(t) {
                        var e = s(t);
                        this._fill !== e && (this._fill = e,
                        this.styleID++)
                    }
                }, {
                    key: "fillGradientType",
                    get: function() {
                        return this._fillGradientType
                    },
                    set: function(t) {
                        this._fillGradientType !== t && (this._fillGradientType = t,
                        this.styleID++)
                    }
                }, {
                    key: "fillGradientStops",
                    get: function() {
                        return this._fillGradientStops
                    },
                    set: function(t) {
                        o(this._fillGradientStops, t) || (this._fillGradientStops = t,
                        this.styleID++)
                    }
                }, {
                    key: "fontFamily",
                    get: function() {
                        return this._fontFamily
                    },
                    set: function(t) {
                        this.fontFamily !== t && (this._fontFamily = t,
                        this.styleID++)
                    }
                }, {
                    key: "fontSize",
                    get: function() {
                        return this._fontSize
                    },
                    set: function(t) {
                        this._fontSize !== t && (this._fontSize = t,
                        this.styleID++)
                    }
                }, {
                    key: "fontStyle",
                    get: function() {
                        return this._fontStyle
                    },
                    set: function(t) {
                        this._fontStyle !== t && (this._fontStyle = t,
                        this.styleID++)
                    }
                }, {
                    key: "fontVariant",
                    get: function() {
                        return this._fontVariant
                    },
                    set: function(t) {
                        this._fontVariant !== t && (this._fontVariant = t,
                        this.styleID++)
                    }
                }, {
                    key: "fontWeight",
                    get: function() {
                        return this._fontWeight
                    },
                    set: function(t) {
                        this._fontWeight !== t && (this._fontWeight = t,
                        this.styleID++)
                    }
                }, {
                    key: "letterSpacing",
                    get: function() {
                        return this._letterSpacing
                    },
                    set: function(t) {
                        this._letterSpacing !== t && (this._letterSpacing = t,
                        this.styleID++)
                    }
                }, {
                    key: "lineHeight",
                    get: function() {
                        return this._lineHeight
                    },
                    set: function(t) {
                        this._lineHeight !== t && (this._lineHeight = t,
                        this.styleID++)
                    }
                }, {
                    key: "lineJoin",
                    get: function() {
                        return this._lineJoin
                    },
                    set: function(t) {
                        this._lineJoin !== t && (this._lineJoin = t,
                        this.styleID++)
                    }
                }, {
                    key: "miterLimit",
                    get: function() {
                        return this._miterLimit
                    },
                    set: function(t) {
                        this._miterLimit !== t && (this._miterLimit = t,
                        this.styleID++)
                    }
                }, {
                    key: "padding",
                    get: function() {
                        return this._padding
                    },
                    set: function(t) {
                        this._padding !== t && (this._padding = t,
                        this.styleID++)
                    }
                }, {
                    key: "stroke",
                    get: function() {
                        return this._stroke
                    },
                    set: function(t) {
                        var e = s(t);
                        this._stroke !== e && (this._stroke = e,
                        this.styleID++)
                    }
                }, {
                    key: "strokeThickness",
                    get: function() {
                        return this._strokeThickness
                    },
                    set: function(t) {
                        this._strokeThickness !== t && (this._strokeThickness = t,
                        this.styleID++)
                    }
                }, {
                    key: "textBaseline",
                    get: function() {
                        return this._textBaseline
                    },
                    set: function(t) {
                        this._textBaseline !== t && (this._textBaseline = t,
                        this.styleID++)
                    }
                }, {
                    key: "trim",
                    get: function() {
                        return this._trim
                    },
                    set: function(t) {
                        this._trim !== t && (this._trim = t,
                        this.styleID++)
                    }
                }, {
                    key: "wordWrap",
                    get: function() {
                        return this._wordWrap
                    },
                    set: function(t) {
                        this._wordWrap !== t && (this._wordWrap = t,
                        this.styleID++)
                    }
                }, {
                    key: "wordWrapWidth",
                    get: function() {
                        return this._wordWrapWidth
                    },
                    set: function(t) {
                        this._wordWrapWidth !== t && (this._wordWrapWidth = t,
                        this.styleID++)
                    }
                }]),
                t
            }();
            i.default = c
        }
        , {
            "../const": 44,
            "../utils": 122
        }],
        109: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("./BaseTexture")
              , h = n(a)
              , l = t("../settings")
              , u = n(l)
              , c = function(t) {
                function e() {
                    var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100
                      , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100
                      , o = arguments[2]
                      , a = arguments[3];
                    r(this, e);
                    var h = s(this, t.call(this, null, o));
                    return h.resolution = a || u.default.RESOLUTION,
                    h.width = i,
                    h.height = n,
                    h.realWidth = h.width * h.resolution,
                    h.realHeight = h.height * h.resolution,
                    h.scaleMode = void 0 !== o ? o : u.default.SCALE_MODE,
                    h.hasLoaded = !0,
                    h._glRenderTargets = {},
                    h._canvasRenderTarget = null,
                    h.valid = !1,
                    h
                }
                return o(e, t),
                e.prototype.resize = function(t, e) {
                    t === this.width && e === this.height || (this.valid = t > 0 && e > 0,
                    this.width = t,
                    this.height = e,
                    this.realWidth = this.width * this.resolution,
                    this.realHeight = this.height * this.resolution,
                    this.valid && this.emit("update", this))
                }
                ,
                e.prototype.destroy = function() {
                    t.prototype.destroy.call(this, !0),
                    this.renderer = null
                }
                ,
                e
            }(h.default);
            i.default = c
        }
        , {
            "../settings": 99,
            "./BaseTexture": 110
        }],
        110: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
              , h = t("../utils")
              , l = t("../settings")
              , u = n(l)
              , c = t("eventemitter3")
              , d = n(c)
              , p = t("../utils/determineCrossOrigin")
              , f = n(p)
              , m = t("bit-twiddle")
              , _ = n(m)
              , y = function(t) {
                function e(i, n, o) {
                    r(this, e);
                    var a = s(this, t.call(this));
                    return a.uid = (0,
                    h.uid)(),
                    a.touched = 0,
                    a.resolution = o || u.default.RESOLUTION,
                    a.width = 100,
                    a.height = 100,
                    a.realWidth = 100,
                    a.realHeight = 100,
                    a.scaleMode = void 0 !== n ? n : u.default.SCALE_MODE,
                    a.hasLoaded = !1,
                    a.isLoading = !1,
                    a.source = null,
                    a.origSource = null,
                    a.imageType = null,
                    a.sourceScale = 1,
                    a.premultipliedAlpha = !0,
                    a.imageUrl = null,
                    a.isPowerOfTwo = !1,
                    a.mipmap = u.default.MIPMAP_TEXTURES,
                    a.wrapMode = u.default.WRAP_MODE,
                    a._glTextures = {},
                    a._enabled = 0,
                    a._virtalBoundId = -1,
                    a._destroyed = !1,
                    a.textureCacheIds = [],
                    i && a.loadSource(i),
                    a
                }
                return o(e, t),
                e.prototype.update = function() {
                    "svg" !== this.imageType && (this.realWidth = this.source.naturalWidth || this.source.videoWidth || this.source.width,
                    this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height,
                    this._updateDimensions()),
                    this.emit("update", this)
                }
                ,
                e.prototype._updateDimensions = function() {
                    this.width = this.realWidth / this.resolution,
                    this.height = this.realHeight / this.resolution,
                    this.isPowerOfTwo = _.default.isPow2(this.realWidth) && _.default.isPow2(this.realHeight)
                }
                ,
                e.prototype.loadSource = function(t) {
                    var e = this
                      , i = this.isLoading;
                    this.hasLoaded = !1,
                    this.isLoading = !1,
                    i && this.source && (this.source.onload = null,
                    this.source.onerror = null);
                    var n = !this.source;
                    if (this.source = t,
                    (t.src && t.complete || t.getContext) && t.width && t.height)
                        this._updateImageType(),
                        "svg" === this.imageType ? this._loadSvgSource() : this._sourceLoaded(),
                        n && this.emit("loaded", this);
                    else if (!t.getContext) {
                        var r = function() {
                            e.isLoading = !0;
                            var n = e;
                            if (t.onload = function() {
                                if (n._updateImageType(),
                                t.onload = null,
                                t.onerror = null,
                                n.isLoading)
                                    return n.isLoading = !1,
                                    n._sourceLoaded(),
                                    "svg" === n.imageType ? void n._loadSvgSource() : void n.emit("loaded", n)
                            }
                            ,
                            t.onerror = function() {
                                t.onload = null,
                                t.onerror = null,
                                n.isLoading && (n.isLoading = !1,
                                n.emit("error", n))
                            }
                            ,
                            t.complete && t.src) {
                                if (t.onload = null,
                                t.onerror = null,
                                "svg" === n.imageType)
                                    return n._loadSvgSource(),
                                    {
                                        v: void 0
                                    };
                                e.isLoading = !1,
                                t.width && t.height ? (e._sourceLoaded(),
                                i && e.emit("loaded", e)) : i && e.emit("error", e)
                            }
                        }();
                        if ("object" === (void 0 === r ? "undefined" : a(r)))
                            return r.v
                    }
                }
                ,
                e.prototype._updateImageType = function() {
                    if (this.imageUrl) {
                        var t = (0,
                        h.decomposeDataUri)(this.imageUrl)
                          , e = void 0;
                        if (t && "image" === t.mediaType) {
                            var i = t.subType.split("+")[0];
                            if (!(e = (0,
                            h.getUrlFileExtension)("." + i)))
                                throw new Error("Invalid image type in data URI.")
                        } else
                            (e = (0,
                            h.getUrlFileExtension)(this.imageUrl)) || (e = "png");
                        this.imageType = e
                    }
                }
                ,
                e.prototype._loadSvgSource = function() {
                    if ("svg" === this.imageType) {
                        var t = (0,
                        h.decomposeDataUri)(this.imageUrl);
                        t ? this._loadSvgSourceUsingDataUri(t) : this._loadSvgSourceUsingXhr()
                    }
                }
                ,
                e.prototype._loadSvgSourceUsingDataUri = function(t) {
                    var e = void 0;
                    if ("base64" === t.encoding) {
                        if (!atob)
                            throw new Error("Your browser doesn't support base64 conversions.");
                        e = atob(t.data)
                    } else
                        e = t.data;
                    this._loadSvgSourceUsingString(e)
                }
                ,
                e.prototype._loadSvgSourceUsingXhr = function() {
                    var t = this
                      , e = new XMLHttpRequest;
                    e.onload = function() {
                        if (e.readyState !== e.DONE || 200 !== e.status)
                            throw new Error("Failed to load SVG using XHR.");
                        t._loadSvgSourceUsingString(e.response)
                    }
                    ,
                    e.onerror = function() {
                        return t.emit("error", t)
                    }
                    ,
                    e.open("GET", this.imageUrl, !0),
                    e.send()
                }
                ,
                e.prototype._loadSvgSourceUsingString = function(t) {
                    var i = (0,
                    h.getSvgSize)(t)
                      , n = i.width
                      , r = i.height;
                    if (!n || !r)
                        throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
                    this.realWidth = Math.round(n * this.sourceScale),
                    this.realHeight = Math.round(r * this.sourceScale),
                    this._updateDimensions();
                    var s = document.createElement("canvas");
                    s.width = this.realWidth,
                    s.height = this.realHeight,
                    s._pixiId = "canvas_" + (0,
                    h.uid)(),
                    s.getContext("2d").drawImage(this.source, 0, 0, n, r, 0, 0, this.realWidth, this.realHeight),
                    this.origSource = this.source,
                    this.source = s,
                    e.addToCache(this, s._pixiId),
                    this.isLoading = !1,
                    this._sourceLoaded(),
                    this.emit("loaded", this)
                }
                ,
                e.prototype._sourceLoaded = function() {
                    this.hasLoaded = !0,
                    this.update()
                }
                ,
                e.prototype.destroy = function() {
                    this.imageUrl && (delete h.TextureCache[this.imageUrl],
                    this.imageUrl = null,
                    navigator.isCocoonJS || (this.source.src = "")),
                    this.source = null,
                    this.dispose(),
                    e.removeFromCache(this),
                    this.textureCacheIds = null,
                    this._destroyed = !0
                }
                ,
                e.prototype.dispose = function() {
                    this.emit("dispose", this)
                }
                ,
                e.prototype.updateSourceImage = function(t) {
                    this.source.src = t,
                    this.loadSource(this.source)
                }
                ,
                e.fromImage = function(t, i, n, r) {
                    var s = h.BaseTextureCache[t];
                    if (!s) {
                        var o = new Image;
                        void 0 === i && 0 !== t.indexOf("data:") && (o.crossOrigin = (0,
                        f.default)(t)),
                        s = new e(o,n),
                        s.imageUrl = t,
                        r && (s.sourceScale = r),
                        s.resolution = (0,
                        h.getResolutionOfUrl)(t),
                        o.src = t,
                        e.addToCache(s, t)
                    }
                    return s
                }
                ,
                e.fromCanvas = function(t, i) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
                    t._pixiId || (t._pixiId = n + "_" + (0,
                    h.uid)());
                    var r = h.BaseTextureCache[t._pixiId];
                    return r || (r = new e(t,i),
                    e.addToCache(r, t._pixiId)),
                    r
                }
                ,
                e.from = function(t, i, n) {
                    if ("string" == typeof t)
                        return e.fromImage(t, void 0, i, n);
                    if (t instanceof HTMLImageElement) {
                        var r = t.src
                          , s = h.BaseTextureCache[r];
                        return s || (s = new e(t,i),
                        s.imageUrl = r,
                        n && (s.sourceScale = n),
                        s.resolution = (0,
                        h.getResolutionOfUrl)(r),
                        e.addToCache(s, r)),
                        s
                    }
                    return t instanceof HTMLCanvasElement ? e.fromCanvas(t, i) : t
                }
                ,
                e.addToCache = function(t, e) {
                    e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e),
                    h.BaseTextureCache[e] = t)
                }
                ,
                e.removeFromCache = function(t) {
                    if ("string" == typeof t) {
                        var e = h.BaseTextureCache[t];
                        if (e) {
                            var i = e.textureCacheIds.indexOf(t);
                            return i > -1 && e.textureCacheIds.splice(i, 1),
                            delete h.BaseTextureCache[t],
                            e
                        }
                    } else if (t && t.textureCacheIds) {
                        for (var n = 0; n < t.textureCacheIds.length; ++n)
                            delete h.BaseTextureCache[t.textureCacheIds[n]];
                        return t.textureCacheIds.length = 0,
                        t
                    }
                    return null
                }
                ,
                e
            }(d.default);
            i.default = y
        }
        , {
            "../settings": 99,
            "../utils": 122,
            "../utils/determineCrossOrigin": 121,
            "bit-twiddle": 1,
            eventemitter3: 3
        }],
        111: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("./BaseRenderTexture")
              , h = n(a)
              , l = t("./Texture")
              , u = n(l)
              , c = function(t) {
                function e(i, n) {
                    r(this, e);
                    var o = null;
                    if (!(i instanceof h.default)) {
                        var a = arguments[1]
                          , l = arguments[2]
                          , u = arguments[3]
                          , c = arguments[4];
                        console.warn("Please use RenderTexture.create(" + a + ", " + l + ") instead of the ctor directly."),
                        o = arguments[0],
                        n = null,
                        i = new h.default(a,l,u,c)
                    }
                    var d = s(this, t.call(this, i, n));
                    return d.legacyRenderer = o,
                    d.valid = !0,
                    d._updateUvs(),
                    d
                }
                return o(e, t),
                e.prototype.resize = function(t, e, i) {
                    this.valid = t > 0 && e > 0,
                    this._frame.width = this.orig.width = t,
                    this._frame.height = this.orig.height = e,
                    i || this.baseTexture.resize(t, e),
                    this._updateUvs()
                }
                ,
                e.create = function(t, i, n, r) {
                    return new e(new h.default(t,i,n,r))
                }
                ,
                e
            }(u.default);
            i.default = c
        }
        , {
            "./BaseRenderTexture": 109,
            "./Texture": 113
        }],
        112: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , s = t("../")
              , o = t("../utils")
              , a = function() {
                function t(e, i) {
                    var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                    n(this, t),
                    this.baseTexture = e,
                    this.textures = {},
                    this.data = i,
                    this.resolution = this._updateResolution(r || this.baseTexture.imageUrl),
                    this._frames = this.data.frames,
                    this._frameKeys = Object.keys(this._frames),
                    this._batchIndex = 0,
                    this._callback = null
                }
                return r(t, null, [{
                    key: "BATCH_SIZE",
                    get: function() {
                        return 1e3
                    }
                }]),
                t.prototype._updateResolution = function(t) {
                    var e = this.data.meta.scale
                      , i = (0,
                    o.getResolutionOfUrl)(t, null);
                    return null === i && (i = void 0 !== e ? parseFloat(e) : 1),
                    1 !== i && (this.baseTexture.resolution = i,
                    this.baseTexture.update()),
                    i
                }
                ,
                t.prototype.parse = function(e) {
                    this._batchIndex = 0,
                    this._callback = e,
                    this._frameKeys.length <= t.BATCH_SIZE ? (this._processFrames(0),
                    this._parseComplete()) : this._nextBatch()
                }
                ,
                t.prototype._processFrames = function(e) {
                    for (var i = e, n = t.BATCH_SIZE; i - e < n && i < this._frameKeys.length; ) {
                        var r = this._frameKeys[i]
                          , o = this._frames[r].frame;
                        if (o) {
                            var a = null
                              , h = null
                              , l = new s.Rectangle(0,0,this._frames[r].sourceSize.w / this.resolution,this._frames[r].sourceSize.h / this.resolution);
                            a = this._frames[r].rotated ? new s.Rectangle(o.x / this.resolution,o.y / this.resolution,o.h / this.resolution,o.w / this.resolution) : new s.Rectangle(o.x / this.resolution,o.y / this.resolution,o.w / this.resolution,o.h / this.resolution),
                            this._frames[r].trimmed && (h = new s.Rectangle(this._frames[r].spriteSourceSize.x / this.resolution,this._frames[r].spriteSourceSize.y / this.resolution,o.w / this.resolution,o.h / this.resolution)),
                            this.textures[r] = new s.Texture(this.baseTexture,a,l,h,this._frames[r].rotated ? 2 : 0),
                            s.Texture.addToCache(this.textures[r], r)
                        }
                        i++
                    }
                }
                ,
                t.prototype._parseComplete = function() {
                    var t = this._callback;
                    this._callback = null,
                    this._batchIndex = 0,
                    t.call(this, this.textures)
                }
                ,
                t.prototype._nextBatch = function() {
                    var e = this;
                    this._processFrames(this._batchIndex * t.BATCH_SIZE),
                    this._batchIndex++,
                    setTimeout(function() {
                        e._batchIndex * t.BATCH_SIZE < e._frameKeys.length ? e._nextBatch() : e._parseComplete()
                    }, 0)
                }
                ,
                t.prototype.destroy = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    for (var e in this.textures)
                        this.textures[e].destroy();
                    this._frames = null,
                    this._frameKeys = null,
                    this.data = null,
                    this.textures = null,
                    t && this.baseTexture.destroy(),
                    this.baseTexture = null
                }
                ,
                t
            }();
            i.default = a
        }
        , {
            "../": 63,
            "../utils": 122
        }],
        113: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function a(t) {
                t.destroy = function() {}
                ,
                t.on = function() {}
                ,
                t.once = function() {}
                ,
                t.emit = function() {}
            }
            i.__esModule = !0;
            var h = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , l = t("./BaseTexture")
              , u = n(l)
              , c = t("./VideoBaseTexture")
              , d = n(c)
              , p = t("./TextureUvs")
              , f = n(p)
              , m = t("eventemitter3")
              , _ = n(m)
              , y = t("../math")
              , v = t("../utils")
              , g = t("../settings")
              , x = n(g)
              , b = function(t) {
                function e(i, n, o, a, h) {
                    r(this, e);
                    var l = s(this, t.call(this));
                    if (l.noFrame = !1,
                    n || (l.noFrame = !0,
                    n = new y.Rectangle(0,0,1,1)),
                    i instanceof e && (i = i.baseTexture),
                    l.baseTexture = i,
                    l._frame = n,
                    l.trim = a,
                    l.valid = !1,
                    l.requiresUpdate = !1,
                    l._uvs = null,
                    l.orig = o || n,
                    l._rotate = Number(h || 0),
                    !0 === h)
                        l._rotate = 2;
                    else if (l._rotate % 2 != 0)
                        throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");
                    return i.hasLoaded ? (l.noFrame && (n = new y.Rectangle(0,0,i.width,i.height),
                    i.on("update", l.onBaseTextureUpdated, l)),
                    l.frame = n) : i.once("loaded", l.onBaseTextureLoaded, l),
                    l._updateID = 0,
                    l.transform = null,
                    l.textureCacheIds = [],
                    l
                }
                return o(e, t),
                e.prototype.update = function() {
                    this.baseTexture.update()
                }
                ,
                e.prototype.onBaseTextureLoaded = function(t) {
                    this._updateID++,
                    this.noFrame ? this.frame = new y.Rectangle(0,0,t.width,t.height) : this.frame = this._frame,
                    this.baseTexture.on("update", this.onBaseTextureUpdated, this),
                    this.emit("update", this)
                }
                ,
                e.prototype.onBaseTextureUpdated = function(t) {
                    this._updateID++,
                    this._frame.width = t.width,
                    this._frame.height = t.height,
                    this.emit("update", this)
                }
                ,
                e.prototype.destroy = function(t) {
                    this.baseTexture && (t && (v.TextureCache[this.baseTexture.imageUrl] && e.removeFromCache(this.baseTexture.imageUrl),
                    this.baseTexture.destroy()),
                    this.baseTexture.off("update", this.onBaseTextureUpdated, this),
                    this.baseTexture.off("loaded", this.onBaseTextureLoaded, this),
                    this.baseTexture = null),
                    this._frame = null,
                    this._uvs = null,
                    this.trim = null,
                    this.orig = null,
                    this.valid = !1,
                    e.removeFromCache(this),
                    this.textureCacheIds = null
                }
                ,
                e.prototype.clone = function() {
                    return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)
                }
                ,
                e.prototype._updateUvs = function() {
                    this._uvs || (this._uvs = new f.default),
                    this._uvs.set(this._frame, this.baseTexture, this.rotate),
                    this._updateID++
                }
                ,
                e.fromImage = function(t, i, n, r) {
                    var s = v.TextureCache[t];
                    return s || (s = new e(u.default.fromImage(t, i, n, r)),
                    e.addToCache(s, t)),
                    s
                }
                ,
                e.fromFrame = function(t) {
                    var e = v.TextureCache[t];
                    if (!e)
                        throw new Error('The frameId "' + t + '" does not exist in the texture cache');
                    return e
                }
                ,
                e.fromCanvas = function(t, i) {
                    var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
                    return new e(u.default.fromCanvas(t, i, n))
                }
                ,
                e.fromVideo = function(t, i) {
                    return "string" == typeof t ? e.fromVideoUrl(t, i) : new e(d.default.fromVideo(t, i))
                }
                ,
                e.fromVideoUrl = function(t, i) {
                    return new e(d.default.fromUrl(t, i))
                }
                ,
                e.from = function(t) {
                    if ("string" == typeof t) {
                        var i = v.TextureCache[t];
                        if (!i) {
                            return null !== t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/) ? e.fromVideoUrl(t) : e.fromImage(t)
                        }
                        return i
                    }
                    return t instanceof HTMLImageElement ? new e(u.default.from(t)) : t instanceof HTMLCanvasElement ? e.fromCanvas(t, x.default.SCALE_MODE, "HTMLCanvasElement") : t instanceof HTMLVideoElement ? e.fromVideo(t) : t instanceof u.default ? new e(t) : t
                }
                ,
                e.fromLoader = function(t, i, n) {
                    var r = new u.default(t,void 0,(0,
                    v.getResolutionOfUrl)(i))
                      , s = new e(r);
                    return r.imageUrl = i,
                    n || (n = i),
                    u.default.addToCache(s.baseTexture, n),
                    e.addToCache(s, n),
                    n !== i && (u.default.addToCache(s.baseTexture, i),
                    e.addToCache(s, i)),
                    s
                }
                ,
                e.addToCache = function(t, e) {
                    e && (-1 === t.textureCacheIds.indexOf(e) && t.textureCacheIds.push(e),
                    v.TextureCache[e] = t)
                }
                ,
                e.removeFromCache = function(t) {
                    if ("string" == typeof t) {
                        var e = v.TextureCache[t];
                        if (e) {
                            var i = e.textureCacheIds.indexOf(t);
                            return i > -1 && e.textureCacheIds.splice(i, 1),
                            delete v.TextureCache[t],
                            e
                        }
                    } else if (t && t.textureCacheIds) {
                        for (var n = 0; n < t.textureCacheIds.length; ++n)
                            delete v.TextureCache[t.textureCacheIds[n]];
                        return t.textureCacheIds.length = 0,
                        t
                    }
                    return null
                }
                ,
                h(e, [{
                    key: "frame",
                    get: function() {
                        return this._frame
                    },
                    set: function(t) {
                        if (this._frame = t,
                        this.noFrame = !1,
                        t.x + t.width > this.baseTexture.width || t.y + t.height > this.baseTexture.height)
                            throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: " + t.x + " + " + t.width + " > " + this.baseTexture.width + " Y: " + t.y + " + " + t.height + " > " + this.baseTexture.height);
                        this.valid = t && t.width && t.height && this.baseTexture.hasLoaded,
                        this.trim || this.rotate || (this.orig = t),
                        this.valid && this._updateUvs()
                    }
                }, {
                    key: "rotate",
                    get: function() {
                        return this._rotate
                    },
                    set: function(t) {
                        this._rotate = t,
                        this.valid && this._updateUvs()
                    }
                }, {
                    key: "width",
                    get: function() {
                        return this.orig.width
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this.orig.height
                    }
                }]),
                e
            }(_.default);
            i.default = b,
            b.EMPTY = new b(new u.default),
            a(b.EMPTY),
            a(b.EMPTY.baseTexture),
            b.WHITE = function() {
                var t = document.createElement("canvas");
                t.width = 10,
                t.height = 10;
                var e = t.getContext("2d");
                return e.fillStyle = "white",
                e.fillRect(0, 0, 10, 10),
                new b(new u.default(t))
            }(),
            a(b.WHITE),
            a(b.WHITE.baseTexture)
        }
        , {
            "../math": 68,
            "../settings": 99,
            "../utils": 122,
            "./BaseTexture": 110,
            "./TextureUvs": 114,
            "./VideoBaseTexture": 115,
            eventemitter3: 3
        }],
        114: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../math/GroupD8")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = function() {
                function t() {
                    n(this, t),
                    this.x0 = 0,
                    this.y0 = 0,
                    this.x1 = 1,
                    this.y1 = 0,
                    this.x2 = 1,
                    this.y2 = 1,
                    this.x3 = 0,
                    this.y3 = 1,
                    this.uvsUint32 = new Uint32Array(4)
                }
                return t.prototype.set = function(t, e, i) {
                    var n = e.width
                      , r = e.height;
                    if (i) {
                        var o = t.width / 2 / n
                          , a = t.height / 2 / r
                          , h = t.x / n + o
                          , l = t.y / r + a;
                        i = s.default.add(i, s.default.NW),
                        this.x0 = h + o * s.default.uX(i),
                        this.y0 = l + a * s.default.uY(i),
                        i = s.default.add(i, 2),
                        this.x1 = h + o * s.default.uX(i),
                        this.y1 = l + a * s.default.uY(i),
                        i = s.default.add(i, 2),
                        this.x2 = h + o * s.default.uX(i),
                        this.y2 = l + a * s.default.uY(i),
                        i = s.default.add(i, 2),
                        this.x3 = h + o * s.default.uX(i),
                        this.y3 = l + a * s.default.uY(i)
                    } else
                        this.x0 = t.x / n,
                        this.y0 = t.y / r,
                        this.x1 = (t.x + t.width) / n,
                        this.y1 = t.y / r,
                        this.x2 = (t.x + t.width) / n,
                        this.y2 = (t.y + t.height) / r,
                        this.x3 = t.x / n,
                        this.y3 = (t.y + t.height) / r;
                    this.uvsUint32[0] = (65535 * this.y0 & 65535) << 16 | 65535 * this.x0 & 65535,
                    this.uvsUint32[1] = (65535 * this.y1 & 65535) << 16 | 65535 * this.x1 & 65535,
                    this.uvsUint32[2] = (65535 * this.y2 & 65535) << 16 | 65535 * this.x2 & 65535,
                    this.uvsUint32[3] = (65535 * this.y3 & 65535) << 16 | 65535 * this.x3 & 65535
                }
                ,
                t
            }();
            i.default = o
        }
        , {
            "../math/GroupD8": 64
        }],
        115: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function o(t, e) {
                e || (e = "video/" + t.substr(t.lastIndexOf(".") + 1));
                var i = document.createElement("source");
                return i.src = t,
                i.type = e,
                i
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("./BaseTexture")
              , l = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(h)
              , u = t("../utils")
              , c = t("../ticker")
              , d = t("../const")
              , p = function(t) {
                function e(i, s) {
                    if (n(this, e),
                    !i)
                        throw new Error("No video source element specified.");
                    (i.readyState === i.HAVE_ENOUGH_DATA || i.readyState === i.HAVE_FUTURE_DATA) && i.width && i.height && (i.complete = !0);
                    var o = r(this, t.call(this, i, s));
                    return o.width = i.videoWidth,
                    o.height = i.videoHeight,
                    o._autoUpdate = !0,
                    o._isAutoUpdating = !1,
                    o.autoPlay = !0,
                    o.update = o.update.bind(o),
                    o._onCanPlay = o._onCanPlay.bind(o),
                    i.addEventListener("play", o._onPlayStart.bind(o)),
                    i.addEventListener("pause", o._onPlayStop.bind(o)),
                    o.hasLoaded = !1,
                    o.__loaded = !1,
                    o._isSourceReady() ? o._onCanPlay() : (i.addEventListener("canplay", o._onCanPlay),
                    i.addEventListener("canplaythrough", o._onCanPlay)),
                    o
                }
                return s(e, t),
                e.prototype._isSourcePlaying = function() {
                    var t = this.source;
                    return t.currentTime > 0 && !1 === t.paused && !1 === t.ended && t.readyState > 2
                }
                ,
                e.prototype._isSourceReady = function() {
                    return 3 === this.source.readyState || 4 === this.source.readyState
                }
                ,
                e.prototype._onPlayStart = function() {
                    this.hasLoaded || this._onCanPlay(),
                    !this._isAutoUpdating && this.autoUpdate && (c.shared.add(this.update, this, d.UPDATE_PRIORITY.HIGH),
                    this._isAutoUpdating = !0)
                }
                ,
                e.prototype._onPlayStop = function() {
                    this._isAutoUpdating && (c.shared.remove(this.update, this),
                    this._isAutoUpdating = !1)
                }
                ,
                e.prototype._onCanPlay = function() {
                    this.hasLoaded = !0,
                    this.source && (this.source.removeEventListener("canplay", this._onCanPlay),
                    this.source.removeEventListener("canplaythrough", this._onCanPlay),
                    this.width = this.source.videoWidth,
                    this.height = this.source.videoHeight,
                    this.__loaded || (this.__loaded = !0,
                    this.emit("loaded", this)),
                    this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && this.source.play())
                }
                ,
                e.prototype.destroy = function() {
                    this._isAutoUpdating && c.shared.remove(this.update, this),
                    this.source && this.source._pixiId && (l.default.removeFromCache(this.source._pixiId),
                    delete this.source._pixiId),
                    t.prototype.destroy.call(this)
                }
                ,
                e.fromVideo = function(t, i) {
                    t._pixiId || (t._pixiId = "video_" + (0,
                    u.uid)());
                    var n = u.BaseTextureCache[t._pixiId];
                    return n || (n = new e(t,i),
                    l.default.addToCache(n, t._pixiId)),
                    n
                }
                ,
                e.fromUrl = function(t, i) {
                    var n = document.createElement("video");
                    if (n.setAttribute("webkit-playsinline", ""),
                    n.setAttribute("playsinline", ""),
                    Array.isArray(t))
                        for (var r = 0; r < t.length; ++r)
                            n.appendChild(o(t[r].src || t[r], t[r].mime));
                    else
                        n.appendChild(o(t.src || t, t.mime));
                    return n.load(),
                    e.fromVideo(n, i)
                }
                ,
                a(e, [{
                    key: "autoUpdate",
                    get: function() {
                        return this._autoUpdate
                    },
                    set: function(t) {
                        t !== this._autoUpdate && (this._autoUpdate = t,
                        !this._autoUpdate && this._isAutoUpdating ? (c.shared.remove(this.update, this),
                        this._isAutoUpdating = !1) : this._autoUpdate && !this._isAutoUpdating && (c.shared.add(this.update, this, d.UPDATE_PRIORITY.HIGH),
                        this._isAutoUpdating = !0))
                    }
                }]),
                e
            }(l.default);
            i.default = p,
            p.fromUrls = p.fromUrl
        }
        , {
            "../const": 44,
            "../ticker": 118,
            "../utils": 122,
            "./BaseTexture": 110
        }],
        116: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var s = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , o = t("../settings")
              , a = n(o)
              , h = t("../const")
              , l = t("./TickerListener")
              , u = n(l)
              , c = function() {
                function t() {
                    var e = this;
                    r(this, t),
                    this._head = new u.default(null,null,1 / 0),
                    this._requestId = null,
                    this._maxElapsedMS = 100,
                    this.autoStart = !1,
                    this.deltaTime = 1,
                    this.elapsedMS = 1 / a.default.TARGET_FPMS,
                    this.lastTime = 0,
                    this.speed = 1,
                    this.started = !1,
                    this._tick = function(t) {
                        e._requestId = null,
                        e.started && (e.update(t),
                        e.started && null === e._requestId && e._head.next && (e._requestId = requestAnimationFrame(e._tick)))
                    }
                }
                return t.prototype._requestIfNeeded = function() {
                    null === this._requestId && this._head.next && (this.lastTime = performance.now(),
                    this._requestId = requestAnimationFrame(this._tick))
                }
                ,
                t.prototype._cancelIfNeeded = function() {
                    null !== this._requestId && (cancelAnimationFrame(this._requestId),
                    this._requestId = null)
                }
                ,
                t.prototype._startIfPossible = function() {
                    this.started ? this._requestIfNeeded() : this.autoStart && this.start()
                }
                ,
                t.prototype.add = function(t, e) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : h.UPDATE_PRIORITY.NORMAL;
                    return this._addListener(new u.default(t,e,i))
                }
                ,
                t.prototype.addOnce = function(t, e) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : h.UPDATE_PRIORITY.NORMAL;
                    return this._addListener(new u.default(t,e,i,!0))
                }
                ,
                t.prototype._addListener = function(t) {
                    var e = this._head.next
                      , i = this._head;
                    if (e) {
                        for (; e; ) {
                            if (t.priority > e.priority) {
                                t.connect(i);
                                break
                            }
                            i = e,
                            e = e.next
                        }
                        t.previous || t.connect(i)
                    } else
                        t.connect(i);
                    return this._startIfPossible(),
                    this
                }
                ,
                t.prototype.remove = function(t, e) {
                    for (var i = this._head.next; i; )
                        i = i.match(t, e) ? i.destroy() : i.next;
                    return this._head.next || this._cancelIfNeeded(),
                    this
                }
                ,
                t.prototype.start = function() {
                    this.started || (this.started = !0,
                    this._requestIfNeeded())
                }
                ,
                t.prototype.stop = function() {
                    this.started && (this.started = !1,
                    this._cancelIfNeeded())
                }
                ,
                t.prototype.destroy = function() {
                    this.stop();
                    for (var t = this._head.next; t; )
                        t = t.destroy(!0);
                    this._head.destroy(),
                    this._head = null
                }
                ,
                t.prototype.update = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : performance.now()
                      , e = void 0;
                    if (t > this.lastTime) {
                        e = this.elapsedMS = t - this.lastTime,
                        e > this._maxElapsedMS && (e = this._maxElapsedMS),
                        this.deltaTime = e * a.default.TARGET_FPMS * this.speed;
                        for (var i = this._head, n = i.next; n; )
                            n = n.emit(this.deltaTime);
                        i.next || this._cancelIfNeeded()
                    } else
                        this.deltaTime = this.elapsedMS = 0;
                    this.lastTime = t
                }
                ,
                s(t, [{
                    key: "FPS",
                    get: function() {
                        return 1e3 / this.elapsedMS
                    }
                }, {
                    key: "minFPS",
                    get: function() {
                        return 1e3 / this._maxElapsedMS
                    },
                    set: function(t) {
                        var e = Math.min(Math.max(0, t) / 1e3, a.default.TARGET_FPMS);
                        this._maxElapsedMS = 1 / e
                    }
                }]),
                t
            }();
            i.default = c
        }
        , {
            "../const": 44,
            "../settings": 99,
            "./TickerListener": 117
        }],
        117: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(e) {
                    var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                      , r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0
                      , s = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                    n(this, t),
                    this.fn = e,
                    this.context = i,
                    this.priority = r,
                    this.once = s,
                    this.next = null,
                    this.previous = null,
                    this._destroyed = !1
                }
                return t.prototype.match = function(t, e) {
                    return e = e || null,
                    this.fn === t && this.context === e
                }
                ,
                t.prototype.emit = function(t) {
                    this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t));
                    var e = this.next;
                    return this.once && this.destroy(!0),
                    this._destroyed && (this.next = null),
                    e
                }
                ,
                t.prototype.connect = function(t) {
                    this.previous = t,
                    t.next && (t.next.previous = this),
                    this.next = t.next,
                    t.next = this
                }
                ,
                t.prototype.destroy = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    this._destroyed = !0,
                    this.fn = null,
                    this.context = null,
                    this.previous && (this.previous.next = this.next),
                    this.next && (this.next.previous = this.previous);
                    var e = this.previous;
                    return this.next = t ? null : e,
                    this.previous = null,
                    e
                }
                ,
                t
            }();
            i.default = r
        }
        , {}],
        118: [function(t, e, i) {
            "use strict";
            i.__esModule = !0,
            i.Ticker = i.shared = void 0;
            var n = t("./Ticker")
              , r = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(n)
              , s = new r.default;
            s.autoStart = !0,
            s.destroy = function() {}
            ,
            i.shared = s,
            i.Ticker = r.default
        }
        , {
            "./Ticker": 116
        }],
        119: [function(t, e, i) {
            "use strict";
            function n() {
                return !(!!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform))
            }
            i.__esModule = !0,
            i.default = n
        }
        , {}],
        120: [function(t, e, i) {
            "use strict";
            function n(t) {
                for (var e = 6 * t, i = new Uint16Array(e), n = 0, r = 0; n < e; n += 6,
                r += 4)
                    i[n + 0] = r + 0,
                    i[n + 1] = r + 1,
                    i[n + 2] = r + 2,
                    i[n + 3] = r + 0,
                    i[n + 4] = r + 2,
                    i[n + 5] = r + 3;
                return i
            }
            i.__esModule = !0,
            i.default = n
        }
        , {}],
        121: [function(t, e, i) {
            "use strict";
            function n(t) {
                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location;
                if (0 === t.indexOf("data:"))
                    return "";
                e = e || window.location,
                o || (o = document.createElement("a")),
                o.href = t,
                t = s.default.parse(o.href);
                var i = !t.port && "" === e.port || t.port === e.port;
                return t.hostname === e.hostname && i && t.protocol === e.protocol ? "" : "anonymous"
            }
            i.__esModule = !0,
            i.default = n;
            var r = t("url")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
              , o = void 0
        }
        , {
            url: 28
        }],
        122: [function(t, e, i) {
            "use strict";
            function n(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }
            function r(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function s() {
                return ++I
            }
            function o(t, e) {
                return e = e || [],
                e[0] = (t >> 16 & 255) / 255,
                e[1] = (t >> 8 & 255) / 255,
                e[2] = (255 & t) / 255,
                e
            }
            function a(t) {
                return t = t.toString(16),
                "#" + (t = "000000".substr(0, 6 - t.length) + t)
            }
            function h(t) {
                return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0)
            }
            function l(t, e) {
                var i = w.default.RETINA_PREFIX.exec(t);
                return i ? parseFloat(i[1]) : void 0 !== e ? e : 1
            }
            function u(t) {
                var e = x.DATA_URI.exec(t);
                if (e)
                    return {
                        mediaType: e[1] ? e[1].toLowerCase() : void 0,
                        subType: e[2] ? e[2].toLowerCase() : void 0,
                        encoding: e[3] ? e[3].toLowerCase() : void 0,
                        data: e[4]
                    }
            }
            function c(t) {
                var e = x.URL_FILE_EXTENSION.exec(t);
                if (e)
                    return e[1].toLowerCase()
            }
            function d(t) {
                var e = x.SVG_SIZE.exec(t)
                  , i = {};
                return e && (i[e[1]] = Math.round(parseFloat(e[3])),
                i[e[5]] = Math.round(parseFloat(e[7]))),
                i
            }
            function p() {
                B = !0
            }
            function f(t) {
                if (!B) {
                    if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) {
                        var e = ["\n %c %c %c Pixi.js " + x.VERSION + " -  " + t + "   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
                        window.console.log.apply(console, e)
                    } else
                        window.console && window.console.log("Pixi.js " + x.VERSION + " - " + t + " - http://www.pixijs.com/");
                    B = !0
                }
            }
            function m() {
                var t = {
                    stencil: !0,
                    failIfMajorPerformanceCaveat: !0
                };
                try {
                    if (!window.WebGLRenderingContext)
                        return !1;
                    var e = document.createElement("canvas")
                      , i = e.getContext("webgl", t) || e.getContext("experimental-webgl", t)
                      , n = !(!i || !i.getContextAttributes().stencil);
                    if (i) {
                        var r = i.getExtension("WEBGL_lose_context");
                        r && r.loseContext()
                    }
                    return i = null,
                    n
                } catch (t) {
                    return !1
                }
            }
            function _(t) {
                return 0 === t ? 0 : t < 0 ? -1 : 1
            }
            function y(t, e, i) {
                var n = t.length;
                if (!(e >= n || 0 === i)) {
                    i = e + i > n ? n - e : i;
                    for (var r = n - i, s = e; s < r; ++s)
                        t[s] = t[s + i];
                    t.length = r
                }
            }
            function v() {
                var t = void 0;
                for (t in R)
                    R[t].destroy();
                for (t in k)
                    k[t].destroy()
            }
            function g() {
                var t = void 0;
                for (t in R)
                    delete R[t];
                for (t in k)
                    delete k[t]
            }
            i.__esModule = !0,
            i.BaseTextureCache = i.TextureCache = i.mixins = i.pluginTarget = i.EventEmitter = i.isMobile = void 0,
            i.uid = s,
            i.hex2rgb = o,
            i.hex2string = a,
            i.rgb2hex = h,
            i.getResolutionOfUrl = l,
            i.decomposeDataUri = u,
            i.getUrlFileExtension = c,
            i.getSvgSize = d,
            i.skipHello = p,
            i.sayHello = f,
            i.isWebGLSupported = m,
            i.sign = _,
            i.removeItems = y,
            i.destroyTextureCache = v,
            i.clearTextureCache = g;
            var x = t("../const")
              , b = t("../settings")
              , w = r(b)
              , T = t("eventemitter3")
              , A = r(T)
              , S = t("./pluginTarget")
              , C = r(S)
              , E = t("./mixin")
              , P = n(E)
              , M = t("ismobilejs")
              , O = n(M)
              , I = 0
              , B = !1;
            i.isMobile = O,
            i.EventEmitter = A.default,
            i.pluginTarget = C.default,
            i.mixins = P;
            var R = i.TextureCache = Object.create(null)
              , k = i.BaseTextureCache = Object.create(null)
        }
        , {
            "../const": 44,
            "../settings": 99,
            "./mixin": 124,
            "./pluginTarget": 125,
            eventemitter3: 3,
            ismobilejs: 4
        }],
        123: [function(t, e, i) {
            "use strict";
            function n(t) {
                return s.default.tablet || s.default.phone ? 4 : t
            }
            i.__esModule = !0,
            i.default = n;
            var r = t("ismobilejs")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
        }
        , {
            ismobilejs: 4
        }],
        124: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (t && e)
                    for (var i = Object.keys(e), n = 0; n < i.length; ++n) {
                        var r = i[n];
                        Object.defineProperty(t, r, Object.getOwnPropertyDescriptor(e, r))
                    }
            }
            function r(t, e) {
                o.push(t, e)
            }
            function s() {
                for (var t = 0; t < o.length; t += 2)
                    n(o[t], o[t + 1]);
                o.length = 0
            }
            i.__esModule = !0,
            i.mixin = n,
            i.delayMixin = r,
            i.performMixins = s;
            var o = []
        }
        , {}],
        125: [function(t, e, i) {
            "use strict";
            function n(t) {
                t.__plugins = {},
                t.registerPlugin = function(e, i) {
                    t.__plugins[e] = i
                }
                ,
                t.prototype.initPlugins = function() {
                    this.plugins = this.plugins || {};
                    for (var e in t.__plugins)
                        this.plugins[e] = new t.__plugins[e](this)
                }
                ,
                t.prototype.destroyPlugins = function() {
                    for (var t in this.plugins)
                        this.plugins[t].destroy(),
                        this.plugins[t] = null;
                    this.plugins = null
                }
            }
            i.__esModule = !0,
            i.default = {
                mixin: function(t) {
                    n(t)
                }
            }
        }
        , {}],
        126: [function(t, e, i) {
            "use strict";
            function n(t) {
                var e = t.width
                  , i = t.height
                  , n = t.getContext("2d")
                  , r = n.getImageData(0, 0, e, i)
                  , s = r.data
                  , o = s.length
                  , a = {
                    top: null,
                    left: null,
                    right: null,
                    bottom: null
                }
                  , h = void 0
                  , l = void 0
                  , u = void 0;
                for (h = 0; h < o; h += 4)
                    0 !== s[h + 3] && (l = h / 4 % e,
                    u = ~~(h / 4 / e),
                    null === a.top && (a.top = u),
                    null === a.left ? a.left = l : l < a.left && (a.left = l),
                    null === a.right ? a.right = l + 1 : a.right < l && (a.right = l + 1),
                    null === a.bottom ? a.bottom = u : a.bottom < u && (a.bottom = u));
                return e = a.right - a.left,
                i = a.bottom - a.top + 1,
                {
                    height: i,
                    width: e,
                    data: n.getImageData(a.left, a.top, e, i)
                }
            }
            i.__esModule = !0,
            i.default = n
        }
        , {}],
        127: [function(t, e, i) {
            "use strict";
            function n(t) {}
            function r(t) {
                var e = t.mesh
                  , i = t.particles
                  , r = t.extras
                  , s = t.filters
                  , o = t.prepare
                  , a = t.loaders
                  , h = t.interaction;
                Object.defineProperties(t, {
                    SpriteBatch: {
                        get: function() {
                            throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")
                        }
                    },
                    AssetLoader: {
                        get: function() {
                            throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")
                        }
                    },
                    Stage: {
                        get: function() {
                            return n("You do not need to use a PIXI Stage any more, you can simply render any container."),
                            t.Container
                        }
                    },
                    DisplayObjectContainer: {
                        get: function() {
                            return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."),
                            t.Container
                        }
                    },
                    Strip: {
                        get: function() {
                            return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),
                            e.Mesh
                        }
                    },
                    Rope: {
                        get: function() {
                            return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),
                            e.Rope
                        }
                    },
                    ParticleContainer: {
                        get: function() {
                            return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),
                            i.ParticleContainer
                        }
                    },
                    MovieClip: {
                        get: function() {
                            return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),
                            r.AnimatedSprite
                        }
                    },
                    TilingSprite: {
                        get: function() {
                            return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),
                            r.TilingSprite
                        }
                    },
                    BitmapText: {
                        get: function() {
                            return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),
                            r.BitmapText
                        }
                    },
                    blendModes: {
                        get: function() {
                            return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),
                            t.BLEND_MODES
                        }
                    },
                    scaleModes: {
                        get: function() {
                            return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),
                            t.SCALE_MODES
                        }
                    },
                    BaseTextureCache: {
                        get: function() {
                            return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),
                            t.utils.BaseTextureCache
                        }
                    },
                    TextureCache: {
                        get: function() {
                            return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),
                            t.utils.TextureCache
                        }
                    },
                    math: {
                        get: function() {
                            return n("The math namespace is deprecated, please access members already accessible on PIXI."),
                            t
                        }
                    },
                    AbstractFilter: {
                        get: function() {
                            return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),
                            t.Filter
                        }
                    },
                    TransformManual: {
                        get: function() {
                            return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"),
                            t.TransformBase
                        }
                    },
                    TARGET_FPMS: {
                        get: function() {
                            return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),
                            t.settings.TARGET_FPMS
                        },
                        set: function(e) {
                            n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),
                            t.settings.TARGET_FPMS = e
                        }
                    },
                    FILTER_RESOLUTION: {
                        get: function() {
                            return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),
                            t.settings.FILTER_RESOLUTION
                        },
                        set: function(e) {
                            n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),
                            t.settings.FILTER_RESOLUTION = e
                        }
                    },
                    RESOLUTION: {
                        get: function() {
                            return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),
                            t.settings.RESOLUTION
                        },
                        set: function(e) {
                            n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),
                            t.settings.RESOLUTION = e
                        }
                    },
                    MIPMAP_TEXTURES: {
                        get: function() {
                            return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),
                            t.settings.MIPMAP_TEXTURES
                        },
                        set: function(e) {
                            n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),
                            t.settings.MIPMAP_TEXTURES = e
                        }
                    },
                    SPRITE_BATCH_SIZE: {
                        get: function() {
                            return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),
                            t.settings.SPRITE_BATCH_SIZE
                        },
                        set: function(e) {
                            n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),
                            t.settings.SPRITE_BATCH_SIZE = e
                        }
                    },
                    SPRITE_MAX_TEXTURES: {
                        get: function() {
                            return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),
                            t.settings.SPRITE_MAX_TEXTURES
                        },
                        set: function(e) {
                            n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),
                            t.settings.SPRITE_MAX_TEXTURES = e
                        }
                    },
                    RETINA_PREFIX: {
                        get: function() {
                            return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),
                            t.settings.RETINA_PREFIX
                        },
                        set: function(e) {
                            n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),
                            t.settings.RETINA_PREFIX = e
                        }
                    },
                    DEFAULT_RENDER_OPTIONS: {
                        get: function() {
                            return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),
                            t.settings.RENDER_OPTIONS
                        }
                    }
                });
                for (var l = [{
                    parent: "TRANSFORM_MODE",
                    target: "TRANSFORM_MODE"
                }, {
                    parent: "GC_MODES",
                    target: "GC_MODE"
                }, {
                    parent: "WRAP_MODES",
                    target: "WRAP_MODE"
                }, {
                    parent: "SCALE_MODES",
                    target: "SCALE_MODE"
                }, {
                    parent: "PRECISION",
                    target: "PRECISION_FRAGMENT"
                }], u = 0; u < l.length; u++)
                    !function(e) {
                        var i = l[e];
                        Object.defineProperty(t[i.parent], "DEFAULT", {
                            get: function() {
                                return n("PIXI." + i.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + i.target),
                                t.settings[i.target]
                            },
                            set: function(e) {
                                n("PIXI." + i.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + i.target),
                                t.settings[i.target] = e
                            }
                        })
                    }(u);
                Object.defineProperties(t.settings, {
                    PRECISION: {
                        get: function() {
                            return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),
                            t.settings.PRECISION_FRAGMENT
                        },
                        set: function(e) {
                            n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),
                            t.settings.PRECISION_FRAGMENT = e
                        }
                    }
                }),
                Object.defineProperties(r, {
                    MovieClip: {
                        get: function() {
                            return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),
                            r.AnimatedSprite
                        }
                    }
                }),
                t.DisplayObject.prototype.generateTexture = function(t, e, i) {
                    return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),
                    t.generateTexture(this, e, i)
                }
                ,
                t.Graphics.prototype.generateTexture = function(t, e) {
                    return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),
                    this.generateCanvasTexture(t, e)
                }
                ,
                t.RenderTexture.prototype.render = function(t, e, i, r) {
                    this.legacyRenderer.render(t, this, i, e, !r),
                    n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")
                }
                ,
                t.RenderTexture.prototype.getImage = function(t) {
                    return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),
                    this.legacyRenderer.extract.image(t)
                }
                ,
                t.RenderTexture.prototype.getBase64 = function(t) {
                    return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),
                    this.legacyRenderer.extract.base64(t)
                }
                ,
                t.RenderTexture.prototype.getCanvas = function(t) {
                    return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),
                    this.legacyRenderer.extract.canvas(t)
                }
                ,
                t.RenderTexture.prototype.getPixels = function(t) {
                    return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),
                    this.legacyRenderer.pixels(t)
                }
                ,
                t.Sprite.prototype.setTexture = function(t) {
                    this.texture = t,
                    n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")
                }
                ,
                r.BitmapText.prototype.setText = function(t) {
                    this.text = t,
                    n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")
                }
                ,
                t.Text.prototype.setText = function(t) {
                    this.text = t,
                    n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")
                }
                ,
                t.Text.calculateFontProperties = function(e) {
                    return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),
                    t.TextMetrics.measureFont(e)
                }
                ,
                Object.defineProperties(t.Text, {
                    fontPropertiesCache: {
                        get: function() {
                            return n("Text.fontPropertiesCache is deprecated"),
                            t.TextMetrics._fonts
                        }
                    },
                    fontPropertiesCanvas: {
                        get: function() {
                            return n("Text.fontPropertiesCanvas is deprecated"),
                            t.TextMetrics._canvas
                        }
                    },
                    fontPropertiesContext: {
                        get: function() {
                            return n("Text.fontPropertiesContext is deprecated"),
                            t.TextMetrics._context
                        }
                    }
                }),
                t.Text.prototype.setStyle = function(t) {
                    this.style = t,
                    n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")
                }
                ,
                t.Text.prototype.determineFontProperties = function(e) {
                    return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),
                    t.TextMetrics.measureFont(e)
                }
                ,
                t.Text.getFontStyle = function(e) {
                    return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),
                    e = e || {},
                    e instanceof t.TextStyle || (e = new t.TextStyle(e)),
                    e.toFontString()
                }
                ,
                Object.defineProperties(t.TextStyle.prototype, {
                    font: {
                        get: function() {
                            n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");
                            var t = "number" == typeof this._fontSize ? this._fontSize + "px" : this._fontSize;
                            return this._fontStyle + " " + this._fontVariant + " " + this._fontWeight + " " + t + " " + this._fontFamily
                        },
                        set: function(t) {
                            n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),
                            t.indexOf("italic") > 1 ? this._fontStyle = "italic" : t.indexOf("oblique") > -1 ? this._fontStyle = "oblique" : this._fontStyle = "normal",
                            t.indexOf("small-caps") > -1 ? this._fontVariant = "small-caps" : this._fontVariant = "normal";
                            var e = t.split(" ")
                              , i = -1;
                            this._fontSize = 26;
                            for (var r = 0; r < e.length; ++r)
                                if (e[r].match(/(px|pt|em|%)/)) {
                                    i = r,
                                    this._fontSize = e[r];
                                    break
                                }
                            this._fontWeight = "normal";
                            for (var s = 0; s < i; ++s)
                                if (e[s].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) {
                                    this._fontWeight = e[s];
                                    break
                                }
                            if (i > -1 && i < e.length - 1) {
                                this._fontFamily = "";
                                for (var o = i + 1; o < e.length; ++o)
                                    this._fontFamily += e[o] + " ";
                                this._fontFamily = this._fontFamily.slice(0, -1)
                            } else
                                this._fontFamily = "Arial";
                            this.styleID++
                        }
                    }
                }),
                t.Texture.prototype.setFrame = function(t) {
                    this.frame = t,
                    n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")
                }
                ,
                t.Texture.addTextureToCache = function(e, i) {
                    t.Texture.addToCache(e, i),
                    n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")
                }
                ,
                t.Texture.removeTextureFromCache = function(e) {
                    return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),
                    t.BaseTexture.removeFromCache(e),
                    t.Texture.removeFromCache(e)
                }
                ,
                Object.defineProperties(s, {
                    AbstractFilter: {
                        get: function() {
                            return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"),
                            t.AbstractFilter
                        }
                    },
                    SpriteMaskFilter: {
                        get: function() {
                            return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),
                            t.SpriteMaskFilter
                        }
                    }
                }),
                t.utils.uuid = function() {
                    return n("utils.uuid() is deprecated, please use utils.uid() from now on."),
                    t.utils.uid()
                }
                ,
                t.utils.canUseNewCanvasBlendModes = function() {
                    return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),
                    t.CanvasTinter.canUseMultiply
                }
                ;
                var c = !0;
                Object.defineProperty(t.utils, "_saidHello", {
                    set: function(t) {
                        t && (n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),
                        this.skipHello()),
                        c = t
                    },
                    get: function() {
                        return c
                    }
                }),
                o.BasePrepare.prototype.register = function(t, e) {
                    return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),
                    t && this.registerFindHook(t),
                    e && this.registerUploadHook(e),
                    this
                }
                ,
                Object.defineProperty(o.canvas, "UPLOADS_PER_FRAME", {
                    set: function() {
                        n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")
                    },
                    get: function() {
                        return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),
                        NaN
                    }
                }),
                Object.defineProperty(o.webgl, "UPLOADS_PER_FRAME", {
                    set: function() {
                        n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")
                    },
                    get: function() {
                        return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),
                        NaN
                    }
                }),
                a.Loader && function() {
                    var t = a.Resource
                      , e = a.Loader;
                    Object.defineProperties(t.prototype, {
                        isJson: {
                            get: function() {
                                return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),
                                this.type === t.TYPE.JSON
                            }
                        },
                        isXml: {
                            get: function() {
                                return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),
                                this.type === t.TYPE.XML
                            }
                        },
                        isImage: {
                            get: function() {
                                return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),
                                this.type === t.TYPE.IMAGE
                            }
                        },
                        isAudio: {
                            get: function() {
                                return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),
                                this.type === t.TYPE.AUDIO
                            }
                        },
                        isVideo: {
                            get: function() {
                                return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),
                                this.type === t.TYPE.VIDEO
                            }
                        }
                    }),
                    Object.defineProperties(e.prototype, {
                        before: {
                            get: function() {
                                return n("The before() method is deprecated, please use pre()."),
                                this.pre
                            }
                        },
                        after: {
                            get: function() {
                                return n("The after() method is deprecated, please use use()."),
                                this.use
                            }
                        }
                    })
                }(),
                Object.defineProperty(h.interactiveTarget, "defaultCursor", {
                    set: function(t) {
                        n("Property defaultCursor has been replaced with 'cursor'. "),
                        this.cursor = t
                    },
                    get: function() {
                        return n("Property defaultCursor has been replaced with 'cursor'. "),
                        this.cursor
                    }
                }),
                Object.defineProperty(h.InteractionManager, "defaultCursorStyle", {
                    set: function(t) {
                        n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),
                        this.cursorStyles.default = t
                    },
                    get: function() {
                        return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),
                        this.cursorStyles.default
                    }
                }),
                Object.defineProperty(h.InteractionManager, "currentCursorStyle", {
                    set: function(t) {
                        n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),
                        this.currentCursorMode = t
                    },
                    get: function() {
                        return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),
                        this.currentCursorMode
                    }
                })
            }
            i.__esModule = !0,
            i.default = r
        }
        , {}],
        128: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../../core")
              , s = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(r)
              , o = new s.Rectangle
              , a = function() {
                function t(e) {
                    n(this, t),
                    this.renderer = e,
                    e.extract = this
                }
                return t.prototype.image = function(t) {
                    var e = new Image;
                    return e.src = this.base64(t),
                    e
                }
                ,
                t.prototype.base64 = function(t) {
                    return this.canvas(t).toDataURL()
                }
                ,
                t.prototype.canvas = function(t) {
                    var e = this.renderer
                      , i = void 0
                      , n = void 0
                      , r = void 0
                      , a = void 0;
                    t && (a = t instanceof s.RenderTexture ? t : e.generateTexture(t)),
                    a ? (i = a.baseTexture._canvasRenderTarget.context,
                    n = a.baseTexture._canvasRenderTarget.resolution,
                    r = a.frame) : (i = e.rootContext,
                    r = o,
                    r.width = this.renderer.width,
                    r.height = this.renderer.height);
                    var h = r.width * n
                      , l = r.height * n
                      , u = new s.CanvasRenderTarget(h,l)
                      , c = i.getImageData(r.x * n, r.y * n, h, l);
                    return u.context.putImageData(c, 0, 0),
                    u.canvas
                }
                ,
                t.prototype.pixels = function(t) {
                    var e = this.renderer
                      , i = void 0
                      , n = void 0
                      , r = void 0
                      , a = void 0;
                    return t && (a = t instanceof s.RenderTexture ? t : e.generateTexture(t)),
                    a ? (i = a.baseTexture._canvasRenderTarget.context,
                    n = a.baseTexture._canvasRenderTarget.resolution,
                    r = a.frame) : (i = e.rootContext,
                    r = o,
                    r.width = e.width,
                    r.height = e.height),
                    i.getImageData(0, 0, r.width * n, r.height * n).data
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer.extract = null,
                    this.renderer = null
                }
                ,
                t
            }();
            i.default = a,
            s.CanvasRenderer.registerPlugin("extract", a)
        }
        , {
            "../../core": 63
        }],
        129: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./webgl/WebGLExtract");
            Object.defineProperty(i, "webgl", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./canvas/CanvasExtract");
            Object.defineProperty(i, "canvas", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            })
        }
        , {
            "./canvas/CanvasExtract": 128,
            "./webgl/WebGLExtract": 130
        }],
        130: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../../core")
              , s = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(r)
              , o = new s.Rectangle
              , a = function() {
                function t(e) {
                    n(this, t),
                    this.renderer = e,
                    e.extract = this
                }
                return t.prototype.image = function(t) {
                    var e = new Image;
                    return e.src = this.base64(t),
                    e
                }
                ,
                t.prototype.base64 = function(t) {
                    return this.canvas(t).toDataURL()
                }
                ,
                t.prototype.canvas = function(t) {
                    var e = this.renderer
                      , i = void 0
                      , n = void 0
                      , r = void 0
                      , a = !1
                      , h = void 0;
                    t && (h = t instanceof s.RenderTexture ? t : this.renderer.generateTexture(t)),
                    h ? (i = h.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],
                    n = i.resolution,
                    r = h.frame,
                    a = !1) : (i = this.renderer.rootRenderTarget,
                    n = i.resolution,
                    a = !0,
                    r = o,
                    r.width = i.size.width,
                    r.height = i.size.height);
                    var l = r.width * n
                      , u = r.height * n
                      , c = new s.CanvasRenderTarget(l,u);
                    if (i) {
                        e.bindRenderTarget(i);
                        var d = new Uint8Array(4 * l * u)
                          , p = e.gl;
                        p.readPixels(r.x * n, r.y * n, l, u, p.RGBA, p.UNSIGNED_BYTE, d);
                        var f = c.context.getImageData(0, 0, l, u);
                        f.data.set(d),
                        c.context.putImageData(f, 0, 0),
                        a && (c.context.scale(1, -1),
                        c.context.drawImage(c.canvas, 0, -u))
                    }
                    return c.canvas
                }
                ,
                t.prototype.pixels = function(t) {
                    var e = this.renderer
                      , i = void 0
                      , n = void 0
                      , r = void 0
                      , a = void 0;
                    t && (a = t instanceof s.RenderTexture ? t : this.renderer.generateTexture(t)),
                    a ? (i = a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],
                    n = i.resolution,
                    r = a.frame) : (i = this.renderer.rootRenderTarget,
                    n = i.resolution,
                    r = o,
                    r.width = i.size.width,
                    r.height = i.size.height);
                    var h = r.width * n
                      , l = r.height * n
                      , u = new Uint8Array(4 * h * l);
                    if (i) {
                        e.bindRenderTarget(i);
                        var c = e.gl;
                        c.readPixels(r.x * n, r.y * n, h, l, c.RGBA, c.UNSIGNED_BYTE, u)
                    }
                    return u
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer.extract = null,
                    this.renderer = null
                }
                ,
                t
            }();
            i.default = a,
            s.WebGLRenderer.registerPlugin("extract", a)
        }
        , {
            "../../core": 63
        }],
        131: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = function(t) {
                function e(i, s) {
                    n(this, e);
                    var o = r(this, t.call(this, i[0]instanceof h.Texture ? i[0] : i[0].texture));
                    return o._textures = null,
                    o._durations = null,
                    o.textures = i,
                    o._autoUpdate = !1 !== s,
                    o.animationSpeed = 1,
                    o.loop = !0,
                    o.onComplete = null,
                    o.onFrameChange = null,
                    o._currentTime = 0,
                    o.playing = !1,
                    o
                }
                return s(e, t),
                e.prototype.stop = function() {
                    this.playing && (this.playing = !1,
                    this._autoUpdate && h.ticker.shared.remove(this.update, this))
                }
                ,
                e.prototype.play = function() {
                    this.playing || (this.playing = !0,
                    this._autoUpdate && h.ticker.shared.add(this.update, this, h.UPDATE_PRIORITY.HIGH))
                }
                ,
                e.prototype.gotoAndStop = function(t) {
                    this.stop();
                    var e = this.currentFrame;
                    this._currentTime = t,
                    e !== this.currentFrame && this.updateTexture()
                }
                ,
                e.prototype.gotoAndPlay = function(t) {
                    var e = this.currentFrame;
                    this._currentTime = t,
                    e !== this.currentFrame && this.updateTexture(),
                    this.play()
                }
                ,
                e.prototype.update = function(t) {
                    var e = this.animationSpeed * t
                      , i = this.currentFrame;
                    if (null !== this._durations) {
                        var n = this._currentTime % 1 * this._durations[this.currentFrame];
                        for (n += e / 60 * 1e3; n < 0; )
                            this._currentTime--,
                            n += this._durations[this.currentFrame];
                        var r = Math.sign(this.animationSpeed * t);
                        for (this._currentTime = Math.floor(this._currentTime); n >= this._durations[this.currentFrame]; )
                            n -= this._durations[this.currentFrame] * r,
                            this._currentTime += r;
                        this._currentTime += n / this._durations[this.currentFrame]
                    } else
                        this._currentTime += e;
                    this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0),
                    this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1),
                    this.onComplete && this.onComplete()) : i !== this.currentFrame && this.updateTexture()
                }
                ,
                e.prototype.updateTexture = function() {
                    this._texture = this._textures[this.currentFrame],
                    this._textureID = -1,
                    this.onFrameChange && this.onFrameChange(this.currentFrame)
                }
                ,
                e.prototype.destroy = function() {
                    this.stop(),
                    t.prototype.destroy.call(this)
                }
                ,
                e.fromFrames = function(t) {
                    for (var i = [], n = 0; n < t.length; ++n)
                        i.push(h.Texture.fromFrame(t[n]));
                    return new e(i)
                }
                ,
                e.fromImages = function(t) {
                    for (var i = [], n = 0; n < t.length; ++n)
                        i.push(h.Texture.fromImage(t[n]));
                    return new e(i)
                }
                ,
                o(e, [{
                    key: "totalFrames",
                    get: function() {
                        return this._textures.length
                    }
                }, {
                    key: "textures",
                    get: function() {
                        return this._textures
                    },
                    set: function(t) {
                        if (t[0]instanceof h.Texture)
                            this._textures = t,
                            this._durations = null;
                        else {
                            this._textures = [],
                            this._durations = [];
                            for (var e = 0; e < t.length; e++)
                                this._textures.push(t[e].texture),
                                this._durations.push(t[e].time)
                        }
                    }
                }, {
                    key: "currentFrame",
                    get: function() {
                        var t = Math.floor(this._currentTime) % this._textures.length;
                        return t < 0 && (t += this._textures.length),
                        t
                    }
                }]),
                e
            }(h.Sprite);
            i.default = l
        }
        , {
            "../core": 63
        }],
        132: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = t("../core/math/ObservablePoint")
              , u = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(l)
              , c = function(t) {
                function e(i) {
                    var s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                    n(this, e);
                    var o = r(this, t.call(this));
                    return o._textWidth = 0,
                    o._textHeight = 0,
                    o._glyphs = [],
                    o._font = {
                        tint: void 0 !== s.tint ? s.tint : 16777215,
                        align: s.align || "left",
                        name: null,
                        size: 0
                    },
                    o.font = s.font,
                    o._text = i,
                    o.maxWidth = 0,
                    o.maxLineHeight = 0,
                    o._anchor = new u.default(function() {
                        o.dirty = !0
                    }
                    ,o,0,0),
                    o.dirty = !1,
                    o.updateText(),
                    o
                }
                return s(e, t),
                e.prototype.updateText = function() {
                    for (var t = e.fonts[this._font.name], i = this._font.size / t.size, n = new h.Point, r = [], s = [], o = null, a = 0, l = 0, u = 0, c = -1, d = 0, p = 0, f = 0; f < this.text.length; f++) {
                        var m = this.text.charCodeAt(f);
                        if (/(\s)/.test(this.text.charAt(f)) && (c = f,
                        d = a),
                        /(?:\r\n|\r|\n)/.test(this.text.charAt(f)))
                            s.push(a),
                            l = Math.max(l, a),
                            u++,
                            n.x = 0,
                            n.y += t.lineHeight,
                            o = null;
                        else if (-1 !== c && this.maxWidth > 0 && n.x * i > this.maxWidth)
                            h.utils.removeItems(r, c, f - c),
                            f = c,
                            c = -1,
                            s.push(d),
                            l = Math.max(l, d),
                            u++,
                            n.x = 0,
                            n.y += t.lineHeight,
                            o = null;
                        else {
                            var _ = t.chars[m];
                            _ && (o && _.kerning[o] && (n.x += _.kerning[o]),
                            r.push({
                                texture: _.texture,
                                line: u,
                                charCode: m,
                                position: new h.Point(n.x + _.xOffset,n.y + _.yOffset)
                            }),
                            a = n.x + (_.texture.width + _.xOffset),
                            n.x += _.xAdvance,
                            p = Math.max(p, _.yOffset + _.texture.height),
                            o = m)
                        }
                    }
                    s.push(a),
                    l = Math.max(l, a);
                    for (var y = [], v = 0; v <= u; v++) {
                        var g = 0;
                        "right" === this._font.align ? g = l - s[v] : "center" === this._font.align && (g = (l - s[v]) / 2),
                        y.push(g)
                    }
                    for (var x = r.length, b = this.tint, w = 0; w < x; w++) {
                        var T = this._glyphs[w];
                        T ? T.texture = r[w].texture : (T = new h.Sprite(r[w].texture),
                        this._glyphs.push(T)),
                        T.position.x = (r[w].position.x + y[r[w].line]) * i,
                        T.position.y = r[w].position.y * i,
                        T.scale.x = T.scale.y = i,
                        T.tint = b,
                        T.parent || this.addChild(T)
                    }
                    for (var A = x; A < this._glyphs.length; ++A)
                        this.removeChild(this._glyphs[A]);
                    if (this._textWidth = l * i,
                    this._textHeight = (n.y + t.lineHeight) * i,
                    0 !== this.anchor.x || 0 !== this.anchor.y)
                        for (var S = 0; S < x; S++)
                            this._glyphs[S].x -= this._textWidth * this.anchor.x,
                            this._glyphs[S].y -= this._textHeight * this.anchor.y;
                    this.maxLineHeight = p * i
                }
                ,
                e.prototype.updateTransform = function() {
                    this.validate(),
                    this.containerUpdateTransform()
                }
                ,
                e.prototype.getLocalBounds = function() {
                    return this.validate(),
                    t.prototype.getLocalBounds.call(this)
                }
                ,
                e.prototype.validate = function() {
                    this.dirty && (this.updateText(),
                    this.dirty = !1)
                }
                ,
                e.registerFont = function(t, i) {
                    var n = {}
                      , r = t.getElementsByTagName("info")[0]
                      , s = t.getElementsByTagName("common")[0];
                    n.font = r.getAttribute("face"),
                    n.size = parseInt(r.getAttribute("size"), 10),
                    n.lineHeight = parseInt(s.getAttribute("lineHeight"), 10),
                    n.chars = {};
                    for (var o = t.getElementsByTagName("char"), a = 0; a < o.length; a++) {
                        var l = o[a]
                          , u = parseInt(l.getAttribute("id"), 10)
                          , c = new h.Rectangle(parseInt(l.getAttribute("x"), 10) + i.frame.x,parseInt(l.getAttribute("y"), 10) + i.frame.y,parseInt(l.getAttribute("width"), 10),parseInt(l.getAttribute("height"), 10));
                        n.chars[u] = {
                            xOffset: parseInt(l.getAttribute("xoffset"), 10),
                            yOffset: parseInt(l.getAttribute("yoffset"), 10),
                            xAdvance: parseInt(l.getAttribute("xadvance"), 10),
                            kerning: {},
                            texture: new h.Texture(i.baseTexture,c)
                        }
                    }
                    for (var d = t.getElementsByTagName("kerning"), p = 0; p < d.length; p++) {
                        var f = d[p]
                          , m = parseInt(f.getAttribute("first"), 10)
                          , _ = parseInt(f.getAttribute("second"), 10)
                          , y = parseInt(f.getAttribute("amount"), 10);
                        n.chars[_] && (n.chars[_].kerning[m] = y)
                    }
                    return e.fonts[n.font] = n,
                    n
                }
                ,
                o(e, [{
                    key: "tint",
                    get: function() {
                        return this._font.tint
                    },
                    set: function(t) {
                        this._font.tint = "number" == typeof t && t >= 0 ? t : 16777215,
                        this.dirty = !0
                    }
                }, {
                    key: "align",
                    get: function() {
                        return this._font.align
                    },
                    set: function(t) {
                        this._font.align = t || "left",
                        this.dirty = !0
                    }
                }, {
                    key: "anchor",
                    get: function() {
                        return this._anchor
                    },
                    set: function(t) {
                        "number" == typeof t ? this._anchor.set(t) : this._anchor.copy(t)
                    }
                }, {
                    key: "font",
                    get: function() {
                        return this._font
                    },
                    set: function(t) {
                        t && ("string" == typeof t ? (t = t.split(" "),
                        this._font.name = 1 === t.length ? t[0] : t.slice(1).join(" "),
                        this._font.size = t.length >= 2 ? parseInt(t[0], 10) : e.fonts[this._font.name].size) : (this._font.name = t.name,
                        this._font.size = "number" == typeof t.size ? t.size : parseInt(t.size, 10)),
                        this.dirty = !0)
                    }
                }, {
                    key: "text",
                    get: function() {
                        return this._text
                    },
                    set: function(t) {
                        t = t.toString() || " ",
                        this._text !== t && (this._text = t,
                        this.dirty = !0)
                    }
                }, {
                    key: "textWidth",
                    get: function() {
                        return this.validate(),
                        this._textWidth
                    }
                }, {
                    key: "textHeight",
                    get: function() {
                        return this.validate(),
                        this._textHeight
                    }
                }]),
                e
            }(h.Container);
            i.default = c,
            c.fonts = {}
        }
        , {
            "../core": 63,
            "../core/math/ObservablePoint": 66
        }],
        133: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , s = t("../core/math/Matrix")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
              , a = new o.default
              , h = function() {
                function t(e, i) {
                    n(this, t),
                    this._texture = e,
                    this.mapCoord = new o.default,
                    this.uClampFrame = new Float32Array(4),
                    this.uClampOffset = new Float32Array(2),
                    this._lastTextureID = -1,
                    this.clampOffset = 0,
                    this.clampMargin = void 0 === i ? .5 : i
                }
                return t.prototype.multiplyUvs = function(t, e) {
                    void 0 === e && (e = t);
                    for (var i = this.mapCoord, n = 0; n < t.length; n += 2) {
                        var r = t[n]
                          , s = t[n + 1];
                        e[n] = r * i.a + s * i.c + i.tx,
                        e[n + 1] = r * i.b + s * i.d + i.ty
                    }
                    return e
                }
                ,
                t.prototype.update = function(t) {
                    var e = this._texture;
                    if (!e || !e.valid)
                        return !1;
                    if (!t && this._lastTextureID === e._updateID)
                        return !1;
                    this._lastTextureID = e._updateID;
                    var i = e._uvs;
                    this.mapCoord.set(i.x1 - i.x0, i.y1 - i.y0, i.x3 - i.x0, i.y3 - i.y0, i.x0, i.y0);
                    var n = e.orig
                      , r = e.trim;
                    r && (a.set(n.width / r.width, 0, 0, n.height / r.height, -r.x / r.width, -r.y / r.height),
                    this.mapCoord.append(a));
                    var s = e.baseTexture
                      , o = this.uClampFrame
                      , h = this.clampMargin / s.resolution
                      , l = this.clampOffset;
                    return o[0] = (e._frame.x + h + l) / s.width,
                    o[1] = (e._frame.y + h + l) / s.height,
                    o[2] = (e._frame.x + e._frame.width - h + l) / s.width,
                    o[3] = (e._frame.y + e._frame.height - h + l) / s.height,
                    this.uClampOffset[0] = l / s.realWidth,
                    this.uClampOffset[1] = l / s.realHeight,
                    !0
                }
                ,
                r(t, [{
                    key: "texture",
                    get: function() {
                        return this._texture
                    },
                    set: function(t) {
                        this._texture = t,
                        this._lastTextureID = -1
                    }
                }]),
                t
            }();
            i.default = h
        }
        , {
            "../core/math/Matrix": 65
        }],
        134: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("../core")
              , l = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(h)
              , u = t("../core/sprites/canvas/CanvasTinter")
              , c = n(u)
              , d = t("./TextureTransform")
              , p = n(d)
              , f = new l.Point
              , m = function(t) {
                function e(i) {
                    var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100
                      , o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;
                    r(this, e);
                    var a = s(this, t.call(this, i));
                    return a.tileTransform = new l.TransformStatic,
                    a._width = n,
                    a._height = o,
                    a._canvasPattern = null,
                    a.uvTransform = i.transform || new p.default(i),
                    a.pluginName = "tilingSprite",
                    a.uvRespectAnchor = !1,
                    a
                }
                return o(e, t),
                e.prototype._onTextureUpdate = function() {
                    this.uvTransform && (this.uvTransform.texture = this._texture)
                }
                ,
                e.prototype._renderWebGL = function(t) {
                    var e = this._texture;
                    e && e.valid && (this.tileTransform.updateLocalTransform(),
                    this.uvTransform.update(),
                    t.setObjectRenderer(t.plugins[this.pluginName]),
                    t.plugins[this.pluginName].render(this))
                }
                ,
                e.prototype._renderCanvas = function(t) {
                    var e = this._texture;
                    if (e.baseTexture.hasLoaded) {
                        var i = t.context
                          , n = this.worldTransform
                          , r = t.resolution
                          , s = e.baseTexture
                          , o = s.resolution
                          , a = this.tilePosition.x / this.tileScale.x % e._frame.width * o
                          , h = this.tilePosition.y / this.tileScale.y % e._frame.height * o;
                        if (!this._canvasPattern) {
                            var u = new l.CanvasRenderTarget(e._frame.width,e._frame.height,o);
                            16777215 !== this.tint ? (this.cachedTint !== this.tint && (this.cachedTint = this.tint,
                            this.tintedTexture = c.default.getTintedTexture(this, this.tint)),
                            u.context.drawImage(this.tintedTexture, 0, 0)) : u.context.drawImage(s.source, -e._frame.x, -e._frame.y),
                            this._canvasPattern = u.context.createPattern(u.canvas, "repeat")
                        }
                        i.globalAlpha = this.worldAlpha,
                        i.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r, n.ty * r),
                        t.setBlendMode(this.blendMode),
                        i.fillStyle = this._canvasPattern,
                        i.scale(this.tileScale.x / o, this.tileScale.y / o);
                        var d = this.anchor.x * -this._width
                          , p = this.anchor.y * -this._height;
                        this.uvRespectAnchor ? (i.translate(a, h),
                        i.fillRect(-a + d, -h + p, this._width / this.tileScale.x * o, this._height / this.tileScale.y * o)) : (i.translate(a + d, h + p),
                        i.fillRect(-a, -h, this._width / this.tileScale.x * o, this._height / this.tileScale.y * o))
                    }
                }
                ,
                e.prototype._calculateBounds = function() {
                    var t = this._width * -this._anchor._x
                      , e = this._height * -this._anchor._y
                      , i = this._width * (1 - this._anchor._x)
                      , n = this._height * (1 - this._anchor._y);
                    this._bounds.addFrame(this.transform, t, e, i, n)
                }
                ,
                e.prototype.getLocalBounds = function(e) {
                    return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x,
                    this._bounds.minY = this._height * -this._anchor._y,
                    this._bounds.maxX = this._width * (1 - this._anchor._x),
                    this._bounds.maxY = this._height * (1 - this._anchor._x),
                    e || (this._localBoundsRect || (this._localBoundsRect = new l.Rectangle),
                    e = this._localBoundsRect),
                    this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e)
                }
                ,
                e.prototype.containsPoint = function(t) {
                    this.worldTransform.applyInverse(t, f);
                    var e = this._width
                      , i = this._height
                      , n = -e * this.anchor._x;
                    if (f.x > n && f.x < n + e) {
                        var r = -i * this.anchor._y;
                        if (f.y > r && f.y < r + i)
                            return !0
                    }
                    return !1
                }
                ,
                e.prototype.destroy = function() {
                    t.prototype.destroy.call(this),
                    this.tileTransform = null,
                    this.uvTransform = null
                }
                ,
                e.from = function(t, i, n) {
                    return new e(l.Texture.from(t),i,n)
                }
                ,
                e.fromFrame = function(t, i, n) {
                    var r = l.utils.TextureCache[t];
                    if (!r)
                        throw new Error('The frameId "' + t + '" does not exist in the texture cache ' + this);
                    return new e(r,i,n)
                }
                ,
                e.fromImage = function(t, i, n, r, s) {
                    return new e(l.Texture.fromImage(t, r, s),i,n)
                }
                ,
                a(e, [{
                    key: "clampMargin",
                    get: function() {
                        return this.uvTransform.clampMargin
                    },
                    set: function(t) {
                        this.uvTransform.clampMargin = t,
                        this.uvTransform.update(!0)
                    }
                }, {
                    key: "tileScale",
                    get: function() {
                        return this.tileTransform.scale
                    },
                    set: function(t) {
                        this.tileTransform.scale.copy(t)
                    }
                }, {
                    key: "tilePosition",
                    get: function() {
                        return this.tileTransform.position
                    },
                    set: function(t) {
                        this.tileTransform.position.copy(t)
                    }
                }, {
                    key: "width",
                    get: function() {
                        return this._width
                    },
                    set: function(t) {
                        this._width = t
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this._height
                    },
                    set: function(t) {
                        this._height = t
                    }
                }]),
                e
            }(l.Sprite);
            i.default = m
        }
        , {
            "../core": 63,
            "../core/sprites/canvas/CanvasTinter": 102,
            "./TextureTransform": 133
        }],
        135: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            var s = t("../core")
              , o = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(s)
              , a = t("../core/textures/Texture")
              , h = n(a)
              , l = t("../core/textures/BaseTexture")
              , u = n(l)
              , c = t("../core/utils")
              , d = o.DisplayObject
              , p = new o.Matrix;
            d.prototype._cacheAsBitmap = !1,
            d.prototype._cacheData = !1;
            var f = function t() {
                r(this, t),
                this.textureCacheId = null,
                this.originalRenderWebGL = null,
                this.originalRenderCanvas = null,
                this.originalCalculateBounds = null,
                this.originalGetLocalBounds = null,
                this.originalUpdateTransform = null,
                this.originalHitTest = null,
                this.originalDestroy = null,
                this.originalMask = null,
                this.originalFilterArea = null,
                this.sprite = null
            };
            Object.defineProperties(d.prototype, {
                cacheAsBitmap: {
                    get: function() {
                        return this._cacheAsBitmap
                    },
                    set: function(t) {
                        if (this._cacheAsBitmap !== t) {
                            this._cacheAsBitmap = t;
                            var e = void 0;
                            t ? (this._cacheData || (this._cacheData = new f),
                            e = this._cacheData,
                            e.originalRenderWebGL = this.renderWebGL,
                            e.originalRenderCanvas = this.renderCanvas,
                            e.originalUpdateTransform = this.updateTransform,
                            e.originalCalculateBounds = this._calculateBounds,
                            e.originalGetLocalBounds = this.getLocalBounds,
                            e.originalDestroy = this.destroy,
                            e.originalContainsPoint = this.containsPoint,
                            e.originalMask = this._mask,
                            e.originalFilterArea = this.filterArea,
                            this.renderWebGL = this._renderCachedWebGL,
                            this.renderCanvas = this._renderCachedCanvas,
                            this.destroy = this._cacheAsBitmapDestroy) : (e = this._cacheData,
                            e.sprite && this._destroyCachedDisplayObject(),
                            this.renderWebGL = e.originalRenderWebGL,
                            this.renderCanvas = e.originalRenderCanvas,
                            this._calculateBounds = e.originalCalculateBounds,
                            this.getLocalBounds = e.originalGetLocalBounds,
                            this.destroy = e.originalDestroy,
                            this.updateTransform = e.originalUpdateTransform,
                            this.containsPoint = e.originalContainsPoint,
                            this._mask = e.originalMask,
                            this.filterArea = e.originalFilterArea)
                        }
                    }
                }
            }),
            d.prototype._renderCachedWebGL = function(t) {
                !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t),
                this._cacheData.sprite._transformID = -1,
                this._cacheData.sprite.worldAlpha = this.worldAlpha,
                this._cacheData.sprite._renderWebGL(t))
            }
            ,
            d.prototype._initCachedDisplayObject = function(t) {
                if (!this._cacheData || !this._cacheData.sprite) {
                    var e = this.alpha;
                    this.alpha = 1,
                    t.currentRenderer.flush();
                    var i = this.getLocalBounds().clone();
                    if (this._filters) {
                        var n = this._filters[0].padding;
                        i.pad(n)
                    }
                    var r = t._activeRenderTarget
                      , s = t.filterManager.filterStack
                      , a = o.RenderTexture.create(0 | i.width, 0 | i.height)
                      , l = "cacheAsBitmap_" + (0,
                    c.uid)();
                    this._cacheData.textureCacheId = l,
                    u.default.addToCache(a.baseTexture, l),
                    h.default.addToCache(a, l);
                    var d = p;
                    d.tx = -i.x,
                    d.ty = -i.y,
                    this.transform.worldTransform.identity(),
                    this.renderWebGL = this._cacheData.originalRenderWebGL,
                    t.render(this, a, !0, d, !0),
                    t.bindRenderTarget(r),
                    t.filterManager.filterStack = s,
                    this.renderWebGL = this._renderCachedWebGL,
                    this.updateTransform = this.displayObjectUpdateTransform,
                    this._mask = null,
                    this.filterArea = null;
                    var f = new o.Sprite(a);
                    f.transform.worldTransform = this.transform.worldTransform,
                    f.anchor.x = -i.x / i.width,
                    f.anchor.y = -i.y / i.height,
                    f.alpha = e,
                    f._bounds = this._bounds,
                    this._calculateBounds = this._calculateCachedBounds,
                    this.getLocalBounds = this._getCachedLocalBounds,
                    this._cacheData.sprite = f,
                    this.transform._parentID = -1,
                    this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent,
                    this.updateTransform(),
                    this.parent = null),
                    this.containsPoint = f.containsPoint.bind(f)
                }
            }
            ,
            d.prototype._renderCachedCanvas = function(t) {
                !this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t),
                this._cacheData.sprite.worldAlpha = this.worldAlpha,
                this._cacheData.sprite.renderCanvas(t))
            }
            ,
            d.prototype._initCachedDisplayObjectCanvas = function(t) {
                if (!this._cacheData || !this._cacheData.sprite) {
                    var e = this.getLocalBounds()
                      , i = this.alpha;
                    this.alpha = 1;
                    var n = t.context
                      , r = o.RenderTexture.create(0 | e.width, 0 | e.height)
                      , s = "cacheAsBitmap_" + (0,
                    c.uid)();
                    this._cacheData.textureCacheId = s,
                    u.default.addToCache(r.baseTexture, s),
                    h.default.addToCache(r, s);
                    var a = p;
                    this.transform.localTransform.copy(a),
                    a.invert(),
                    a.tx -= e.x,
                    a.ty -= e.y,
                    this.renderCanvas = this._cacheData.originalRenderCanvas,
                    t.render(this, r, !0, a, !1),
                    t.context = n,
                    this.renderCanvas = this._renderCachedCanvas,
                    this._calculateBounds = this._calculateCachedBounds,
                    this._mask = null,
                    this.filterArea = null;
                    var l = new o.Sprite(r);
                    l.transform.worldTransform = this.transform.worldTransform,
                    l.anchor.x = -e.x / e.width,
                    l.anchor.y = -e.y / e.height,
                    l._bounds = this._bounds,
                    l.alpha = i,
                    this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent,
                    this.updateTransform(),
                    this.parent = null),
                    this.updateTransform = this.displayObjectUpdateTransform,
                    this._cacheData.sprite = l,
                    this.containsPoint = l.containsPoint.bind(l)
                }
            }
            ,
            d.prototype._calculateCachedBounds = function() {
                this._cacheData.sprite._calculateBounds()
            }
            ,
            d.prototype._getCachedLocalBounds = function() {
                return this._cacheData.sprite.getLocalBounds()
            }
            ,
            d.prototype._destroyCachedDisplayObject = function() {
                this._cacheData.sprite._texture.destroy(!0),
                this._cacheData.sprite = null,
                u.default.removeFromCache(this._cacheData.textureCacheId),
                h.default.removeFromCache(this._cacheData.textureCacheId),
                this._cacheData.textureCacheId = null
            }
            ,
            d.prototype._cacheAsBitmapDestroy = function(t) {
                this.cacheAsBitmap = !1,
                this.destroy(t)
            }
        }
        , {
            "../core": 63,
            "../core/textures/BaseTexture": 110,
            "../core/textures/Texture": 113,
            "../core/utils": 122
        }],
        136: [function(t, e, i) {
            "use strict";
            var n = t("../core")
              , r = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(n);
            r.DisplayObject.prototype.name = null,
            r.Container.prototype.getChildByName = function(t) {
                for (var e = 0; e < this.children.length; e++)
                    if (this.children[e].name === t)
                        return this.children[e];
                return null
            }
        }
        , {
            "../core": 63
        }],
        137: [function(t, e, i) {
            "use strict";
            var n = t("../core")
              , r = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(n);
            r.DisplayObject.prototype.getGlobalPosition = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new r.Point
                  , e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                return this.parent ? this.parent.toGlobal(this.position, t, e) : (t.x = this.position.x,
                t.y = this.position.y),
                t
            }
        }
        , {
            "../core": 63
        }],
        138: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0,
            i.BitmapText = i.TilingSpriteRenderer = i.TilingSprite = i.AnimatedSprite = void 0;
            var r = t("./AnimatedSprite");
            Object.defineProperty(i, "AnimatedSprite", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./TilingSprite");
            Object.defineProperty(i, "TilingSprite", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            });
            var o = t("./webgl/TilingSpriteRenderer");
            Object.defineProperty(i, "TilingSpriteRenderer", {
                enumerable: !0,
                get: function() {
                    return n(o).default
                }
            });
            var a = t("./BitmapText");
            Object.defineProperty(i, "BitmapText", {
                enumerable: !0,
                get: function() {
                    return n(a).default
                }
            }),
            t("./cacheAsBitmap"),
            t("./getChildByName"),
            t("./getGlobalPosition")
        }
        , {
            "./AnimatedSprite": 131,
            "./BitmapText": 132,
            "./TilingSprite": 134,
            "./cacheAsBitmap": 135,
            "./getChildByName": 136,
            "./getGlobalPosition": 137,
            "./webgl/TilingSpriteRenderer": 139
        }],
        139: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("../../core")
              , a = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(o)
              , h = t("../../core/const")
              , l = (t("path"),
            new a.Matrix)
              , u = new Float32Array(4)
              , c = function(t) {
                function e(i) {
                    n(this, e);
                    var s = r(this, t.call(this, i));
                    return s.shader = null,
                    s.simpleShader = null,
                    s.quad = null,
                    s
                }
                return s(e, t),
                e.prototype.onContextChange = function() {
                    var t = this.renderer.gl;
                    this.shader = new a.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"),
                    this.simpleShader = new a.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"),
                    this.renderer.bindVao(null),
                    this.quad = new a.Quad(t,this.renderer.state.attribState),
                    this.quad.initVao(this.shader)
                }
                ,
                e.prototype.render = function(t) {
                    var e = this.renderer
                      , i = this.quad;
                    e.bindVao(i.vao);
                    var n = i.vertices;
                    n[0] = n[6] = t._width * -t.anchor.x,
                    n[1] = n[3] = t._height * -t.anchor.y,
                    n[2] = n[4] = t._width * (1 - t.anchor.x),
                    n[5] = n[7] = t._height * (1 - t.anchor.y),
                    t.uvRespectAnchor && (n = i.uvs,
                    n[0] = n[6] = -t.anchor.x,
                    n[1] = n[3] = -t.anchor.y,
                    n[2] = n[4] = 1 - t.anchor.x,
                    n[5] = n[7] = 1 - t.anchor.y),
                    i.upload();
                    var r = t._texture
                      , s = r.baseTexture
                      , o = t.tileTransform.localTransform
                      , c = t.uvTransform
                      , d = s.isPowerOfTwo && r.frame.width === s.width && r.frame.height === s.height;
                    d && (s._glTextures[e.CONTEXT_UID] ? d = s.wrapMode !== h.WRAP_MODES.CLAMP : s.wrapMode === h.WRAP_MODES.CLAMP && (s.wrapMode = h.WRAP_MODES.REPEAT));
                    var p = d ? this.simpleShader : this.shader;
                    e.bindShader(p);
                    var f = r.width
                      , m = r.height
                      , _ = t._width
                      , y = t._height;
                    l.set(o.a * f / _, o.b * f / y, o.c * m / _, o.d * m / y, o.tx / _, o.ty / y),
                    l.invert(),
                    d ? l.prepend(c.mapCoord) : (p.uniforms.uMapCoord = c.mapCoord.toArray(!0),
                    p.uniforms.uClampFrame = c.uClampFrame,
                    p.uniforms.uClampOffset = c.uClampOffset),
                    p.uniforms.uTransform = l.toArray(!0);
                    var v = u;
                    a.utils.hex2rgb(t.tint, v),
                    v[3] = t.worldAlpha,
                    p.uniforms.uColor = v,
                    p.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0),
                    p.uniforms.uSampler = e.bindTexture(r),
                    e.setBlendMode(t.blendMode),
                    i.vao.draw(this.renderer.gl.TRIANGLES, 6, 0)
                }
                ,
                e
            }(a.ObjectRenderer);
            i.default = c,
            a.WebGLRenderer.registerPlugin("tilingSprite", c)
        }
        , {
            "../../core": 63,
            "../../core/const": 44,
            path: 22
        }],
        140: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("../../core")
              , l = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(h)
              , u = t("./BlurXFilter")
              , c = n(u)
              , d = t("./BlurYFilter")
              , p = n(d)
              , f = function(t) {
                function e(i, n, o, a) {
                    r(this, e);
                    var h = s(this, t.call(this));
                    return h.blurXFilter = new c.default(i,n,o,a),
                    h.blurYFilter = new p.default(i,n,o,a),
                    h.padding = 0,
                    h.resolution = o || l.settings.RESOLUTION,
                    h.quality = n || 4,
                    h.blur = i || 8,
                    h
                }
                return o(e, t),
                e.prototype.apply = function(t, e, i) {
                    var n = t.getRenderTarget(!0);
                    this.blurXFilter.apply(t, e, n, !0),
                    this.blurYFilter.apply(t, n, i, !1),
                    t.returnRenderTarget(n)
                }
                ,
                a(e, [{
                    key: "blur",
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = this.blurYFilter.blur = t,
                        this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                    }
                }, {
                    key: "quality",
                    get: function() {
                        return this.blurXFilter.quality
                    },
                    set: function(t) {
                        this.blurXFilter.quality = this.blurYFilter.quality = t
                    }
                }, {
                    key: "blurX",
                    get: function() {
                        return this.blurXFilter.blur
                    },
                    set: function(t) {
                        this.blurXFilter.blur = t,
                        this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                    }
                }, {
                    key: "blurY",
                    get: function() {
                        return this.blurYFilter.blur
                    },
                    set: function(t) {
                        this.blurYFilter.blur = t,
                        this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength))
                    }
                }]),
                e
            }(l.Filter);
            i.default = f
        }
        , {
            "../../core": 63,
            "./BlurXFilter": 141,
            "./BlurYFilter": 142
        }],
        141: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("../../core")
              , l = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(h)
              , u = t("./generateBlurVertSource")
              , c = n(u)
              , d = t("./generateBlurFragSource")
              , p = n(d)
              , f = t("./getMaxBlurKernelSize")
              , m = n(f)
              , _ = function(t) {
                function e(i, n, o, a) {
                    r(this, e),
                    a = a || 5;
                    var h = (0,
                    c.default)(a, !0)
                      , u = (0,
                    p.default)(a)
                      , d = s(this, t.call(this, h, u));
                    return d.resolution = o || l.settings.RESOLUTION,
                    d._quality = 0,
                    d.quality = n || 4,
                    d.strength = i || 8,
                    d.firstRun = !0,
                    d
                }
                return o(e, t),
                e.prototype.apply = function(t, e, i, n) {
                    if (this.firstRun) {
                        var r = t.renderer.gl
                          , s = (0,
                        m.default)(r);
                        this.vertexSrc = (0,
                        c.default)(s, !0),
                        this.fragmentSrc = (0,
                        p.default)(s),
                        this.firstRun = !1
                    }
                    if (this.uniforms.strength = 1 / i.size.width * (i.size.width / e.size.width),
                    this.uniforms.strength *= this.strength,
                    this.uniforms.strength /= this.passes,
                    1 === this.passes)
                        t.applyFilter(this, e, i, n);
                    else {
                        for (var o = t.getRenderTarget(!0), a = e, h = o, l = 0; l < this.passes - 1; l++) {
                            t.applyFilter(this, a, h, !0);
                            var u = h;
                            h = a,
                            a = u
                        }
                        t.applyFilter(this, a, i, n),
                        t.returnRenderTarget(o)
                    }
                }
                ,
                a(e, [{
                    key: "blur",
                    get: function() {
                        return this.strength
                    },
                    set: function(t) {
                        this.padding = 2 * Math.abs(t),
                        this.strength = t
                    }
                }, {
                    key: "quality",
                    get: function() {
                        return this._quality
                    },
                    set: function(t) {
                        this._quality = t,
                        this.passes = t
                    }
                }]),
                e
            }(l.Filter);
            i.default = _
        }
        , {
            "../../core": 63,
            "./generateBlurFragSource": 143,
            "./generateBlurVertSource": 144,
            "./getMaxBlurKernelSize": 145
        }],
        142: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , h = t("../../core")
              , l = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(h)
              , u = t("./generateBlurVertSource")
              , c = n(u)
              , d = t("./generateBlurFragSource")
              , p = n(d)
              , f = t("./getMaxBlurKernelSize")
              , m = n(f)
              , _ = function(t) {
                function e(i, n, o, a) {
                    r(this, e),
                    a = a || 5;
                    var h = (0,
                    c.default)(a, !1)
                      , u = (0,
                    p.default)(a)
                      , d = s(this, t.call(this, h, u));
                    return d.resolution = o || l.settings.RESOLUTION,
                    d._quality = 0,
                    d.quality = n || 4,
                    d.strength = i || 8,
                    d.firstRun = !0,
                    d
                }
                return o(e, t),
                e.prototype.apply = function(t, e, i, n) {
                    if (this.firstRun) {
                        var r = t.renderer.gl
                          , s = (0,
                        m.default)(r);
                        this.vertexSrc = (0,
                        c.default)(s, !1),
                        this.fragmentSrc = (0,
                        p.default)(s),
                        this.firstRun = !1
                    }
                    if (this.uniforms.strength = 1 / i.size.height * (i.size.height / e.size.height),
                    this.uniforms.strength *= this.strength,
                    this.uniforms.strength /= this.passes,
                    1 === this.passes)
                        t.applyFilter(this, e, i, n);
                    else {
                        for (var o = t.getRenderTarget(!0), a = e, h = o, l = 0; l < this.passes - 1; l++) {
                            t.applyFilter(this, a, h, !0);
                            var u = h;
                            h = a,
                            a = u
                        }
                        t.applyFilter(this, a, i, n),
                        t.returnRenderTarget(o)
                    }
                }
                ,
                a(e, [{
                    key: "blur",
                    get: function() {
                        return this.strength
                    },
                    set: function(t) {
                        this.padding = 2 * Math.abs(t),
                        this.strength = t
                    }
                }, {
                    key: "quality",
                    get: function() {
                        return this._quality
                    },
                    set: function(t) {
                        this._quality = t,
                        this.passes = t
                    }
                }]),
                e
            }(l.Filter);
            i.default = _
        }
        , {
            "../../core": 63,
            "./generateBlurFragSource": 143,
            "./generateBlurVertSource": 144,
            "./getMaxBlurKernelSize": 145
        }],
        143: [function(t, e, i) {
            "use strict";
            function n(t) {
                for (var e = r[t], i = e.length, n = s, o = "", a = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;", h = void 0, l = 0; l < t; l++) {
                    var u = a.replace("%index%", l);
                    h = l,
                    l >= i && (h = t - l - 1),
                    u = u.replace("%value%", e[h]),
                    o += u,
                    o += "\n"
                }
                return n = n.replace("%blur%", o),
                n = n.replace("%size%", t)
            }
            i.__esModule = !0,
            i.default = n;
            var r = {
                5: [.153388, .221461, .250301],
                7: [.071303, .131514, .189879, .214607],
                9: [.028532, .067234, .124009, .179044, .20236],
                11: [.0093, .028002, .065984, .121703, .175713, .198596],
                13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641],
                15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448]
            }
              , s = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n")
        }
        , {}],
        144: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                var i = Math.ceil(t / 2)
                  , n = r
                  , s = ""
                  , o = void 0;
                o = e ? "vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";
                for (var a = 0; a < t; a++) {
                    var h = o.replace("%index%", a);
                    h = h.replace("%sampleIndex%", a - (i - 1) + ".0"),
                    s += h,
                    s += "\n"
                }
                return n = n.replace("%blur%", s),
                n = n.replace("%size%", t)
            }
            i.__esModule = !0,
            i.default = n;
            var r = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform float strength;", "uniform mat3 projectionMatrix;", "varying vec2 vBlurTexCoords[%size%];", "void main(void)", "{", "gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);", "%blur%", "}"].join("\n")
        }
        , {}],
        145: [function(t, e, i) {
            "use strict";
            function n(t) {
                for (var e = t.getParameter(t.MAX_VARYING_VECTORS), i = 15; i > e; )
                    i -= 2;
                return i
            }
            i.__esModule = !0,
            i.default = n
        }
        , {}],
        146: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = (t("path"),
            function(t) {
                function e() {
                    n(this, e);
                    var i = r(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));
                    return i.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0],
                    i.alpha = 1,
                    i
                }
                return s(e, t),
                e.prototype._loadMatrix = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                      , i = t;
                    e && (this._multiply(i, this.uniforms.m, t),
                    i = this._colorMatrix(i)),
                    this.uniforms.m = i
                }
                ,
                e.prototype._multiply = function(t, e, i) {
                    return t[0] = e[0] * i[0] + e[1] * i[5] + e[2] * i[10] + e[3] * i[15],
                    t[1] = e[0] * i[1] + e[1] * i[6] + e[2] * i[11] + e[3] * i[16],
                    t[2] = e[0] * i[2] + e[1] * i[7] + e[2] * i[12] + e[3] * i[17],
                    t[3] = e[0] * i[3] + e[1] * i[8] + e[2] * i[13] + e[3] * i[18],
                    t[4] = e[0] * i[4] + e[1] * i[9] + e[2] * i[14] + e[3] * i[19] + e[4],
                    t[5] = e[5] * i[0] + e[6] * i[5] + e[7] * i[10] + e[8] * i[15],
                    t[6] = e[5] * i[1] + e[6] * i[6] + e[7] * i[11] + e[8] * i[16],
                    t[7] = e[5] * i[2] + e[6] * i[7] + e[7] * i[12] + e[8] * i[17],
                    t[8] = e[5] * i[3] + e[6] * i[8] + e[7] * i[13] + e[8] * i[18],
                    t[9] = e[5] * i[4] + e[6] * i[9] + e[7] * i[14] + e[8] * i[19] + e[9],
                    t[10] = e[10] * i[0] + e[11] * i[5] + e[12] * i[10] + e[13] * i[15],
                    t[11] = e[10] * i[1] + e[11] * i[6] + e[12] * i[11] + e[13] * i[16],
                    t[12] = e[10] * i[2] + e[11] * i[7] + e[12] * i[12] + e[13] * i[17],
                    t[13] = e[10] * i[3] + e[11] * i[8] + e[12] * i[13] + e[13] * i[18],
                    t[14] = e[10] * i[4] + e[11] * i[9] + e[12] * i[14] + e[13] * i[19] + e[14],
                    t[15] = e[15] * i[0] + e[16] * i[5] + e[17] * i[10] + e[18] * i[15],
                    t[16] = e[15] * i[1] + e[16] * i[6] + e[17] * i[11] + e[18] * i[16],
                    t[17] = e[15] * i[2] + e[16] * i[7] + e[17] * i[12] + e[18] * i[17],
                    t[18] = e[15] * i[3] + e[16] * i[8] + e[17] * i[13] + e[18] * i[18],
                    t[19] = e[15] * i[4] + e[16] * i[9] + e[17] * i[14] + e[18] * i[19] + e[19],
                    t
                }
                ,
                e.prototype._colorMatrix = function(t) {
                    var e = new Float32Array(t);
                    return e[4] /= 255,
                    e[9] /= 255,
                    e[14] /= 255,
                    e[19] /= 255,
                    e
                }
                ,
                e.prototype.brightness = function(t, e) {
                    var i = [t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(i, e)
                }
                ,
                e.prototype.greyscale = function(t, e) {
                    var i = [t, t, t, 0, 0, t, t, t, 0, 0, t, t, t, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(i, e)
                }
                ,
                e.prototype.blackAndWhite = function(t) {
                    var e = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.hue = function(t, e) {
                    t = (t || 0) / 180 * Math.PI;
                    var i = Math.cos(t)
                      , n = Math.sin(t)
                      , r = Math.sqrt
                      , s = 1 / 3
                      , o = r(s)
                      , a = i + (1 - i) * s
                      , h = s * (1 - i) - o * n
                      , l = s * (1 - i) + o * n
                      , u = s * (1 - i) + o * n
                      , c = i + s * (1 - i)
                      , d = s * (1 - i) - o * n
                      , p = s * (1 - i) - o * n
                      , f = s * (1 - i) + o * n
                      , m = i + s * (1 - i)
                      , _ = [a, h, l, 0, 0, u, c, d, 0, 0, p, f, m, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(_, e)
                }
                ,
                e.prototype.contrast = function(t, e) {
                    var i = (t || 0) + 1
                      , n = -128 * (i - 1)
                      , r = [i, 0, 0, 0, n, 0, i, 0, 0, n, 0, 0, i, 0, n, 0, 0, 0, 1, 0];
                    this._loadMatrix(r, e)
                }
                ,
                e.prototype.saturate = function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0
                      , e = arguments[1]
                      , i = 2 * t / 3 + 1
                      , n = -.5 * (i - 1)
                      , r = [i, n, n, 0, 0, n, i, n, 0, 0, n, n, i, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(r, e)
                }
                ,
                e.prototype.desaturate = function() {
                    this.saturate(-1)
                }
                ,
                e.prototype.negative = function(t) {
                    var e = [0, 1, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.sepia = function(t) {
                    var e = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.technicolor = function(t) {
                    var e = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.polaroid = function(t) {
                    var e = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.toBGR = function(t) {
                    var e = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.kodachrome = function(t) {
                    var e = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.browni = function(t) {
                    var e = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.vintage = function(t) {
                    var e = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.colorTone = function(t, e, i, n, r) {
                    t = t || .2,
                    e = e || .15,
                    i = i || 16770432,
                    n = n || 3375104;
                    var s = (i >> 16 & 255) / 255
                      , o = (i >> 8 & 255) / 255
                      , a = (255 & i) / 255
                      , h = (n >> 16 & 255) / 255
                      , l = (n >> 8 & 255) / 255
                      , u = (255 & n) / 255
                      , c = [.3, .59, .11, 0, 0, s, o, a, t, 0, h, l, u, e, 0, s - h, o - l, a - u, 0, 0];
                    this._loadMatrix(c, r)
                }
                ,
                e.prototype.night = function(t, e) {
                    t = t || .1;
                    var i = [-2 * t, -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(i, e)
                }
                ,
                e.prototype.predator = function(t, e) {
                    var i = [11.224130630493164 * t, -4.794486999511719 * t, -2.8746118545532227 * t, 0 * t, .40342438220977783 * t, -3.6330697536468506 * t, 9.193157196044922 * t, -2.951810836791992 * t, 0 * t, -1.316135048866272 * t, -3.2184197902679443 * t, -4.2375030517578125 * t, 7.476448059082031 * t, 0 * t, .8044459223747253 * t, 0, 0, 0, 1, 0];
                    this._loadMatrix(i, e)
                }
                ,
                e.prototype.lsd = function(t) {
                    var e = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(e, t)
                }
                ,
                e.prototype.reset = function() {
                    var t = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
                    this._loadMatrix(t, !1)
                }
                ,
                o(e, [{
                    key: "matrix",
                    get: function() {
                        return this.uniforms.m
                    },
                    set: function(t) {
                        this.uniforms.m = t
                    }
                }, {
                    key: "alpha",
                    get: function() {
                        return this.uniforms.uAlpha
                    },
                    set: function(t) {
                        this.uniforms.uAlpha = t
                    }
                }]),
                e
            }(h.Filter));
            i.default = l,
            l.prototype.grayscale = l.prototype.greyscale
        }
        , {
            "../../core": 63,
            path: 22
        }],
        147: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = (t("path"),
            function(t) {
                function e(i, s) {
                    n(this, e);
                    var o = new h.Matrix;
                    i.renderable = !1;
                    var a = r(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));
                    return a.maskSprite = i,
                    a.maskMatrix = o,
                    a.uniforms.mapSampler = i._texture,
                    a.uniforms.filterMatrix = o,
                    a.uniforms.scale = {
                        x: 1,
                        y: 1
                    },
                    null !== s && void 0 !== s || (s = 20),
                    a.scale = new h.Point(s,s),
                    a
                }
                return s(e, t),
                e.prototype.apply = function(t, e, i) {
                    var n = 1 / i.destinationFrame.width * (i.size.width / e.size.width);
                    this.uniforms.filterMatrix = t.calculateSpriteMatrix(this.maskMatrix, this.maskSprite),
                    this.uniforms.scale.x = this.scale.x * n,
                    this.uniforms.scale.y = this.scale.y * n,
                    t.applyFilter(this, e, i)
                }
                ,
                o(e, [{
                    key: "map",
                    get: function() {
                        return this.uniforms.mapSampler
                    },
                    set: function(t) {
                        this.uniforms.mapSampler = t
                    }
                }]),
                e
            }(h.Filter));
            i.default = l
        }
        , {
            "../../core": 63,
            path: 22
        }],
        148: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("../../core")
              , a = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(o)
              , h = (t("path"),
            function(t) {
                function e() {
                    return n(this, e),
                    r(this, t.call(this, "\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}", 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))
                }
                return s(e, t),
                e
            }(a.Filter));
            i.default = h
        }
        , {
            "../../core": 63,
            path: 22
        }],
        149: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./fxaa/FXAAFilter");
            Object.defineProperty(i, "FXAAFilter", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./noise/NoiseFilter");
            Object.defineProperty(i, "NoiseFilter", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            });
            var o = t("./displacement/DisplacementFilter");
            Object.defineProperty(i, "DisplacementFilter", {
                enumerable: !0,
                get: function() {
                    return n(o).default
                }
            });
            var a = t("./blur/BlurFilter");
            Object.defineProperty(i, "BlurFilter", {
                enumerable: !0,
                get: function() {
                    return n(a).default
                }
            });
            var h = t("./blur/BlurXFilter");
            Object.defineProperty(i, "BlurXFilter", {
                enumerable: !0,
                get: function() {
                    return n(h).default
                }
            });
            var l = t("./blur/BlurYFilter");
            Object.defineProperty(i, "BlurYFilter", {
                enumerable: !0,
                get: function() {
                    return n(l).default
                }
            });
            var u = t("./colormatrix/ColorMatrixFilter");
            Object.defineProperty(i, "ColorMatrixFilter", {
                enumerable: !0,
                get: function() {
                    return n(u).default
                }
            });
            var c = t("./void/VoidFilter");
            Object.defineProperty(i, "VoidFilter", {
                enumerable: !0,
                get: function() {
                    return n(c).default
                }
            })
        }
        , {
            "./blur/BlurFilter": 140,
            "./blur/BlurXFilter": 141,
            "./blur/BlurYFilter": 142,
            "./colormatrix/ColorMatrixFilter": 146,
            "./displacement/DisplacementFilter": 147,
            "./fxaa/FXAAFilter": 148,
            "./noise/NoiseFilter": 150,
            "./void/VoidFilter": 151
        }],
        150: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = (t("path"),
            function(t) {
                function e() {
                    var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5
                      , s = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Math.random();
                    n(this, e);
                    var o = r(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));
                    return o.noise = i,
                    o.seed = s,
                    o
                }
                return s(e, t),
                o(e, [{
                    key: "noise",
                    get: function() {
                        return this.uniforms.uNoise
                    },
                    set: function(t) {
                        this.uniforms.uNoise = t
                    }
                }, {
                    key: "seed",
                    get: function() {
                        return this.uniforms.uSeed
                    },
                    set: function(t) {
                        this.uniforms.uSeed = t
                    }
                }]),
                e
            }(h.Filter));
            i.default = l
        }
        , {
            "../../core": 63,
            path: 22
        }],
        151: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("../../core")
              , a = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(o)
              , h = (t("path"),
            function(t) {
                function e() {
                    n(this, e);
                    var i = r(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));
                    return i.glShaderKey = "void",
                    i
                }
                return s(e, t),
                e
            }(a.Filter));
            i.default = h
        }
        , {
            "../../core": 63,
            path: 22
        }],
        152: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../core")
              , s = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(r)
              , o = function() {
                function t() {
                    n(this, t),
                    this.global = new s.Point,
                    this.target = null,
                    this.originalEvent = null,
                    this.identifier = null
                }
                return t.prototype.getLocalPosition = function(t, e, i) {
                    return t.worldTransform.applyInverse(i || this.global, e)
                }
                ,
                t
            }();
            i.default = o
        }
        , {
            "../core": 63
        }],
        153: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t() {
                    n(this, t),
                    this.stopped = !1,
                    this.target = null,
                    this.currentTarget = null,
                    this.type = null,
                    this.data = null
                }
                return t.prototype.stopPropagation = function() {
                    this.stopped = !0
                }
                ,
                t.prototype._reset = function() {
                    this.stopped = !1,
                    this.currentTarget = null,
                    this.target = null
                }
                ,
                t
            }();
            i.default = r
        }
        , {}],
        154: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                return typeof t
            }
            : function(t) {
                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
            }
              , h = t("../core")
              , l = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(h)
              , u = t("./InteractionData")
              , c = n(u)
              , d = t("./InteractionEvent")
              , p = n(d)
              , f = t("./InteractionTrackingData")
              , m = n(f)
              , _ = t("eventemitter3")
              , y = n(_)
              , v = t("./interactiveTarget")
              , g = n(v);
            l.utils.mixins.delayMixin(l.DisplayObject.prototype, g.default);
            var x = "MOUSE"
              , b = {
                target: null,
                data: {
                    global: null
                }
            }
              , w = function(t) {
                function e(i, n) {
                    r(this, e);
                    var o = s(this, t.call(this));
                    return n = n || {},
                    o.renderer = i,
                    o.autoPreventDefault = void 0 === n.autoPreventDefault || n.autoPreventDefault,
                    o.interactionFrequency = n.interactionFrequency || 10,
                    o.mouse = new c.default,
                    o.mouse.identifier = x,
                    o.mouse.global.set(-999999),
                    o.activeInteractionData = {},
                    o.activeInteractionData[x] = o.mouse,
                    o.interactionDataPool = [],
                    o.eventData = new p.default,
                    o.interactionDOMElement = null,
                    o.moveWhenInside = !1,
                    o.eventsAdded = !1,
                    o.mouseOverRenderer = !1,
                    o.supportsTouchEvents = "ontouchstart"in window,
                    o.supportsPointerEvents = !!window.PointerEvent,
                    o.onPointerUp = o.onPointerUp.bind(o),
                    o.processPointerUp = o.processPointerUp.bind(o),
                    o.onPointerCancel = o.onPointerCancel.bind(o),
                    o.processPointerCancel = o.processPointerCancel.bind(o),
                    o.onPointerDown = o.onPointerDown.bind(o),
                    o.processPointerDown = o.processPointerDown.bind(o),
                    o.onPointerMove = o.onPointerMove.bind(o),
                    o.processPointerMove = o.processPointerMove.bind(o),
                    o.onPointerOut = o.onPointerOut.bind(o),
                    o.processPointerOverOut = o.processPointerOverOut.bind(o),
                    o.onPointerOver = o.onPointerOver.bind(o),
                    o.cursorStyles = {
                        default: "inherit",
                        pointer: "pointer"
                    },
                    o.currentCursorMode = null,
                    o.cursor = null,
                    o._tempPoint = new l.Point,
                    o.resolution = 1,
                    o.setTargetElement(o.renderer.view, o.renderer.resolution),
                    o
                }
                return o(e, t),
                e.prototype.hitTest = function(t, e) {
                    return b.target = null,
                    b.data.global = t,
                    e || (e = this.renderer._lastObjectRendered),
                    this.processInteractive(b, e, null, !0),
                    b.target
                }
                ,
                e.prototype.setTargetElement = function(t) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                    this.removeEvents(),
                    this.interactionDOMElement = t,
                    this.resolution = e,
                    this.addEvents()
                }
                ,
                e.prototype.addEvents = function() {
                    this.interactionDOMElement && (l.ticker.shared.add(this.update, this, l.UPDATE_PRIORITY.INTERACTION),
                    window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "none",
                    this.interactionDOMElement.style["-ms-touch-action"] = "none") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = "none"),
                    this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, !0),
                    this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, !0),
                    this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, !0),
                    this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, !0),
                    window.addEventListener("pointercancel", this.onPointerCancel, !0),
                    window.addEventListener("pointerup", this.onPointerUp, !0)) : (window.document.addEventListener("mousemove", this.onPointerMove, !0),
                    this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, !0),
                    this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, !0),
                    this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, !0),
                    window.addEventListener("mouseup", this.onPointerUp, !0),
                    this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, !0),
                    this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, !0),
                    this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, !0),
                    this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, !0))),
                    this.eventsAdded = !0)
                }
                ,
                e.prototype.removeEvents = function() {
                    this.interactionDOMElement && (l.ticker.shared.remove(this.update, this),
                    window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "",
                    this.interactionDOMElement.style["-ms-touch-action"] = "") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = ""),
                    this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, !0),
                    this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, !0),
                    this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, !0),
                    this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, !0),
                    window.removeEventListener("pointercancel", this.onPointerCancel, !0),
                    window.removeEventListener("pointerup", this.onPointerUp, !0)) : (window.document.removeEventListener("mousemove", this.onPointerMove, !0),
                    this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, !0),
                    this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, !0),
                    this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, !0),
                    window.removeEventListener("mouseup", this.onPointerUp, !0),
                    this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, !0),
                    this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, !0),
                    this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, !0),
                    this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, !0))),
                    this.interactionDOMElement = null,
                    this.eventsAdded = !1)
                }
                ,
                e.prototype.update = function(t) {
                    if (this._deltaTime += t,
                    !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0,
                    this.interactionDOMElement)) {
                        if (this.didMove)
                            return void (this.didMove = !1);
                        this.cursor = null;
                        for (var e in this.activeInteractionData)
                            if (this.activeInteractionData.hasOwnProperty(e)) {
                                var i = this.activeInteractionData[e];
                                if (i.originalEvent && "touch" !== i.pointerType) {
                                    var n = this.configureInteractionEventForDOMEvent(this.eventData, i.originalEvent, i);
                                    this.processInteractive(n, this.renderer._lastObjectRendered, this.processPointerOverOut, !0)
                                }
                            }
                        this.setCursorMode(this.cursor)
                    }
                }
                ,
                e.prototype.setCursorMode = function(t) {
                    if (t = t || "default",
                    this.currentCursorMode !== t) {
                        this.currentCursorMode = t;
                        var e = this.cursorStyles[t];
                        if (e)
                            switch (void 0 === e ? "undefined" : a(e)) {
                            case "string":
                                this.interactionDOMElement.style.cursor = e;
                                break;
                            case "function":
                                e(t);
                                break;
                            case "object":
                                Object.assign(this.interactionDOMElement.style, e)
                            }
                    }
                }
                ,
                e.prototype.dispatchEvent = function(t, e, i) {
                    i.stopped || (i.currentTarget = t,
                    i.type = e,
                    t.emit(e, i),
                    t[e] && t[e](i))
                }
                ,
                e.prototype.mapPositionToPoint = function(t, e, i) {
                    var n = void 0;
                    n = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    };
                    var r = navigator.isCocoonJS ? this.resolution : 1 / this.resolution;
                    t.x = (e - n.left) * (this.interactionDOMElement.width / n.width) * r,
                    t.y = (i - n.top) * (this.interactionDOMElement.height / n.height) * r
                }
                ,
                e.prototype.processInteractive = function(t, e, i, n, r) {
                    if (!e || !e.visible)
                        return !1;
                    var s = t.data.global;
                    r = e.interactive || r;
                    var o = !1
                      , a = r;
                    if (e.hitArea ? a = !1 : n && e._mask && (e._mask.containsPoint(s) || (n = !1)),
                    e.interactiveChildren && e.children)
                        for (var h = e.children, l = h.length - 1; l >= 0; l--) {
                            var u = h[l]
                              , c = this.processInteractive(t, u, i, n, a);
                            if (c) {
                                if (!u.parent)
                                    continue;
                                a = !1,
                                c && (t.target && (n = !1),
                                o = !0)
                            }
                        }
                    return r && (n && !t.target && (e.hitArea ? (e.worldTransform.applyInverse(s, this._tempPoint),
                    e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) && (o = !0)) : e.containsPoint && e.containsPoint(s) && (o = !0)),
                    e.interactive && (o && !t.target && (t.target = e),
                    i && i(t, e, !!o))),
                    o
                }
                ,
                e.prototype.onPointerDown = function(t) {
                    var e = this.normalizeToPointerData(t);
                    this.autoPreventDefault && e[0].isNormalized && t.preventDefault();
                    for (var i = e.length, n = 0; n < i; n++) {
                        var r = e[n]
                          , s = this.getInteractionDataForPointerId(r)
                          , o = this.configureInteractionEventForDOMEvent(this.eventData, r, s);
                        if (o.data.originalEvent = t,
                        this.processInteractive(o, this.renderer._lastObjectRendered, this.processPointerDown, !0),
                        this.emit("pointerdown", o),
                        "touch" === r.pointerType)
                            this.emit("touchstart", o);
                        else if ("mouse" === r.pointerType) {
                            var a = 2 === r.button || 3 === r.which;
                            this.emit(a ? "rightdown" : "mousedown", this.eventData)
                        }
                    }
                }
                ,
                e.prototype.processPointerDown = function(t, e, i) {
                    var n = t.data.originalEvent
                      , r = t.data.identifier;
                    if (i)
                        if (e.trackedPointers[r] || (e.trackedPointers[r] = new m.default(r)),
                        this.dispatchEvent(e, "pointerdown", t),
                        "touchstart" === n.type || "touch" === n.pointerType)
                            this.dispatchEvent(e, "touchstart", t);
                        else if ("mousedown" === n.type || "mouse" === n.pointerType) {
                            var s = 2 === n.button || 3 === n.which;
                            s ? e.trackedPointers[r].rightDown = !0 : e.trackedPointers[r].leftDown = !0,
                            this.dispatchEvent(e, s ? "rightdown" : "mousedown", t)
                        }
                }
                ,
                e.prototype.onPointerComplete = function(t, e, i) {
                    for (var n = this.normalizeToPointerData(t), r = n.length, s = t.target !== this.interactionDOMElement ? "outside" : "", o = 0; o < r; o++) {
                        var a = n[o]
                          , h = this.getInteractionDataForPointerId(a)
                          , l = this.configureInteractionEventForDOMEvent(this.eventData, a, h);
                        if (l.data.originalEvent = t,
                        this.processInteractive(l, this.renderer._lastObjectRendered, i, e || !s),
                        this.emit(e ? "pointercancel" : "pointerup" + s, l),
                        "mouse" === a.pointerType) {
                            var u = 2 === a.button || 3 === a.which;
                            this.emit(u ? "rightup" + s : "mouseup" + s, l)
                        } else
                            "touch" === a.pointerType && (this.emit(e ? "touchcancel" : "touchend" + s, l),
                            this.releaseInteractionDataForPointerId(a.pointerId, h))
                    }
                }
                ,
                e.prototype.onPointerCancel = function(t) {
                    this.onPointerComplete(t, !0, this.processPointerCancel)
                }
                ,
                e.prototype.processPointerCancel = function(t, e) {
                    var i = t.data.originalEvent
                      , n = t.data.identifier;
                    void 0 !== e.trackedPointers[n] && (delete e.trackedPointers[n],
                    this.dispatchEvent(e, "pointercancel", t),
                    "touchcancel" !== i.type && "touch" !== i.pointerType || this.dispatchEvent(e, "touchcancel", t))
                }
                ,
                e.prototype.onPointerUp = function(t) {
                    this.onPointerComplete(t, !1, this.processPointerUp)
                }
                ,
                e.prototype.processPointerUp = function(t, e, i) {
                    var n = t.data.originalEvent
                      , r = t.data.identifier
                      , s = e.trackedPointers[r]
                      , o = "touchend" === n.type || "touch" === n.pointerType;
                    if (0 === n.type.indexOf("mouse") || "mouse" === n.pointerType) {
                        var a = 2 === n.button || 3 === n.which
                          , h = m.default.FLAGS
                          , l = a ? h.RIGHT_DOWN : h.LEFT_DOWN
                          , u = void 0 !== s && s.flags & l;
                        i ? (this.dispatchEvent(e, a ? "rightup" : "mouseup", t),
                        u && this.dispatchEvent(e, a ? "rightclick" : "click", t)) : u && this.dispatchEvent(e, a ? "rightupoutside" : "mouseupoutside", t),
                        s && (a ? s.rightDown = !1 : s.leftDown = !1)
                    }
                    i ? (this.dispatchEvent(e, "pointerup", t),
                    o && this.dispatchEvent(e, "touchend", t),
                    s && (this.dispatchEvent(e, "pointertap", t),
                    o && (this.dispatchEvent(e, "tap", t),
                    s.over = !1))) : s && (this.dispatchEvent(e, "pointerupoutside", t),
                    o && this.dispatchEvent(e, "touchendoutside", t)),
                    s && s.none && delete e.trackedPointers[r]
                }
                ,
                e.prototype.onPointerMove = function(t) {
                    var e = this.normalizeToPointerData(t);
                    "mouse" === e[0].pointerType && (this.didMove = !0,
                    this.cursor = null);
                    for (var i = e.length, n = 0; n < i; n++) {
                        var r = e[n]
                          , s = this.getInteractionDataForPointerId(r)
                          , o = this.configureInteractionEventForDOMEvent(this.eventData, r, s);
                        o.data.originalEvent = t;
                        var a = "touch" !== r.pointerType || this.moveWhenInside;
                        this.processInteractive(o, this.renderer._lastObjectRendered, this.processPointerMove, a),
                        this.emit("pointermove", o),
                        "touch" === r.pointerType && this.emit("touchmove", o),
                        "mouse" === r.pointerType && this.emit("mousemove", o)
                    }
                    "mouse" === e[0].pointerType && this.setCursorMode(this.cursor)
                }
                ,
                e.prototype.processPointerMove = function(t, e, i) {
                    var n = t.data.originalEvent
                      , r = "touchmove" === n.type || "touch" === n.pointerType
                      , s = "mousemove" === n.type || "mouse" === n.pointerType;
                    s && this.processPointerOverOut(t, e, i),
                    this.moveWhenInside && !i || (this.dispatchEvent(e, "pointermove", t),
                    r && this.dispatchEvent(e, "touchmove", t),
                    s && this.dispatchEvent(e, "mousemove", t))
                }
                ,
                e.prototype.onPointerOut = function(t) {
                    var e = this.normalizeToPointerData(t)
                      , i = e[0];
                    "mouse" === i.pointerType && (this.mouseOverRenderer = !1,
                    this.setCursorMode(null));
                    var n = this.getInteractionDataForPointerId(i)
                      , r = this.configureInteractionEventForDOMEvent(this.eventData, i, n);
                    r.data.originalEvent = i,
                    this.processInteractive(r, this.renderer._lastObjectRendered, this.processPointerOverOut, !1),
                    this.emit("pointerout", r),
                    "mouse" === i.pointerType ? this.emit("mouseout", r) : this.releaseInteractionDataForPointerId(n.identifier)
                }
                ,
                e.prototype.processPointerOverOut = function(t, e, i) {
                    var n = t.data.originalEvent
                      , r = t.data.identifier
                      , s = "mouseover" === n.type || "mouseout" === n.type || "mouse" === n.pointerType
                      , o = e.trackedPointers[r];
                    i && !o && (o = e.trackedPointers[r] = new m.default(r)),
                    void 0 !== o && (i && this.mouseOverRenderer ? (o.over || (o.over = !0,
                    this.dispatchEvent(e, "pointerover", t),
                    s && this.dispatchEvent(e, "mouseover", t)),
                    s && null === this.cursor && (this.cursor = e.cursor)) : o.over && (o.over = !1,
                    this.dispatchEvent(e, "pointerout", this.eventData),
                    s && this.dispatchEvent(e, "mouseout", t),
                    o.none && delete e.trackedPointers[r]))
                }
                ,
                e.prototype.onPointerOver = function(t) {
                    var e = this.normalizeToPointerData(t)
                      , i = e[0]
                      , n = this.getInteractionDataForPointerId(i)
                      , r = this.configureInteractionEventForDOMEvent(this.eventData, i, n);
                    r.data.originalEvent = i,
                    "mouse" === i.pointerType && (this.mouseOverRenderer = !0),
                    this.emit("pointerover", r),
                    "mouse" === i.pointerType && this.emit("mouseover", r)
                }
                ,
                e.prototype.getInteractionDataForPointerId = function(t) {
                    var e = t.pointerId;
                    if (e === x || "mouse" === t.pointerType)
                        return this.mouse;
                    if (this.activeInteractionData[e])
                        return this.activeInteractionData[e];
                    var i = this.interactionDataPool.pop() || new c.default;
                    return i.identifier = e,
                    this.activeInteractionData[e] = i,
                    i
                }
                ,
                e.prototype.releaseInteractionDataForPointerId = function(t) {
                    var e = this.activeInteractionData[t];
                    e && (delete this.activeInteractionData[t],
                    this.interactionDataPool.push(e))
                }
                ,
                e.prototype.configureInteractionEventForDOMEvent = function(t, e, i) {
                    return t.data = i,
                    this.mapPositionToPoint(i.global, e.clientX, e.clientY),
                    navigator.isCocoonJS && "touch" === e.pointerType && (i.global.x = i.global.x / this.resolution,
                    i.global.y = i.global.y / this.resolution),
                    "touch" === e.pointerType && (e.globalX = i.global.x,
                    e.globalY = i.global.y),
                    i.originalEvent = e,
                    t._reset(),
                    t
                }
                ,
                e.prototype.normalizeToPointerData = function(t) {
                    var e = [];
                    if (this.supportsTouchEvents && t instanceof TouchEvent)
                        for (var i = 0, n = t.changedTouches.length; i < n; i++) {
                            var r = t.changedTouches[i];
                            void 0 === r.button && (r.button = t.touches.length ? 1 : 0),
                            void 0 === r.buttons && (r.buttons = t.touches.length ? 1 : 0),
                            void 0 === r.isPrimary && (r.isPrimary = 1 === t.touches.length),
                            void 0 === r.width && (r.width = r.radiusX || 1),
                            void 0 === r.height && (r.height = r.radiusY || 1),
                            void 0 === r.tiltX && (r.tiltX = 0),
                            void 0 === r.tiltY && (r.tiltY = 0),
                            void 0 === r.pointerType && (r.pointerType = "touch"),
                            void 0 === r.pointerId && (r.pointerId = r.identifier || 0),
                            void 0 === r.pressure && (r.pressure = r.force || .5),
                            void 0 === r.rotation && (r.rotation = r.rotationAngle || 0),
                            void 0 === r.layerX && (r.layerX = r.offsetX = r.clientX),
                            void 0 === r.layerY && (r.layerY = r.offsetY = r.clientY),
                            r.isNormalized = !0,
                            e.push(r)
                        }
                    else
                        !(t instanceof MouseEvent) || this.supportsPointerEvents && t instanceof window.PointerEvent ? e.push(t) : (void 0 === t.isPrimary && (t.isPrimary = !0),
                        void 0 === t.width && (t.width = 1),
                        void 0 === t.height && (t.height = 1),
                        void 0 === t.tiltX && (t.tiltX = 0),
                        void 0 === t.tiltY && (t.tiltY = 0),
                        void 0 === t.pointerType && (t.pointerType = "mouse"),
                        void 0 === t.pointerId && (t.pointerId = x),
                        void 0 === t.pressure && (t.pressure = .5),
                        void 0 === t.rotation && (t.rotation = 0),
                        t.isNormalized = !0,
                        e.push(t));
                    return e
                }
                ,
                e.prototype.destroy = function() {
                    this.removeEvents(),
                    this.removeAllListeners(),
                    this.renderer = null,
                    this.mouse = null,
                    this.eventData = null,
                    this.interactionDOMElement = null,
                    this.onPointerDown = null,
                    this.processPointerDown = null,
                    this.onPointerUp = null,
                    this.processPointerUp = null,
                    this.onPointerCancel = null,
                    this.processPointerCancel = null,
                    this.onPointerMove = null,
                    this.processPointerMove = null,
                    this.onPointerOut = null,
                    this.processPointerOverOut = null,
                    this.onPointerOver = null,
                    this._tempPoint = null
                }
                ,
                e
            }(y.default);
            i.default = w,
            l.WebGLRenderer.registerPlugin("interaction", w),
            l.CanvasRenderer.registerPlugin("interaction", w)
        }
        , {
            "../core": 63,
            "./InteractionData": 152,
            "./InteractionEvent": 153,
            "./InteractionTrackingData": 155,
            "./interactiveTarget": 157,
            eventemitter3: 3
        }],
        155: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , s = function() {
                function t(e) {
                    n(this, t),
                    this._pointerId = e,
                    this._flags = t.FLAGS.NONE
                }
                return t.prototype._doSet = function(t, e) {
                    this._flags = e ? this._flags | t : this._flags & ~t
                }
                ,
                r(t, [{
                    key: "pointerId",
                    get: function() {
                        return this._pointerId
                    }
                }, {
                    key: "flags",
                    get: function() {
                        return this._flags
                    },
                    set: function(t) {
                        this._flags = t
                    }
                }, {
                    key: "none",
                    get: function() {
                        return this._flags === this.constructor.FLAGS.NONE
                    }
                }, {
                    key: "over",
                    get: function() {
                        return 0 != (this._flags & this.constructor.FLAGS.OVER)
                    },
                    set: function(t) {
                        this._doSet(this.constructor.FLAGS.OVER, t)
                    }
                }, {
                    key: "rightDown",
                    get: function() {
                        return 0 != (this._flags & this.constructor.FLAGS.RIGHT_DOWN)
                    },
                    set: function(t) {
                        this._doSet(this.constructor.FLAGS.RIGHT_DOWN, t)
                    }
                }, {
                    key: "leftDown",
                    get: function() {
                        return 0 != (this._flags & this.constructor.FLAGS.LEFT_DOWN)
                    },
                    set: function(t) {
                        this._doSet(this.constructor.FLAGS.LEFT_DOWN, t)
                    }
                }]),
                t
            }();
            i.default = s,
            s.FLAGS = Object.freeze({
                NONE: 0,
                OVER: 1,
                LEFT_DOWN: 2,
                RIGHT_DOWN: 4
            })
        }
        , {}],
        156: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./InteractionData");
            Object.defineProperty(i, "InteractionData", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./InteractionManager");
            Object.defineProperty(i, "InteractionManager", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            });
            var o = t("./interactiveTarget");
            Object.defineProperty(i, "interactiveTarget", {
                enumerable: !0,
                get: function() {
                    return n(o).default
                }
            })
        }
        , {
            "./InteractionData": 152,
            "./InteractionManager": 154,
            "./interactiveTarget": 157
        }],
        157: [function(t, e, i) {
            "use strict";
            i.__esModule = !0,
            i.default = {
                interactive: !1,
                interactiveChildren: !0,
                hitArea: null,
                get buttonMode() {
                    return "pointer" === this.cursor
                },
                set buttonMode(t) {
                    t ? this.cursor = "pointer" : "pointer" === this.cursor && (this.cursor = null)
                },
                cursor: null,
                get trackedPointers() {
                    return void 0 === this._trackedPointers && (this._trackedPointers = {}),
                    this._trackedPointers
                },
                _trackedPointers: void 0
            }
        }
        , {}],
        158: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                t.bitmapFont = h.BitmapText.registerFont(t.data, e)
            }
            i.__esModule = !0,
            i.parse = n,
            i.default = function() {
                return function(t, e) {
                    if (!t.data || t.type !== a.Resource.TYPE.XML)
                        return void e();
                    if (0 === t.data.getElementsByTagName("page").length || 0 === t.data.getElementsByTagName("info").length || null === t.data.getElementsByTagName("info")[0].getAttribute("face"))
                        return void e();
                    var i = t.isDataUrl ? "" : s.dirname(t.url);
                    t.isDataUrl && ("." === i && (i = ""),
                    this.baseUrl && i && ("/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (i += "/"),
                    i = i.replace(this.baseUrl, ""))),
                    i && "/" !== i.charAt(i.length - 1) && (i += "/");
                    var r = i + t.data.getElementsByTagName("page")[0].getAttribute("file");
                    if (o.utils.TextureCache[r])
                        n(t, o.utils.TextureCache[r]),
                        e();
                    else {
                        var h = {
                            crossOrigin: t.crossOrigin,
                            loadType: a.Resource.LOAD_TYPE.IMAGE,
                            metadata: t.metadata.imageMetadata,
                            parentResource: t
                        };
                        this.add(t.name + "_image", r, h, function(i) {
                            n(t, i.texture),
                            e()
                        })
                    }
                }
            }
            ;
            var r = t("path")
              , s = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(r)
              , o = t("../core")
              , a = t("resource-loader")
              , h = t("../extras")
        }
        , {
            "../core": 63,
            "../extras": 138,
            path: 22,
            "resource-loader": 34
        }],
        159: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0,
            i.shared = i.Resource = i.textureParser = i.getResourcePath = i.spritesheetParser = i.parseBitmapFontData = i.bitmapFontParser = i.Loader = void 0;
            var r = t("./bitmapFontParser");
            Object.defineProperty(i, "bitmapFontParser", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            }),
            Object.defineProperty(i, "parseBitmapFontData", {
                enumerable: !0,
                get: function() {
                    return r.parse
                }
            });
            var s = t("./spritesheetParser");
            Object.defineProperty(i, "spritesheetParser", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            }),
            Object.defineProperty(i, "getResourcePath", {
                enumerable: !0,
                get: function() {
                    return s.getResourcePath
                }
            });
            var o = t("./textureParser");
            Object.defineProperty(i, "textureParser", {
                enumerable: !0,
                get: function() {
                    return n(o).default
                }
            });
            var a = t("resource-loader");
            Object.defineProperty(i, "Resource", {
                enumerable: !0,
                get: function() {
                    return a.Resource
                }
            });
            var h = t("../core/Application")
              , l = n(h)
              , u = t("./loader")
              , c = n(u);
            i.Loader = c.default;
            var d = new c.default;
            d.destroy = function() {}
            ,
            i.shared = d;
            var p = l.default.prototype;
            p._loader = null,
            Object.defineProperty(p, "loader", {
                get: function() {
                    if (!this._loader) {
                        var t = this._options.sharedLoader;
                        this._loader = t ? d : new c.default
                    }
                    return this._loader
                }
            }),
            p._parentDestroy = p.destroy,
            p.destroy = function() {
                this._loader && (this._loader.destroy(),
                this._loader = null),
                this._parentDestroy()
            }
        }
        , {
            "../core/Application": 41,
            "./bitmapFontParser": 158,
            "./loader": 160,
            "./spritesheetParser": 161,
            "./textureParser": 162,
            "resource-loader": 34
        }],
        160: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("resource-loader")
              , h = n(a)
              , l = t("resource-loader/lib/middlewares/parsing/blob")
              , u = t("eventemitter3")
              , c = n(u)
              , d = t("./textureParser")
              , p = n(d)
              , f = t("./spritesheetParser")
              , m = n(f)
              , _ = t("./bitmapFontParser")
              , y = n(_)
              , v = function(t) {
                function e(i, n) {
                    r(this, e);
                    var o = s(this, t.call(this, i, n));
                    c.default.call(o);
                    for (var a = 0; a < e._pixiMiddleware.length; ++a)
                        o.use(e._pixiMiddleware[a]());
                    return o.onStart.add(function(t) {
                        return o.emit("start", t)
                    }),
                    o.onProgress.add(function(t, e) {
                        return o.emit("progress", t, e)
                    }),
                    o.onError.add(function(t, e, i) {
                        return o.emit("error", t, e, i)
                    }),
                    o.onLoad.add(function(t, e) {
                        return o.emit("load", t, e)
                    }),
                    o.onComplete.add(function(t, e) {
                        return o.emit("complete", t, e)
                    }),
                    o
                }
                return o(e, t),
                e.addPixiMiddleware = function(t) {
                    e._pixiMiddleware.push(t)
                }
                ,
                e.prototype.destroy = function() {
                    this.removeAllListeners(),
                    this.reset()
                }
                ,
                e
            }(h.default);
            i.default = v;
            for (var g in c.default.prototype)
                v.prototype[g] = c.default.prototype[g];
            v._pixiMiddleware = [l.blobMiddlewareFactory, p.default, m.default, y.default];
            var x = h.default.Resource;
            x.setExtensionXhrType("fnt", x.XHR_RESPONSE_TYPE.DOCUMENT)
        }
        , {
            "./bitmapFontParser": 158,
            "./spritesheetParser": 161,
            "./textureParser": 162,
            eventemitter3: 3,
            "resource-loader": 34,
            "resource-loader/lib/middlewares/parsing/blob": 35
        }],
        161: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                return t.isDataUrl ? t.data.meta.image : o.default.resolve(t.url.replace(e, ""), t.data.meta.image)
            }
            i.__esModule = !0,
            i.default = function() {
                return function(t, e) {
                    var i = t.name + "_image";
                    if (!t.data || t.type !== r.Resource.TYPE.JSON || !t.data.frames || this.resources[i])
                        return void e();
                    var s = {
                        crossOrigin: t.crossOrigin,
                        loadType: r.Resource.LOAD_TYPE.IMAGE,
                        metadata: t.metadata.imageMetadata,
                        parentResource: t
                    }
                      , o = n(t, this.baseUrl);
                    this.add(i, o, s, function(i) {
                        var n = new a.Spritesheet(i.texture.baseTexture,t.data,t.url);
                        n.parse(function() {
                            t.spritesheet = n,
                            t.textures = n.textures,
                            e()
                        })
                    })
                }
            }
            ,
            i.getResourcePath = n;
            var r = t("resource-loader")
              , s = t("url")
              , o = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(s)
              , a = t("../core")
        }
        , {
            "../core": 63,
            "resource-loader": 34,
            url: 28
        }],
        162: [function(t, e, i) {
            "use strict";
            i.__esModule = !0,
            i.default = function() {
                return function(t, e) {
                    t.data && t.type === n.Resource.TYPE.IMAGE && (t.texture = s.default.fromLoader(t.data, t.url, t.name)),
                    e()
                }
            }
            ;
            var n = t("resource-loader")
              , r = t("../core/textures/Texture")
              , s = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(r)
        }
        , {
            "../core/textures/Texture": 113,
            "resource-loader": 34
        }],
        163: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = t("../extras/TextureTransform")
              , u = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(l)
              , c = new h.Point
              , d = new h.Polygon
              , p = function(t) {
                function e(i, s, o, a, l) {
                    n(this, e);
                    var c = r(this, t.call(this));
                    return c._texture = i,
                    c.uvs = o || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                    c.vertices = s || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]),
                    c.indices = a || new Uint16Array([0, 1, 3, 2]),
                    c.dirty = 0,
                    c.indexDirty = 0,
                    c.blendMode = h.BLEND_MODES.NORMAL,
                    c.canvasPadding = 0,
                    c.drawMode = l || e.DRAW_MODES.TRIANGLE_MESH,
                    c.shader = null,
                    c.tintRgb = new Float32Array([1, 1, 1]),
                    c._glDatas = {},
                    c._uvTransform = new u.default(i),
                    c.uploadUvTransform = !1,
                    c.pluginName = "mesh",
                    c
                }
                return s(e, t),
                e.prototype._renderWebGL = function(t) {
                    this.refresh(),
                    t.setObjectRenderer(t.plugins[this.pluginName]),
                    t.plugins[this.pluginName].render(this)
                }
                ,
                e.prototype._renderCanvas = function(t) {
                    this.refresh(),
                    t.plugins[this.pluginName].render(this)
                }
                ,
                e.prototype._onTextureUpdate = function() {
                    this._uvTransform.texture = this._texture,
                    this.refresh()
                }
                ,
                e.prototype.multiplyUvs = function() {
                    this.uploadUvTransform || this._uvTransform.multiplyUvs(this.uvs)
                }
                ,
                e.prototype.refresh = function(t) {
                    this._uvTransform.update(t) && this._refresh()
                }
                ,
                e.prototype._refresh = function() {}
                ,
                e.prototype._calculateBounds = function() {
                    this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length)
                }
                ,
                e.prototype.containsPoint = function(t) {
                    if (!this.getBounds().contains(t.x, t.y))
                        return !1;
                    this.worldTransform.applyInverse(t, c);
                    for (var i = this.vertices, n = d.points, r = this.indices, s = this.indices.length, o = this.drawMode === e.DRAW_MODES.TRIANGLES ? 3 : 1, a = 0; a + 2 < s; a += o) {
                        var h = 2 * r[a]
                          , l = 2 * r[a + 1]
                          , u = 2 * r[a + 2];
                        if (n[0] = i[h],
                        n[1] = i[h + 1],
                        n[2] = i[l],
                        n[3] = i[l + 1],
                        n[4] = i[u],
                        n[5] = i[u + 1],
                        d.contains(c.x, c.y))
                            return !0
                    }
                    return !1
                }
                ,
                o(e, [{
                    key: "texture",
                    get: function() {
                        return this._texture
                    },
                    set: function(t) {
                        this._texture !== t && (this._texture = t,
                        t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this)))
                    }
                }, {
                    key: "tint",
                    get: function() {
                        return h.utils.rgb2hex(this.tintRgb)
                    },
                    set: function(t) {
                        this.tintRgb = h.utils.hex2rgb(t, this.tintRgb)
                    }
                }]),
                e
            }(h.Container);
            i.default = p,
            p.DRAW_MODES = {
                TRIANGLE_MESH: 0,
                TRIANGLES: 1
            }
        }
        , {
            "../core": 63,
            "../extras/TextureTransform": 133
        }],
        164: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = function() {
                function t(t, e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        n.enumerable = n.enumerable || !1,
                        n.configurable = !0,
                        "value"in n && (n.writable = !0),
                        Object.defineProperty(t, n.key, n)
                    }
                }
                return function(e, i, n) {
                    return i && t(e.prototype, i),
                    n && t(e, n),
                    e
                }
            }()
              , a = t("./Plane")
              , h = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(a)
              , l = 10
              , u = function(t) {
                function e(i, s, o, a, h) {
                    n(this, e);
                    var u = r(this, t.call(this, i, 4, 4))
                      , c = u.uvs;
                    return c[6] = c[14] = c[22] = c[30] = 1,
                    c[25] = c[27] = c[29] = c[31] = 1,
                    u._origWidth = i.orig.width,
                    u._origHeight = i.orig.height,
                    u._uvw = 1 / u._origWidth,
                    u._uvh = 1 / u._origHeight,
                    u.width = u._origWidth,
                    u.height = u._origHeight,
                    c[2] = c[10] = c[18] = c[26] = u._uvw * s,
                    c[4] = c[12] = c[20] = c[28] = 1 - u._uvw * a,
                    c[9] = c[11] = c[13] = c[15] = u._uvh * o,
                    c[17] = c[19] = c[21] = c[23] = 1 - u._uvh * h,
                    u.leftWidth = void 0 !== s ? s : l,
                    u.rightWidth = void 0 !== a ? a : l,
                    u.topHeight = void 0 !== o ? o : l,
                    u.bottomHeight = void 0 !== h ? h : l,
                    u.refresh(!0),
                    u
                }
                return s(e, t),
                e.prototype.updateHorizontalVertices = function() {
                    var t = this.vertices;
                    t[9] = t[11] = t[13] = t[15] = this._topHeight,
                    t[17] = t[19] = t[21] = t[23] = this._height - this._bottomHeight,
                    t[25] = t[27] = t[29] = t[31] = this._height
                }
                ,
                e.prototype.updateVerticalVertices = function() {
                    var t = this.vertices;
                    t[2] = t[10] = t[18] = t[26] = this._leftWidth,
                    t[4] = t[12] = t[20] = t[28] = this._width - this._rightWidth,
                    t[6] = t[14] = t[22] = t[30] = this._width
                }
                ,
                e.prototype._renderCanvas = function(t) {
                    var e = t.context;
                    e.globalAlpha = this.worldAlpha;
                    var i = this.worldTransform
                      , n = t.resolution;
                    t.roundPixels ? e.setTransform(i.a * n, i.b * n, i.c * n, i.d * n, i.tx * n | 0, i.ty * n | 0) : e.setTransform(i.a * n, i.b * n, i.c * n, i.d * n, i.tx * n, i.ty * n);
                    var r = this._texture.baseTexture
                      , s = r.source
                      , o = r.width
                      , a = r.height;
                    this.drawSegment(e, s, o, a, 0, 1, 10, 11),
                    this.drawSegment(e, s, o, a, 2, 3, 12, 13),
                    this.drawSegment(e, s, o, a, 4, 5, 14, 15),
                    this.drawSegment(e, s, o, a, 8, 9, 18, 19),
                    this.drawSegment(e, s, o, a, 10, 11, 20, 21),
                    this.drawSegment(e, s, o, a, 12, 13, 22, 23),
                    this.drawSegment(e, s, o, a, 16, 17, 26, 27),
                    this.drawSegment(e, s, o, a, 18, 19, 28, 29),
                    this.drawSegment(e, s, o, a, 20, 21, 30, 31)
                }
                ,
                e.prototype.drawSegment = function(t, e, i, n, r, s, o, a) {
                    var h = this.uvs
                      , l = this.vertices
                      , u = (h[o] - h[r]) * i
                      , c = (h[a] - h[s]) * n
                      , d = l[o] - l[r]
                      , p = l[a] - l[s];
                    u < 1 && (u = 1),
                    c < 1 && (c = 1),
                    d < 1 && (d = 1),
                    p < 1 && (p = 1),
                    t.drawImage(e, h[r] * i, h[s] * n, u, c, l[r], l[s], d, p)
                }
                ,
                o(e, [{
                    key: "width",
                    get: function() {
                        return this._width
                    },
                    set: function(t) {
                        this._width = t,
                        this.updateVerticalVertices()
                    }
                }, {
                    key: "height",
                    get: function() {
                        return this._height
                    },
                    set: function(t) {
                        this._height = t,
                        this.updateHorizontalVertices()
                    }
                }, {
                    key: "leftWidth",
                    get: function() {
                        return this._leftWidth
                    },
                    set: function(t) {
                        this._leftWidth = t;
                        var e = this.uvs
                          , i = this.vertices;
                        e[2] = e[10] = e[18] = e[26] = this._uvw * t,
                        i[2] = i[10] = i[18] = i[26] = t,
                        this.dirty = !0
                    }
                }, {
                    key: "rightWidth",
                    get: function() {
                        return this._rightWidth
                    },
                    set: function(t) {
                        this._rightWidth = t;
                        var e = this.uvs
                          , i = this.vertices;
                        e[4] = e[12] = e[20] = e[28] = 1 - this._uvw * t,
                        i[4] = i[12] = i[20] = i[28] = this._width - t,
                        this.dirty = !0
                    }
                }, {
                    key: "topHeight",
                    get: function() {
                        return this._topHeight
                    },
                    set: function(t) {
                        this._topHeight = t;
                        var e = this.uvs
                          , i = this.vertices;
                        e[9] = e[11] = e[13] = e[15] = this._uvh * t,
                        i[9] = i[11] = i[13] = i[15] = t,
                        this.dirty = !0
                    }
                }, {
                    key: "bottomHeight",
                    get: function() {
                        return this._bottomHeight
                    },
                    set: function(t) {
                        this._bottomHeight = t;
                        var e = this.uvs
                          , i = this.vertices;
                        e[17] = e[19] = e[21] = e[23] = 1 - this._uvh * t,
                        i[17] = i[19] = i[21] = i[23] = this._height - t,
                        this.dirty = !0
                    }
                }]),
                e
            }(h.default);
            i.default = u
        }
        , {
            "./Plane": 165
        }],
        165: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("./Mesh")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = function(t) {
                function e(i, s, o) {
                    n(this, e);
                    var h = r(this, t.call(this, i));
                    return h._ready = !0,
                    h.verticesX = s || 10,
                    h.verticesY = o || 10,
                    h.drawMode = a.default.DRAW_MODES.TRIANGLES,
                    h.refresh(),
                    h
                }
                return s(e, t),
                e.prototype._refresh = function() {
                    for (var t = this._texture, e = this.verticesX * this.verticesY, i = [], n = [], r = [], s = [], o = this.verticesX - 1, a = this.verticesY - 1, h = t.width / o, l = t.height / a, u = 0; u < e; u++) {
                        var c = u % this.verticesX
                          , d = u / this.verticesX | 0;
                        i.push(c * h, d * l),
                        r.push(c / o, d / a)
                    }
                    for (var p = o * a, f = 0; f < p; f++) {
                        var m = f % o
                          , _ = f / o | 0
                          , y = _ * this.verticesX + m
                          , v = _ * this.verticesX + m + 1
                          , g = (_ + 1) * this.verticesX + m
                          , x = (_ + 1) * this.verticesX + m + 1;
                        s.push(y, v, g),
                        s.push(v, x, g)
                    }
                    this.vertices = new Float32Array(i),
                    this.uvs = new Float32Array(r),
                    this.colors = new Float32Array(n),
                    this.indices = new Uint16Array(s),
                    this.indexDirty = !0,
                    this.multiplyUvs()
                }
                ,
                e.prototype._onTextureUpdate = function() {
                    a.default.prototype._onTextureUpdate.call(this),
                    this._ready && this.refresh()
                }
                ,
                e
            }(a.default);
            i.default = h
        }
        , {
            "./Mesh": 163
        }],
        166: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("./Mesh")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = function(t) {
                function e(i, s) {
                    n(this, e);
                    var o = r(this, t.call(this, i));
                    return o.points = s,
                    o.vertices = new Float32Array(4 * s.length),
                    o.uvs = new Float32Array(4 * s.length),
                    o.colors = new Float32Array(2 * s.length),
                    o.indices = new Uint16Array(2 * s.length),
                    o.autoUpdate = !0,
                    o.refresh(),
                    o
                }
                return s(e, t),
                e.prototype._refresh = function() {
                    var t = this.points;
                    if (!(t.length < 1) && this._texture._uvs) {
                        this.vertices.length / 4 !== t.length && (this.vertices = new Float32Array(4 * t.length),
                        this.uvs = new Float32Array(4 * t.length),
                        this.colors = new Float32Array(2 * t.length),
                        this.indices = new Uint16Array(2 * t.length));
                        var e = this.uvs
                          , i = this.indices
                          , n = this.colors;
                        e[0] = 0,
                        e[1] = 0,
                        e[2] = 0,
                        e[3] = 1,
                        n[0] = 1,
                        n[1] = 1,
                        i[0] = 0,
                        i[1] = 1;
                        for (var r = t.length, s = 1; s < r; s++) {
                            var o = 4 * s
                              , a = s / (r - 1);
                            e[o] = a,
                            e[o + 1] = 0,
                            e[o + 2] = a,
                            e[o + 3] = 1,
                            o = 2 * s,
                            n[o] = 1,
                            n[o + 1] = 1,
                            o = 2 * s,
                            i[o] = o,
                            i[o + 1] = o + 1
                        }
                        this.dirty++,
                        this.indexDirty++,
                        this.multiplyUvs(),
                        this.refreshVertices()
                    }
                }
                ,
                e.prototype.refreshVertices = function() {
                    var t = this.points;
                    if (!(t.length < 1))
                        for (var e = t[0], i = void 0, n = 0, r = 0, s = this.vertices, o = t.length, a = 0; a < o; a++) {
                            var h = t[a]
                              , l = 4 * a;
                            i = a < t.length - 1 ? t[a + 1] : h,
                            r = -(i.x - e.x),
                            n = i.y - e.y;
                            var u = 10 * (1 - a / (o - 1));
                            u > 1 && (u = 1);
                            var c = Math.sqrt(n * n + r * r)
                              , d = this._texture.height / 2;
                            n /= c,
                            r /= c,
                            n *= d,
                            r *= d,
                            s[l] = h.x + n,
                            s[l + 1] = h.y + r,
                            s[l + 2] = h.x - n,
                            s[l + 3] = h.y - r,
                            e = h
                        }
                }
                ,
                e.prototype.updateTransform = function() {
                    this.autoUpdate && this.refreshVertices(),
                    this.containerUpdateTransform()
                }
                ,
                e
            }(a.default);
            i.default = h
        }
        , {
            "./Mesh": 163
        }],
        167: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = t("../../core")
              , s = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(r)
              , o = t("../Mesh")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = function() {
                function t(e) {
                    n(this, t),
                    this.renderer = e
                }
                return t.prototype.render = function(t) {
                    var e = this.renderer
                      , i = e.context
                      , n = t.worldTransform
                      , r = e.resolution;
                    e.roundPixels ? i.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r | 0, n.ty * r | 0) : i.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r, n.ty * r),
                    e.setBlendMode(t.blendMode),
                    t.drawMode === a.default.DRAW_MODES.TRIANGLE_MESH ? this._renderTriangleMesh(t) : this._renderTriangles(t)
                }
                ,
                t.prototype._renderTriangleMesh = function(t) {
                    for (var e = t.vertices.length / 2, i = 0; i < e - 2; i++) {
                        var n = 2 * i;
                        this._renderDrawTriangle(t, n, n + 2, n + 4)
                    }
                }
                ,
                t.prototype._renderTriangles = function(t) {
                    for (var e = t.indices, i = e.length, n = 0; n < i; n += 3) {
                        var r = 2 * e[n]
                          , s = 2 * e[n + 1]
                          , o = 2 * e[n + 2];
                        this._renderDrawTriangle(t, r, s, o)
                    }
                }
                ,
                t.prototype._renderDrawTriangle = function(t, e, i, n) {
                    var r = this.renderer.context
                      , s = t.uvs
                      , o = t.vertices
                      , a = t._texture;
                    if (a.valid) {
                        var h = a.baseTexture
                          , l = h.source
                          , u = h.width
                          , c = h.height
                          , d = void 0
                          , p = void 0
                          , f = void 0
                          , m = void 0
                          , _ = void 0
                          , y = void 0;
                        if (t.uploadUvTransform) {
                            var v = t._uvTransform.mapCoord;
                            d = (s[e] * v.a + s[e + 1] * v.c + v.tx) * h.width,
                            p = (s[i] * v.a + s[i + 1] * v.c + v.tx) * h.width,
                            f = (s[n] * v.a + s[n + 1] * v.c + v.tx) * h.width,
                            m = (s[e] * v.b + s[e + 1] * v.d + v.ty) * h.height,
                            _ = (s[i] * v.b + s[i + 1] * v.d + v.ty) * h.height,
                            y = (s[n] * v.b + s[n + 1] * v.d + v.ty) * h.height
                        } else
                            d = s[e] * h.width,
                            p = s[i] * h.width,
                            f = s[n] * h.width,
                            m = s[e + 1] * h.height,
                            _ = s[i + 1] * h.height,
                            y = s[n + 1] * h.height;
                        var g = o[e]
                          , x = o[i]
                          , b = o[n]
                          , w = o[e + 1]
                          , T = o[i + 1]
                          , A = o[n + 1];
                        if (t.canvasPadding > 0) {
                            var S = t.canvasPadding / t.worldTransform.a
                              , C = t.canvasPadding / t.worldTransform.d
                              , E = (g + x + b) / 3
                              , P = (w + T + A) / 3
                              , M = g - E
                              , O = w - P
                              , I = Math.sqrt(M * M + O * O);
                            g = E + M / I * (I + S),
                            w = P + O / I * (I + C),
                            M = x - E,
                            O = T - P,
                            I = Math.sqrt(M * M + O * O),
                            x = E + M / I * (I + S),
                            T = P + O / I * (I + C),
                            M = b - E,
                            O = A - P,
                            I = Math.sqrt(M * M + O * O),
                            b = E + M / I * (I + S),
                            A = P + O / I * (I + C)
                        }
                        r.save(),
                        r.beginPath(),
                        r.moveTo(g, w),
                        r.lineTo(x, T),
                        r.lineTo(b, A),
                        r.closePath(),
                        r.clip();
                        var B = d * _ + m * f + p * y - _ * f - m * p - d * y
                          , R = g * _ + m * b + x * y - _ * b - m * x - g * y
                          , k = d * x + g * f + p * b - x * f - g * p - d * b
                          , D = d * _ * b + m * x * f + g * p * y - g * _ * f - m * p * b - d * x * y
                          , L = w * _ + m * A + T * y - _ * A - m * T - w * y
                          , F = d * T + w * f + p * A - T * f - w * p - d * A
                          , j = d * _ * A + m * T * f + w * p * y - w * _ * f - m * p * A - d * T * y;
                        r.transform(R / B, L / B, k / B, F / B, D / B, j / B),
                        r.drawImage(l, 0, 0, u * h.resolution, c * h.resolution, 0, 0, u, c),
                        r.restore()
                    }
                }
                ,
                t.prototype.renderMeshFlat = function(t) {
                    var e = this.renderer.context
                      , i = t.vertices
                      , n = i.length / 2;
                    e.beginPath();
                    for (var r = 1; r < n - 2; ++r) {
                        var s = 2 * r
                          , o = i[s]
                          , a = i[s + 1]
                          , h = i[s + 2]
                          , l = i[s + 3]
                          , u = i[s + 4]
                          , c = i[s + 5];
                        e.moveTo(o, a),
                        e.lineTo(h, l),
                        e.lineTo(u, c)
                    }
                    e.fillStyle = "#FF0000",
                    e.fill(),
                    e.closePath()
                }
                ,
                t.prototype.destroy = function() {
                    this.renderer = null
                }
                ,
                t
            }();
            i.default = h,
            s.CanvasRenderer.registerPlugin("mesh", h)
        }
        , {
            "../../core": 63,
            "../Mesh": 163
        }],
        168: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./Mesh");
            Object.defineProperty(i, "Mesh", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./webgl/MeshRenderer");
            Object.defineProperty(i, "MeshRenderer", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            });
            var o = t("./canvas/CanvasMeshRenderer");
            Object.defineProperty(i, "CanvasMeshRenderer", {
                enumerable: !0,
                get: function() {
                    return n(o).default
                }
            });
            var a = t("./Plane");
            Object.defineProperty(i, "Plane", {
                enumerable: !0,
                get: function() {
                    return n(a).default
                }
            });
            var h = t("./NineSlicePlane");
            Object.defineProperty(i, "NineSlicePlane", {
                enumerable: !0,
                get: function() {
                    return n(h).default
                }
            });
            var l = t("./Rope");
            Object.defineProperty(i, "Rope", {
                enumerable: !0,
                get: function() {
                    return n(l).default
                }
            })
        }
        , {
            "./Mesh": 163,
            "./NineSlicePlane": 164,
            "./Plane": 165,
            "./Rope": 166,
            "./canvas/CanvasMeshRenderer": 167,
            "./webgl/MeshRenderer": 169
        }],
        169: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("../../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = t("pixi-gl-core")
              , u = n(l)
              , c = t("../Mesh")
              , d = n(c)
              , p = (t("path"),
            h.Matrix.IDENTITY)
              , f = function(t) {
                function e(i) {
                    r(this, e);
                    var n = s(this, t.call(this, i));
                    return n.shader = null,
                    n
                }
                return o(e, t),
                e.prototype.onContextChange = function() {
                    var t = this.renderer.gl;
                    this.shader = new h.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n")
                }
                ,
                e.prototype.render = function(t) {
                    var e = this.renderer
                      , i = e.gl
                      , n = t._texture;
                    if (n.valid) {
                        var r = t._glDatas[e.CONTEXT_UID];
                        r || (e.bindVao(null),
                        r = {
                            shader: this.shader,
                            vertexBuffer: u.default.GLBuffer.createVertexBuffer(i, t.vertices, i.STREAM_DRAW),
                            uvBuffer: u.default.GLBuffer.createVertexBuffer(i, t.uvs, i.STREAM_DRAW),
                            indexBuffer: u.default.GLBuffer.createIndexBuffer(i, t.indices, i.STATIC_DRAW),
                            vao: null,
                            dirty: t.dirty,
                            indexDirty: t.indexDirty
                        },
                        r.vao = new u.default.VertexArrayObject(i).addIndex(r.indexBuffer).addAttribute(r.vertexBuffer, r.shader.attributes.aVertexPosition, i.FLOAT, !1, 8, 0).addAttribute(r.uvBuffer, r.shader.attributes.aTextureCoord, i.FLOAT, !1, 8, 0),
                        t._glDatas[e.CONTEXT_UID] = r),
                        e.bindVao(r.vao),
                        t.dirty !== r.dirty && (r.dirty = t.dirty,
                        r.uvBuffer.upload(t.uvs)),
                        t.indexDirty !== r.indexDirty && (r.indexDirty = t.indexDirty,
                        r.indexBuffer.upload(t.indices)),
                        r.vertexBuffer.upload(t.vertices),
                        e.bindShader(r.shader),
                        r.shader.uniforms.uSampler = e.bindTexture(n),
                        e.state.setBlendMode(t.blendMode),
                        r.shader.uniforms.uTransform && (t.uploadUvTransform ? r.shader.uniforms.uTransform = t._uvTransform.mapCoord.toArray(!0) : r.shader.uniforms.uTransform = p.toArray(!0)),
                        r.shader.uniforms.translationMatrix = t.worldTransform.toArray(!0),
                        r.shader.uniforms.alpha = t.worldAlpha,
                        r.shader.uniforms.tint = t.tintRgb;
                        var s = t.drawMode === d.default.DRAW_MODES.TRIANGLE_MESH ? i.TRIANGLE_STRIP : i.TRIANGLES;
                        r.vao.draw(s, t.indices.length, 0)
                    }
                }
                ,
                e
            }(h.ObjectRenderer);
            i.default = f,
            h.WebGLRenderer.registerPlugin("mesh", f)
        }
        , {
            "../../core": 63,
            "../Mesh": 163,
            path: 22,
            "pixi-gl-core": 12
        }],
        170: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("../core")
              , a = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(o)
              , h = function(t) {
                function e() {
                    var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1500
                      , s = arguments[1]
                      , o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16384;
                    n(this, e);
                    var h = r(this, t.call(this));
                    return o > 16384 && (o = 16384),
                    o > i && (o = i),
                    h._properties = [!1, !0, !1, !1, !1],
                    h._maxSize = i,
                    h._batchSize = o,
                    h._glBuffers = {},
                    h._bufferToUpdate = 0,
                    h.interactiveChildren = !1,
                    h.blendMode = a.BLEND_MODES.NORMAL,
                    h.roundPixels = !0,
                    h.baseTexture = null,
                    h.setProperties(s),
                    h
                }
                return s(e, t),
                e.prototype.setProperties = function(t) {
                    t && (this._properties[0] = "scale"in t ? !!t.scale : this._properties[0],
                    this._properties[1] = "position"in t ? !!t.position : this._properties[1],
                    this._properties[2] = "rotation"in t ? !!t.rotation : this._properties[2],
                    this._properties[3] = "uvs"in t ? !!t.uvs : this._properties[3],
                    this._properties[4] = "alpha"in t ? !!t.alpha : this._properties[4])
                }
                ,
                e.prototype.updateTransform = function() {
                    this.displayObjectUpdateTransform()
                }
                ,
                e.prototype.renderWebGL = function(t) {
                    var e = this;
                    this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture,
                    this.baseTexture.hasLoaded || this.baseTexture.once("update", function() {
                        return e.onChildrenChange(0)
                    })),
                    t.setObjectRenderer(t.plugins.particle),
                    t.plugins.particle.render(this))
                }
                ,
                e.prototype.onChildrenChange = function(t) {
                    var e = Math.floor(t / this._batchSize);
                    e < this._bufferToUpdate && (this._bufferToUpdate = e)
                }
                ,
                e.prototype.renderCanvas = function(t) {
                    if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) {
                        var e = t.context
                          , i = this.worldTransform
                          , n = !0
                          , r = 0
                          , s = 0
                          , o = 0
                          , a = 0
                          , h = t.blendModes[this.blendMode];
                        h !== e.globalCompositeOperation && (e.globalCompositeOperation = h),
                        e.globalAlpha = this.worldAlpha,
                        this.displayObjectUpdateTransform();
                        for (var l = 0; l < this.children.length; ++l) {
                            var u = this.children[l];
                            if (u.visible) {
                                var c = u._texture.frame;
                                if (e.globalAlpha = this.worldAlpha * u.alpha,
                                u.rotation % (2 * Math.PI) == 0)
                                    n && (e.setTransform(i.a, i.b, i.c, i.d, i.tx * t.resolution, i.ty * t.resolution),
                                    n = !1),
                                    r = u.anchor.x * (-c.width * u.scale.x) + u.position.x + .5,
                                    s = u.anchor.y * (-c.height * u.scale.y) + u.position.y + .5,
                                    o = c.width * u.scale.x,
                                    a = c.height * u.scale.y;
                                else {
                                    n || (n = !0),
                                    u.displayObjectUpdateTransform();
                                    var d = u.worldTransform;
                                    t.roundPixels ? e.setTransform(d.a, d.b, d.c, d.d, d.tx * t.resolution | 0, d.ty * t.resolution | 0) : e.setTransform(d.a, d.b, d.c, d.d, d.tx * t.resolution, d.ty * t.resolution),
                                    r = u.anchor.x * -c.width + .5,
                                    s = u.anchor.y * -c.height + .5,
                                    o = c.width,
                                    a = c.height
                                }
                                var p = u._texture.baseTexture.resolution;
                                e.drawImage(u._texture.baseTexture.source, c.x * p, c.y * p, c.width * p, c.height * p, r * t.resolution, s * t.resolution, o * t.resolution, a * t.resolution)
                            }
                        }
                    }
                }
                ,
                e.prototype.destroy = function(e) {
                    if (t.prototype.destroy.call(this, e),
                    this._buffers)
                        for (var i = 0; i < this._buffers.length; ++i)
                            this._buffers[i].destroy();
                    this._properties = null,
                    this._buffers = null
                }
                ,
                e
            }(a.Container);
            i.default = h
        }
        , {
            "../core": 63
        }],
        171: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./ParticleContainer");
            Object.defineProperty(i, "ParticleContainer", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./webgl/ParticleRenderer");
            Object.defineProperty(i, "ParticleRenderer", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            })
        }
        , {
            "./ParticleContainer": 170,
            "./webgl/ParticleRenderer": 173
        }],
        172: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var s = t("pixi-gl-core")
              , o = n(s)
              , a = t("../../core/utils/createIndicesForQuads")
              , h = n(a)
              , l = function() {
                function t(e, i, n, s) {
                    r(this, t),
                    this.gl = e,
                    this.vertSize = 2,
                    this.vertByteSize = 4 * this.vertSize,
                    this.size = s,
                    this.dynamicProperties = [],
                    this.staticProperties = [];
                    for (var o = 0; o < i.length; ++o) {
                        var a = i[o];
                        a = {
                            attribute: a.attribute,
                            size: a.size,
                            uploadFunction: a.uploadFunction,
                            offset: a.offset
                        },
                        n[o] ? this.dynamicProperties.push(a) : this.staticProperties.push(a)
                    }
                    this.staticStride = 0,
                    this.staticBuffer = null,
                    this.staticData = null,
                    this.dynamicStride = 0,
                    this.dynamicBuffer = null,
                    this.dynamicData = null,
                    this.initBuffers()
                }
                return t.prototype.initBuffers = function() {
                    var t = this.gl
                      , e = 0;
                    this.indices = (0,
                    h.default)(this.size),
                    this.indexBuffer = o.default.GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW),
                    this.dynamicStride = 0;
                    for (var i = 0; i < this.dynamicProperties.length; ++i) {
                        var n = this.dynamicProperties[i];
                        n.offset = e,
                        e += n.size,
                        this.dynamicStride += n.size
                    }
                    this.dynamicData = new Float32Array(this.size * this.dynamicStride * 4),
                    this.dynamicBuffer = o.default.GLBuffer.createVertexBuffer(t, this.dynamicData, t.STREAM_DRAW);
                    var r = 0;
                    this.staticStride = 0;
                    for (var s = 0; s < this.staticProperties.length; ++s) {
                        var a = this.staticProperties[s];
                        a.offset = r,
                        r += a.size,
                        this.staticStride += a.size
                    }
                    this.staticData = new Float32Array(this.size * this.staticStride * 4),
                    this.staticBuffer = o.default.GLBuffer.createVertexBuffer(t, this.staticData, t.STATIC_DRAW),
                    this.vao = new o.default.VertexArrayObject(t).addIndex(this.indexBuffer);
                    for (var l = 0; l < this.dynamicProperties.length; ++l) {
                        var u = this.dynamicProperties[l];
                        this.vao.addAttribute(this.dynamicBuffer, u.attribute, t.FLOAT, !1, 4 * this.dynamicStride, 4 * u.offset)
                    }
                    for (var c = 0; c < this.staticProperties.length; ++c) {
                        var d = this.staticProperties[c];
                        this.vao.addAttribute(this.staticBuffer, d.attribute, t.FLOAT, !1, 4 * this.staticStride, 4 * d.offset)
                    }
                }
                ,
                t.prototype.uploadDynamic = function(t, e, i) {
                    for (var n = 0; n < this.dynamicProperties.length; n++) {
                        var r = this.dynamicProperties[n];
                        r.uploadFunction(t, e, i, this.dynamicData, this.dynamicStride, r.offset)
                    }
                    this.dynamicBuffer.upload()
                }
                ,
                t.prototype.uploadStatic = function(t, e, i) {
                    for (var n = 0; n < this.staticProperties.length; n++) {
                        var r = this.staticProperties[n];
                        r.uploadFunction(t, e, i, this.staticData, this.staticStride, r.offset)
                    }
                    this.staticBuffer.upload()
                }
                ,
                t.prototype.destroy = function() {
                    this.dynamicProperties = null,
                    this.dynamicData = null,
                    this.dynamicBuffer.destroy(),
                    this.staticProperties = null,
                    this.staticData = null,
                    this.staticBuffer.destroy()
                }
                ,
                t
            }();
            i.default = l
        }
        , {
            "../../core/utils/createIndicesForQuads": 120,
            "pixi-gl-core": 12
        }],
        173: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            function r(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function s(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function o(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var a = t("../../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = t("./ParticleShader")
              , u = n(l)
              , c = t("./ParticleBuffer")
              , d = n(c)
              , p = function(t) {
                function e(i) {
                    r(this, e);
                    var n = s(this, t.call(this, i));
                    return n.shader = null,
                    n.indexBuffer = null,
                    n.properties = null,
                    n.tempMatrix = new h.Matrix,
                    n.CONTEXT_UID = 0,
                    n
                }
                return o(e, t),
                e.prototype.onContextChange = function() {
                    var t = this.renderer.gl;
                    this.CONTEXT_UID = this.renderer.CONTEXT_UID,
                    this.shader = new u.default(t),
                    this.properties = [{
                        attribute: this.shader.attributes.aVertexPosition,
                        size: 2,
                        uploadFunction: this.uploadVertices,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aPositionCoord,
                        size: 2,
                        uploadFunction: this.uploadPosition,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aRotation,
                        size: 1,
                        uploadFunction: this.uploadRotation,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aTextureCoord,
                        size: 2,
                        uploadFunction: this.uploadUvs,
                        offset: 0
                    }, {
                        attribute: this.shader.attributes.aColor,
                        size: 1,
                        uploadFunction: this.uploadAlpha,
                        offset: 0
                    }]
                }
                ,
                e.prototype.start = function() {
                    this.renderer.bindShader(this.shader)
                }
                ,
                e.prototype.render = function(t) {
                    var e = t.children
                      , i = t._maxSize
                      , n = t._batchSize
                      , r = this.renderer
                      , s = e.length;
                    if (0 !== s) {
                        s > i && (s = i);
                        var o = t._glBuffers[r.CONTEXT_UID];
                        o || (o = t._glBuffers[r.CONTEXT_UID] = this.generateBuffers(t)),
                        this.renderer.setBlendMode(t.blendMode);
                        var a = r.gl
                          , h = t.worldTransform.copy(this.tempMatrix);
                        h.prepend(r._activeRenderTarget.projectionMatrix),
                        this.shader.uniforms.projectionMatrix = h.toArray(!0),
                        this.shader.uniforms.uAlpha = t.worldAlpha;
                        var l = e[0]._texture.baseTexture;
                        this.shader.uniforms.uSampler = r.bindTexture(l);
                        for (var u = 0, c = 0; u < s; u += n,
                        c += 1) {
                            var d = s - u;
                            d > n && (d = n);
                            var p = o[c];
                            p.uploadDynamic(e, u, d),
                            t._bufferToUpdate === c && (p.uploadStatic(e, u, d),
                            t._bufferToUpdate = c + 1),
                            r.bindVao(p.vao),
                            p.vao.draw(a.TRIANGLES, 6 * d)
                        }
                    }
                }
                ,
                e.prototype.generateBuffers = function(t) {
                    for (var e = this.renderer.gl, i = [], n = t._maxSize, r = t._batchSize, s = t._properties, o = 0; o < n; o += r)
                        i.push(new d.default(e,this.properties,s,r));
                    return i
                }
                ,
                e.prototype.uploadVertices = function(t, e, i, n, r, s) {
                    for (var o = 0, a = 0, h = 0, l = 0, u = 0; u < i; ++u) {
                        var c = t[e + u]
                          , d = c._texture
                          , p = c.scale.x
                          , f = c.scale.y
                          , m = d.trim
                          , _ = d.orig;
                        m ? (a = m.x - c.anchor.x * _.width,
                        o = a + m.width,
                        l = m.y - c.anchor.y * _.height,
                        h = l + m.height) : (o = _.width * (1 - c.anchor.x),
                        a = _.width * -c.anchor.x,
                        h = _.height * (1 - c.anchor.y),
                        l = _.height * -c.anchor.y),
                        n[s] = a * p,
                        n[s + 1] = l * f,
                        n[s + r] = o * p,
                        n[s + r + 1] = l * f,
                        n[s + 2 * r] = o * p,
                        n[s + 2 * r + 1] = h * f,
                        n[s + 3 * r] = a * p,
                        n[s + 3 * r + 1] = h * f,
                        s += 4 * r
                    }
                }
                ,
                e.prototype.uploadPosition = function(t, e, i, n, r, s) {
                    for (var o = 0; o < i; o++) {
                        var a = t[e + o].position;
                        n[s] = a.x,
                        n[s + 1] = a.y,
                        n[s + r] = a.x,
                        n[s + r + 1] = a.y,
                        n[s + 2 * r] = a.x,
                        n[s + 2 * r + 1] = a.y,
                        n[s + 3 * r] = a.x,
                        n[s + 3 * r + 1] = a.y,
                        s += 4 * r
                    }
                }
                ,
                e.prototype.uploadRotation = function(t, e, i, n, r, s) {
                    for (var o = 0; o < i; o++) {
                        var a = t[e + o].rotation;
                        n[s] = a,
                        n[s + r] = a,
                        n[s + 2 * r] = a,
                        n[s + 3 * r] = a,
                        s += 4 * r
                    }
                }
                ,
                e.prototype.uploadUvs = function(t, e, i, n, r, s) {
                    for (var o = 0; o < i; ++o) {
                        var a = t[e + o]._texture._uvs;
                        a ? (n[s] = a.x0,
                        n[s + 1] = a.y0,
                        n[s + r] = a.x1,
                        n[s + r + 1] = a.y1,
                        n[s + 2 * r] = a.x2,
                        n[s + 2 * r + 1] = a.y2,
                        n[s + 3 * r] = a.x3,
                        n[s + 3 * r + 1] = a.y3,
                        s += 4 * r) : (n[s] = 0,
                        n[s + 1] = 0,
                        n[s + r] = 0,
                        n[s + r + 1] = 0,
                        n[s + 2 * r] = 0,
                        n[s + 2 * r + 1] = 0,
                        n[s + 3 * r] = 0,
                        n[s + 3 * r + 1] = 0,
                        s += 4 * r)
                    }
                }
                ,
                e.prototype.uploadAlpha = function(t, e, i, n, r, s) {
                    for (var o = 0; o < i; o++) {
                        var a = t[e + o].alpha;
                        n[s] = a,
                        n[s + r] = a,
                        n[s + 2 * r] = a,
                        n[s + 3 * r] = a,
                        s += 4 * r
                    }
                }
                ,
                e.prototype.destroy = function() {
                    this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer),
                    t.prototype.destroy.call(this),
                    this.shader.destroy(),
                    this.indices = null,
                    this.tempMatrix = null
                }
                ,
                e
            }(h.ObjectRenderer);
            i.default = p,
            h.WebGLRenderer.registerPlugin("particle", p)
        }
        , {
            "../../core": 63,
            "./ParticleBuffer": 172,
            "./ParticleShader": 174
        }],
        174: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            i.__esModule = !0;
            var o = t("../../core/Shader")
              , a = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(o)
              , h = function(t) {
                function e(i) {
                    return n(this, e),
                    r(this, t.call(this, i, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute float aColor;", "attribute vec2 aPositionCoord;", "attribute vec2 aScale;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "varying vec2 vTextureCoord;", "varying float vColor;", "void main(void){", "   vec2 v = aVertexPosition;", "   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor;", "}"].join("\n"), ["varying vec2 vTextureCoord;", "varying float vColor;", "uniform sampler2D uSampler;", "uniform float uAlpha;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;", "  if (color.a == 0.0) discard;", "  gl_FragColor = color;", "}"].join("\n")))
                }
                return s(e, t),
                e
            }(a.default);
            i.default = h
        }
        , {
            "../../core/Shader": 42
        }],
        175: [function(t, e, i) {
            "use strict";
            Math.sign || (Math.sign = function(t) {
                return t = Number(t),
                0 === t || isNaN(t) ? t : t > 0 ? 1 : -1
            }
            )
        }
        , {}],
        176: [function(t, e, i) {
            "use strict";
            var n = t("object-assign")
              , r = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(n);
            Object.assign || (Object.assign = r.default)
        }
        , {
            "object-assign": 5
        }],
        177: [function(t, e, i) {
            "use strict";
            t("./Object.assign"),
            t("./requestAnimationFrame"),
            t("./Math.sign"),
            window.ArrayBuffer || (window.ArrayBuffer = Array),
            window.Float32Array || (window.Float32Array = Array),
            window.Uint32Array || (window.Uint32Array = Array),
            window.Uint16Array || (window.Uint16Array = Array)
        }
        , {
            "./Math.sign": 175,
            "./Object.assign": 176,
            "./requestAnimationFrame": 178
        }],
        178: [function(t, e, i) {
            (function(t) {
                "use strict";
                Date.now && Date.prototype.getTime || (Date.now = function() {
                    return (new Date).getTime()
                }
                ),
                t.performance && t.performance.now || function() {
                    var e = Date.now();
                    t.performance || (t.performance = {}),
                    t.performance.now = function() {
                        return Date.now() - e
                    }
                }();
                for (var e = Date.now(), i = ["ms", "moz", "webkit", "o"], n = 0; n < i.length && !t.requestAnimationFrame; ++n) {
                    var r = i[n];
                    t.requestAnimationFrame = t[r + "RequestAnimationFrame"],
                    t.cancelAnimationFrame = t[r + "CancelAnimationFrame"] || t[r + "CancelRequestAnimationFrame"]
                }
                t.requestAnimationFrame || (t.requestAnimationFrame = function(t) {
                    if ("function" != typeof t)
                        throw new TypeError(t + "is not a function");
                    var i = Date.now()
                      , n = 16 + e - i;
                    return n < 0 && (n = 0),
                    e = i,
                    setTimeout(function() {
                        e = Date.now(),
                        t(performance.now())
                    }, n)
                }
                ),
                t.cancelAnimationFrame || (t.cancelAnimationFrame = function(t) {
                    return clearTimeout(t)
                }
                )
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {}],
        179: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                var i = !1;
                if (t && t._textures && t._textures.length)
                    for (var n = 0; n < t._textures.length; n++)
                        if (t._textures[n]instanceof d.Texture) {
                            var r = t._textures[n].baseTexture;
                            -1 === e.indexOf(r) && (e.push(r),
                            i = !0)
                        }
                return i
            }
            function s(t, e) {
                return t instanceof d.BaseTexture && (-1 === e.indexOf(t) && e.push(t),
                !0)
            }
            function o(t, e) {
                if (t._texture && t._texture instanceof d.Texture) {
                    var i = t._texture.baseTexture;
                    return -1 === e.indexOf(i) && e.push(i),
                    !0
                }
                return !1
            }
            function a(t, e) {
                return e instanceof d.Text && (e.updateText(!0),
                !0)
            }
            function h(t, e) {
                if (e instanceof d.TextStyle) {
                    var i = d.Text.getFontStyle(e);
                    return d.Text.fontPropertiesCache[i] || d.Text.calculateFontProperties(i),
                    !0
                }
                return !1
            }
            function l(t, e) {
                if (t instanceof d.Text) {
                    -1 === e.indexOf(t.style) && e.push(t.style),
                    -1 === e.indexOf(t) && e.push(t);
                    var i = t._texture.baseTexture;
                    return -1 === e.indexOf(i) && e.push(i),
                    !0
                }
                return !1
            }
            function u(t, e) {
                return t instanceof d.TextStyle && (-1 === e.indexOf(t) && e.push(t),
                !0)
            }
            i.__esModule = !0;
            var c = t("../core")
              , d = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(c)
              , p = t("./limiters/CountLimiter")
              , f = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(p)
              , m = d.ticker.shared;
            d.settings.UPLOADS_PER_FRAME = 4;
            var _ = function() {
                function t(e) {
                    var i = this;
                    n(this, t),
                    this.limiter = new f.default(d.settings.UPLOADS_PER_FRAME),
                    this.renderer = e,
                    this.uploadHookHelper = null,
                    this.queue = [],
                    this.addHooks = [],
                    this.uploadHooks = [],
                    this.completes = [],
                    this.ticking = !1,
                    this.delayedTick = function() {
                        i.queue && i.prepareItems()
                    }
                    ,
                    this.registerFindHook(l),
                    this.registerFindHook(u),
                    this.registerFindHook(r),
                    this.registerFindHook(s),
                    this.registerFindHook(o),
                    this.registerUploadHook(a),
                    this.registerUploadHook(h)
                }
                return t.prototype.upload = function(t, e) {
                    "function" == typeof t && (e = t,
                    t = null),
                    t && this.add(t),
                    this.queue.length ? (e && this.completes.push(e),
                    this.ticking || (this.ticking = !0,
                    m.addOnce(this.tick, this, d.UPDATE_PRIORITY.UTILITY))) : e && e()
                }
                ,
                t.prototype.tick = function() {
                    setTimeout(this.delayedTick, 0)
                }
                ,
                t.prototype.prepareItems = function() {
                    for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload(); ) {
                        var t = this.queue[0]
                          , e = !1;
                        if (t && !t._destroyed)
                            for (var i = 0, n = this.uploadHooks.length; i < n; i++)
                                if (this.uploadHooks[i](this.uploadHookHelper, t)) {
                                    this.queue.shift(),
                                    e = !0;
                                    break
                                }
                        e || this.queue.shift()
                    }
                    if (this.queue.length)
                        m.addOnce(this.tick, this, d.UPDATE_PRIORITY.UTILITY);
                    else {
                        this.ticking = !1;
                        var r = this.completes.slice(0);
                        this.completes.length = 0;
                        for (var s = 0, o = r.length; s < o; s++)
                            r[s]()
                    }
                }
                ,
                t.prototype.registerFindHook = function(t) {
                    return t && this.addHooks.push(t),
                    this
                }
                ,
                t.prototype.registerUploadHook = function(t) {
                    return t && this.uploadHooks.push(t),
                    this
                }
                ,
                t.prototype.add = function(t) {
                    for (var e = 0, i = this.addHooks.length; e < i && !this.addHooks[e](t, this.queue); e++)
                        ;
                    if (t instanceof d.Container)
                        for (var n = t.children.length - 1; n >= 0; n--)
                            this.add(t.children[n]);
                    return this
                }
                ,
                t.prototype.destroy = function() {
                    this.ticking && m.remove(this.tick, this),
                    this.ticking = !1,
                    this.addHooks = null,
                    this.uploadHooks = null,
                    this.renderer = null,
                    this.completes = null,
                    this.queue = null,
                    this.limiter = null,
                    this.uploadHookHelper = null
                }
                ,
                t
            }();
            i.default = _
        }
        , {
            "../core": 63,
            "./limiters/CountLimiter": 182
        }],
        180: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function o(t, e) {
                if (e instanceof h.BaseTexture) {
                    var i = e.source
                      , n = 0 === i.width ? t.canvas.width : Math.min(t.canvas.width, i.width)
                      , r = 0 === i.height ? t.canvas.height : Math.min(t.canvas.height, i.height);
                    return t.ctx.drawImage(i, 0, 0, n, r, 0, 0, t.canvas.width, t.canvas.height),
                    !0
                }
                return !1
            }
            i.__esModule = !0;
            var a = t("../../core")
              , h = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(a)
              , l = t("../BasePrepare")
              , u = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(l)
              , c = 16
              , d = function(t) {
                function e(i) {
                    n(this, e);
                    var s = r(this, t.call(this, i));
                    return s.uploadHookHelper = s,
                    s.canvas = document.createElement("canvas"),
                    s.canvas.width = c,
                    s.canvas.height = c,
                    s.ctx = s.canvas.getContext("2d"),
                    s.registerUploadHook(o),
                    s
                }
                return s(e, t),
                e.prototype.destroy = function() {
                    t.prototype.destroy.call(this),
                    this.ctx = null,
                    this.canvas = null
                }
                ,
                e
            }(u.default);
            i.default = d,
            h.CanvasRenderer.registerPlugin("prepare", d)
        }
        , {
            "../../core": 63,
            "../BasePrepare": 179
        }],
        181: [function(t, e, i) {
            "use strict";
            function n(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }
            i.__esModule = !0;
            var r = t("./webgl/WebGLPrepare");
            Object.defineProperty(i, "webgl", {
                enumerable: !0,
                get: function() {
                    return n(r).default
                }
            });
            var s = t("./canvas/CanvasPrepare");
            Object.defineProperty(i, "canvas", {
                enumerable: !0,
                get: function() {
                    return n(s).default
                }
            });
            var o = t("./BasePrepare");
            Object.defineProperty(i, "BasePrepare", {
                enumerable: !0,
                get: function() {
                    return n(o).default
                }
            });
            var a = t("./limiters/CountLimiter");
            Object.defineProperty(i, "CountLimiter", {
                enumerable: !0,
                get: function() {
                    return n(a).default
                }
            });
            var h = t("./limiters/TimeLimiter");
            Object.defineProperty(i, "TimeLimiter", {
                enumerable: !0,
                get: function() {
                    return n(h).default
                }
            })
        }
        , {
            "./BasePrepare": 179,
            "./canvas/CanvasPrepare": 180,
            "./limiters/CountLimiter": 182,
            "./limiters/TimeLimiter": 183,
            "./webgl/WebGLPrepare": 184
        }],
        182: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(e) {
                    n(this, t),
                    this.maxItemsPerFrame = e,
                    this.itemsLeft = 0
                }
                return t.prototype.beginFrame = function() {
                    this.itemsLeft = this.maxItemsPerFrame
                }
                ,
                t.prototype.allowedToUpload = function() {
                    return this.itemsLeft-- > 0
                }
                ,
                t
            }();
            i.default = r
        }
        , {}],
        183: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            i.__esModule = !0;
            var r = function() {
                function t(e) {
                    n(this, t),
                    this.maxMilliseconds = e,
                    this.frameStart = 0
                }
                return t.prototype.beginFrame = function() {
                    this.frameStart = Date.now()
                }
                ,
                t.prototype.allowedToUpload = function() {
                    return Date.now() - this.frameStart < this.maxMilliseconds
                }
                ,
                t
            }();
            i.default = r
        }
        , {}],
        184: [function(t, e, i) {
            "use strict";
            function n(t, e) {
                if (!(t instanceof e))
                    throw new TypeError("Cannot call a class as a function")
            }
            function r(t, e) {
                if (!t)
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return !e || "object" != typeof e && "function" != typeof e ? t : e
            }
            function s(t, e) {
                if ("function" != typeof e && null !== e)
                    throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                t.prototype = Object.create(e && e.prototype, {
                    constructor: {
                        value: t,
                        enumerable: !1,
                        writable: !0,
                        configurable: !0
                    }
                }),
                e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
            }
            function o(t, e) {
                return e instanceof u.BaseTexture && (e._glTextures[t.CONTEXT_UID] || t.textureManager.updateTexture(e),
                !0)
            }
            function a(t, e) {
                return e instanceof u.Graphics && ((e.dirty || e.clearDirty || !e._webGL[t.plugins.graphics.CONTEXT_UID]) && t.plugins.graphics.updateGraphics(e),
                !0)
            }
            function h(t, e) {
                return t instanceof u.Graphics && (e.push(t),
                !0)
            }
            i.__esModule = !0;
            var l = t("../../core")
              , u = function(t) {
                if (t && t.__esModule)
                    return t;
                var e = {};
                if (null != t)
                    for (var i in t)
                        Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e.default = t,
                e
            }(l)
              , c = t("../BasePrepare")
              , d = function(t) {
                return t && t.__esModule ? t : {
                    default: t
                }
            }(c)
              , p = function(t) {
                function e(i) {
                    n(this, e);
                    var s = r(this, t.call(this, i));
                    return s.uploadHookHelper = s.renderer,
                    s.registerFindHook(h),
                    s.registerUploadHook(o),
                    s.registerUploadHook(a),
                    s
                }
                return s(e, t),
                e
            }(d.default);
            i.default = p,
            u.WebGLRenderer.registerPlugin("prepare", p)
        }
        , {
            "../../core": 63,
            "../BasePrepare": 179
        }],
        185: [function(t, e, i) {
            (function(e) {
                "use strict";
                function n(t) {
                    if (t && t.__esModule)
                        return t;
                    var e = {};
                    if (null != t)
                        for (var i in t)
                            Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                    return e.default = t,
                    e
                }
                i.__esModule = !0,
                i.loader = i.prepare = i.particles = i.mesh = i.loaders = i.interaction = i.filters = i.extras = i.extract = i.accessibility = void 0;
                var r = t("./polyfill");
                Object.keys(r).forEach(function(t) {
                    "default" !== t && "__esModule" !== t && Object.defineProperty(i, t, {
                        enumerable: !0,
                        get: function() {
                            return r[t]
                        }
                    })
                });
                var s = t("./core");
                Object.keys(s).forEach(function(t) {
                    "default" !== t && "__esModule" !== t && Object.defineProperty(i, t, {
                        enumerable: !0,
                        get: function() {
                            return s[t]
                        }
                    })
                });
                var o = t("./deprecation")
                  , a = function(t) {
                    return t && t.__esModule ? t : {
                        default: t
                    }
                }(o)
                  , h = t("./accessibility")
                  , l = n(h)
                  , u = t("./extract")
                  , c = n(u)
                  , d = t("./extras")
                  , p = n(d)
                  , f = t("./filters")
                  , m = n(f)
                  , _ = t("./interaction")
                  , y = n(_)
                  , v = t("./loaders")
                  , g = n(v)
                  , x = t("./mesh")
                  , b = n(x)
                  , w = t("./particles")
                  , T = n(w)
                  , A = t("./prepare")
                  , S = n(A);
                s.utils.mixins.performMixins();
                var C = g.shared || null;
                i.accessibility = l,
                i.extract = c,
                i.extras = p,
                i.filters = m,
                i.interaction = y,
                i.loaders = g,
                i.mesh = b,
                i.particles = T,
                i.prepare = S,
                i.loader = C,
                "function" == typeof a.default && (0,
                a.default)(i),
                e.PIXI = i
            }
            ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
        }
        , {
            "./accessibility": 40,
            "./core": 63,
            "./deprecation": 127,
            "./extract": 129,
            "./extras": 138,
            "./filters": 149,
            "./interaction": 156,
            "./loaders": 159,
            "./mesh": 168,
            "./particles": 171,
            "./polyfill": 177,
            "./prepare": 181
        }]
    }, {}, [185])(185)
});
var _gsScope = "undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window;
(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push(function() {
    "use strict";
    _gsScope._gsDefine("TweenMax", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(t, e, i) {
        var n = function(t) {
            var e, i = [], n = t.length;
            for (e = 0; e !== n; i.push(t[e++]))
                ;
            return i
        }
          , r = function(t, e, i) {
            var n, r, s = t.cycle;
            for (n in s)
                r = s[n],
                t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
            delete t.cycle
        }
          , s = function(t, e, n) {
            i.call(this, t, e, n),
            this._cycle = 0,
            this._yoyo = !0 === this.vars.yoyo,
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._dirty = !0,
            this.render = s.prototype.render
        }
          , o = 1e-10
          , a = i._internals
          , h = a.isSelector
          , l = a.isArray
          , u = s.prototype = i.to({}, .1, {})
          , c = [];
        s.version = "1.19.1",
        u.constructor = s,
        u.kill()._gc = !1,
        s.killTweensOf = s.killDelayedCallsTo = i.killTweensOf,
        s.getTweensOf = i.getTweensOf,
        s.lagSmoothing = i.lagSmoothing,
        s.ticker = i.ticker,
        s.render = i.render,
        u.invalidate = function() {
            return this._yoyo = !0 === this.vars.yoyo,
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._uncache(!0),
            i.prototype.invalidate.call(this)
        }
        ,
        u.updateTo = function(t, e) {
            var n, r = this.ratio, s = this.vars.immediateRender || t.immediateRender;
            e && this._startTime < this._timeline._time && (this._startTime = this._timeline._time,
            this._uncache(!1),
            this._gc ? this._enabled(!0, !1) : this._timeline.insert(this, this._startTime - this._delay));
            for (n in t)
                this.vars[n] = t[n];
            if (this._initted || s)
                if (e)
                    this._initted = !1,
                    s && this.render(0, !0, !0);
                else if (this._gc && this._enabled(!0, !1),
                this._notifyPluginsOfEnabled && this._firstPT && i._onPluginEvent("_onDisable", this),
                this._time / this._duration > .998) {
                    var o = this._totalTime;
                    this.render(0, !0, !1),
                    this._initted = !1,
                    this.render(o, !0, !1)
                } else if (this._initted = !1,
                this._init(),
                this._time > 0 || s)
                    for (var a, h = 1 / (1 - r), l = this._firstPT; l; )
                        a = l.s + l.c,
                        l.c *= h,
                        l.s = a - l.c,
                        l = l._next;
            return this
        }
        ,
        u.render = function(t, e, i) {
            this._initted || 0 === this._duration && this.vars.repeat && this.invalidate();
            var n, r, s, h, l, u, c, d, p = this._dirty ? this.totalDuration() : this._totalDuration, f = this._time, m = this._totalTime, _ = this._cycle, y = this._duration, v = this._rawPrevTime;
            if (t >= p - 1e-7 && t >= 0 ? (this._totalTime = p,
            this._cycle = this._repeat,
            this._yoyo && 0 != (1 & this._cycle) ? (this._time = 0,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0) : (this._time = y,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1),
            this._reversed || (n = !0,
            r = "onComplete",
            i = i || this._timeline.autoRemoveChildren),
            0 === y && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0),
            (0 > v || 0 >= t && t >= -1e-7 || v === o && "isPause" !== this.data) && v !== t && (i = !0,
            v > o && (r = "onReverseComplete")),
            this._rawPrevTime = d = !e || t || v === t ? t : o)) : 1e-7 > t ? (this._totalTime = this._time = this._cycle = 0,
            this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0,
            (0 !== m || 0 === y && v > 0) && (r = "onReverseComplete",
            n = this._reversed),
            0 > t && (this._active = !1,
            0 === y && (this._initted || !this.vars.lazy || i) && (v >= 0 && (i = !0),
            this._rawPrevTime = d = !e || t || v === t ? t : o)),
            this._initted || (i = !0)) : (this._totalTime = this._time = t,
            0 !== this._repeat && (h = y + this._repeatDelay,
            this._cycle = this._totalTime / h >> 0,
            0 !== this._cycle && this._cycle === this._totalTime / h && t >= m && this._cycle--,
            this._time = this._totalTime - this._cycle * h,
            this._yoyo && 0 != (1 & this._cycle) && (this._time = y - this._time),
            this._time > y ? this._time = y : this._time < 0 && (this._time = 0)),
            this._easeType ? (l = this._time / y,
            u = this._easeType,
            c = this._easePower,
            (1 === u || 3 === u && l >= .5) && (l = 1 - l),
            3 === u && (l *= 2),
            1 === c ? l *= l : 2 === c ? l *= l * l : 3 === c ? l *= l * l * l : 4 === c && (l *= l * l * l * l),
            1 === u ? this.ratio = 1 - l : 2 === u ? this.ratio = l : this._time / y < .5 ? this.ratio = l / 2 : this.ratio = 1 - l / 2) : this.ratio = this._ease.getRatio(this._time / y)),
            f === this._time && !i && _ === this._cycle)
                return void (m !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate")));
            if (!this._initted) {
                if (this._init(),
                !this._initted || this._gc)
                    return;
                if (!i && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration))
                    return this._time = f,
                    this._totalTime = m,
                    this._rawPrevTime = v,
                    this._cycle = _,
                    a.lazyTweens.push(this),
                    void (this._lazy = [t, e]);
                this._time && !n ? this.ratio = this._ease.getRatio(this._time / y) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
            }
            for (!1 !== this._lazy && (this._lazy = !1),
            this._active || !this._paused && this._time !== f && t >= 0 && (this._active = !0),
            0 === m && (2 === this._initted && t > 0 && this._init(),
            this._startAt && (t >= 0 ? this._startAt.render(t, e, i) : r || (r = "_dummyGS")),
            this.vars.onStart && (0 !== this._totalTime || 0 === y) && (e || this._callback("onStart"))),
            s = this._firstPT; s; )
                s.f ? s.t[s.p](s.c * this.ratio + s.s) : s.t[s.p] = s.c * this.ratio + s.s,
                s = s._next;
            this._onUpdate && (0 > t && this._startAt && this._startTime && this._startAt.render(t, e, i),
            e || (this._totalTime !== m || r) && this._callback("onUpdate")),
            this._cycle !== _ && (e || this._gc || this.vars.onRepeat && this._callback("onRepeat")),
            r && (!this._gc || i) && (0 > t && this._startAt && !this._onUpdate && this._startTime && this._startAt.render(t, e, i),
            n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
            this._active = !1),
            !e && this.vars[r] && this._callback(r),
            0 === y && this._rawPrevTime === o && d !== o && (this._rawPrevTime = 0))
        }
        ,
        s.to = function(t, e, i) {
            return new s(t,e,i)
        }
        ,
        s.from = function(t, e, i) {
            return i.runBackwards = !0,
            i.immediateRender = 0 != i.immediateRender,
            new s(t,e,i)
        }
        ,
        s.fromTo = function(t, e, i, n) {
            return n.startAt = i,
            n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender,
            new s(t,e,n)
        }
        ,
        s.staggerTo = s.allTo = function(t, e, o, a, u, d, p) {
            a = a || 0;
            var f, m, _, y, v = 0, g = [], x = function() {
                o.onComplete && o.onComplete.apply(o.onCompleteScope || this, arguments),
                u.apply(p || o.callbackScope || this, d || c)
            }, b = o.cycle, w = o.startAt && o.startAt.cycle;
            for (l(t) || ("string" == typeof t && (t = i.selector(t) || t),
            h(t) && (t = n(t))),
            t = t || [],
            0 > a && (t = n(t),
            t.reverse(),
            a *= -1),
            f = t.length - 1,
            _ = 0; f >= _; _++) {
                m = {};
                for (y in o)
                    m[y] = o[y];
                if (b && (r(m, t, _),
                null != m.duration && (e = m.duration,
                delete m.duration)),
                w) {
                    w = m.startAt = {};
                    for (y in o.startAt)
                        w[y] = o.startAt[y];
                    r(m.startAt, t, _)
                }
                m.delay = v + (m.delay || 0),
                _ === f && u && (m.onComplete = x),
                g[_] = new s(t[_],e,m),
                v += a
            }
            return g
        }
        ,
        s.staggerFrom = s.allFrom = function(t, e, i, n, r, o, a) {
            return i.runBackwards = !0,
            i.immediateRender = 0 != i.immediateRender,
            s.staggerTo(t, e, i, n, r, o, a)
        }
        ,
        s.staggerFromTo = s.allFromTo = function(t, e, i, n, r, o, a, h) {
            return n.startAt = i,
            n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender,
            s.staggerTo(t, e, n, r, o, a, h)
        }
        ,
        s.delayedCall = function(t, e, i, n, r) {
            return new s(e,0,{
                delay: t,
                onComplete: e,
                onCompleteParams: i,
                callbackScope: n,
                onReverseComplete: e,
                onReverseCompleteParams: i,
                immediateRender: !1,
                useFrames: r,
                overwrite: 0
            })
        }
        ,
        s.set = function(t, e) {
            return new s(t,0,e)
        }
        ,
        s.isTweening = function(t) {
            return i.getTweensOf(t, !0).length > 0
        }
        ;
        var d = function(t, e) {
            for (var n = [], r = 0, s = t._first; s; )
                s instanceof i ? n[r++] = s : (e && (n[r++] = s),
                n = n.concat(d(s, e)),
                r = n.length),
                s = s._next;
            return n
        }
          , p = s.getAllTweens = function(e) {
            return d(t._rootTimeline, e).concat(d(t._rootFramesTimeline, e))
        }
        ;
        s.killAll = function(t, i, n, r) {
            null == i && (i = !0),
            null == n && (n = !0);
            var s, o, a, h = p(0 != r), l = h.length, u = i && n && r;
            for (a = 0; l > a; a++)
                o = h[a],
                (u || o instanceof e || (s = o.target === o.vars.onComplete) && n || i && !s) && (t ? o.totalTime(o._reversed ? 0 : o.totalDuration()) : o._enabled(!1, !1))
        }
        ,
        s.killChildTweensOf = function(t, e) {
            if (null != t) {
                var r, o, u, c, d, p = a.tweenLookup;
                if ("string" == typeof t && (t = i.selector(t) || t),
                h(t) && (t = n(t)),
                l(t))
                    for (c = t.length; --c > -1; )
                        s.killChildTweensOf(t[c], e);
                else {
                    r = [];
                    for (u in p)
                        for (o = p[u].target.parentNode; o; )
                            o === t && (r = r.concat(p[u].tweens)),
                            o = o.parentNode;
                    for (d = r.length,
                    c = 0; d > c; c++)
                        e && r[c].totalTime(r[c].totalDuration()),
                        r[c]._enabled(!1, !1)
                }
            }
        }
        ;
        var f = function(t, i, n, r) {
            i = !1 !== i,
            n = !1 !== n,
            r = !1 !== r;
            for (var s, o, a = p(r), h = i && n && r, l = a.length; --l > -1; )
                o = a[l],
                (h || o instanceof e || (s = o.target === o.vars.onComplete) && n || i && !s) && o.paused(t)
        };
        return s.pauseAll = function(t, e, i) {
            f(!0, t, e, i)
        }
        ,
        s.resumeAll = function(t, e, i) {
            f(!1, t, e, i)
        }
        ,
        s.globalTimeScale = function(e) {
            var n = t._rootTimeline
              , r = i.ticker.time;
            return arguments.length ? (e = e || o,
            n._startTime = r - (r - n._startTime) * n._timeScale / e,
            n = t._rootFramesTimeline,
            r = i.ticker.frame,
            n._startTime = r - (r - n._startTime) * n._timeScale / e,
            n._timeScale = t._rootTimeline._timeScale = e,
            e) : n._timeScale
        }
        ,
        u.progress = function(t, e) {
            return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration()
        }
        ,
        u.totalProgress = function(t, e) {
            return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration()
        }
        ,
        u.time = function(t, e) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            t > this._duration && (t = this._duration),
            this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)),
            this.totalTime(t, e)) : this._time
        }
        ,
        u.duration = function(e) {
            return arguments.length ? t.prototype.duration.call(this, e) : this._duration
        }
        ,
        u.totalDuration = function(t) {
            return arguments.length ? -1 === this._repeat ? this : this.duration((t - this._repeat * this._repeatDelay) / (this._repeat + 1)) : (this._dirty && (this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat,
            this._dirty = !1),
            this._totalDuration)
        }
        ,
        u.repeat = function(t) {
            return arguments.length ? (this._repeat = t,
            this._uncache(!0)) : this._repeat
        }
        ,
        u.repeatDelay = function(t) {
            return arguments.length ? (this._repeatDelay = t,
            this._uncache(!0)) : this._repeatDelay
        }
        ,
        u.yoyo = function(t) {
            return arguments.length ? (this._yoyo = t,
            this) : this._yoyo
        }
        ,
        s
    }, !0),
    _gsScope._gsDefine("TimelineLite", ["core.Animation", "core.SimpleTimeline", "TweenLite"], function(t, e, i) {
        var n = function(t) {
            e.call(this, t),
            this._labels = {},
            this.autoRemoveChildren = !0 === this.vars.autoRemoveChildren,
            this.smoothChildTiming = !0 === this.vars.smoothChildTiming,
            this._sortChildren = !0,
            this._onUpdate = this.vars.onUpdate;
            var i, n, r = this.vars;
            for (n in r)
                i = r[n],
                h(i) && -1 !== i.join("").indexOf("{self}") && (r[n] = this._swapSelfInParams(i));
            h(r.tweens) && this.add(r.tweens, 0, r.align, r.stagger)
        }
          , r = 1e-10
          , s = i._internals
          , o = n._internals = {}
          , a = s.isSelector
          , h = s.isArray
          , l = s.lazyTweens
          , u = s.lazyRender
          , c = _gsScope._gsDefine.globals
          , d = function(t) {
            var e, i = {};
            for (e in t)
                i[e] = t[e];
            return i
        }
          , p = function(t, e, i) {
            var n, r, s = t.cycle;
            for (n in s)
                r = s[n],
                t[n] = "function" == typeof r ? r(i, e[i]) : r[i % r.length];
            delete t.cycle
        }
          , f = o.pauseCallback = function() {}
          , m = function(t) {
            var e, i = [], n = t.length;
            for (e = 0; e !== n; i.push(t[e++]))
                ;
            return i
        }
          , _ = n.prototype = new e;
        return n.version = "1.19.1",
        _.constructor = n,
        _.kill()._gc = _._forcingPlayhead = _._hasPause = !1,
        _.to = function(t, e, n, r) {
            var s = n.repeat && c.TweenMax || i;
            return e ? this.add(new s(t,e,n), r) : this.set(t, n, r)
        }
        ,
        _.from = function(t, e, n, r) {
            return this.add((n.repeat && c.TweenMax || i).from(t, e, n), r)
        }
        ,
        _.fromTo = function(t, e, n, r, s) {
            var o = r.repeat && c.TweenMax || i;
            return e ? this.add(o.fromTo(t, e, n, r), s) : this.set(t, r, s)
        }
        ,
        _.staggerTo = function(t, e, r, s, o, h, l, u) {
            var c, f, _ = new n({
                onComplete: h,
                onCompleteParams: l,
                callbackScope: u,
                smoothChildTiming: this.smoothChildTiming
            }), y = r.cycle;
            for ("string" == typeof t && (t = i.selector(t) || t),
            t = t || [],
            a(t) && (t = m(t)),
            s = s || 0,
            0 > s && (t = m(t),
            t.reverse(),
            s *= -1),
            f = 0; f < t.length; f++)
                c = d(r),
                c.startAt && (c.startAt = d(c.startAt),
                c.startAt.cycle && p(c.startAt, t, f)),
                y && (p(c, t, f),
                null != c.duration && (e = c.duration,
                delete c.duration)),
                _.to(t[f], e, c, f * s);
            return this.add(_, o)
        }
        ,
        _.staggerFrom = function(t, e, i, n, r, s, o, a) {
            return i.immediateRender = 0 != i.immediateRender,
            i.runBackwards = !0,
            this.staggerTo(t, e, i, n, r, s, o, a)
        }
        ,
        _.staggerFromTo = function(t, e, i, n, r, s, o, a, h) {
            return n.startAt = i,
            n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender,
            this.staggerTo(t, e, n, r, s, o, a, h)
        }
        ,
        _.call = function(t, e, n, r) {
            return this.add(i.delayedCall(0, t, e, n), r)
        }
        ,
        _.set = function(t, e, n) {
            return n = this._parseTimeOrLabel(n, 0, !0),
            null == e.immediateRender && (e.immediateRender = n === this._time && !this._paused),
            this.add(new i(t,0,e), n)
        }
        ,
        n.exportRoot = function(t, e) {
            t = t || {},
            null == t.smoothChildTiming && (t.smoothChildTiming = !0);
            var r, s, o = new n(t), a = o._timeline;
            for (null == e && (e = !0),
            a._remove(o, !0),
            o._startTime = 0,
            o._rawPrevTime = o._time = o._totalTime = a._time,
            r = a._first; r; )
                s = r._next,
                e && r instanceof i && r.target === r.vars.onComplete || o.add(r, r._startTime - r._delay),
                r = s;
            return a.add(o, 0),
            o
        }
        ,
        _.add = function(r, s, o, a) {
            var l, u, c, d, p, f;
            if ("number" != typeof s && (s = this._parseTimeOrLabel(s, 0, !0, r)),
            !(r instanceof t)) {
                if (r instanceof Array || r && r.push && h(r)) {
                    for (o = o || "normal",
                    a = a || 0,
                    l = s,
                    u = r.length,
                    c = 0; u > c; c++)
                        h(d = r[c]) && (d = new n({
                            tweens: d
                        })),
                        this.add(d, l),
                        "string" != typeof d && "function" != typeof d && ("sequence" === o ? l = d._startTime + d.totalDuration() / d._timeScale : "start" === o && (d._startTime -= d.delay())),
                        l += a;
                    return this._uncache(!0)
                }
                if ("string" == typeof r)
                    return this.addLabel(r, s);
                if ("function" != typeof r)
                    throw "Cannot add " + r + " into the timeline; it is not a tween, timeline, function, or string.";
                r = i.delayedCall(0, r)
            }
            if (e.prototype.add.call(this, r, s),
            (this._gc || this._time === this._duration) && !this._paused && this._duration < this.duration())
                for (p = this,
                f = p.rawTime() > r._startTime; p._timeline; )
                    f && p._timeline.smoothChildTiming ? p.totalTime(p._totalTime, !0) : p._gc && p._enabled(!0, !1),
                    p = p._timeline;
            return this
        }
        ,
        _.remove = function(e) {
            if (e instanceof t) {
                this._remove(e, !1);
                var i = e._timeline = e.vars.useFrames ? t._rootFramesTimeline : t._rootTimeline;
                return e._startTime = (e._paused ? e._pauseTime : i._time) - (e._reversed ? e.totalDuration() - e._totalTime : e._totalTime) / e._timeScale,
                this
            }
            if (e instanceof Array || e && e.push && h(e)) {
                for (var n = e.length; --n > -1; )
                    this.remove(e[n]);
                return this
            }
            return "string" == typeof e ? this.removeLabel(e) : this.kill(null, e)
        }
        ,
        _._remove = function(t, i) {
            return e.prototype._remove.call(this, t, i),
            this._last ? this._time > this.duration() && (this._time = this._duration,
            this._totalTime = this._totalDuration) : this._time = this._totalTime = this._duration = this._totalDuration = 0,
            this
        }
        ,
        _.append = function(t, e) {
            return this.add(t, this._parseTimeOrLabel(null, e, !0, t))
        }
        ,
        _.insert = _.insertMultiple = function(t, e, i, n) {
            return this.add(t, e || 0, i, n)
        }
        ,
        _.appendMultiple = function(t, e, i, n) {
            return this.add(t, this._parseTimeOrLabel(null, e, !0, t), i, n)
        }
        ,
        _.addLabel = function(t, e) {
            return this._labels[t] = this._parseTimeOrLabel(e),
            this
        }
        ,
        _.addPause = function(t, e, n, r) {
            var s = i.delayedCall(0, f, n, r || this);
            return s.vars.onComplete = s.vars.onReverseComplete = e,
            s.data = "isPause",
            this._hasPause = !0,
            this.add(s, t)
        }
        ,
        _.removeLabel = function(t) {
            return delete this._labels[t],
            this
        }
        ,
        _.getLabelTime = function(t) {
            return null != this._labels[t] ? this._labels[t] : -1
        }
        ,
        _._parseTimeOrLabel = function(e, i, n, r) {
            var s;
            if (r instanceof t && r.timeline === this)
                this.remove(r);
            else if (r && (r instanceof Array || r.push && h(r)))
                for (s = r.length; --s > -1; )
                    r[s]instanceof t && r[s].timeline === this && this.remove(r[s]);
            if ("string" == typeof i)
                return this._parseTimeOrLabel(i, n && "number" == typeof e && null == this._labels[i] ? e - this.duration() : 0, n);
            if (i = i || 0,
            "string" != typeof e || !isNaN(e) && null == this._labels[e])
                null == e && (e = this.duration());
            else {
                if (-1 === (s = e.indexOf("=")))
                    return null == this._labels[e] ? n ? this._labels[e] = this.duration() + i : i : this._labels[e] + i;
                i = parseInt(e.charAt(s - 1) + "1", 10) * Number(e.substr(s + 1)),
                e = s > 1 ? this._parseTimeOrLabel(e.substr(0, s - 1), 0, n) : this.duration()
            }
            return Number(e) + i
        }
        ,
        _.seek = function(t, e) {
            return this.totalTime("number" == typeof t ? t : this._parseTimeOrLabel(t), !1 !== e)
        }
        ,
        _.stop = function() {
            return this.paused(!0)
        }
        ,
        _.gotoAndPlay = function(t, e) {
            return this.play(t, e)
        }
        ,
        _.gotoAndStop = function(t, e) {
            return this.pause(t, e)
        }
        ,
        _.render = function(t, e, i) {
            this._gc && this._enabled(!0, !1);
            var n, s, o, a, h, c, d, p = this._dirty ? this.totalDuration() : this._totalDuration, f = this._time, m = this._startTime, _ = this._timeScale, y = this._paused;
            if (t >= p - 1e-7 && t >= 0)
                this._totalTime = this._time = p,
                this._reversed || this._hasPausedChild() || (s = !0,
                a = "onComplete",
                h = !!this._timeline.autoRemoveChildren,
                0 === this._duration && (0 >= t && t >= -1e-7 || this._rawPrevTime < 0 || this._rawPrevTime === r) && this._rawPrevTime !== t && this._first && (h = !0,
                this._rawPrevTime > r && (a = "onReverseComplete"))),
                this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : r,
                t = p + 1e-4;
            else if (1e-7 > t)
                if (this._totalTime = this._time = 0,
                (0 !== f || 0 === this._duration && this._rawPrevTime !== r && (this._rawPrevTime > 0 || 0 > t && this._rawPrevTime >= 0)) && (a = "onReverseComplete",
                s = this._reversed),
                0 > t)
                    this._active = !1,
                    this._timeline.autoRemoveChildren && this._reversed ? (h = s = !0,
                    a = "onReverseComplete") : this._rawPrevTime >= 0 && this._first && (h = !0),
                    this._rawPrevTime = t;
                else {
                    if (this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : r,
                    0 === t && s)
                        for (n = this._first; n && 0 === n._startTime; )
                            n._duration || (s = !1),
                            n = n._next;
                    t = 0,
                    this._initted || (h = !0)
                }
            else {
                if (this._hasPause && !this._forcingPlayhead && !e) {
                    if (t >= f)
                        for (n = this._first; n && n._startTime <= t && !c; )
                            n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (c = n),
                            n = n._next;
                    else
                        for (n = this._last; n && n._startTime >= t && !c; )
                            n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (c = n),
                            n = n._prev;
                    c && (this._time = t = c._startTime,
                    this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
                }
                this._totalTime = this._time = this._rawPrevTime = t
            }
            if (this._time !== f && this._first || i || h || c) {
                if (this._initted || (this._initted = !0),
                this._active || !this._paused && this._time !== f && t > 0 && (this._active = !0),
                0 === f && this.vars.onStart && (0 === this._time && this._duration || e || this._callback("onStart")),
                (d = this._time) >= f)
                    for (n = this._first; n && (o = n._next,
                    d === this._time && (!this._paused || y)); )
                        (n._active || n._startTime <= d && !n._paused && !n._gc) && (c === n && this.pause(),
                        n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)),
                        n = o;
                else
                    for (n = this._last; n && (o = n._prev,
                    d === this._time && (!this._paused || y)); ) {
                        if (n._active || n._startTime <= f && !n._paused && !n._gc) {
                            if (c === n) {
                                for (c = n._prev; c && c.endTime() > this._time; )
                                    c.render(c._reversed ? c.totalDuration() - (t - c._startTime) * c._timeScale : (t - c._startTime) * c._timeScale, e, i),
                                    c = c._prev;
                                c = null,
                                this.pause()
                            }
                            n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                        }
                        n = o
                    }
                this._onUpdate && (e || (l.length && u(),
                this._callback("onUpdate"))),
                a && (this._gc || (m === this._startTime || _ !== this._timeScale) && (0 === this._time || p >= this.totalDuration()) && (s && (l.length && u(),
                this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                this._active = !1),
                !e && this.vars[a] && this._callback(a)))
            }
        }
        ,
        _._hasPausedChild = function() {
            for (var t = this._first; t; ) {
                if (t._paused || t instanceof n && t._hasPausedChild())
                    return !0;
                t = t._next
            }
            return !1
        }
        ,
        _.getChildren = function(t, e, n, r) {
            r = r || -9999999999;
            for (var s = [], o = this._first, a = 0; o; )
                o._startTime < r || (o instanceof i ? !1 !== e && (s[a++] = o) : (!1 !== n && (s[a++] = o),
                !1 !== t && (s = s.concat(o.getChildren(!0, e, n)),
                a = s.length))),
                o = o._next;
            return s
        }
        ,
        _.getTweensOf = function(t, e) {
            var n, r, s = this._gc, o = [], a = 0;
            for (s && this._enabled(!0, !0),
            n = i.getTweensOf(t),
            r = n.length; --r > -1; )
                (n[r].timeline === this || e && this._contains(n[r])) && (o[a++] = n[r]);
            return s && this._enabled(!1, !0),
            o
        }
        ,
        _.recent = function() {
            return this._recent
        }
        ,
        _._contains = function(t) {
            for (var e = t.timeline; e; ) {
                if (e === this)
                    return !0;
                e = e.timeline
            }
            return !1
        }
        ,
        _.shiftChildren = function(t, e, i) {
            i = i || 0;
            for (var n, r = this._first, s = this._labels; r; )
                r._startTime >= i && (r._startTime += t),
                r = r._next;
            if (e)
                for (n in s)
                    s[n] >= i && (s[n] += t);
            return this._uncache(!0)
        }
        ,
        _._kill = function(t, e) {
            if (!t && !e)
                return this._enabled(!1, !1);
            for (var i = e ? this.getTweensOf(e) : this.getChildren(!0, !0, !1), n = i.length, r = !1; --n > -1; )
                i[n]._kill(t, e) && (r = !0);
            return r
        }
        ,
        _.clear = function(t) {
            var e = this.getChildren(!1, !0, !0)
              , i = e.length;
            for (this._time = this._totalTime = 0; --i > -1; )
                e[i]._enabled(!1, !1);
            return !1 !== t && (this._labels = {}),
            this._uncache(!0)
        }
        ,
        _.invalidate = function() {
            for (var e = this._first; e; )
                e.invalidate(),
                e = e._next;
            return t.prototype.invalidate.call(this)
        }
        ,
        _._enabled = function(t, i) {
            if (t === this._gc)
                for (var n = this._first; n; )
                    n._enabled(t, !0),
                    n = n._next;
            return e.prototype._enabled.call(this, t, i)
        }
        ,
        _.totalTime = function(e, i, n) {
            this._forcingPlayhead = !0;
            var r = t.prototype.totalTime.apply(this, arguments);
            return this._forcingPlayhead = !1,
            r
        }
        ,
        _.duration = function(t) {
            return arguments.length ? (0 !== this.duration() && 0 !== t && this.timeScale(this._duration / t),
            this) : (this._dirty && this.totalDuration(),
            this._duration)
        }
        ,
        _.totalDuration = function(t) {
            if (!arguments.length) {
                if (this._dirty) {
                    for (var e, i, n = 0, r = this._last, s = 999999999999; r; )
                        e = r._prev,
                        r._dirty && r.totalDuration(),
                        r._startTime > s && this._sortChildren && !r._paused ? this.add(r, r._startTime - r._delay) : s = r._startTime,
                        r._startTime < 0 && !r._paused && (n -= r._startTime,
                        this._timeline.smoothChildTiming && (this._startTime += r._startTime / this._timeScale),
                        this.shiftChildren(-r._startTime, !1, -9999999999),
                        s = 0),
                        i = r._startTime + r._totalDuration / r._timeScale,
                        i > n && (n = i),
                        r = e;
                    this._duration = this._totalDuration = n,
                    this._dirty = !1
                }
                return this._totalDuration
            }
            return t && this.totalDuration() ? this.timeScale(this._totalDuration / t) : this
        }
        ,
        _.paused = function(e) {
            if (!e)
                for (var i = this._first, n = this._time; i; )
                    i._startTime === n && "isPause" === i.data && (i._rawPrevTime = 0),
                    i = i._next;
            return t.prototype.paused.apply(this, arguments)
        }
        ,
        _.usesFrames = function() {
            for (var e = this._timeline; e._timeline; )
                e = e._timeline;
            return e === t._rootFramesTimeline
        }
        ,
        _.rawTime = function(t) {
            return t && (this._paused || this._repeat && this.time() > 0 && this.totalProgress() < 1) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(t) - this._startTime) * this._timeScale
        }
        ,
        n
    }, !0),
    _gsScope._gsDefine("TimelineMax", ["TimelineLite", "TweenLite", "easing.Ease"], function(t, e, i) {
        var n = function(e) {
            t.call(this, e),
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._cycle = 0,
            this._yoyo = !0 === this.vars.yoyo,
            this._dirty = !0
        }
          , r = 1e-10
          , s = e._internals
          , o = s.lazyTweens
          , a = s.lazyRender
          , h = _gsScope._gsDefine.globals
          , l = new i(null,null,1,0)
          , u = n.prototype = new t;
        return u.constructor = n,
        u.kill()._gc = !1,
        n.version = "1.19.1",
        u.invalidate = function() {
            return this._yoyo = !0 === this.vars.yoyo,
            this._repeat = this.vars.repeat || 0,
            this._repeatDelay = this.vars.repeatDelay || 0,
            this._uncache(!0),
            t.prototype.invalidate.call(this)
        }
        ,
        u.addCallback = function(t, i, n, r) {
            return this.add(e.delayedCall(0, t, n, r), i)
        }
        ,
        u.removeCallback = function(t, e) {
            if (t)
                if (null == e)
                    this._kill(null, t);
                else
                    for (var i = this.getTweensOf(t, !1), n = i.length, r = this._parseTimeOrLabel(e); --n > -1; )
                        i[n]._startTime === r && i[n]._enabled(!1, !1);
            return this
        }
        ,
        u.removePause = function(e) {
            return this.removeCallback(t._internals.pauseCallback, e)
        }
        ,
        u.tweenTo = function(t, i) {
            i = i || {};
            var n, r, s, o = {
                ease: l,
                useFrames: this.usesFrames(),
                immediateRender: !1
            }, a = i.repeat && h.TweenMax || e;
            for (r in i)
                o[r] = i[r];
            return o.time = this._parseTimeOrLabel(t),
            n = Math.abs(Number(o.time) - this._time) / this._timeScale || .001,
            s = new a(this,n,o),
            o.onStart = function() {
                s.target.paused(!0),
                s.vars.time !== s.target.time() && n === s.duration() && s.duration(Math.abs(s.vars.time - s.target.time()) / s.target._timeScale),
                i.onStart && i.onStart.apply(i.onStartScope || i.callbackScope || s, i.onStartParams || [])
            }
            ,
            s
        }
        ,
        u.tweenFromTo = function(t, e, i) {
            i = i || {},
            t = this._parseTimeOrLabel(t),
            i.startAt = {
                onComplete: this.seek,
                onCompleteParams: [t],
                callbackScope: this
            },
            i.immediateRender = !1 !== i.immediateRender;
            var n = this.tweenTo(e, i);
            return n.duration(Math.abs(n.vars.time - t) / this._timeScale || .001)
        }
        ,
        u.render = function(t, e, i) {
            this._gc && this._enabled(!0, !1);
            var n, s, h, l, u, c, d, p, f = this._dirty ? this.totalDuration() : this._totalDuration, m = this._duration, _ = this._time, y = this._totalTime, v = this._startTime, g = this._timeScale, x = this._rawPrevTime, b = this._paused, w = this._cycle;
            if (t >= f - 1e-7 && t >= 0)
                this._locked || (this._totalTime = f,
                this._cycle = this._repeat),
                this._reversed || this._hasPausedChild() || (s = !0,
                l = "onComplete",
                u = !!this._timeline.autoRemoveChildren,
                0 === this._duration && (0 >= t && t >= -1e-7 || 0 > x || x === r) && x !== t && this._first && (u = !0,
                x > r && (l = "onReverseComplete"))),
                this._rawPrevTime = this._duration || !e || t || this._rawPrevTime === t ? t : r,
                this._yoyo && 0 != (1 & this._cycle) ? this._time = t = 0 : (this._time = m,
                t = m + 1e-4);
            else if (1e-7 > t)
                if (this._locked || (this._totalTime = this._cycle = 0),
                this._time = 0,
                (0 !== _ || 0 === m && x !== r && (x > 0 || 0 > t && x >= 0) && !this._locked) && (l = "onReverseComplete",
                s = this._reversed),
                0 > t)
                    this._active = !1,
                    this._timeline.autoRemoveChildren && this._reversed ? (u = s = !0,
                    l = "onReverseComplete") : x >= 0 && this._first && (u = !0),
                    this._rawPrevTime = t;
                else {
                    if (this._rawPrevTime = m || !e || t || this._rawPrevTime === t ? t : r,
                    0 === t && s)
                        for (n = this._first; n && 0 === n._startTime; )
                            n._duration || (s = !1),
                            n = n._next;
                    t = 0,
                    this._initted || (u = !0)
                }
            else if (0 === m && 0 > x && (u = !0),
            this._time = this._rawPrevTime = t,
            this._locked || (this._totalTime = t,
            0 !== this._repeat && (c = m + this._repeatDelay,
            this._cycle = this._totalTime / c >> 0,
            0 !== this._cycle && this._cycle === this._totalTime / c && t >= y && this._cycle--,
            this._time = this._totalTime - this._cycle * c,
            this._yoyo && 0 != (1 & this._cycle) && (this._time = m - this._time),
            this._time > m ? (this._time = m,
            t = m + 1e-4) : this._time < 0 ? this._time = t = 0 : t = this._time)),
            this._hasPause && !this._forcingPlayhead && !e && m > t) {
                if ((t = this._time) >= _ || this._repeat && w !== this._cycle)
                    for (n = this._first; n && n._startTime <= t && !d; )
                        n._duration || "isPause" !== n.data || n.ratio || 0 === n._startTime && 0 === this._rawPrevTime || (d = n),
                        n = n._next;
                else
                    for (n = this._last; n && n._startTime >= t && !d; )
                        n._duration || "isPause" === n.data && n._rawPrevTime > 0 && (d = n),
                        n = n._prev;
                d && (this._time = t = d._startTime,
                this._totalTime = t + this._cycle * (this._totalDuration + this._repeatDelay))
            }
            if (this._cycle !== w && !this._locked) {
                var T = this._yoyo && 0 != (1 & w)
                  , A = T === (this._yoyo && 0 != (1 & this._cycle))
                  , S = this._totalTime
                  , C = this._cycle
                  , E = this._rawPrevTime
                  , P = this._time;
                if (this._totalTime = w * m,
                this._cycle < w ? T = !T : this._totalTime += m,
                this._time = _,
                this._rawPrevTime = 0 === m ? x - 1e-4 : x,
                this._cycle = w,
                this._locked = !0,
                _ = T ? 0 : m,
                this.render(_, e, 0 === m),
                e || this._gc || this.vars.onRepeat && (this._cycle = C,
                this._locked = !1,
                this._callback("onRepeat")),
                _ !== this._time)
                    return;
                if (A && (this._cycle = w,
                this._locked = !0,
                _ = T ? m + 1e-4 : -1e-4,
                this.render(_, !0, !1)),
                this._locked = !1,
                this._paused && !b)
                    return;
                this._time = P,
                this._totalTime = S,
                this._cycle = C,
                this._rawPrevTime = E
            }
            if (!(this._time !== _ && this._first || i || u || d))
                return void (y !== this._totalTime && this._onUpdate && (e || this._callback("onUpdate")));
            if (this._initted || (this._initted = !0),
            this._active || !this._paused && this._totalTime !== y && t > 0 && (this._active = !0),
            0 === y && this.vars.onStart && (0 === this._totalTime && this._totalDuration || e || this._callback("onStart")),
            (p = this._time) >= _)
                for (n = this._first; n && (h = n._next,
                p === this._time && (!this._paused || b)); )
                    (n._active || n._startTime <= this._time && !n._paused && !n._gc) && (d === n && this.pause(),
                    n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)),
                    n = h;
            else
                for (n = this._last; n && (h = n._prev,
                p === this._time && (!this._paused || b)); ) {
                    if (n._active || n._startTime <= _ && !n._paused && !n._gc) {
                        if (d === n) {
                            for (d = n._prev; d && d.endTime() > this._time; )
                                d.render(d._reversed ? d.totalDuration() - (t - d._startTime) * d._timeScale : (t - d._startTime) * d._timeScale, e, i),
                                d = d._prev;
                            d = null,
                            this.pause()
                        }
                        n._reversed ? n.render((n._dirty ? n.totalDuration() : n._totalDuration) - (t - n._startTime) * n._timeScale, e, i) : n.render((t - n._startTime) * n._timeScale, e, i)
                    }
                    n = h
                }
            this._onUpdate && (e || (o.length && a(),
            this._callback("onUpdate"))),
            l && (this._locked || this._gc || (v === this._startTime || g !== this._timeScale) && (0 === this._time || f >= this.totalDuration()) && (s && (o.length && a(),
            this._timeline.autoRemoveChildren && this._enabled(!1, !1),
            this._active = !1),
            !e && this.vars[l] && this._callback(l)))
        }
        ,
        u.getActive = function(t, e, i) {
            null == t && (t = !0),
            null == e && (e = !0),
            null == i && (i = !1);
            var n, r, s = [], o = this.getChildren(t, e, i), a = 0, h = o.length;
            for (n = 0; h > n; n++)
                r = o[n],
                r.isActive() && (s[a++] = r);
            return s
        }
        ,
        u.getLabelAfter = function(t) {
            t || 0 !== t && (t = this._time);
            var e, i = this.getLabelsArray(), n = i.length;
            for (e = 0; n > e; e++)
                if (i[e].time > t)
                    return i[e].name;
            return null
        }
        ,
        u.getLabelBefore = function(t) {
            null == t && (t = this._time);
            for (var e = this.getLabelsArray(), i = e.length; --i > -1; )
                if (e[i].time < t)
                    return e[i].name;
            return null
        }
        ,
        u.getLabelsArray = function() {
            var t, e = [], i = 0;
            for (t in this._labels)
                e[i++] = {
                    time: this._labels[t],
                    name: t
                };
            return e.sort(function(t, e) {
                return t.time - e.time
            }),
            e
        }
        ,
        u.invalidate = function() {
            return this._locked = !1,
            t.prototype.invalidate.call(this)
        }
        ,
        u.progress = function(t, e) {
            return arguments.length ? this.totalTime(this.duration() * (this._yoyo && 0 != (1 & this._cycle) ? 1 - t : t) + this._cycle * (this._duration + this._repeatDelay), e) : this._time / this.duration()
        }
        ,
        u.totalProgress = function(t, e) {
            return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._totalTime / this.totalDuration()
        }
        ,
        u.totalDuration = function(e) {
            return arguments.length ? -1 !== this._repeat && e ? this.timeScale(this.totalDuration() / e) : this : (this._dirty && (t.prototype.totalDuration.call(this),
            this._totalDuration = -1 === this._repeat ? 999999999999 : this._duration * (this._repeat + 1) + this._repeatDelay * this._repeat),
            this._totalDuration)
        }
        ,
        u.time = function(t, e) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            t > this._duration && (t = this._duration),
            this._yoyo && 0 != (1 & this._cycle) ? t = this._duration - t + this._cycle * (this._duration + this._repeatDelay) : 0 !== this._repeat && (t += this._cycle * (this._duration + this._repeatDelay)),
            this.totalTime(t, e)) : this._time
        }
        ,
        u.repeat = function(t) {
            return arguments.length ? (this._repeat = t,
            this._uncache(!0)) : this._repeat
        }
        ,
        u.repeatDelay = function(t) {
            return arguments.length ? (this._repeatDelay = t,
            this._uncache(!0)) : this._repeatDelay
        }
        ,
        u.yoyo = function(t) {
            return arguments.length ? (this._yoyo = t,
            this) : this._yoyo
        }
        ,
        u.currentLabel = function(t) {
            return arguments.length ? this.seek(t, !0) : this.getLabelBefore(this._time + 1e-8)
        }
        ,
        n
    }, !0),
    function() {
        var t = 180 / Math.PI
          , e = []
          , i = []
          , n = []
          , r = {}
          , s = _gsScope._gsDefine.globals
          , o = function(t, e, i, n) {
            i === n && (i = n - (n - e) / 1e6),
            t === e && (e = t + (i - t) / 1e6),
            this.a = t,
            this.b = e,
            this.c = i,
            this.d = n,
            this.da = n - t,
            this.ca = i - t,
            this.ba = e - t
        }
          , a = function(t, e, i, n) {
            var r = {
                a: t
            }
              , s = {}
              , o = {}
              , a = {
                c: n
            }
              , h = (t + e) / 2
              , l = (e + i) / 2
              , u = (i + n) / 2
              , c = (h + l) / 2
              , d = (l + u) / 2
              , p = (d - c) / 8;
            return r.b = h + (t - h) / 4,
            s.b = c + p,
            r.c = s.a = (r.b + s.b) / 2,
            s.c = o.a = (c + d) / 2,
            o.b = d - p,
            a.b = u + (n - u) / 4,
            o.c = a.a = (o.b + a.b) / 2,
            [r, s, o, a]
        }
          , h = function(t, r, s, o, h) {
            var l, u, c, d, p, f, m, _, y, v, g, x, b, w = t.length - 1, T = 0, A = t[0].a;
            for (l = 0; w > l; l++)
                p = t[T],
                u = p.a,
                c = p.d,
                d = t[T + 1].d,
                h ? (g = e[l],
                x = i[l],
                b = (x + g) * r * .25 / (o ? .5 : n[l] || .5),
                f = c - (c - u) * (o ? .5 * r : 0 !== g ? b / g : 0),
                m = c + (d - c) * (o ? .5 * r : 0 !== x ? b / x : 0),
                _ = c - (f + ((m - f) * (3 * g / (g + x) + .5) / 4 || 0))) : (f = c - (c - u) * r * .5,
                m = c + (d - c) * r * .5,
                _ = c - (f + m) / 2),
                f += _,
                m += _,
                p.c = y = f,
                p.b = 0 !== l ? A : A = p.a + .6 * (p.c - p.a),
                p.da = c - u,
                p.ca = y - u,
                p.ba = A - u,
                s ? (v = a(u, A, y, c),
                t.splice(T, 1, v[0], v[1], v[2], v[3]),
                T += 4) : T++,
                A = m;
            p = t[T],
            p.b = A,
            p.c = A + .4 * (p.d - A),
            p.da = p.d - p.a,
            p.ca = p.c - p.a,
            p.ba = A - p.a,
            s && (v = a(p.a, A, p.c, p.d),
            t.splice(T, 1, v[0], v[1], v[2], v[3]))
        }
          , l = function(t, n, r, s) {
            var a, h, l, u, c, d, p = [];
            if (s)
                for (t = [s].concat(t),
                h = t.length; --h > -1; )
                    "string" == typeof (d = t[h][n]) && "=" === d.charAt(1) && (t[h][n] = s[n] + Number(d.charAt(0) + d.substr(2)));
            if (0 > (a = t.length - 2))
                return p[0] = new o(t[0][n],0,0,t[-1 > a ? 0 : 1][n]),
                p;
            for (h = 0; a > h; h++)
                l = t[h][n],
                u = t[h + 1][n],
                p[h] = new o(l,0,0,u),
                r && (c = t[h + 2][n],
                e[h] = (e[h] || 0) + (u - l) * (u - l),
                i[h] = (i[h] || 0) + (c - u) * (c - u));
            return p[h] = new o(t[h][n],0,0,t[h + 1][n]),
            p
        }
          , u = function(t, s, o, a, u, c) {
            var d, p, f, m, _, y, v, g, x = {}, b = [], w = c || t[0];
            u = "string" == typeof u ? "," + u + "," : ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",
            null == s && (s = 1);
            for (p in t[0])
                b.push(p);
            if (t.length > 1) {
                for (g = t[t.length - 1],
                v = !0,
                d = b.length; --d > -1; )
                    if (p = b[d],
                    Math.abs(w[p] - g[p]) > .05) {
                        v = !1;
                        break
                    }
                v && (t = t.concat(),
                c && t.unshift(c),
                t.push(t[1]),
                c = t[t.length - 3])
            }
            for (e.length = i.length = n.length = 0,
            d = b.length; --d > -1; )
                p = b[d],
                r[p] = -1 !== u.indexOf("," + p + ","),
                x[p] = l(t, p, r[p], c);
            for (d = e.length; --d > -1; )
                e[d] = Math.sqrt(e[d]),
                i[d] = Math.sqrt(i[d]);
            if (!a) {
                for (d = b.length; --d > -1; )
                    if (r[p])
                        for (f = x[b[d]],
                        y = f.length - 1,
                        m = 0; y > m; m++)
                            _ = f[m + 1].da / i[m] + f[m].da / e[m] || 0,
                            n[m] = (n[m] || 0) + _ * _;
                for (d = n.length; --d > -1; )
                    n[d] = Math.sqrt(n[d])
            }
            for (d = b.length,
            m = o ? 4 : 1; --d > -1; )
                p = b[d],
                f = x[p],
                h(f, s, o, a, r[p]),
                v && (f.splice(0, m),
                f.splice(f.length - m, m));
            return x
        }
          , c = function(t, e, i) {
            e = e || "soft";
            var n, r, s, a, h, l, u, c, d, p, f, m = {}, _ = "cubic" === e ? 3 : 2, y = "soft" === e, v = [];
            if (y && i && (t = [i].concat(t)),
            null == t || t.length < _ + 1)
                throw "invalid Bezier data";
            for (d in t[0])
                v.push(d);
            for (l = v.length; --l > -1; ) {
                for (d = v[l],
                m[d] = h = [],
                p = 0,
                c = t.length,
                u = 0; c > u; u++)
                    n = null == i ? t[u][d] : "string" == typeof (f = t[u][d]) && "=" === f.charAt(1) ? i[d] + Number(f.charAt(0) + f.substr(2)) : Number(f),
                    y && u > 1 && c - 1 > u && (h[p++] = (n + h[p - 2]) / 2),
                    h[p++] = n;
                for (c = p - _ + 1,
                p = 0,
                u = 0; c > u; u += _)
                    n = h[u],
                    r = h[u + 1],
                    s = h[u + 2],
                    a = 2 === _ ? 0 : h[u + 3],
                    h[p++] = f = 3 === _ ? new o(n,r,s,a) : new o(n,(2 * r + n) / 3,(2 * r + s) / 3,s);
                h.length = p
            }
            return m
        }
          , d = function(t, e, i) {
            for (var n, r, s, o, a, h, l, u, c, d, p, f = 1 / i, m = t.length; --m > -1; )
                for (d = t[m],
                s = d.a,
                o = d.d - s,
                a = d.c - s,
                h = d.b - s,
                n = r = 0,
                u = 1; i >= u; u++)
                    l = f * u,
                    c = 1 - l,
                    n = r - (r = (l * l * o + 3 * c * (l * a + c * h)) * l),
                    p = m * i + u - 1,
                    e[p] = (e[p] || 0) + n * n
        }
          , p = function(t, e) {
            e = e >> 0 || 6;
            var i, n, r, s, o = [], a = [], h = 0, l = 0, u = e - 1, c = [], p = [];
            for (i in t)
                d(t[i], o, e);
            for (r = o.length,
            n = 0; r > n; n++)
                h += Math.sqrt(o[n]),
                s = n % e,
                p[s] = h,
                s === u && (l += h,
                s = n / e >> 0,
                c[s] = p,
                a[s] = l,
                h = 0,
                p = []);
            return {
                length: l,
                lengths: a,
                segments: c
            }
        }
          , f = _gsScope._gsDefine.plugin({
            propName: "bezier",
            priority: -1,
            version: "1.3.7",
            API: 2,
            global: !0,
            init: function(t, e, i) {
                this._target = t,
                e instanceof Array && (e = {
                    values: e
                }),
                this._func = {},
                this._mod = {},
                this._props = [],
                this._timeRes = null == e.timeResolution ? 6 : parseInt(e.timeResolution, 10);
                var n, r, s, o, a, h = e.values || [], l = {}, d = h[0], f = e.autoRotate || i.vars.orientToBezier;
                this._autoRotate = f ? f instanceof Array ? f : [["x", "y", "rotation", !0 === f ? 0 : Number(f) || 0]] : null;
                for (n in d)
                    this._props.push(n);
                for (s = this._props.length; --s > -1; )
                    n = this._props[s],
                    this._overwriteProps.push(n),
                    r = this._func[n] = "function" == typeof t[n],
                    l[n] = r ? t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)]() : parseFloat(t[n]),
                    a || l[n] !== h[0][n] && (a = l);
                if (this._beziers = "cubic" !== e.type && "quadratic" !== e.type && "soft" !== e.type ? u(h, isNaN(e.curviness) ? 1 : e.curviness, !1, "thruBasic" === e.type, e.correlate, a) : c(h, e.type, l),
                this._segCount = this._beziers[n].length,
                this._timeRes) {
                    var m = p(this._beziers, this._timeRes);
                    this._length = m.length,
                    this._lengths = m.lengths,
                    this._segments = m.segments,
                    this._l1 = this._li = this._s1 = this._si = 0,
                    this._l2 = this._lengths[0],
                    this._curSeg = this._segments[0],
                    this._s2 = this._curSeg[0],
                    this._prec = 1 / this._curSeg.length
                }
                if (f = this._autoRotate)
                    for (this._initialRotations = [],
                    f[0]instanceof Array || (this._autoRotate = f = [f]),
                    s = f.length; --s > -1; ) {
                        for (o = 0; 3 > o; o++)
                            n = f[s][o],
                            this._func[n] = "function" == typeof t[n] && t[n.indexOf("set") || "function" != typeof t["get" + n.substr(3)] ? n : "get" + n.substr(3)];
                        n = f[s][2],
                        this._initialRotations[s] = (this._func[n] ? this._func[n].call(this._target) : this._target[n]) || 0,
                        this._overwriteProps.push(n)
                    }
                return this._startRatio = i.vars.runBackwards ? 1 : 0,
                !0
            },
            set: function(e) {
                var i, n, r, s, o, a, h, l, u, c, d = this._segCount, p = this._func, f = this._target, m = e !== this._startRatio;
                if (this._timeRes) {
                    if (u = this._lengths,
                    c = this._curSeg,
                    e *= this._length,
                    r = this._li,
                    e > this._l2 && d - 1 > r) {
                        for (l = d - 1; l > r && (this._l2 = u[++r]) <= e; )
                            ;
                        this._l1 = u[r - 1],
                        this._li = r,
                        this._curSeg = c = this._segments[r],
                        this._s2 = c[this._s1 = this._si = 0]
                    } else if (e < this._l1 && r > 0) {
                        for (; r > 0 && (this._l1 = u[--r]) >= e; )
                            ;
                        0 === r && e < this._l1 ? this._l1 = 0 : r++,
                        this._l2 = u[r],
                        this._li = r,
                        this._curSeg = c = this._segments[r],
                        this._s1 = c[(this._si = c.length - 1) - 1] || 0,
                        this._s2 = c[this._si]
                    }
                    if (i = r,
                    e -= this._l1,
                    r = this._si,
                    e > this._s2 && r < c.length - 1) {
                        for (l = c.length - 1; l > r && (this._s2 = c[++r]) <= e; )
                            ;
                        this._s1 = c[r - 1],
                        this._si = r
                    } else if (e < this._s1 && r > 0) {
                        for (; r > 0 && (this._s1 = c[--r]) >= e; )
                            ;
                        0 === r && e < this._s1 ? this._s1 = 0 : r++,
                        this._s2 = c[r],
                        this._si = r
                    }
                    a = (r + (e - this._s1) / (this._s2 - this._s1)) * this._prec || 0
                } else
                    i = 0 > e ? 0 : e >= 1 ? d - 1 : d * e >> 0,
                    a = (e - i * (1 / d)) * d;
                for (n = 1 - a,
                r = this._props.length; --r > -1; )
                    s = this._props[r],
                    o = this._beziers[s][i],
                    h = (a * a * o.da + 3 * n * (a * o.ca + n * o.ba)) * a + o.a,
                    this._mod[s] && (h = this._mod[s](h, f)),
                    p[s] ? f[s](h) : f[s] = h;
                if (this._autoRotate) {
                    var _, y, v, g, x, b, w, T = this._autoRotate;
                    for (r = T.length; --r > -1; )
                        s = T[r][2],
                        b = T[r][3] || 0,
                        w = !0 === T[r][4] ? 1 : t,
                        o = this._beziers[T[r][0]],
                        _ = this._beziers[T[r][1]],
                        o && _ && (o = o[i],
                        _ = _[i],
                        y = o.a + (o.b - o.a) * a,
                        g = o.b + (o.c - o.b) * a,
                        y += (g - y) * a,
                        g += (o.c + (o.d - o.c) * a - g) * a,
                        v = _.a + (_.b - _.a) * a,
                        x = _.b + (_.c - _.b) * a,
                        v += (x - v) * a,
                        x += (_.c + (_.d - _.c) * a - x) * a,
                        h = m ? Math.atan2(x - v, g - y) * w + b : this._initialRotations[r],
                        this._mod[s] && (h = this._mod[s](h, f)),
                        p[s] ? f[s](h) : f[s] = h)
                }
            }
        })
          , m = f.prototype;
        f.bezierThrough = u,
        f.cubicToQuadratic = a,
        f._autoCSS = !0,
        f.quadraticToCubic = function(t, e, i) {
            return new o(t,(2 * e + t) / 3,(2 * e + i) / 3,i)
        }
        ,
        f._cssRegister = function() {
            var t = s.CSSPlugin;
            if (t) {
                var e = t._internals
                  , i = e._parseToProxy
                  , n = e._setPluginRatio
                  , r = e.CSSPropTween;
                e._registerComplexSpecialProp("bezier", {
                    parser: function(t, e, s, o, a, h) {
                        e instanceof Array && (e = {
                            values: e
                        }),
                        h = new f;
                        var l, u, c, d = e.values, p = d.length - 1, m = [], _ = {};
                        if (0 > p)
                            return a;
                        for (l = 0; p >= l; l++)
                            c = i(t, d[l], o, a, h, p !== l),
                            m[l] = c.end;
                        for (u in e)
                            _[u] = e[u];
                        return _.values = m,
                        a = new r(t,"bezier",0,0,c.pt,2),
                        a.data = c,
                        a.plugin = h,
                        a.setRatio = n,
                        0 === _.autoRotate && (_.autoRotate = !0),
                        !_.autoRotate || _.autoRotate instanceof Array || (l = !0 === _.autoRotate ? 0 : Number(_.autoRotate),
                        _.autoRotate = null != c.end.left ? [["left", "top", "rotation", l, !1]] : null != c.end.x && [["x", "y", "rotation", l, !1]]),
                        _.autoRotate && (o._transform || o._enableTransforms(!1),
                        c.autoRotate = o._target._gsTransform,
                        c.proxy.rotation = c.autoRotate.rotation || 0,
                        o._overwriteProps.push("rotation")),
                        h._onInitTween(c.proxy, _, o._tween),
                        a
                    }
                })
            }
        }
        ,
        m._mod = function(t) {
            for (var e, i = this._overwriteProps, n = i.length; --n > -1; )
                (e = t[i[n]]) && "function" == typeof e && (this._mod[i[n]] = e)
        }
        ,
        m._kill = function(t) {
            var e, i, n = this._props;
            for (e in this._beziers)
                if (e in t)
                    for (delete this._beziers[e],
                    delete this._func[e],
                    i = n.length; --i > -1; )
                        n[i] === e && n.splice(i, 1);
            if (n = this._autoRotate)
                for (i = n.length; --i > -1; )
                    t[n[i][2]] && n.splice(i, 1);
            return this._super._kill.call(this, t)
        }
    }(),
    _gsScope._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function(t, e) {
        var i, n, r, s, o = function() {
            t.call(this, "css"),
            this._overwriteProps.length = 0,
            this.setRatio = o.prototype.setRatio
        }, a = _gsScope._gsDefine.globals, h = {}, l = o.prototype = new t("css");
        l.constructor = o,
        o.version = "1.19.1",
        o.API = 2,
        o.defaultTransformPerspective = 0,
        o.defaultSkewType = "compensated",
        o.defaultSmoothOrigin = !0,
        l = "px",
        o.suffixMap = {
            top: l,
            right: l,
            bottom: l,
            left: l,
            width: l,
            height: l,
            fontSize: l,
            padding: l,
            margin: l,
            perspective: l,
            lineHeight: ""
        };
        var u, c, d, p, f, m, _, y, v = /(?:\-|\.|\b)(\d|\.|e\-)+/g, g = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g, x = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi, b = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g, w = /(?:\d|\-|\+|=|#|\.)*/g, T = /opacity *= *([^)]*)/i, A = /opacity:([^;]*)/i, S = /alpha\(opacity *=.+?\)/i, C = /^(rgb|hsl)/, E = /([A-Z])/g, P = /-([a-z])/gi, M = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi, O = function(t, e) {
            return e.toUpperCase()
        }, I = /(?:Left|Right|Width)/i, B = /(M11|M12|M21|M22)=[\d\-\.e]+/gi, R = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i, k = /,(?=[^\)]*(?:\(|$))/gi, D = /[\s,\(]/i, L = Math.PI / 180, F = 180 / Math.PI, j = {}, N = {
            style: {}
        }, z = _gsScope.document || {
            createElement: function() {
                return N
            }
        }, U = function(t, e) {
            return z.createElementNS ? z.createElementNS(e || "http://www.w3.org/1999/xhtml", t) : z.createElement(t)
        }, V = U("div"), X = U("img"), W = o._internals = {
            _specialProps: h
        }, q = (_gsScope.navigator || {}).userAgent || "", H = function() {
            var t = q.indexOf("Android")
              , e = U("a");
            return d = -1 !== q.indexOf("Safari") && -1 === q.indexOf("Chrome") && (-1 === t || parseFloat(q.substr(t + 8, 2)) > 3),
            f = d && parseFloat(q.substr(q.indexOf("Version/") + 8, 2)) < 6,
            p = -1 !== q.indexOf("Firefox"),
            (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(q) || /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(q)) && (m = parseFloat(RegExp.$1)),
            !!e && (e.style.cssText = "top:1px;opacity:.55;",
            /^0.55/.test(e.style.opacity))
        }(), G = function(t) {
            return T.test("string" == typeof t ? t : (t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1
        }, Y = function(t) {
            _gsScope.console && console.log(t)
        }, J = "", Q = "", Z = function(t, e) {
            e = e || V;
            var i, n, r = e.style;
            if (void 0 !== r[t])
                return t;
            for (t = t.charAt(0).toUpperCase() + t.substr(1),
            i = ["O", "Moz", "ms", "Ms", "Webkit"],
            n = 5; --n > -1 && void 0 === r[i[n] + t]; )
                ;
            return n >= 0 ? (Q = 3 === n ? "ms" : i[n],
            J = "-" + Q.toLowerCase() + "-",
            Q + t) : null
        }, K = z.defaultView ? z.defaultView.getComputedStyle : function() {}
        , $ = o.getStyle = function(t, e, i, n, r) {
            var s;
            return H || "opacity" !== e ? (!n && t.style[e] ? s = t.style[e] : (i = i || K(t)) ? s = i[e] || i.getPropertyValue(e) || i.getPropertyValue(e.replace(E, "-$1").toLowerCase()) : t.currentStyle && (s = t.currentStyle[e]),
            null == r || s && "none" !== s && "auto" !== s && "auto auto" !== s ? s : r) : G(t)
        }
        , tt = W.convertToPixels = function(t, i, n, r, s) {
            if ("px" === r || !r)
                return n;
            if ("auto" === r || !n)
                return 0;
            var a, h, l, u = I.test(i), c = t, d = V.style, p = 0 > n, f = 1 === n;
            if (p && (n = -n),
            f && (n *= 100),
            "%" === r && -1 !== i.indexOf("border"))
                a = n / 100 * (u ? t.clientWidth : t.clientHeight);
            else {
                if (d.cssText = "border:0 solid red;position:" + $(t, "position") + ";line-height:0;",
                "%" !== r && c.appendChild && "v" !== r.charAt(0) && "rem" !== r)
                    d[u ? "borderLeftWidth" : "borderTopWidth"] = n + r;
                else {
                    if (c = t.parentNode || z.body,
                    h = c._gsCache,
                    l = e.ticker.frame,
                    h && u && h.time === l)
                        return h.width * n / 100;
                    d[u ? "width" : "height"] = n + r
                }
                c.appendChild(V),
                a = parseFloat(V[u ? "offsetWidth" : "offsetHeight"]),
                c.removeChild(V),
                u && "%" === r && !1 !== o.cacheWidths && (h = c._gsCache = c._gsCache || {},
                h.time = l,
                h.width = a / n * 100),
                0 !== a || s || (a = tt(t, i, n, r, !0))
            }
            return f && (a /= 100),
            p ? -a : a
        }
        , et = W.calculateOffset = function(t, e, i) {
            if ("absolute" !== $(t, "position", i))
                return 0;
            var n = "left" === e ? "Left" : "Top"
              , r = $(t, "margin" + n, i);
            return t["offset" + n] - (tt(t, e, parseFloat(r), r.replace(w, "")) || 0)
        }
        , it = function(t, e) {
            var i, n, r, s = {};
            if (e = e || K(t, null))
                if (i = e.length)
                    for (; --i > -1; )
                        r = e[i],
                        (-1 === r.indexOf("-transform") || Mt === r) && (s[r.replace(P, O)] = e.getPropertyValue(r));
                else
                    for (i in e)
                        (-1 === i.indexOf("Transform") || Pt === i) && (s[i] = e[i]);
            else if (e = t.currentStyle || t.style)
                for (i in e)
                    "string" == typeof i && void 0 === s[i] && (s[i.replace(P, O)] = e[i]);
            return H || (s.opacity = G(t)),
            n = Xt(t, e, !1),
            s.rotation = n.rotation,
            s.skewX = n.skewX,
            s.scaleX = n.scaleX,
            s.scaleY = n.scaleY,
            s.x = n.x,
            s.y = n.y,
            It && (s.z = n.z,
            s.rotationX = n.rotationX,
            s.rotationY = n.rotationY,
            s.scaleZ = n.scaleZ),
            s.filters && delete s.filters,
            s
        }, nt = function(t, e, i, n, r) {
            var s, o, a, h = {}, l = t.style;
            for (o in i)
                "cssText" !== o && "length" !== o && isNaN(o) && (e[o] !== (s = i[o]) || r && r[o]) && -1 === o.indexOf("Origin") && ("number" == typeof s || "string" == typeof s) && (h[o] = "auto" !== s || "left" !== o && "top" !== o ? "" !== s && "auto" !== s && "none" !== s || "string" != typeof e[o] || "" === e[o].replace(b, "") ? s : 0 : et(t, o),
                void 0 !== l[o] && (a = new vt(l,o,l[o],a)));
            if (n)
                for (o in n)
                    "className" !== o && (h[o] = n[o]);
            return {
                difs: h,
                firstMPT: a
            }
        }, rt = {
            width: ["Left", "Right"],
            height: ["Top", "Bottom"]
        }, st = ["marginLeft", "marginRight", "marginTop", "marginBottom"], ot = function(t, e, i) {
            if ("svg" === (t.nodeName + "").toLowerCase())
                return (i || K(t))[e] || 0;
            if (t.getCTM && zt(t))
                return t.getBBox()[e] || 0;
            var n = parseFloat("width" === e ? t.offsetWidth : t.offsetHeight)
              , r = rt[e]
              , s = r.length;
            for (i = i || K(t, null); --s > -1; )
                n -= parseFloat($(t, "padding" + r[s], i, !0)) || 0,
                n -= parseFloat($(t, "border" + r[s] + "Width", i, !0)) || 0;
            return n
        }, at = function(t, e) {
            if ("contain" === t || "auto" === t || "auto auto" === t)
                return t + " ";
            (null == t || "" === t) && (t = "0 0");
            var i, n = t.split(" "), r = -1 !== t.indexOf("left") ? "0%" : -1 !== t.indexOf("right") ? "100%" : n[0], s = -1 !== t.indexOf("top") ? "0%" : -1 !== t.indexOf("bottom") ? "100%" : n[1];
            if (n.length > 3 && !e) {
                for (n = t.split(", ").join(",").split(","),
                t = [],
                i = 0; i < n.length; i++)
                    t.push(at(n[i]));
                return t.join(",")
            }
            return null == s ? s = "center" === r ? "50%" : "0" : "center" === s && (s = "50%"),
            ("center" === r || isNaN(parseFloat(r)) && -1 === (r + "").indexOf("=")) && (r = "50%"),
            t = r + " " + s + (n.length > 2 ? " " + n[2] : ""),
            e && (e.oxp = -1 !== r.indexOf("%"),
            e.oyp = -1 !== s.indexOf("%"),
            e.oxr = "=" === r.charAt(1),
            e.oyr = "=" === s.charAt(1),
            e.ox = parseFloat(r.replace(b, "")),
            e.oy = parseFloat(s.replace(b, "")),
            e.v = t),
            e || t
        }, ht = function(t, e) {
            return "function" == typeof t && (t = t(y, _)),
            "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) : parseFloat(t) - parseFloat(e) || 0
        }, lt = function(t, e) {
            return "function" == typeof t && (t = t(y, _)),
            null == t ? e : "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) + e : parseFloat(t) || 0
        }, ut = function(t, e, i, n) {
            var r, s, o, a, h;
            return "function" == typeof t && (t = t(y, _)),
            null == t ? a = e : "number" == typeof t ? a = t : (r = 360,
            s = t.split("_"),
            h = "=" === t.charAt(1),
            o = (h ? parseInt(t.charAt(0) + "1", 10) * parseFloat(s[0].substr(2)) : parseFloat(s[0])) * (-1 === t.indexOf("rad") ? 1 : F) - (h ? 0 : e),
            s.length && (n && (n[i] = e + o),
            -1 !== t.indexOf("short") && (o %= r) !== o % (r / 2) && (o = 0 > o ? o + r : o - r),
            -1 !== t.indexOf("_cw") && 0 > o ? o = (o + 9999999999 * r) % r - (o / r | 0) * r : -1 !== t.indexOf("ccw") && o > 0 && (o = (o - 9999999999 * r) % r - (o / r | 0) * r)),
            a = e + o),
            1e-6 > a && a > -1e-6 && (a = 0),
            a
        }, ct = {
            aqua: [0, 255, 255],
            lime: [0, 255, 0],
            silver: [192, 192, 192],
            black: [0, 0, 0],
            maroon: [128, 0, 0],
            teal: [0, 128, 128],
            blue: [0, 0, 255],
            navy: [0, 0, 128],
            white: [255, 255, 255],
            fuchsia: [255, 0, 255],
            olive: [128, 128, 0],
            yellow: [255, 255, 0],
            orange: [255, 165, 0],
            gray: [128, 128, 128],
            purple: [128, 0, 128],
            green: [0, 128, 0],
            red: [255, 0, 0],
            pink: [255, 192, 203],
            cyan: [0, 255, 255],
            transparent: [255, 255, 255, 0]
        }, dt = function(t, e, i) {
            return t = 0 > t ? t + 1 : t > 1 ? t - 1 : t,
            255 * (1 > 6 * t ? e + (i - e) * t * 6 : .5 > t ? i : 2 > 3 * t ? e + (i - e) * (2 / 3 - t) * 6 : e) + .5 | 0
        }, pt = o.parseColor = function(t, e) {
            var i, n, r, s, o, a, h, l, u, c, d;
            if (t)
                if ("number" == typeof t)
                    i = [t >> 16, t >> 8 & 255, 255 & t];
                else {
                    if ("," === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)),
                    ct[t])
                        i = ct[t];
                    else if ("#" === t.charAt(0))
                        4 === t.length && (n = t.charAt(1),
                        r = t.charAt(2),
                        s = t.charAt(3),
                        t = "#" + n + n + r + r + s + s),
                        t = parseInt(t.substr(1), 16),
                        i = [t >> 16, t >> 8 & 255, 255 & t];
                    else if ("hsl" === t.substr(0, 3))
                        if (i = d = t.match(v),
                        e) {
                            if (-1 !== t.indexOf("="))
                                return t.match(g)
                        } else
                            o = Number(i[0]) % 360 / 360,
                            a = Number(i[1]) / 100,
                            h = Number(i[2]) / 100,
                            r = .5 >= h ? h * (a + 1) : h + a - h * a,
                            n = 2 * h - r,
                            i.length > 3 && (i[3] = Number(t[3])),
                            i[0] = dt(o + 1 / 3, n, r),
                            i[1] = dt(o, n, r),
                            i[2] = dt(o - 1 / 3, n, r);
                    else
                        i = t.match(v) || ct.transparent;
                    i[0] = Number(i[0]),
                    i[1] = Number(i[1]),
                    i[2] = Number(i[2]),
                    i.length > 3 && (i[3] = Number(i[3]))
                }
            else
                i = ct.black;
            return e && !d && (n = i[0] / 255,
            r = i[1] / 255,
            s = i[2] / 255,
            l = Math.max(n, r, s),
            u = Math.min(n, r, s),
            h = (l + u) / 2,
            l === u ? o = a = 0 : (c = l - u,
            a = h > .5 ? c / (2 - l - u) : c / (l + u),
            o = l === n ? (r - s) / c + (s > r ? 6 : 0) : l === r ? (s - n) / c + 2 : (n - r) / c + 4,
            o *= 60),
            i[0] = o + .5 | 0,
            i[1] = 100 * a + .5 | 0,
            i[2] = 100 * h + .5 | 0),
            i
        }
        , ft = function(t, e) {
            var i, n, r, s = t.match(mt) || [], o = 0, a = s.length ? "" : t;
            for (i = 0; i < s.length; i++)
                n = s[i],
                r = t.substr(o, t.indexOf(n, o) - o),
                o += r.length + n.length,
                n = pt(n, e),
                3 === n.length && n.push(1),
                a += r + (e ? "hsla(" + n[0] + "," + n[1] + "%," + n[2] + "%," + n[3] : "rgba(" + n.join(",")) + ")";
            return a + t.substr(o)
        }, mt = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
        for (l in ct)
            mt += "|" + l + "\\b";
        mt = new RegExp(mt + ")","gi"),
        o.colorStringFilter = function(t) {
            var e, i = t[0] + t[1];
            mt.test(i) && (e = -1 !== i.indexOf("hsl(") || -1 !== i.indexOf("hsla("),
            t[0] = ft(t[0], e),
            t[1] = ft(t[1], e)),
            mt.lastIndex = 0
        }
        ,
        e.defaultStringFilter || (e.defaultStringFilter = o.colorStringFilter);
        var _t = function(t, e, i, n) {
            if (null == t)
                return function(t) {
                    return t
                }
                ;
            var r, s = e ? (t.match(mt) || [""])[0] : "", o = t.split(s).join("").match(x) || [], a = t.substr(0, t.indexOf(o[0])), h = ")" === t.charAt(t.length - 1) ? ")" : "", l = -1 !== t.indexOf(" ") ? " " : ",", u = o.length, c = u > 0 ? o[0].replace(v, "") : "";
            return u ? r = e ? function(t) {
                var e, d, p, f;
                if ("number" == typeof t)
                    t += c;
                else if (n && k.test(t)) {
                    for (f = t.replace(k, "|").split("|"),
                    p = 0; p < f.length; p++)
                        f[p] = r(f[p]);
                    return f.join(",")
                }
                if (e = (t.match(mt) || [s])[0],
                d = t.split(e).join("").match(x) || [],
                p = d.length,
                u > p--)
                    for (; ++p < u; )
                        d[p] = i ? d[(p - 1) / 2 | 0] : o[p];
                return a + d.join(l) + l + e + h + (-1 !== t.indexOf("inset") ? " inset" : "")
            }
            : function(t) {
                var e, s, d;
                if ("number" == typeof t)
                    t += c;
                else if (n && k.test(t)) {
                    for (s = t.replace(k, "|").split("|"),
                    d = 0; d < s.length; d++)
                        s[d] = r(s[d]);
                    return s.join(",")
                }
                if (e = t.match(x) || [],
                d = e.length,
                u > d--)
                    for (; ++d < u; )
                        e[d] = i ? e[(d - 1) / 2 | 0] : o[d];
                return a + e.join(l) + h
            }
            : function(t) {
                return t
            }
        }
          , yt = function(t) {
            return t = t.split(","),
            function(e, i, n, r, s, o, a) {
                var h, l = (i + "").split(" ");
                for (a = {},
                h = 0; 4 > h; h++)
                    a[t[h]] = l[h] = l[h] || l[(h - 1) / 2 >> 0];
                return r.parse(e, a, s, o)
            }
        }
          , vt = (W._setPluginRatio = function(t) {
            this.plugin.setRatio(t);
            for (var e, i, n, r, s, o = this.data, a = o.proxy, h = o.firstMPT; h; )
                e = a[h.v],
                h.r ? e = Math.round(e) : 1e-6 > e && e > -1e-6 && (e = 0),
                h.t[h.p] = e,
                h = h._next;
            if (o.autoRotate && (o.autoRotate.rotation = o.mod ? o.mod(a.rotation, this.t) : a.rotation),
            1 === t || 0 === t)
                for (h = o.firstMPT,
                s = 1 === t ? "e" : "b"; h; ) {
                    if (i = h.t,
                    i.type) {
                        if (1 === i.type) {
                            for (r = i.xs0 + i.s + i.xs1,
                            n = 1; n < i.l; n++)
                                r += i["xn" + n] + i["xs" + (n + 1)];
                            i[s] = r
                        }
                    } else
                        i[s] = i.s + i.xs0;
                    h = h._next
                }
        }
        ,
        function(t, e, i, n, r) {
            this.t = t,
            this.p = e,
            this.v = i,
            this.r = r,
            n && (n._prev = this,
            this._next = n)
        }
        )
          , gt = (W._parseToProxy = function(t, e, i, n, r, s) {
            var o, a, h, l, u, c = n, d = {}, p = {}, f = i._transform, m = j;
            for (i._transform = null,
            j = e,
            n = u = i.parse(t, e, n, r),
            j = m,
            s && (i._transform = f,
            c && (c._prev = null,
            c._prev && (c._prev._next = null))); n && n !== c; ) {
                if (n.type <= 1 && (a = n.p,
                p[a] = n.s + n.c,
                d[a] = n.s,
                s || (l = new vt(n,"s",a,l,n.r),
                n.c = 0),
                1 === n.type))
                    for (o = n.l; --o > 0; )
                        h = "xn" + o,
                        a = n.p + "_" + h,
                        p[a] = n.data[h],
                        d[a] = n[h],
                        s || (l = new vt(n,h,a,l,n.rxp[h]));
                n = n._next
            }
            return {
                proxy: d,
                end: p,
                firstMPT: l,
                pt: u
            }
        }
        ,
        W.CSSPropTween = function(t, e, n, r, o, a, h, l, u, c, d) {
            this.t = t,
            this.p = e,
            this.s = n,
            this.c = r,
            this.n = h || e,
            t instanceof gt || s.push(this.n),
            this.r = l,
            this.type = a || 0,
            u && (this.pr = u,
            i = !0),
            this.b = void 0 === c ? n : c,
            this.e = void 0 === d ? n + r : d,
            o && (this._next = o,
            o._prev = this)
        }
        )
          , xt = function(t, e, i, n, r, s) {
            var o = new gt(t,e,i,n - i,r,-1,s);
            return o.b = i,
            o.e = o.xs0 = n,
            o
        }
          , bt = o.parseComplex = function(t, e, i, n, r, s, a, h, l, c) {
            i = i || s || "",
            "function" == typeof n && (n = n(y, _)),
            a = new gt(t,e,0,0,a,c ? 2 : 1,null,!1,h,i,n),
            n += "",
            r && mt.test(n + i) && (n = [i, n],
            o.colorStringFilter(n),
            i = n[0],
            n = n[1]);
            var d, p, f, m, x, b, w, T, A, S, C, E, P, M = i.split(", ").join(",").split(" "), O = n.split(", ").join(",").split(" "), I = M.length, B = !1 !== u;
            for ((-1 !== n.indexOf(",") || -1 !== i.indexOf(",")) && (M = M.join(" ").replace(k, ", ").split(" "),
            O = O.join(" ").replace(k, ", ").split(" "),
            I = M.length),
            I !== O.length && (M = (s || "").split(" "),
            I = M.length),
            a.plugin = l,
            a.setRatio = c,
            mt.lastIndex = 0,
            d = 0; I > d; d++)
                if (m = M[d],
                x = O[d],
                (T = parseFloat(m)) || 0 === T)
                    a.appendXtra("", T, ht(x, T), x.replace(g, ""), B && -1 !== x.indexOf("px"), !0);
                else if (r && mt.test(m))
                    E = x.indexOf(")") + 1,
                    E = ")" + (E ? x.substr(E) : ""),
                    P = -1 !== x.indexOf("hsl") && H,
                    m = pt(m, P),
                    x = pt(x, P),
                    A = m.length + x.length > 6,
                    A && !H && 0 === x[3] ? (a["xs" + a.l] += a.l ? " transparent" : "transparent",
                    a.e = a.e.split(O[d]).join("transparent")) : (H || (A = !1),
                    P ? a.appendXtra(A ? "hsla(" : "hsl(", m[0], ht(x[0], m[0]), ",", !1, !0).appendXtra("", m[1], ht(x[1], m[1]), "%,", !1).appendXtra("", m[2], ht(x[2], m[2]), A ? "%," : "%" + E, !1) : a.appendXtra(A ? "rgba(" : "rgb(", m[0], x[0] - m[0], ",", !0, !0).appendXtra("", m[1], x[1] - m[1], ",", !0).appendXtra("", m[2], x[2] - m[2], A ? "," : E, !0),
                    A && (m = m.length < 4 ? 1 : m[3],
                    a.appendXtra("", m, (x.length < 4 ? 1 : x[3]) - m, E, !1))),
                    mt.lastIndex = 0;
                else if (b = m.match(v)) {
                    if (!(w = x.match(g)) || w.length !== b.length)
                        return a;
                    for (f = 0,
                    p = 0; p < b.length; p++)
                        C = b[p],
                        S = m.indexOf(C, f),
                        a.appendXtra(m.substr(f, S - f), Number(C), ht(w[p], C), "", B && "px" === m.substr(S + C.length, 2), 0 === p),
                        f = S + C.length;
                    a["xs" + a.l] += m.substr(f)
                } else
                    a["xs" + a.l] += a.l || a["xs" + a.l] ? " " + x : x;
            if (-1 !== n.indexOf("=") && a.data) {
                for (E = a.xs0 + a.data.s,
                d = 1; d < a.l; d++)
                    E += a["xs" + d] + a.data["xn" + d];
                a.e = E + a["xs" + d]
            }
            return a.l || (a.type = -1,
            a.xs0 = a.e),
            a.xfirst || a
        }
          , wt = 9;
        for (l = gt.prototype,
        l.l = l.pr = 0; --wt > 0; )
            l["xn" + wt] = 0,
            l["xs" + wt] = "";
        l.xs0 = "",
        l._next = l._prev = l.xfirst = l.data = l.plugin = l.setRatio = l.rxp = null,
        l.appendXtra = function(t, e, i, n, r, s) {
            var o = this
              , a = o.l;
            return o["xs" + a] += s && (a || o["xs" + a]) ? " " + t : t || "",
            i || 0 === a || o.plugin ? (o.l++,
            o.type = o.setRatio ? 2 : 1,
            o["xs" + o.l] = n || "",
            a > 0 ? (o.data["xn" + a] = e + i,
            o.rxp["xn" + a] = r,
            o["xn" + a] = e,
            o.plugin || (o.xfirst = new gt(o,"xn" + a,e,i,o.xfirst || o,0,o.n,r,o.pr),
            o.xfirst.xs0 = 0),
            o) : (o.data = {
                s: e + i
            },
            o.rxp = {},
            o.s = e,
            o.c = i,
            o.r = r,
            o)) : (o["xs" + a] += e + (n || ""),
            o)
        }
        ;
        var Tt = function(t, e) {
            e = e || {},
            this.p = e.prefix ? Z(t) || t : t,
            h[t] = h[this.p] = this,
            this.format = e.formatter || _t(e.defaultValue, e.color, e.collapsible, e.multi),
            e.parser && (this.parse = e.parser),
            this.clrs = e.color,
            this.multi = e.multi,
            this.keyword = e.keyword,
            this.dflt = e.defaultValue,
            this.pr = e.priority || 0
        }
          , At = W._registerComplexSpecialProp = function(t, e, i) {
            "object" != typeof e && (e = {
                parser: i
            });
            var n, r = t.split(","), s = e.defaultValue;
            for (i = i || [s],
            n = 0; n < r.length; n++)
                e.prefix = 0 === n && e.prefix,
                e.defaultValue = i[n] || s,
                new Tt(r[n],e)
        }
          , St = W._registerPluginProp = function(t) {
            if (!h[t]) {
                var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin";
                At(t, {
                    parser: function(t, i, n, r, s, o, l) {
                        var u = a.com.greensock.plugins[e];
                        return u ? (u._cssRegister(),
                        h[n].parse(t, i, n, r, s, o, l)) : (Y("Error: " + e + " js file not loaded."),
                        s)
                    }
                })
            }
        }
        ;
        l = Tt.prototype,
        l.parseComplex = function(t, e, i, n, r, s) {
            var o, a, h, l, u, c, d = this.keyword;
            if (this.multi && (k.test(i) || k.test(e) ? (a = e.replace(k, "|").split("|"),
            h = i.replace(k, "|").split("|")) : d && (a = [e],
            h = [i])),
            h) {
                for (l = h.length > a.length ? h.length : a.length,
                o = 0; l > o; o++)
                    e = a[o] = a[o] || this.dflt,
                    i = h[o] = h[o] || this.dflt,
                    d && (u = e.indexOf(d),
                    c = i.indexOf(d),
                    u !== c && (-1 === c ? a[o] = a[o].split(d).join("") : -1 === u && (a[o] += " " + d)));
                e = a.join(", "),
                i = h.join(", ")
            }
            return bt(t, this.p, e, i, this.clrs, this.dflt, n, this.pr, r, s)
        }
        ,
        l.parse = function(t, e, i, n, s, o, a) {
            return this.parseComplex(t.style, this.format($(t, this.p, r, !1, this.dflt)), this.format(e), s, o)
        }
        ,
        o.registerSpecialProp = function(t, e, i) {
            At(t, {
                parser: function(t, n, r, s, o, a, h) {
                    var l = new gt(t,r,0,0,o,2,r,!1,i);
                    return l.plugin = a,
                    l.setRatio = e(t, n, s._tween, r),
                    l
                },
                priority: i
            })
        }
        ,
        o.useSVGTransformAttr = !0;
        var Ct, Et = "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","), Pt = Z("transform"), Mt = J + "transform", Ot = Z("transformOrigin"), It = null !== Z("perspective"), Bt = W.Transform = function() {
            this.perspective = parseFloat(o.defaultTransformPerspective) || 0,
            this.force3D = !(!1 === o.defaultForce3D || !It) && (o.defaultForce3D || "auto")
        }
        , Rt = _gsScope.SVGElement, kt = function(t, e, i) {
            var n, r = z.createElementNS("http://www.w3.org/2000/svg", t), s = /([a-z])([A-Z])/g;
            for (n in i)
                r.setAttributeNS(null, n.replace(s, "$1-$2").toLowerCase(), i[n]);
            return e.appendChild(r),
            r
        }, Dt = z.documentElement || {}, Lt = function() {
            var t, e, i, n = m || /Android/i.test(q) && !_gsScope.chrome;
            return z.createElementNS && !n && (t = kt("svg", Dt),
            e = kt("rect", t, {
                width: 100,
                height: 50,
                x: 100
            }),
            i = e.getBoundingClientRect().width,
            e.style[Ot] = "50% 50%",
            e.style[Pt] = "scaleX(0.5)",
            n = i === e.getBoundingClientRect().width && !(p && It),
            Dt.removeChild(t)),
            n
        }(), Ft = function(t, e, i, n, r, s) {
            var a, h, l, u, c, d, p, f, m, _, y, v, g, x, b = t._gsTransform, w = Vt(t, !0);
            b && (g = b.xOrigin,
            x = b.yOrigin),
            (!n || (a = n.split(" ")).length < 2) && (p = t.getBBox(),
            0 === p.x && 0 === p.y && p.width + p.height === 0 && (p = {
                x: parseFloat(t.hasAttribute("x") ? t.getAttribute("x") : t.hasAttribute("cx") ? t.getAttribute("cx") : 0) || 0,
                y: parseFloat(t.hasAttribute("y") ? t.getAttribute("y") : t.hasAttribute("cy") ? t.getAttribute("cy") : 0) || 0,
                width: 0,
                height: 0
            }),
            e = at(e).split(" "),
            a = [(-1 !== e[0].indexOf("%") ? parseFloat(e[0]) / 100 * p.width : parseFloat(e[0])) + p.x, (-1 !== e[1].indexOf("%") ? parseFloat(e[1]) / 100 * p.height : parseFloat(e[1])) + p.y]),
            i.xOrigin = u = parseFloat(a[0]),
            i.yOrigin = c = parseFloat(a[1]),
            n && w !== Ut && (d = w[0],
            p = w[1],
            f = w[2],
            m = w[3],
            _ = w[4],
            y = w[5],
            (v = d * m - p * f) && (h = u * (m / v) + c * (-f / v) + (f * y - m * _) / v,
            l = u * (-p / v) + c * (d / v) - (d * y - p * _) / v,
            u = i.xOrigin = a[0] = h,
            c = i.yOrigin = a[1] = l)),
            b && (s && (i.xOffset = b.xOffset,
            i.yOffset = b.yOffset,
            b = i),
            r || !1 !== r && !1 !== o.defaultSmoothOrigin ? (h = u - g,
            l = c - x,
            b.xOffset += h * w[0] + l * w[2] - h,
            b.yOffset += h * w[1] + l * w[3] - l) : b.xOffset = b.yOffset = 0),
            s || t.setAttribute("data-svg-origin", a.join(" "))
        }, jt = function(t) {
            var e, i = U("svg", this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"), n = this.parentNode, r = this.nextSibling, s = this.style.cssText;
            if (Dt.appendChild(i),
            i.appendChild(this),
            this.style.display = "block",
            t)
                try {
                    e = this.getBBox(),
                    this._originalGetBBox = this.getBBox,
                    this.getBBox = jt
                } catch (t) {}
            else
                this._originalGetBBox && (e = this._originalGetBBox());
            return r ? n.insertBefore(this, r) : n.appendChild(this),
            Dt.removeChild(i),
            this.style.cssText = s,
            e
        }, Nt = function(t) {
            try {
                return t.getBBox()
            } catch (e) {
                return jt.call(t, !0)
            }
        }, zt = function(t) {
            return !(!(Rt && t.getCTM && Nt(t)) || t.parentNode && !t.ownerSVGElement)
        }, Ut = [1, 0, 0, 1, 0, 0], Vt = function(t, e) {
            var i, n, r, s, o, a, h = t._gsTransform || new Bt, l = t.style;
            if (Pt ? n = $(t, Mt, null, !0) : t.currentStyle && (n = t.currentStyle.filter.match(B),
            n = n && 4 === n.length ? [n[0].substr(4), Number(n[2].substr(4)), Number(n[1].substr(4)), n[3].substr(4), h.x || 0, h.y || 0].join(",") : ""),
            i = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n,
            i && Pt && ((a = "none" === K(t).display) || !t.parentNode) && (a && (s = l.display,
            l.display = "block"),
            t.parentNode || (o = 1,
            Dt.appendChild(t)),
            n = $(t, Mt, null, !0),
            i = !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n,
            s ? l.display = s : a && Gt(l, "display"),
            o && Dt.removeChild(t)),
            (h.svg || t.getCTM && zt(t)) && (i && -1 !== (l[Pt] + "").indexOf("matrix") && (n = l[Pt],
            i = 0),
            r = t.getAttribute("transform"),
            i && r && (-1 !== r.indexOf("matrix") ? (n = r,
            i = 0) : -1 !== r.indexOf("translate") && (n = "matrix(1,0,0,1," + r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",") + ")",
            i = 0))),
            i)
                return Ut;
            for (r = (n || "").match(v) || [],
            wt = r.length; --wt > -1; )
                s = Number(r[wt]),
                r[wt] = (o = s - (s |= 0)) ? (1e5 * o + (0 > o ? -.5 : .5) | 0) / 1e5 + s : s;
            return e && r.length > 6 ? [r[0], r[1], r[4], r[5], r[12], r[13]] : r
        }, Xt = W.getTransform = function(t, i, n, r) {
            if (t._gsTransform && n && !r)
                return t._gsTransform;
            var s, a, h, l, u, c, d = n ? t._gsTransform || new Bt : new Bt, p = d.scaleX < 0, f = 1e5, m = It ? parseFloat($(t, Ot, i, !1, "0 0 0").split(" ")[2]) || d.zOrigin || 0 : 0, _ = parseFloat(o.defaultTransformPerspective) || 0;
            if (d.svg = !(!t.getCTM || !zt(t)),
            d.svg && (Ft(t, $(t, Ot, i, !1, "50% 50%") + "", d, t.getAttribute("data-svg-origin")),
            Ct = o.useSVGTransformAttr || Lt),
            (s = Vt(t)) !== Ut) {
                if (16 === s.length) {
                    var y, v, g, x, b, w = s[0], T = s[1], A = s[2], S = s[3], C = s[4], E = s[5], P = s[6], M = s[7], O = s[8], I = s[9], B = s[10], R = s[12], k = s[13], D = s[14], L = s[11], j = Math.atan2(P, B);
                    d.zOrigin && (D = -d.zOrigin,
                    R = O * D - s[12],
                    k = I * D - s[13],
                    D = B * D + d.zOrigin - s[14]),
                    d.rotationX = j * F,
                    j && (x = Math.cos(-j),
                    b = Math.sin(-j),
                    y = C * x + O * b,
                    v = E * x + I * b,
                    g = P * x + B * b,
                    O = C * -b + O * x,
                    I = E * -b + I * x,
                    B = P * -b + B * x,
                    L = M * -b + L * x,
                    C = y,
                    E = v,
                    P = g),
                    j = Math.atan2(-A, B),
                    d.rotationY = j * F,
                    j && (x = Math.cos(-j),
                    b = Math.sin(-j),
                    y = w * x - O * b,
                    v = T * x - I * b,
                    g = A * x - B * b,
                    I = T * b + I * x,
                    B = A * b + B * x,
                    L = S * b + L * x,
                    w = y,
                    T = v,
                    A = g),
                    j = Math.atan2(T, w),
                    d.rotation = j * F,
                    j && (x = Math.cos(-j),
                    b = Math.sin(-j),
                    w = w * x + C * b,
                    v = T * x + E * b,
                    E = T * -b + E * x,
                    P = A * -b + P * x,
                    T = v),
                    d.rotationX && Math.abs(d.rotationX) + Math.abs(d.rotation) > 359.9 && (d.rotationX = d.rotation = 0,
                    d.rotationY = 180 - d.rotationY),
                    d.scaleX = (Math.sqrt(w * w + T * T) * f + .5 | 0) / f,
                    d.scaleY = (Math.sqrt(E * E + I * I) * f + .5 | 0) / f,
                    d.scaleZ = (Math.sqrt(P * P + B * B) * f + .5 | 0) / f,
                    d.rotationX || d.rotationY ? d.skewX = 0 : (d.skewX = C || E ? Math.atan2(C, E) * F + d.rotation : d.skewX || 0,
                    Math.abs(d.skewX) > 90 && Math.abs(d.skewX) < 270 && (p ? (d.scaleX *= -1,
                    d.skewX += d.rotation <= 0 ? 180 : -180,
                    d.rotation += d.rotation <= 0 ? 180 : -180) : (d.scaleY *= -1,
                    d.skewX += d.skewX <= 0 ? 180 : -180))),
                    d.perspective = L ? 1 / (0 > L ? -L : L) : 0,
                    d.x = R,
                    d.y = k,
                    d.z = D,
                    d.svg && (d.x -= d.xOrigin - (d.xOrigin * w - d.yOrigin * C),
                    d.y -= d.yOrigin - (d.yOrigin * T - d.xOrigin * E))
                } else if (!It || r || !s.length || d.x !== s[4] || d.y !== s[5] || !d.rotationX && !d.rotationY) {
                    var N = s.length >= 6
                      , z = N ? s[0] : 1
                      , U = s[1] || 0
                      , V = s[2] || 0
                      , X = N ? s[3] : 1;
                    d.x = s[4] || 0,
                    d.y = s[5] || 0,
                    h = Math.sqrt(z * z + U * U),
                    l = Math.sqrt(X * X + V * V),
                    u = z || U ? Math.atan2(U, z) * F : d.rotation || 0,
                    c = V || X ? Math.atan2(V, X) * F + u : d.skewX || 0,
                    Math.abs(c) > 90 && Math.abs(c) < 270 && (p ? (h *= -1,
                    c += 0 >= u ? 180 : -180,
                    u += 0 >= u ? 180 : -180) : (l *= -1,
                    c += 0 >= c ? 180 : -180)),
                    d.scaleX = h,
                    d.scaleY = l,
                    d.rotation = u,
                    d.skewX = c,
                    It && (d.rotationX = d.rotationY = d.z = 0,
                    d.perspective = _,
                    d.scaleZ = 1),
                    d.svg && (d.x -= d.xOrigin - (d.xOrigin * z + d.yOrigin * V),
                    d.y -= d.yOrigin - (d.xOrigin * U + d.yOrigin * X))
                }
                d.zOrigin = m;
                for (a in d)
                    d[a] < 2e-5 && d[a] > -2e-5 && (d[a] = 0)
            }
            return n && (t._gsTransform = d,
            d.svg && (Ct && t.style[Pt] ? e.delayedCall(.001, function() {
                Gt(t.style, Pt)
            }) : !Ct && t.getAttribute("transform") && e.delayedCall(.001, function() {
                t.removeAttribute("transform")
            }))),
            d
        }
        , Wt = function(t) {
            var e, i, n = this.data, r = -n.rotation * L, s = r + n.skewX * L, o = 1e5, a = (Math.cos(r) * n.scaleX * o | 0) / o, h = (Math.sin(r) * n.scaleX * o | 0) / o, l = (Math.sin(s) * -n.scaleY * o | 0) / o, u = (Math.cos(s) * n.scaleY * o | 0) / o, c = this.t.style, d = this.t.currentStyle;
            if (d) {
                i = h,
                h = -l,
                l = -i,
                e = d.filter,
                c.filter = "";
                var p, f, _ = this.t.offsetWidth, y = this.t.offsetHeight, v = "absolute" !== d.position, g = "progid:DXImageTransform.Microsoft.Matrix(M11=" + a + ", M12=" + h + ", M21=" + l + ", M22=" + u, x = n.x + _ * n.xPercent / 100, b = n.y + y * n.yPercent / 100;
                if (null != n.ox && (p = (n.oxp ? _ * n.ox * .01 : n.ox) - _ / 2,
                f = (n.oyp ? y * n.oy * .01 : n.oy) - y / 2,
                x += p - (p * a + f * h),
                b += f - (p * l + f * u)),
                v ? (p = _ / 2,
                f = y / 2,
                g += ", Dx=" + (p - (p * a + f * h) + x) + ", Dy=" + (f - (p * l + f * u) + b) + ")") : g += ", sizingMethod='auto expand')",
                -1 !== e.indexOf("DXImageTransform.Microsoft.Matrix(") ? c.filter = e.replace(R, g) : c.filter = g + " " + e,
                (0 === t || 1 === t) && 1 === a && 0 === h && 0 === l && 1 === u && (v && -1 === g.indexOf("Dx=0, Dy=0") || T.test(e) && 100 !== parseFloat(RegExp.$1) || -1 === e.indexOf(e.indexOf("Alpha")) && c.removeAttribute("filter")),
                !v) {
                    var A, S, C, E = 8 > m ? 1 : -1;
                    for (p = n.ieOffsetX || 0,
                    f = n.ieOffsetY || 0,
                    n.ieOffsetX = Math.round((_ - ((0 > a ? -a : a) * _ + (0 > h ? -h : h) * y)) / 2 + x),
                    n.ieOffsetY = Math.round((y - ((0 > u ? -u : u) * y + (0 > l ? -l : l) * _)) / 2 + b),
                    wt = 0; 4 > wt; wt++)
                        S = st[wt],
                        A = d[S],
                        i = -1 !== A.indexOf("px") ? parseFloat(A) : tt(this.t, S, parseFloat(A), A.replace(w, "")) || 0,
                        C = i !== n[S] ? 2 > wt ? -n.ieOffsetX : -n.ieOffsetY : 2 > wt ? p - n.ieOffsetX : f - n.ieOffsetY,
                        c[S] = (n[S] = Math.round(i - C * (0 === wt || 2 === wt ? 1 : E))) + "px"
                }
            }
        }, qt = W.set3DTransformRatio = W.setTransformRatio = function(t) {
            var e, i, n, r, s, o, a, h, l, u, c, d, f, m, _, y, v, g, x, b, w, T, A, S = this.data, C = this.t.style, E = S.rotation, P = S.rotationX, M = S.rotationY, O = S.scaleX, I = S.scaleY, B = S.scaleZ, R = S.x, k = S.y, D = S.z, F = S.svg, j = S.perspective, N = S.force3D, z = S.skewY, U = S.skewX;
            if (z && (U += z,
            E += z),
            ((1 === t || 0 === t) && "auto" === N && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime) || !N) && !D && !j && !M && !P && 1 === B || Ct && F || !It)
                return void (E || U || F ? (E *= L,
                T = U * L,
                A = 1e5,
                i = Math.cos(E) * O,
                s = Math.sin(E) * O,
                n = Math.sin(E - T) * -I,
                o = Math.cos(E - T) * I,
                T && "simple" === S.skewType && (e = Math.tan(T - z * L),
                e = Math.sqrt(1 + e * e),
                n *= e,
                o *= e,
                z && (e = Math.tan(z * L),
                e = Math.sqrt(1 + e * e),
                i *= e,
                s *= e)),
                F && (R += S.xOrigin - (S.xOrigin * i + S.yOrigin * n) + S.xOffset,
                k += S.yOrigin - (S.xOrigin * s + S.yOrigin * o) + S.yOffset,
                Ct && (S.xPercent || S.yPercent) && (_ = this.t.getBBox(),
                R += .01 * S.xPercent * _.width,
                k += .01 * S.yPercent * _.height),
                _ = 1e-6,
                _ > R && R > -_ && (R = 0),
                _ > k && k > -_ && (k = 0)),
                x = (i * A | 0) / A + "," + (s * A | 0) / A + "," + (n * A | 0) / A + "," + (o * A | 0) / A + "," + R + "," + k + ")",
                F && Ct ? this.t.setAttribute("transform", "matrix(" + x) : C[Pt] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix(" : "matrix(") + x) : C[Pt] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix(" : "matrix(") + O + ",0,0," + I + "," + R + "," + k + ")");
            if (p && (_ = 1e-4,
            _ > O && O > -_ && (O = B = 2e-5),
            _ > I && I > -_ && (I = B = 2e-5),
            !j || S.z || S.rotationX || S.rotationY || (j = 0)),
            E || U)
                E *= L,
                y = i = Math.cos(E),
                v = s = Math.sin(E),
                U && (E -= U * L,
                y = Math.cos(E),
                v = Math.sin(E),
                "simple" === S.skewType && (e = Math.tan((U - z) * L),
                e = Math.sqrt(1 + e * e),
                y *= e,
                v *= e,
                S.skewY && (e = Math.tan(z * L),
                e = Math.sqrt(1 + e * e),
                i *= e,
                s *= e))),
                n = -v,
                o = y;
            else {
                if (!(M || P || 1 !== B || j || F))
                    return void (C[Pt] = (S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) translate3d(" : "translate3d(") + R + "px," + k + "px," + D + "px)" + (1 !== O || 1 !== I ? " scale(" + O + "," + I + ")" : ""));
                i = o = 1,
                n = s = 0
            }
            u = 1,
            r = a = h = l = c = d = 0,
            f = j ? -1 / j : 0,
            m = S.zOrigin,
            _ = 1e-6,
            b = ",",
            w = "0",
            E = M * L,
            E && (y = Math.cos(E),
            v = Math.sin(E),
            h = -v,
            c = f * -v,
            r = i * v,
            a = s * v,
            u = y,
            f *= y,
            i *= y,
            s *= y),
            E = P * L,
            E && (y = Math.cos(E),
            v = Math.sin(E),
            e = n * y + r * v,
            g = o * y + a * v,
            l = u * v,
            d = f * v,
            r = n * -v + r * y,
            a = o * -v + a * y,
            u *= y,
            f *= y,
            n = e,
            o = g),
            1 !== B && (r *= B,
            a *= B,
            u *= B,
            f *= B),
            1 !== I && (n *= I,
            o *= I,
            l *= I,
            d *= I),
            1 !== O && (i *= O,
            s *= O,
            h *= O,
            c *= O),
            (m || F) && (m && (R += r * -m,
            k += a * -m,
            D += u * -m + m),
            F && (R += S.xOrigin - (S.xOrigin * i + S.yOrigin * n) + S.xOffset,
            k += S.yOrigin - (S.xOrigin * s + S.yOrigin * o) + S.yOffset),
            _ > R && R > -_ && (R = w),
            _ > k && k > -_ && (k = w),
            _ > D && D > -_ && (D = 0)),
            x = S.xPercent || S.yPercent ? "translate(" + S.xPercent + "%," + S.yPercent + "%) matrix3d(" : "matrix3d(",
            x += (_ > i && i > -_ ? w : i) + b + (_ > s && s > -_ ? w : s) + b + (_ > h && h > -_ ? w : h),
            x += b + (_ > c && c > -_ ? w : c) + b + (_ > n && n > -_ ? w : n) + b + (_ > o && o > -_ ? w : o),
            P || M || 1 !== B ? (x += b + (_ > l && l > -_ ? w : l) + b + (_ > d && d > -_ ? w : d) + b + (_ > r && r > -_ ? w : r),
            x += b + (_ > a && a > -_ ? w : a) + b + (_ > u && u > -_ ? w : u) + b + (_ > f && f > -_ ? w : f) + b) : x += ",0,0,0,0,1,0,",
            x += R + b + k + b + D + b + (j ? 1 + -D / j : 1) + ")",
            C[Pt] = x
        }
        ;
        l = Bt.prototype,
        l.x = l.y = l.z = l.skewX = l.skewY = l.rotation = l.rotationX = l.rotationY = l.zOrigin = l.xPercent = l.yPercent = l.xOffset = l.yOffset = 0,
        l.scaleX = l.scaleY = l.scaleZ = 1,
        At("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin", {
            parser: function(t, e, i, n, s, a, h) {
                if (n._lastParsedTransform === h)
                    return s;
                n._lastParsedTransform = h;
                var l, u = h.scale && "function" == typeof h.scale ? h.scale : 0;
                "function" == typeof h[i] && (l = h[i],
                h[i] = e),
                u && (h.scale = u(y, t));
                var c, d, p, f, m, v, g, x, b, w = t._gsTransform, T = t.style, A = Et.length, S = h, C = {}, E = "transformOrigin", P = Xt(t, r, !0, S.parseTransform), M = S.transform && ("function" == typeof S.transform ? S.transform(y, _) : S.transform);
                if (n._transform = P,
                M && "string" == typeof M && Pt)
                    d = V.style,
                    d[Pt] = M,
                    d.display = "block",
                    d.position = "absolute",
                    z.body.appendChild(V),
                    c = Xt(V, null, !1),
                    P.svg && (v = P.xOrigin,
                    g = P.yOrigin,
                    c.x -= P.xOffset,
                    c.y -= P.yOffset,
                    (S.transformOrigin || S.svgOrigin) && (M = {},
                    Ft(t, at(S.transformOrigin), M, S.svgOrigin, S.smoothOrigin, !0),
                    v = M.xOrigin,
                    g = M.yOrigin,
                    c.x -= M.xOffset - P.xOffset,
                    c.y -= M.yOffset - P.yOffset),
                    (v || g) && (x = Vt(V, !0),
                    c.x -= v - (v * x[0] + g * x[2]),
                    c.y -= g - (v * x[1] + g * x[3]))),
                    z.body.removeChild(V),
                    c.perspective || (c.perspective = P.perspective),
                    null != S.xPercent && (c.xPercent = lt(S.xPercent, P.xPercent)),
                    null != S.yPercent && (c.yPercent = lt(S.yPercent, P.yPercent));
                else if ("object" == typeof S) {
                    if (c = {
                        scaleX: lt(null != S.scaleX ? S.scaleX : S.scale, P.scaleX),
                        scaleY: lt(null != S.scaleY ? S.scaleY : S.scale, P.scaleY),
                        scaleZ: lt(S.scaleZ, P.scaleZ),
                        x: lt(S.x, P.x),
                        y: lt(S.y, P.y),
                        z: lt(S.z, P.z),
                        xPercent: lt(S.xPercent, P.xPercent),
                        yPercent: lt(S.yPercent, P.yPercent),
                        perspective: lt(S.transformPerspective, P.perspective)
                    },
                    null != (m = S.directionalRotation))
                        if ("object" == typeof m)
                            for (d in m)
                                S[d] = m[d];
                        else
                            S.rotation = m;
                    "string" == typeof S.x && -1 !== S.x.indexOf("%") && (c.x = 0,
                    c.xPercent = lt(S.x, P.xPercent)),
                    "string" == typeof S.y && -1 !== S.y.indexOf("%") && (c.y = 0,
                    c.yPercent = lt(S.y, P.yPercent)),
                    c.rotation = ut("rotation"in S ? S.rotation : "shortRotation"in S ? S.shortRotation + "_short" : "rotationZ"in S ? S.rotationZ : P.rotation, P.rotation, "rotation", C),
                    It && (c.rotationX = ut("rotationX"in S ? S.rotationX : "shortRotationX"in S ? S.shortRotationX + "_short" : P.rotationX || 0, P.rotationX, "rotationX", C),
                    c.rotationY = ut("rotationY"in S ? S.rotationY : "shortRotationY"in S ? S.shortRotationY + "_short" : P.rotationY || 0, P.rotationY, "rotationY", C)),
                    c.skewX = ut(S.skewX, P.skewX),
                    c.skewY = ut(S.skewY, P.skewY)
                }
                for (It && null != S.force3D && (P.force3D = S.force3D,
                f = !0),
                P.skewType = S.skewType || P.skewType || o.defaultSkewType,
                (p = P.force3D || P.z || P.rotationX || P.rotationY || c.z || c.rotationX || c.rotationY || c.perspective) || null == S.scale || (c.scaleZ = 1); --A > -1; )
                    b = Et[A],
                    ((M = c[b] - P[b]) > 1e-6 || -1e-6 > M || null != S[b] || null != j[b]) && (f = !0,
                    s = new gt(P,b,P[b],M,s),
                    b in C && (s.e = C[b]),
                    s.xs0 = 0,
                    s.plugin = a,
                    n._overwriteProps.push(s.n));
                return M = S.transformOrigin,
                P.svg && (M || S.svgOrigin) && (v = P.xOffset,
                g = P.yOffset,
                Ft(t, at(M), c, S.svgOrigin, S.smoothOrigin),
                s = xt(P, "xOrigin", (w ? P : c).xOrigin, c.xOrigin, s, E),
                s = xt(P, "yOrigin", (w ? P : c).yOrigin, c.yOrigin, s, E),
                (v !== P.xOffset || g !== P.yOffset) && (s = xt(P, "xOffset", w ? v : P.xOffset, P.xOffset, s, E),
                s = xt(P, "yOffset", w ? g : P.yOffset, P.yOffset, s, E)),
                M = "0px 0px"),
                (M || It && p && P.zOrigin) && (Pt ? (f = !0,
                b = Ot,
                M = (M || $(t, b, r, !1, "50% 50%")) + "",
                s = new gt(T,b,0,0,s,-1,E),
                s.b = T[b],
                s.plugin = a,
                It ? (d = P.zOrigin,
                M = M.split(" "),
                P.zOrigin = (M.length > 2 && (0 === d || "0px" !== M[2]) ? parseFloat(M[2]) : d) || 0,
                s.xs0 = s.e = M[0] + " " + (M[1] || "50%") + " 0px",
                s = new gt(P,"zOrigin",0,0,s,-1,s.n),
                s.b = d,
                s.xs0 = s.e = P.zOrigin) : s.xs0 = s.e = M) : at(M + "", P)),
                f && (n._transformType = P.svg && Ct || !p && 3 !== this._transformType ? 2 : 3),
                l && (h[i] = l),
                u && (h.scale = u),
                s
            },
            prefix: !0
        }),
        At("boxShadow", {
            defaultValue: "0px 0px 0px 0px #999",
            prefix: !0,
            color: !0,
            multi: !0,
            keyword: "inset"
        }),
        At("borderRadius", {
            defaultValue: "0px",
            parser: function(t, e, i, s, o, a) {
                e = this.format(e);
                var h, l, u, c, d, p, f, m, _, y, v, g, x, b, w, T, A = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"], S = t.style;
                for (_ = parseFloat(t.offsetWidth),
                y = parseFloat(t.offsetHeight),
                h = e.split(" "),
                l = 0; l < A.length; l++)
                    this.p.indexOf("border") && (A[l] = Z(A[l])),
                    d = c = $(t, A[l], r, !1, "0px"),
                    -1 !== d.indexOf(" ") && (c = d.split(" "),
                    d = c[0],
                    c = c[1]),
                    p = u = h[l],
                    f = parseFloat(d),
                    g = d.substr((f + "").length),
                    x = "=" === p.charAt(1),
                    x ? (m = parseInt(p.charAt(0) + "1", 10),
                    p = p.substr(2),
                    m *= parseFloat(p),
                    v = p.substr((m + "").length - (0 > m ? 1 : 0)) || "") : (m = parseFloat(p),
                    v = p.substr((m + "").length)),
                    "" === v && (v = n[i] || g),
                    v !== g && (b = tt(t, "borderLeft", f, g),
                    w = tt(t, "borderTop", f, g),
                    "%" === v ? (d = b / _ * 100 + "%",
                    c = w / y * 100 + "%") : "em" === v ? (T = tt(t, "borderLeft", 1, "em"),
                    d = b / T + "em",
                    c = w / T + "em") : (d = b + "px",
                    c = w + "px"),
                    x && (p = parseFloat(d) + m + v,
                    u = parseFloat(c) + m + v)),
                    o = bt(S, A[l], d + " " + c, p + " " + u, !1, "0px", o);
                return o
            },
            prefix: !0,
            formatter: _t("0px 0px 0px 0px", !1, !0)
        }),
        At("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius", {
            defaultValue: "0px",
            parser: function(t, e, i, n, s, o) {
                return bt(t.style, i, this.format($(t, i, r, !1, "0px 0px")), this.format(e), !1, "0px", s)
            },
            prefix: !0,
            formatter: _t("0px 0px", !1, !0)
        }),
        At("backgroundPosition", {
            defaultValue: "0 0",
            parser: function(t, e, i, n, s, o) {
                var a, h, l, u, c, d, p = "background-position", f = r || K(t, null), _ = this.format((f ? m ? f.getPropertyValue(p + "-x") + " " + f.getPropertyValue(p + "-y") : f.getPropertyValue(p) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"), y = this.format(e);
                if (-1 !== _.indexOf("%") != (-1 !== y.indexOf("%")) && y.split(",").length < 2 && (d = $(t, "backgroundImage").replace(M, "")) && "none" !== d) {
                    for (a = _.split(" "),
                    h = y.split(" "),
                    X.setAttribute("src", d),
                    l = 2; --l > -1; )
                        _ = a[l],
                        (u = -1 !== _.indexOf("%")) !== (-1 !== h[l].indexOf("%")) && (c = 0 === l ? t.offsetWidth - X.width : t.offsetHeight - X.height,
                        a[l] = u ? parseFloat(_) / 100 * c + "px" : parseFloat(_) / c * 100 + "%");
                    _ = a.join(" ")
                }
                return this.parseComplex(t.style, _, y, s, o)
            },
            formatter: at
        }),
        At("backgroundSize", {
            defaultValue: "0 0",
            formatter: function(t) {
                return t += "",
                at(-1 === t.indexOf(" ") ? t + " " + t : t)
            }
        }),
        At("perspective", {
            defaultValue: "0px",
            prefix: !0
        }),
        At("perspectiveOrigin", {
            defaultValue: "50% 50%",
            prefix: !0
        }),
        At("transformStyle", {
            prefix: !0
        }),
        At("backfaceVisibility", {
            prefix: !0
        }),
        At("userSelect", {
            prefix: !0
        }),
        At("margin", {
            parser: yt("marginTop,marginRight,marginBottom,marginLeft")
        }),
        At("padding", {
            parser: yt("paddingTop,paddingRight,paddingBottom,paddingLeft")
        }),
        At("clip", {
            defaultValue: "rect(0px,0px,0px,0px)",
            parser: function(t, e, i, n, s, o) {
                var a, h, l;
                return 9 > m ? (h = t.currentStyle,
                l = 8 > m ? " " : ",",
                a = "rect(" + h.clipTop + l + h.clipRight + l + h.clipBottom + l + h.clipLeft + ")",
                e = this.format(e).split(",").join(l)) : (a = this.format($(t, this.p, r, !1, this.dflt)),
                e = this.format(e)),
                this.parseComplex(t.style, a, e, s, o)
            }
        }),
        At("textShadow", {
            defaultValue: "0px 0px 0px #999",
            color: !0,
            multi: !0
        }),
        At("autoRound,strictUnits", {
            parser: function(t, e, i, n, r) {
                return r
            }
        }),
        At("border", {
            defaultValue: "0px solid #000",
            parser: function(t, e, i, n, s, o) {
                var a = $(t, "borderTopWidth", r, !1, "0px")
                  , h = this.format(e).split(" ")
                  , l = h[0].replace(w, "");
                return "px" !== l && (a = parseFloat(a) / tt(t, "borderTopWidth", 1, l) + l),
                this.parseComplex(t.style, this.format(a + " " + $(t, "borderTopStyle", r, !1, "solid") + " " + $(t, "borderTopColor", r, !1, "#000")), h.join(" "), s, o)
            },
            color: !0,
            formatter: function(t) {
                var e = t.split(" ");
                return e[0] + " " + (e[1] || "solid") + " " + (t.match(mt) || ["#000"])[0]
            }
        }),
        At("borderWidth", {
            parser: yt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")
        }),
        At("float,cssFloat,styleFloat", {
            parser: function(t, e, i, n, r, s) {
                var o = t.style
                  , a = "cssFloat"in o ? "cssFloat" : "styleFloat";
                return new gt(o,a,0,0,r,-1,i,!1,0,o[a],e)
            }
        });
        var Ht = function(t) {
            var e, i = this.t, n = i.filter || $(this.data, "filter") || "", r = this.s + this.c * t | 0;
            100 === r && (-1 === n.indexOf("atrix(") && -1 === n.indexOf("radient(") && -1 === n.indexOf("oader(") ? (i.removeAttribute("filter"),
            e = !$(this.data, "filter")) : (i.filter = n.replace(S, ""),
            e = !0)),
            e || (this.xn1 && (i.filter = n = n || "alpha(opacity=" + r + ")"),
            -1 === n.indexOf("pacity") ? 0 === r && this.xn1 || (i.filter = n + " alpha(opacity=" + r + ")") : i.filter = n.replace(T, "opacity=" + r))
        };
        At("opacity,alpha,autoAlpha", {
            defaultValue: "1",
            parser: function(t, e, i, n, s, o) {
                var a = parseFloat($(t, "opacity", r, !1, "1"))
                  , h = t.style
                  , l = "autoAlpha" === i;
                return "string" == typeof e && "=" === e.charAt(1) && (e = ("-" === e.charAt(0) ? -1 : 1) * parseFloat(e.substr(2)) + a),
                l && 1 === a && "hidden" === $(t, "visibility", r) && 0 !== e && (a = 0),
                H ? s = new gt(h,"opacity",a,e - a,s) : (s = new gt(h,"opacity",100 * a,100 * (e - a),s),
                s.xn1 = l ? 1 : 0,
                h.zoom = 1,
                s.type = 2,
                s.b = "alpha(opacity=" + s.s + ")",
                s.e = "alpha(opacity=" + (s.s + s.c) + ")",
                s.data = t,
                s.plugin = o,
                s.setRatio = Ht),
                l && (s = new gt(h,"visibility",0,0,s,-1,null,!1,0,0 !== a ? "inherit" : "hidden",0 === e ? "hidden" : "inherit"),
                s.xs0 = "inherit",
                n._overwriteProps.push(s.n),
                n._overwriteProps.push(i)),
                s
            }
        });
        var Gt = function(t, e) {
            e && (t.removeProperty ? (("ms" === e.substr(0, 2) || "webkit" === e.substr(0, 6)) && (e = "-" + e),
            t.removeProperty(e.replace(E, "-$1").toLowerCase())) : t.removeAttribute(e))
        }
          , Yt = function(t) {
            if (this.t._gsClassPT = this,
            1 === t || 0 === t) {
                this.t.setAttribute("class", 0 === t ? this.b : this.e);
                for (var e = this.data, i = this.t.style; e; )
                    e.v ? i[e.p] = e.v : Gt(i, e.p),
                    e = e._next;
                1 === t && this.t._gsClassPT === this && (this.t._gsClassPT = null)
            } else
                this.t.getAttribute("class") !== this.e && this.t.setAttribute("class", this.e)
        };
        At("className", {
            parser: function(t, e, n, s, o, a, h) {
                var l, u, c, d, p, f = t.getAttribute("class") || "", m = t.style.cssText;
                if (o = s._classNamePT = new gt(t,n,0,0,o,2),
                o.setRatio = Yt,
                o.pr = -11,
                i = !0,
                o.b = f,
                u = it(t, r),
                c = t._gsClassPT) {
                    for (d = {},
                    p = c.data; p; )
                        d[p.p] = 1,
                        p = p._next;
                    c.setRatio(1)
                }
                return t._gsClassPT = o,
                o.e = "=" !== e.charAt(1) ? e : f.replace(new RegExp("(?:\\s|^)" + e.substr(2) + "(?![\\w-])"), "") + ("+" === e.charAt(0) ? " " + e.substr(2) : ""),
                t.setAttribute("class", o.e),
                l = nt(t, u, it(t), h, d),
                t.setAttribute("class", f),
                o.data = l.firstMPT,
                t.style.cssText = m,
                o = o.xfirst = s.parse(t, l.difs, o, a)
            }
        });
        var Jt = function(t) {
            if ((1 === t || 0 === t) && this.data._totalTime === this.data._totalDuration && "isFromStart" !== this.data.data) {
                var e, i, n, r, s, o = this.t.style, a = h.transform.parse;
                if ("all" === this.e)
                    o.cssText = "",
                    r = !0;
                else
                    for (e = this.e.split(" ").join("").split(","),
                    n = e.length; --n > -1; )
                        i = e[n],
                        h[i] && (h[i].parse === a ? r = !0 : i = "transformOrigin" === i ? Ot : h[i].p),
                        Gt(o, i);
                r && (Gt(o, Pt),
                (s = this.t._gsTransform) && (s.svg && (this.t.removeAttribute("data-svg-origin"),
                this.t.removeAttribute("transform")),
                delete this.t._gsTransform))
            }
        };
        for (At("clearProps", {
            parser: function(t, e, n, r, s) {
                return s = new gt(t,n,0,0,s,2),
                s.setRatio = Jt,
                s.e = e,
                s.pr = -10,
                s.data = r._tween,
                i = !0,
                s
            }
        }),
        l = "bezier,throwProps,physicsProps,physics2D".split(","),
        wt = l.length; wt--; )
            St(l[wt]);
        l = o.prototype,
        l._firstPT = l._lastParsedTransform = l._transform = null,
        l._onInitTween = function(t, e, a, l) {
            if (!t.nodeType)
                return !1;
            this._target = _ = t,
            this._tween = a,
            this._vars = e,
            y = l,
            u = e.autoRound,
            i = !1,
            n = e.suffixMap || o.suffixMap,
            r = K(t, ""),
            s = this._overwriteProps;
            var p, m, v, g, x, b, w, T, S, C = t.style;
            if (c && "" === C.zIndex && ("auto" === (p = $(t, "zIndex", r)) || "" === p) && this._addLazySet(C, "zIndex", 0),
            "string" == typeof e && (g = C.cssText,
            p = it(t, r),
            C.cssText = g + ";" + e,
            p = nt(t, p, it(t)).difs,
            !H && A.test(e) && (p.opacity = parseFloat(RegExp.$1)),
            e = p,
            C.cssText = g),
            e.className ? this._firstPT = m = h.className.parse(t, e.className, "className", this, null, null, e) : this._firstPT = m = this.parse(t, e, null),
            this._transformType) {
                for (S = 3 === this._transformType,
                Pt ? d && (c = !0,
                "" === C.zIndex && ("auto" === (w = $(t, "zIndex", r)) || "" === w) && this._addLazySet(C, "zIndex", 0),
                f && this._addLazySet(C, "WebkitBackfaceVisibility", this._vars.WebkitBackfaceVisibility || (S ? "visible" : "hidden"))) : C.zoom = 1,
                v = m; v && v._next; )
                    v = v._next;
                T = new gt(t,"transform",0,0,null,2),
                this._linkCSSP(T, null, v),
                T.setRatio = Pt ? qt : Wt,
                T.data = this._transform || Xt(t, r, !0),
                T.tween = a,
                T.pr = -1,
                s.pop()
            }
            if (i) {
                for (; m; ) {
                    for (b = m._next,
                    v = g; v && v.pr > m.pr; )
                        v = v._next;
                    (m._prev = v ? v._prev : x) ? m._prev._next = m : g = m,
                    (m._next = v) ? v._prev = m : x = m,
                    m = b
                }
                this._firstPT = g
            }
            return !0
        }
        ,
        l.parse = function(t, e, i, s) {
            var o, a, l, c, d, p, f, m, v, g, x = t.style;
            for (o in e)
                p = e[o],
                "function" == typeof p && (p = p(y, _)),
                a = h[o],
                a ? i = a.parse(t, p, o, this, i, s, e) : (d = $(t, o, r) + "",
                v = "string" == typeof p,
                "color" === o || "fill" === o || "stroke" === o || -1 !== o.indexOf("Color") || v && C.test(p) ? (v || (p = pt(p),
                p = (p.length > 3 ? "rgba(" : "rgb(") + p.join(",") + ")"),
                i = bt(x, o, d, p, !0, "transparent", i, 0, s)) : v && D.test(p) ? i = bt(x, o, d, p, !0, null, i, 0, s) : (l = parseFloat(d),
                f = l || 0 === l ? d.substr((l + "").length) : "",
                ("" === d || "auto" === d) && ("width" === o || "height" === o ? (l = ot(t, o, r),
                f = "px") : "left" === o || "top" === o ? (l = et(t, o, r),
                f = "px") : (l = "opacity" !== o ? 0 : 1,
                f = "")),
                g = v && "=" === p.charAt(1),
                g ? (c = parseInt(p.charAt(0) + "1", 10),
                p = p.substr(2),
                c *= parseFloat(p),
                m = p.replace(w, "")) : (c = parseFloat(p),
                m = v ? p.replace(w, "") : ""),
                "" === m && (m = o in n ? n[o] : f),
                p = c || 0 === c ? (g ? c + l : c) + m : e[o],
                f !== m && "" !== m && (c || 0 === c) && l && (l = tt(t, o, l, f),
                "%" === m ? (l /= tt(t, o, 100, "%") / 100,
                !0 !== e.strictUnits && (d = l + "%")) : "em" === m || "rem" === m || "vw" === m || "vh" === m ? l /= tt(t, o, 1, m) : "px" !== m && (c = tt(t, o, c, m),
                m = "px"),
                g && (c || 0 === c) && (p = c + l + m)),
                g && (c += l),
                !l && 0 !== l || !c && 0 !== c ? void 0 !== x[o] && (p || p + "" != "NaN" && null != p) ? (i = new gt(x,o,c || l || 0,0,i,-1,o,!1,0,d,p),
                i.xs0 = "none" !== p || "display" !== o && -1 === o.indexOf("Style") ? p : d) : Y("invalid " + o + " tween value: " + e[o]) : (i = new gt(x,o,l,c - l,i,0,o,!1 !== u && ("px" === m || "zIndex" === o),0,d,p),
                i.xs0 = m))),
                s && i && !i.plugin && (i.plugin = s);
            return i
        }
        ,
        l.setRatio = function(t) {
            var e, i, n, r = this._firstPT;
            if (1 !== t || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                if (t || this._tween._time !== this._tween._duration && 0 !== this._tween._time || -1e-6 === this._tween._rawPrevTime)
                    for (; r; ) {
                        if (e = r.c * t + r.s,
                        r.r ? e = Math.round(e) : 1e-6 > e && e > -1e-6 && (e = 0),
                        r.type)
                            if (1 === r.type)
                                if (2 === (n = r.l))
                                    r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2;
                                else if (3 === n)
                                    r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3;
                                else if (4 === n)
                                    r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4;
                                else if (5 === n)
                                    r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4 + r.xn4 + r.xs5;
                                else {
                                    for (i = r.xs0 + e + r.xs1,
                                    n = 1; n < r.l; n++)
                                        i += r["xn" + n] + r["xs" + (n + 1)];
                                    r.t[r.p] = i
                                }
                            else
                                -1 === r.type ? r.t[r.p] = r.xs0 : r.setRatio && r.setRatio(t);
                        else
                            r.t[r.p] = e + r.xs0;
                        r = r._next
                    }
                else
                    for (; r; )
                        2 !== r.type ? r.t[r.p] = r.b : r.setRatio(t),
                        r = r._next;
            else
                for (; r; ) {
                    if (2 !== r.type)
                        if (r.r && -1 !== r.type)
                            if (e = Math.round(r.s + r.c),
                            r.type) {
                                if (1 === r.type) {
                                    for (n = r.l,
                                    i = r.xs0 + e + r.xs1,
                                    n = 1; n < r.l; n++)
                                        i += r["xn" + n] + r["xs" + (n + 1)];
                                    r.t[r.p] = i
                                }
                            } else
                                r.t[r.p] = e + r.xs0;
                        else
                            r.t[r.p] = r.e;
                    else
                        r.setRatio(t);
                    r = r._next
                }
        }
        ,
        l._enableTransforms = function(t) {
            this._transform = this._transform || Xt(this._target, r, !0),
            this._transformType = this._transform.svg && Ct || !t && 3 !== this._transformType ? 2 : 3
        }
        ;
        var Qt = function(t) {
            this.t[this.p] = this.e,
            this.data._linkCSSP(this, this._next, null, !0)
        };
        l._addLazySet = function(t, e, i) {
            var n = this._firstPT = new gt(t,e,0,0,this._firstPT,2);
            n.e = i,
            n.setRatio = Qt,
            n.data = this
        }
        ,
        l._linkCSSP = function(t, e, i, n) {
            return t && (e && (e._prev = t),
            t._next && (t._next._prev = t._prev),
            t._prev ? t._prev._next = t._next : this._firstPT === t && (this._firstPT = t._next,
            n = !0),
            i ? i._next = t : n || null !== this._firstPT || (this._firstPT = t),
            t._next = e,
            t._prev = i),
            t
        }
        ,
        l._mod = function(t) {
            for (var e = this._firstPT; e; )
                "function" == typeof t[e.p] && t[e.p] === Math.round && (e.r = 1),
                e = e._next
        }
        ,
        l._kill = function(e) {
            var i, n, r, s = e;
            if (e.autoAlpha || e.alpha) {
                s = {};
                for (n in e)
                    s[n] = e[n];
                s.opacity = 1,
                s.autoAlpha && (s.visibility = 1)
            }
            for (e.className && (i = this._classNamePT) && (r = i.xfirst,
            r && r._prev ? this._linkCSSP(r._prev, i._next, r._prev._prev) : r === this._firstPT && (this._firstPT = i._next),
            i._next && this._linkCSSP(i._next, i._next._next, r._prev),
            this._classNamePT = null),
            i = this._firstPT; i; )
                i.plugin && i.plugin !== n && i.plugin._kill && (i.plugin._kill(e),
                n = i.plugin),
                i = i._next;
            return t.prototype._kill.call(this, s)
        }
        ;
        var Zt = function(t, e, i) {
            var n, r, s, o;
            if (t.slice)
                for (r = t.length; --r > -1; )
                    Zt(t[r], e, i);
            else
                for (n = t.childNodes,
                r = n.length; --r > -1; )
                    s = n[r],
                    o = s.type,
                    s.style && (e.push(it(s)),
                    i && i.push(s)),
                    1 !== o && 9 !== o && 11 !== o || !s.childNodes.length || Zt(s, e, i)
        };
        return o.cascadeTo = function(t, i, n) {
            var r, s, o, a, h = e.to(t, i, n), l = [h], u = [], c = [], d = [], p = e._internals.reservedProps;
            for (t = h._targets || h.target,
            Zt(t, u, d),
            h.render(i, !0, !0),
            Zt(t, c),
            h.render(0, !0, !0),
            h._enabled(!0),
            r = d.length; --r > -1; )
                if (s = nt(d[r], u[r], c[r]),
                s.firstMPT) {
                    s = s.difs;
                    for (o in n)
                        p[o] && (s[o] = n[o]);
                    a = {};
                    for (o in s)
                        a[o] = u[r][o];
                    l.push(e.fromTo(d[r], i, a, s))
                }
            return l
        }
        ,
        t.activate([o]),
        o
    }, !0),
    function() {
        var t = _gsScope._gsDefine.plugin({
            propName: "roundProps",
            version: "1.6.0",
            priority: -1,
            API: 2,
            init: function(t, e, i) {
                return this._tween = i,
                !0
            }
        })
          , e = function(t) {
            for (; t; )
                t.f || t.blob || (t.m = Math.round),
                t = t._next
        }
          , i = t.prototype;
        i._onInitAllProps = function() {
            for (var t, i, n, r = this._tween, s = r.vars.roundProps.join ? r.vars.roundProps : r.vars.roundProps.split(","), o = s.length, a = {}, h = r._propLookup.roundProps; --o > -1; )
                a[s[o]] = Math.round;
            for (o = s.length; --o > -1; )
                for (t = s[o],
                i = r._firstPT; i; )
                    n = i._next,
                    i.pg ? i.t._mod(a) : i.n === t && (2 === i.f && i.t ? e(i.t._firstPT) : (this._add(i.t, t, i.s, i.c),
                    n && (n._prev = i._prev),
                    i._prev ? i._prev._next = n : r._firstPT === i && (r._firstPT = n),
                    i._next = i._prev = null,
                    r._propLookup[t] = h)),
                    i = n;
            return !1
        }
        ,
        i._add = function(t, e, i, n) {
            this._addTween(t, e, i, i + n, e, Math.round),
            this._overwriteProps.push(e)
        }
    }(),
    function() {
        _gsScope._gsDefine.plugin({
            propName: "attr",
            API: 2,
            version: "0.6.0",
            init: function(t, e, i, n) {
                var r, s;
                if ("function" != typeof t.setAttribute)
                    return !1;
                for (r in e)
                    s = e[r],
                    "function" == typeof s && (s = s(n, t)),
                    this._addTween(t, "setAttribute", t.getAttribute(r) + "", s + "", r, !1, r),
                    this._overwriteProps.push(r);
                return !0
            }
        })
    }(),
    _gsScope._gsDefine.plugin({
        propName: "directionalRotation",
        version: "0.3.0",
        API: 2,
        init: function(t, e, i, n) {
            "object" != typeof e && (e = {
                rotation: e
            }),
            this.finals = {};
            var r, s, o, a, h, l, u = !0 === e.useRadians ? 2 * Math.PI : 360;
            for (r in e)
                "useRadians" !== r && (a = e[r],
                "function" == typeof a && (a = a(n, t)),
                l = (a + "").split("_"),
                s = l[0],
                o = parseFloat("function" != typeof t[r] ? t[r] : t[r.indexOf("set") || "function" != typeof t["get" + r.substr(3)] ? r : "get" + r.substr(3)]()),
                a = this.finals[r] = "string" == typeof s && "=" === s.charAt(1) ? o + parseInt(s.charAt(0) + "1", 10) * Number(s.substr(2)) : Number(s) || 0,
                h = a - o,
                l.length && (s = l.join("_"),
                -1 !== s.indexOf("short") && (h %= u) !== h % (u / 2) && (h = 0 > h ? h + u : h - u),
                -1 !== s.indexOf("_cw") && 0 > h ? h = (h + 9999999999 * u) % u - (h / u | 0) * u : -1 !== s.indexOf("ccw") && h > 0 && (h = (h - 9999999999 * u) % u - (h / u | 0) * u)),
                (h > 1e-6 || -1e-6 > h) && (this._addTween(t, r, o, o + h, r),
                this._overwriteProps.push(r)));
            return !0
        },
        set: function(t) {
            var e;
            if (1 !== t)
                this._super.setRatio.call(this, t);
            else
                for (e = this._firstPT; e; )
                    e.f ? e.t[e.p](this.finals[e.p]) : e.t[e.p] = this.finals[e.p],
                    e = e._next
        }
    })._autoCSS = !0,
    _gsScope._gsDefine("easing.Back", ["easing.Ease"], function(t) {
        var e, i, n, r = _gsScope.GreenSockGlobals || _gsScope, s = r.com.greensock, o = 2 * Math.PI, a = Math.PI / 2, h = s._class, l = function(e, i) {
            var n = h("easing." + e, function() {}, !0)
              , r = n.prototype = new t;
            return r.constructor = n,
            r.getRatio = i,
            n
        }, u = t.register || function() {}
        , c = function(t, e, i, n, r) {
            var s = h("easing." + t, {
                easeOut: new e,
                easeIn: new i,
                easeInOut: new n
            }, !0);
            return u(s, t),
            s
        }, d = function(t, e, i) {
            this.t = t,
            this.v = e,
            i && (this.next = i,
            i.prev = this,
            this.c = i.v - e,
            this.gap = i.t - t)
        }, p = function(e, i) {
            var n = h("easing." + e, function(t) {
                this._p1 = t || 0 === t ? t : 1.70158,
                this._p2 = 1.525 * this._p1
            }, !0)
              , r = n.prototype = new t;
            return r.constructor = n,
            r.getRatio = i,
            r.config = function(t) {
                return new n(t)
            }
            ,
            n
        }, f = c("Back", p("BackOut", function(t) {
            return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1
        }), p("BackIn", function(t) {
            return t * t * ((this._p1 + 1) * t - this._p1)
        }), p("BackInOut", function(t) {
            return (t *= 2) < 1 ? .5 * t * t * ((this._p2 + 1) * t - this._p2) : .5 * ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2)
        })), m = h("easing.SlowMo", function(t, e, i) {
            e = e || 0 === e ? e : .7,
            null == t ? t = .7 : t > 1 && (t = 1),
            this._p = 1 !== t ? e : 0,
            this._p1 = (1 - t) / 2,
            this._p2 = t,
            this._p3 = this._p1 + this._p2,
            this._calcEnd = !0 === i
        }, !0), _ = m.prototype = new t;
        return _.constructor = m,
        _.getRatio = function(t) {
            var e = t + (.5 - t) * this._p;
            return t < this._p1 ? this._calcEnd ? 1 - (t = 1 - t / this._p1) * t : e - (t = 1 - t / this._p1) * t * t * t * e : t > this._p3 ? this._calcEnd ? 1 - (t = (t - this._p3) / this._p1) * t : e + (t - e) * (t = (t - this._p3) / this._p1) * t * t * t : this._calcEnd ? 1 : e
        }
        ,
        m.ease = new m(.7,.7),
        _.config = m.config = function(t, e, i) {
            return new m(t,e,i)
        }
        ,
        e = h("easing.SteppedEase", function(t) {
            t = t || 1,
            this._p1 = 1 / t,
            this._p2 = t + 1
        }, !0),
        _ = e.prototype = new t,
        _.constructor = e,
        _.getRatio = function(t) {
            return 0 > t ? t = 0 : t >= 1 && (t = .999999999),
            (this._p2 * t >> 0) * this._p1
        }
        ,
        _.config = e.config = function(t) {
            return new e(t)
        }
        ,
        i = h("easing.RoughEase", function(e) {
            e = e || {};
            for (var i, n, r, s, o, a, h = e.taper || "none", l = [], u = 0, c = 0 | (e.points || 20), p = c, f = !1 !== e.randomize, m = !0 === e.clamp, _ = e.template instanceof t ? e.template : null, y = "number" == typeof e.strength ? .4 * e.strength : .4; --p > -1; )
                i = f ? Math.random() : 1 / c * p,
                n = _ ? _.getRatio(i) : i,
                "none" === h ? r = y : "out" === h ? (s = 1 - i,
                r = s * s * y) : "in" === h ? r = i * i * y : .5 > i ? (s = 2 * i,
                r = s * s * .5 * y) : (s = 2 * (1 - i),
                r = s * s * .5 * y),
                f ? n += Math.random() * r - .5 * r : p % 2 ? n += .5 * r : n -= .5 * r,
                m && (n > 1 ? n = 1 : 0 > n && (n = 0)),
                l[u++] = {
                    x: i,
                    y: n
                };
            for (l.sort(function(t, e) {
                return t.x - e.x
            }),
            a = new d(1,1,null),
            p = c; --p > -1; )
                o = l[p],
                a = new d(o.x,o.y,a);
            this._prev = new d(0,0,0 !== a.t ? a : a.next)
        }, !0),
        _ = i.prototype = new t,
        _.constructor = i,
        _.getRatio = function(t) {
            var e = this._prev;
            if (t > e.t) {
                for (; e.next && t >= e.t; )
                    e = e.next;
                e = e.prev
            } else
                for (; e.prev && t <= e.t; )
                    e = e.prev;
            return this._prev = e,
            e.v + (t - e.t) / e.gap * e.c
        }
        ,
        _.config = function(t) {
            return new i(t)
        }
        ,
        i.ease = new i,
        c("Bounce", l("BounceOut", function(t) {
            return 1 / 2.75 > t ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
        }), l("BounceIn", function(t) {
            return (t = 1 - t) < 1 / 2.75 ? 1 - 7.5625 * t * t : 2 / 2.75 > t ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : 2.5 / 2.75 > t ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
        }), l("BounceInOut", function(t) {
            var e = .5 > t;
            return t = e ? 1 - 2 * t : 2 * t - 1,
            t = 1 / 2.75 > t ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375,
            e ? .5 * (1 - t) : .5 * t + .5
        })),
        c("Circ", l("CircOut", function(t) {
            return Math.sqrt(1 - (t -= 1) * t)
        }), l("CircIn", function(t) {
            return -(Math.sqrt(1 - t * t) - 1)
        }), l("CircInOut", function(t) {
            return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
        })),
        n = function(e, i, n) {
            var r = h("easing." + e, function(t, e) {
                this._p1 = t >= 1 ? t : 1,
                this._p2 = (e || n) / (1 > t ? t : 1),
                this._p3 = this._p2 / o * (Math.asin(1 / this._p1) || 0),
                this._p2 = o / this._p2
            }, !0)
              , s = r.prototype = new t;
            return s.constructor = r,
            s.getRatio = i,
            s.config = function(t, e) {
                return new r(t,e)
            }
            ,
            r
        }
        ,
        c("Elastic", n("ElasticOut", function(t) {
            return this._p1 * Math.pow(2, -10 * t) * Math.sin((t - this._p3) * this._p2) + 1
        }, .3), n("ElasticIn", function(t) {
            return -this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2)
        }, .3), n("ElasticInOut", function(t) {
            return (t *= 2) < 1 ? this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * -.5 : this._p1 * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - this._p3) * this._p2) * .5 + 1
        }, .45)),
        c("Expo", l("ExpoOut", function(t) {
            return 1 - Math.pow(2, -10 * t)
        }), l("ExpoIn", function(t) {
            return Math.pow(2, 10 * (t - 1)) - .001
        }), l("ExpoInOut", function(t) {
            return (t *= 2) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1)))
        })),
        c("Sine", l("SineOut", function(t) {
            return Math.sin(t * a)
        }), l("SineIn", function(t) {
            return 1 - Math.cos(t * a)
        }), l("SineInOut", function(t) {
            return -.5 * (Math.cos(Math.PI * t) - 1)
        })),
        h("easing.EaseLookup", {
            find: function(e) {
                return t.map[e]
            }
        }, !0),
        u(r.SlowMo, "SlowMo", "ease,"),
        u(i, "RoughEase", "ease,"),
        u(e, "SteppedEase", "ease,"),
        f
    }, !0)
}),
_gsScope._gsDefine && _gsScope._gsQueue.pop()(),
function(t, e) {
    "use strict";
    var i = {}
      , n = t.document
      , r = t.GreenSockGlobals = t.GreenSockGlobals || t;
    if (!r.TweenLite) {
        var s, o, a, h, l, u = function(t) {
            var e, i = t.split("."), n = r;
            for (e = 0; e < i.length; e++)
                n[i[e]] = n = n[i[e]] || {};
            return n
        }, c = u("com.greensock"), d = 1e-10, p = function(t) {
            var e, i = [], n = t.length;
            for (e = 0; e !== n; i.push(t[e++]))
                ;
            return i
        }, f = function() {}, m = function() {
            var t = Object.prototype.toString
              , e = t.call([]);
            return function(i) {
                return null != i && (i instanceof Array || "object" == typeof i && !!i.push && t.call(i) === e)
            }
        }(), _ = {}, y = function(n, s, o, a) {
            this.sc = _[n] ? _[n].sc : [],
            _[n] = this,
            this.gsClass = null,
            this.func = o;
            var h = [];
            this.check = function(l) {
                for (var c, d, p, f, m, v = s.length, g = v; --v > -1; )
                    (c = _[s[v]] || new y(s[v],[])).gsClass ? (h[v] = c.gsClass,
                    g--) : l && c.sc.push(this);
                if (0 === g && o) {
                    if (d = ("com.greensock." + n).split("."),
                    p = d.pop(),
                    f = u(d.join("."))[p] = this.gsClass = o.apply(o, h),
                    a)
                        if (r[p] = i[p] = f,
                        !(m = "undefined" != typeof module && module.exports) && "function" == typeof define && define.amd)
                            define((t.GreenSockAMDPath ? t.GreenSockAMDPath + "/" : "") + n.split(".").pop(), [], function() {
                                return f
                            });
                        else if (m)
                            if (n === e) {
                                module.exports = i[e] = f;
                                for (v in i)
                                    f[v] = i[v]
                            } else
                                i[e] && (i[e][p] = f);
                    for (v = 0; v < this.sc.length; v++)
                        this.sc[v].check()
                }
            }
            ,
            this.check(!0)
        }, v = t._gsDefine = function(t, e, i, n) {
            return new y(t,e,i,n)
        }
        , g = c._class = function(t, e, i) {
            return e = e || function() {}
            ,
            v(t, [], function() {
                return e
            }, i),
            e
        }
        ;
        v.globals = r;
        var x = [0, 0, 1, 1]
          , b = g("easing.Ease", function(t, e, i, n) {
            this._func = t,
            this._type = i || 0,
            this._power = n || 0,
            this._params = e ? x.concat(e) : x
        }, !0)
          , w = b.map = {}
          , T = b.register = function(t, e, i, n) {
            for (var r, s, o, a, h = e.split(","), l = h.length, u = (i || "easeIn,easeOut,easeInOut").split(","); --l > -1; )
                for (s = h[l],
                r = n ? g("easing." + s, null, !0) : c.easing[s] || {},
                o = u.length; --o > -1; )
                    a = u[o],
                    w[s + "." + a] = w[a + s] = r[a] = t.getRatio ? t : t[a] || new t
        }
        ;
        for (a = b.prototype,
        a._calcEnd = !1,
        a.getRatio = function(t) {
            if (this._func)
                return this._params[0] = t,
                this._func.apply(null, this._params);
            var e = this._type
              , i = this._power
              , n = 1 === e ? 1 - t : 2 === e ? t : .5 > t ? 2 * t : 2 * (1 - t);
            return 1 === i ? n *= n : 2 === i ? n *= n * n : 3 === i ? n *= n * n * n : 4 === i && (n *= n * n * n * n),
            1 === e ? 1 - n : 2 === e ? n : .5 > t ? n / 2 : 1 - n / 2
        }
        ,
        s = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"],
        o = s.length; --o > -1; )
            a = s[o] + ",Power" + o,
            T(new b(null,null,1,o), a, "easeOut", !0),
            T(new b(null,null,2,o), a, "easeIn" + (0 === o ? ",easeNone" : "")),
            T(new b(null,null,3,o), a, "easeInOut");
        w.linear = c.easing.Linear.easeIn,
        w.swing = c.easing.Quad.easeInOut;
        var A = g("events.EventDispatcher", function(t) {
            this._listeners = {},
            this._eventTarget = t || this
        });
        a = A.prototype,
        a.addEventListener = function(t, e, i, n, r) {
            r = r || 0;
            var s, o, a = this._listeners[t], u = 0;
            for (this !== h || l || h.wake(),
            null == a && (this._listeners[t] = a = []),
            o = a.length; --o > -1; )
                s = a[o],
                s.c === e && s.s === i ? a.splice(o, 1) : 0 === u && s.pr < r && (u = o + 1);
            a.splice(u, 0, {
                c: e,
                s: i,
                up: n,
                pr: r
            })
        }
        ,
        a.removeEventListener = function(t, e) {
            var i, n = this._listeners[t];
            if (n)
                for (i = n.length; --i > -1; )
                    if (n[i].c === e)
                        return void n.splice(i, 1)
        }
        ,
        a.dispatchEvent = function(t) {
            var e, i, n, r = this._listeners[t];
            if (r)
                for (e = r.length,
                e > 1 && (r = r.slice(0)),
                i = this._eventTarget; --e > -1; )
                    (n = r[e]) && (n.up ? n.c.call(n.s || i, {
                        type: t,
                        target: i
                    }) : n.c.call(n.s || i))
        }
        ;
        var S = t.requestAnimationFrame
          , C = t.cancelAnimationFrame
          , E = Date.now || function() {
            return (new Date).getTime()
        }
          , P = E();
        for (s = ["ms", "moz", "webkit", "o"],
        o = s.length; --o > -1 && !S; )
            S = t[s[o] + "RequestAnimationFrame"],
            C = t[s[o] + "CancelAnimationFrame"] || t[s[o] + "CancelRequestAnimationFrame"];
        g("Ticker", function(t, e) {
            var i, r, s, o, a, u = this, c = E(), p = !(!1 === e || !S) && "auto", m = 500, _ = 33, y = function(t) {
                var e, n, h = E() - P;
                h > m && (c += h - _),
                P += h,
                u.time = (P - c) / 1e3,
                e = u.time - a,
                (!i || e > 0 || !0 === t) && (u.frame++,
                a += e + (e >= o ? .004 : o - e),
                n = !0),
                !0 !== t && (s = r(y)),
                n && u.dispatchEvent("tick")
            };
            A.call(u),
            u.time = u.frame = 0,
            u.tick = function() {
                y(!0)
            }
            ,
            u.lagSmoothing = function(t, e) {
                m = t || 1 / d,
                _ = Math.min(e, m, 0)
            }
            ,
            u.sleep = function() {
                null != s && (p && C ? C(s) : clearTimeout(s),
                r = f,
                s = null,
                u === h && (l = !1))
            }
            ,
            u.wake = function(t) {
                null !== s ? u.sleep() : t ? c += -P + (P = E()) : u.frame > 10 && (P = E() - m + 5),
                r = 0 === i ? f : p && S ? S : function(t) {
                    return setTimeout(t, 1e3 * (a - u.time) + 1 | 0)
                }
                ,
                u === h && (l = !0),
                y(2)
            }
            ,
            u.fps = function(t) {
                return arguments.length ? (i = t,
                o = 1 / (i || 60),
                a = this.time + o,
                void u.wake()) : i
            }
            ,
            u.useRAF = function(t) {
                return arguments.length ? (u.sleep(),
                p = t,
                void u.fps(i)) : p
            }
            ,
            u.fps(t),
            setTimeout(function() {
                "auto" === p && u.frame < 5 && "hidden" !== n.visibilityState && u.useRAF(!1)
            }, 1500)
        }),
        a = c.Ticker.prototype = new c.events.EventDispatcher,
        a.constructor = c.Ticker;
        var M = g("core.Animation", function(t, e) {
            if (this.vars = e = e || {},
            this._duration = this._totalDuration = t || 0,
            this._delay = Number(e.delay) || 0,
            this._timeScale = 1,
            this._active = !0 === e.immediateRender,
            this.data = e.data,
            this._reversed = !0 === e.reversed,
            Y) {
                l || h.wake();
                var i = this.vars.useFrames ? G : Y;
                i.add(this, i._time),
                this.vars.paused && this.paused(!0)
            }
        });
        h = M.ticker = new c.Ticker,
        a = M.prototype,
        a._dirty = a._gc = a._initted = a._paused = !1,
        a._totalTime = a._time = 0,
        a._rawPrevTime = -1,
        a._next = a._last = a._onUpdate = a._timeline = a.timeline = null,
        a._paused = !1;
        var O = function() {
            l && E() - P > 2e3 && h.wake(),
            setTimeout(O, 2e3)
        };
        O(),
        a.play = function(t, e) {
            return null != t && this.seek(t, e),
            this.reversed(!1).paused(!1)
        }
        ,
        a.pause = function(t, e) {
            return null != t && this.seek(t, e),
            this.paused(!0)
        }
        ,
        a.resume = function(t, e) {
            return null != t && this.seek(t, e),
            this.paused(!1)
        }
        ,
        a.seek = function(t, e) {
            return this.totalTime(Number(t), !1 !== e)
        }
        ,
        a.restart = function(t, e) {
            return this.reversed(!1).paused(!1).totalTime(t ? -this._delay : 0, !1 !== e, !0)
        }
        ,
        a.reverse = function(t, e) {
            return null != t && this.seek(t || this.totalDuration(), e),
            this.reversed(!0).paused(!1)
        }
        ,
        a.render = function(t, e, i) {}
        ,
        a.invalidate = function() {
            return this._time = this._totalTime = 0,
            this._initted = this._gc = !1,
            this._rawPrevTime = -1,
            (this._gc || !this.timeline) && this._enabled(!0),
            this
        }
        ,
        a.isActive = function() {
            var t, e = this._timeline, i = this._startTime;
            return !e || !this._gc && !this._paused && e.isActive() && (t = e.rawTime(!0)) >= i && t < i + this.totalDuration() / this._timeScale
        }
        ,
        a._enabled = function(t, e) {
            return l || h.wake(),
            this._gc = !t,
            this._active = this.isActive(),
            !0 !== e && (t && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !t && this.timeline && this._timeline._remove(this, !0)),
            !1
        }
        ,
        a._kill = function(t, e) {
            return this._enabled(!1, !1)
        }
        ,
        a.kill = function(t, e) {
            return this._kill(t, e),
            this
        }
        ,
        a._uncache = function(t) {
            for (var e = t ? this : this.timeline; e; )
                e._dirty = !0,
                e = e.timeline;
            return this
        }
        ,
        a._swapSelfInParams = function(t) {
            for (var e = t.length, i = t.concat(); --e > -1; )
                "{self}" === t[e] && (i[e] = this);
            return i
        }
        ,
        a._callback = function(t) {
            var e = this.vars
              , i = e[t]
              , n = e[t + "Params"]
              , r = e[t + "Scope"] || e.callbackScope || this;
            switch (n ? n.length : 0) {
            case 0:
                i.call(r);
                break;
            case 1:
                i.call(r, n[0]);
                break;
            case 2:
                i.call(r, n[0], n[1]);
                break;
            default:
                i.apply(r, n)
            }
        }
        ,
        a.eventCallback = function(t, e, i, n) {
            if ("on" === (t || "").substr(0, 2)) {
                var r = this.vars;
                if (1 === arguments.length)
                    return r[t];
                null == e ? delete r[t] : (r[t] = e,
                r[t + "Params"] = m(i) && -1 !== i.join("").indexOf("{self}") ? this._swapSelfInParams(i) : i,
                r[t + "Scope"] = n),
                "onUpdate" === t && (this._onUpdate = e)
            }
            return this
        }
        ,
        a.delay = function(t) {
            return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + t - this._delay),
            this._delay = t,
            this) : this._delay
        }
        ,
        a.duration = function(t) {
            return arguments.length ? (this._duration = this._totalDuration = t,
            this._uncache(!0),
            this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== t && this.totalTime(this._totalTime * (t / this._duration), !0),
            this) : (this._dirty = !1,
            this._duration)
        }
        ,
        a.totalDuration = function(t) {
            return this._dirty = !1,
            arguments.length ? this.duration(t) : this._totalDuration
        }
        ,
        a.time = function(t, e) {
            return arguments.length ? (this._dirty && this.totalDuration(),
            this.totalTime(t > this._duration ? this._duration : t, e)) : this._time
        }
        ,
        a.totalTime = function(t, e, i) {
            if (l || h.wake(),
            !arguments.length)
                return this._totalTime;
            if (this._timeline) {
                if (0 > t && !i && (t += this.totalDuration()),
                this._timeline.smoothChildTiming) {
                    this._dirty && this.totalDuration();
                    var n = this._totalDuration
                      , r = this._timeline;
                    if (t > n && !i && (t = n),
                    this._startTime = (this._paused ? this._pauseTime : r._time) - (this._reversed ? n - t : t) / this._timeScale,
                    r._dirty || this._uncache(!1),
                    r._timeline)
                        for (; r._timeline; )
                            r._timeline._time !== (r._startTime + r._totalTime) / r._timeScale && r.totalTime(r._totalTime, !0),
                            r = r._timeline
                }
                this._gc && this._enabled(!0, !1),
                (this._totalTime !== t || 0 === this._duration) && (D.length && Q(),
                this.render(t, e, !1),
                D.length && Q())
            }
            return this
        }
        ,
        a.progress = a.totalProgress = function(t, e) {
            var i = this.duration();
            return arguments.length ? this.totalTime(i * t, e) : i ? this._time / i : this.ratio
        }
        ,
        a.startTime = function(t) {
            return arguments.length ? (t !== this._startTime && (this._startTime = t,
            this.timeline && this.timeline._sortChildren && this.timeline.add(this, t - this._delay)),
            this) : this._startTime
        }
        ,
        a.endTime = function(t) {
            return this._startTime + (0 != t ? this.totalDuration() : this.duration()) / this._timeScale
        }
        ,
        a.timeScale = function(t) {
            if (!arguments.length)
                return this._timeScale;
            if (t = t || d,
            this._timeline && this._timeline.smoothChildTiming) {
                var e = this._pauseTime
                  , i = e || 0 === e ? e : this._timeline.totalTime();
                this._startTime = i - (i - this._startTime) * this._timeScale / t
            }
            return this._timeScale = t,
            this._uncache(!1)
        }
        ,
        a.reversed = function(t) {
            return arguments.length ? (t != this._reversed && (this._reversed = t,
            this.totalTime(this._timeline && !this._timeline.smoothChildTiming ? this.totalDuration() - this._totalTime : this._totalTime, !0)),
            this) : this._reversed
        }
        ,
        a.paused = function(t) {
            if (!arguments.length)
                return this._paused;
            var e, i, n = this._timeline;
            return t != this._paused && n && (l || t || h.wake(),
            e = n.rawTime(),
            i = e - this._pauseTime,
            !t && n.smoothChildTiming && (this._startTime += i,
            this._uncache(!1)),
            this._pauseTime = t ? e : null,
            this._paused = t,
            this._active = this.isActive(),
            !t && 0 !== i && this._initted && this.duration() && (e = n.smoothChildTiming ? this._totalTime : (e - this._startTime) / this._timeScale,
            this.render(e, e === this._totalTime, !0))),
            this._gc && !t && this._enabled(!0, !1),
            this
        }
        ;
        var I = g("core.SimpleTimeline", function(t) {
            M.call(this, 0, t),
            this.autoRemoveChildren = this.smoothChildTiming = !0
        });
        a = I.prototype = new M,
        a.constructor = I,
        a.kill()._gc = !1,
        a._first = a._last = a._recent = null,
        a._sortChildren = !1,
        a.add = a.insert = function(t, e, i, n) {
            var r, s;
            if (t._startTime = Number(e || 0) + t._delay,
            t._paused && this !== t._timeline && (t._pauseTime = t._startTime + (this.rawTime() - t._startTime) / t._timeScale),
            t.timeline && t.timeline._remove(t, !0),
            t.timeline = t._timeline = this,
            t._gc && t._enabled(!0, !0),
            r = this._last,
            this._sortChildren)
                for (s = t._startTime; r && r._startTime > s; )
                    r = r._prev;
            return r ? (t._next = r._next,
            r._next = t) : (t._next = this._first,
            this._first = t),
            t._next ? t._next._prev = t : this._last = t,
            t._prev = r,
            this._recent = t,
            this._timeline && this._uncache(!0),
            this
        }
        ,
        a._remove = function(t, e) {
            return t.timeline === this && (e || t._enabled(!1, !0),
            t._prev ? t._prev._next = t._next : this._first === t && (this._first = t._next),
            t._next ? t._next._prev = t._prev : this._last === t && (this._last = t._prev),
            t._next = t._prev = t.timeline = null,
            t === this._recent && (this._recent = this._last),
            this._timeline && this._uncache(!0)),
            this
        }
        ,
        a.render = function(t, e, i) {
            var n, r = this._first;
            for (this._totalTime = this._time = this._rawPrevTime = t; r; )
                n = r._next,
                (r._active || t >= r._startTime && !r._paused) && (r._reversed ? r.render((r._dirty ? r.totalDuration() : r._totalDuration) - (t - r._startTime) * r._timeScale, e, i) : r.render((t - r._startTime) * r._timeScale, e, i)),
                r = n
        }
        ,
        a.rawTime = function() {
            return l || h.wake(),
            this._totalTime
        }
        ;
        var B = g("TweenLite", function(e, i, n) {
            if (M.call(this, i, n),
            this.render = B.prototype.render,
            null == e)
                throw "Cannot tween a null target.";
            this.target = e = "string" != typeof e ? e : B.selector(e) || e;
            var r, s, o, a = e.jquery || e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType), h = this.vars.overwrite;
            if (this._overwrite = h = null == h ? H[B.defaultOverwrite] : "number" == typeof h ? h >> 0 : H[h],
            (a || e instanceof Array || e.push && m(e)) && "number" != typeof e[0])
                for (this._targets = o = p(e),
                this._propLookup = [],
                this._siblings = [],
                r = 0; r < o.length; r++)
                    s = o[r],
                    s ? "string" != typeof s ? s.length && s !== t && s[0] && (s[0] === t || s[0].nodeType && s[0].style && !s.nodeType) ? (o.splice(r--, 1),
                    this._targets = o = o.concat(p(s))) : (this._siblings[r] = Z(s, this, !1),
                    1 === h && this._siblings[r].length > 1 && $(s, this, null, 1, this._siblings[r])) : "string" == typeof (s = o[r--] = B.selector(s)) && o.splice(r + 1, 1) : o.splice(r--, 1);
            else
                this._propLookup = {},
                this._siblings = Z(e, this, !1),
                1 === h && this._siblings.length > 1 && $(e, this, null, 1, this._siblings);
            (this.vars.immediateRender || 0 === i && 0 === this._delay && !1 !== this.vars.immediateRender) && (this._time = -d,
            this.render(Math.min(0, -this._delay)))
        }, !0)
          , R = function(e) {
            return e && e.length && e !== t && e[0] && (e[0] === t || e[0].nodeType && e[0].style && !e.nodeType)
        }
          , k = function(t, e) {
            var i, n = {};
            for (i in t)
                q[i] || i in e && "transform" !== i && "x" !== i && "y" !== i && "width" !== i && "height" !== i && "className" !== i && "border" !== i || !(!V[i] || V[i] && V[i]._autoCSS) || (n[i] = t[i],
                delete t[i]);
            t.css = n
        };
        a = B.prototype = new M,
        a.constructor = B,
        a.kill()._gc = !1,
        a.ratio = 0,
        a._firstPT = a._targets = a._overwrittenProps = a._startAt = null,
        a._notifyPluginsOfEnabled = a._lazy = !1,
        B.version = "1.19.1",
        B.defaultEase = a._ease = new b(null,null,1,1),
        B.defaultOverwrite = "auto",
        B.ticker = h,
        B.autoSleep = 120,
        B.lagSmoothing = function(t, e) {
            h.lagSmoothing(t, e)
        }
        ,
        B.selector = t.$ || t.jQuery || function(e) {
            var i = t.$ || t.jQuery;
            return i ? (B.selector = i,
            i(e)) : void 0 === n ? e : n.querySelectorAll ? n.querySelectorAll(e) : n.getElementById("#" === e.charAt(0) ? e.substr(1) : e)
        }
        ;
        var D = []
          , L = {}
          , F = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi
          , j = function(t) {
            for (var e, i = this._firstPT; i; )
                e = i.blob ? 1 === t ? this.end : t ? this.join("") : this.start : i.c * t + i.s,
                i.m ? e = i.m(e, this._target || i.t) : 1e-6 > e && e > -1e-6 && !i.blob && (e = 0),
                i.f ? i.fp ? i.t[i.p](i.fp, e) : i.t[i.p](e) : i.t[i.p] = e,
                i = i._next
        }
          , N = function(t, e, i, n) {
            var r, s, o, a, h, l, u, c = [], d = 0, p = "", f = 0;
            for (c.start = t,
            c.end = e,
            t = c[0] = t + "",
            e = c[1] = e + "",
            i && (i(c),
            t = c[0],
            e = c[1]),
            c.length = 0,
            r = t.match(F) || [],
            s = e.match(F) || [],
            n && (n._next = null,
            n.blob = 1,
            c._firstPT = c._applyPT = n),
            h = s.length,
            a = 0; h > a; a++)
                u = s[a],
                l = e.substr(d, e.indexOf(u, d) - d),
                p += l || !a ? l : ",",
                d += l.length,
                f ? f = (f + 1) % 5 : "rgba(" === l.substr(-5) && (f = 1),
                u === r[a] || r.length <= a ? p += u : (p && (c.push(p),
                p = ""),
                o = parseFloat(r[a]),
                c.push(o),
                c._firstPT = {
                    _next: c._firstPT,
                    t: c,
                    p: c.length - 1,
                    s: o,
                    c: ("=" === u.charAt(1) ? parseInt(u.charAt(0) + "1", 10) * parseFloat(u.substr(2)) : parseFloat(u) - o) || 0,
                    f: 0,
                    m: f && 4 > f ? Math.round : 0
                }),
                d += u.length;
            return p += e.substr(d),
            p && c.push(p),
            c.setRatio = j,
            c
        }
          , z = function(t, e, i, n, r, s, o, a, h) {
            "function" == typeof n && (n = n(h || 0, t));
            var l, u = typeof t[e], c = "function" !== u ? "" : e.indexOf("set") || "function" != typeof t["get" + e.substr(3)] ? e : "get" + e.substr(3), d = "get" !== i ? i : c ? o ? t[c](o) : t[c]() : t[e], p = "string" == typeof n && "=" === n.charAt(1), f = {
                t: t,
                p: e,
                s: d,
                f: "function" === u,
                pg: 0,
                n: r || e,
                m: s ? "function" == typeof s ? s : Math.round : 0,
                pr: 0,
                c: p ? parseInt(n.charAt(0) + "1", 10) * parseFloat(n.substr(2)) : parseFloat(n) - d || 0
            };
            return ("number" != typeof d || "number" != typeof n && !p) && (o || isNaN(d) || !p && isNaN(n) || "boolean" == typeof d || "boolean" == typeof n ? (f.fp = o,
            l = N(d, p ? f.s + f.c : n, a || B.defaultStringFilter, f),
            f = {
                t: l,
                p: "setRatio",
                s: 0,
                c: 1,
                f: 2,
                pg: 0,
                n: r || e,
                pr: 0,
                m: 0
            }) : (f.s = parseFloat(d),
            p || (f.c = parseFloat(n) - f.s || 0))),
            f.c ? ((f._next = this._firstPT) && (f._next._prev = f),
            this._firstPT = f,
            f) : void 0
        }
          , U = B._internals = {
            isArray: m,
            isSelector: R,
            lazyTweens: D,
            blobDif: N
        }
          , V = B._plugins = {}
          , X = U.tweenLookup = {}
          , W = 0
          , q = U.reservedProps = {
            ease: 1,
            delay: 1,
            overwrite: 1,
            onComplete: 1,
            onCompleteParams: 1,
            onCompleteScope: 1,
            useFrames: 1,
            runBackwards: 1,
            startAt: 1,
            onUpdate: 1,
            onUpdateParams: 1,
            onUpdateScope: 1,
            onStart: 1,
            onStartParams: 1,
            onStartScope: 1,
            onReverseComplete: 1,
            onReverseCompleteParams: 1,
            onReverseCompleteScope: 1,
            onRepeat: 1,
            onRepeatParams: 1,
            onRepeatScope: 1,
            easeParams: 1,
            yoyo: 1,
            immediateRender: 1,
            repeat: 1,
            repeatDelay: 1,
            data: 1,
            paused: 1,
            reversed: 1,
            autoCSS: 1,
            lazy: 1,
            onOverwrite: 1,
            callbackScope: 1,
            stringFilter: 1,
            id: 1
        }
          , H = {
            none: 0,
            all: 1,
            auto: 2,
            concurrent: 3,
            allOnStart: 4,
            preexisting: 5,
            true: 1,
            false: 0
        }
          , G = M._rootFramesTimeline = new I
          , Y = M._rootTimeline = new I
          , J = 30
          , Q = U.lazyRender = function() {
            var t, e = D.length;
            for (L = {}; --e > -1; )
                (t = D[e]) && !1 !== t._lazy && (t.render(t._lazy[0], t._lazy[1], !0),
                t._lazy = !1);
            D.length = 0
        }
        ;
        Y._startTime = h.time,
        G._startTime = h.frame,
        Y._active = G._active = !0,
        setTimeout(Q, 1),
        M._updateRoot = B.render = function() {
            var t, e, i;
            if (D.length && Q(),
            Y.render((h.time - Y._startTime) * Y._timeScale, !1, !1),
            G.render((h.frame - G._startTime) * G._timeScale, !1, !1),
            D.length && Q(),
            h.frame >= J) {
                J = h.frame + (parseInt(B.autoSleep, 10) || 120);
                for (i in X) {
                    for (e = X[i].tweens,
                    t = e.length; --t > -1; )
                        e[t]._gc && e.splice(t, 1);
                    0 === e.length && delete X[i]
                }
                if ((!(i = Y._first) || i._paused) && B.autoSleep && !G._first && 1 === h._listeners.tick.length) {
                    for (; i && i._paused; )
                        i = i._next;
                    i || h.sleep()
                }
            }
        }
        ,
        h.addEventListener("tick", M._updateRoot);
        var Z = function(t, e, i) {
            var n, r, s = t._gsTweenID;
            if (X[s || (t._gsTweenID = s = "t" + W++)] || (X[s] = {
                target: t,
                tweens: []
            }),
            e && (n = X[s].tweens,
            n[r = n.length] = e,
            i))
                for (; --r > -1; )
                    n[r] === e && n.splice(r, 1);
            return X[s].tweens
        }
          , K = function(t, e, i, n) {
            var r, s, o = t.vars.onOverwrite;
            return o && (r = o(t, e, i, n)),
            o = B.onOverwrite,
            o && (s = o(t, e, i, n)),
            !1 !== r && !1 !== s
        }
          , $ = function(t, e, i, n, r) {
            var s, o, a, h;
            if (1 === n || n >= 4) {
                for (h = r.length,
                s = 0; h > s; s++)
                    if ((a = r[s]) !== e)
                        a._gc || a._kill(null, t, e) && (o = !0);
                    else if (5 === n)
                        break;
                return o
            }
            var l, u = e._startTime + d, c = [], p = 0, f = 0 === e._duration;
            for (s = r.length; --s > -1; )
                (a = r[s]) === e || a._gc || a._paused || (a._timeline !== e._timeline ? (l = l || tt(e, 0, f),
                0 === tt(a, l, f) && (c[p++] = a)) : a._startTime <= u && a._startTime + a.totalDuration() / a._timeScale > u && ((f || !a._initted) && u - a._startTime <= 2e-10 || (c[p++] = a)));
            for (s = p; --s > -1; )
                if (a = c[s],
                2 === n && a._kill(i, t, e) && (o = !0),
                2 !== n || !a._firstPT && a._initted) {
                    if (2 !== n && !K(a, e))
                        continue;
                    a._enabled(!1, !1) && (o = !0)
                }
            return o
        }
          , tt = function(t, e, i) {
            for (var n = t._timeline, r = n._timeScale, s = t._startTime; n._timeline; ) {
                if (s += n._startTime,
                r *= n._timeScale,
                n._paused)
                    return -100;
                n = n._timeline
            }
            return s /= r,
            s > e ? s - e : i && s === e || !t._initted && 2 * d > s - e ? d : (s += t.totalDuration() / t._timeScale / r) > e + d ? 0 : s - e - d
        };
        a._init = function() {
            var t, e, i, n, r, s, o = this.vars, a = this._overwrittenProps, h = this._duration, l = !!o.immediateRender, u = o.ease;
            if (o.startAt) {
                this._startAt && (this._startAt.render(-1, !0),
                this._startAt.kill()),
                r = {};
                for (n in o.startAt)
                    r[n] = o.startAt[n];
                if (r.overwrite = !1,
                r.immediateRender = !0,
                r.lazy = l && !1 !== o.lazy,
                r.startAt = r.delay = null,
                this._startAt = B.to(this.target, 0, r),
                l)
                    if (this._time > 0)
                        this._startAt = null;
                    else if (0 !== h)
                        return
            } else if (o.runBackwards && 0 !== h)
                if (this._startAt)
                    this._startAt.render(-1, !0),
                    this._startAt.kill(),
                    this._startAt = null;
                else {
                    0 !== this._time && (l = !1),
                    i = {};
                    for (n in o)
                        q[n] && "autoCSS" !== n || (i[n] = o[n]);
                    if (i.overwrite = 0,
                    i.data = "isFromStart",
                    i.lazy = l && !1 !== o.lazy,
                    i.immediateRender = l,
                    this._startAt = B.to(this.target, 0, i),
                    l) {
                        if (0 === this._time)
                            return
                    } else
                        this._startAt._init(),
                        this._startAt._enabled(!1),
                        this.vars.immediateRender && (this._startAt = null)
                }
            if (this._ease = u = u ? u instanceof b ? u : "function" == typeof u ? new b(u,o.easeParams) : w[u] || B.defaultEase : B.defaultEase,
            o.easeParams instanceof Array && u.config && (this._ease = u.config.apply(u, o.easeParams)),
            this._easeType = this._ease._type,
            this._easePower = this._ease._power,
            this._firstPT = null,
            this._targets)
                for (s = this._targets.length,
                t = 0; s > t; t++)
                    this._initProps(this._targets[t], this._propLookup[t] = {}, this._siblings[t], a ? a[t] : null, t) && (e = !0);
            else
                e = this._initProps(this.target, this._propLookup, this._siblings, a, 0);
            if (e && B._onPluginEvent("_onInitAllProps", this),
            a && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)),
            o.runBackwards)
                for (i = this._firstPT; i; )
                    i.s += i.c,
                    i.c = -i.c,
                    i = i._next;
            this._onUpdate = o.onUpdate,
            this._initted = !0
        }
        ,
        a._initProps = function(e, i, n, r, s) {
            var o, a, h, l, u, c;
            if (null == e)
                return !1;
            L[e._gsTweenID] && Q(),
            this.vars.css || e.style && e !== t && e.nodeType && V.css && !1 !== this.vars.autoCSS && k(this.vars, e);
            for (o in this.vars)
                if (c = this.vars[o],
                q[o])
                    c && (c instanceof Array || c.push && m(c)) && -1 !== c.join("").indexOf("{self}") && (this.vars[o] = c = this._swapSelfInParams(c, this));
                else if (V[o] && (l = new V[o])._onInitTween(e, this.vars[o], this, s)) {
                    for (this._firstPT = u = {
                        _next: this._firstPT,
                        t: l,
                        p: "setRatio",
                        s: 0,
                        c: 1,
                        f: 1,
                        n: o,
                        pg: 1,
                        pr: l._priority,
                        m: 0
                    },
                    a = l._overwriteProps.length; --a > -1; )
                        i[l._overwriteProps[a]] = this._firstPT;
                    (l._priority || l._onInitAllProps) && (h = !0),
                    (l._onDisable || l._onEnable) && (this._notifyPluginsOfEnabled = !0),
                    u._next && (u._next._prev = u)
                } else
                    i[o] = z.call(this, e, o, "get", c, o, 0, null, this.vars.stringFilter, s);
            return r && this._kill(r, e) ? this._initProps(e, i, n, r, s) : this._overwrite > 1 && this._firstPT && n.length > 1 && $(e, this, i, this._overwrite, n) ? (this._kill(i, e),
            this._initProps(e, i, n, r, s)) : (this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration) && (L[e._gsTweenID] = !0),
            h)
        }
        ,
        a.render = function(t, e, i) {
            var n, r, s, o, a = this._time, h = this._duration, l = this._rawPrevTime;
            if (t >= h - 1e-7 && t >= 0)
                this._totalTime = this._time = h,
                this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1,
                this._reversed || (n = !0,
                r = "onComplete",
                i = i || this._timeline.autoRemoveChildren),
                0 === h && (this._initted || !this.vars.lazy || i) && (this._startTime === this._timeline._duration && (t = 0),
                (0 > l || 0 >= t && t >= -1e-7 || l === d && "isPause" !== this.data) && l !== t && (i = !0,
                l > d && (r = "onReverseComplete")),
                this._rawPrevTime = o = !e || t || l === t ? t : d);
            else if (1e-7 > t)
                this._totalTime = this._time = 0,
                this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0,
                (0 !== a || 0 === h && l > 0) && (r = "onReverseComplete",
                n = this._reversed),
                0 > t && (this._active = !1,
                0 === h && (this._initted || !this.vars.lazy || i) && (l >= 0 && (l !== d || "isPause" !== this.data) && (i = !0),
                this._rawPrevTime = o = !e || t || l === t ? t : d)),
                this._initted || (i = !0);
            else if (this._totalTime = this._time = t,
            this._easeType) {
                var u = t / h
                  , c = this._easeType
                  , p = this._easePower;
                (1 === c || 3 === c && u >= .5) && (u = 1 - u),
                3 === c && (u *= 2),
                1 === p ? u *= u : 2 === p ? u *= u * u : 3 === p ? u *= u * u * u : 4 === p && (u *= u * u * u * u),
                this.ratio = 1 === c ? 1 - u : 2 === c ? u : .5 > t / h ? u / 2 : 1 - u / 2
            } else
                this.ratio = this._ease.getRatio(t / h);
            if (this._time !== a || i) {
                if (!this._initted) {
                    if (this._init(),
                    !this._initted || this._gc)
                        return;
                    if (!i && this._firstPT && (!1 !== this.vars.lazy && this._duration || this.vars.lazy && !this._duration))
                        return this._time = this._totalTime = a,
                        this._rawPrevTime = l,
                        D.push(this),
                        void (this._lazy = [t, e]);
                    this._time && !n ? this.ratio = this._ease.getRatio(this._time / h) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1))
                }
                for (!1 !== this._lazy && (this._lazy = !1),
                this._active || !this._paused && this._time !== a && t >= 0 && (this._active = !0),
                0 === a && (this._startAt && (t >= 0 ? this._startAt.render(t, e, i) : r || (r = "_dummyGS")),
                this.vars.onStart && (0 !== this._time || 0 === h) && (e || this._callback("onStart"))),
                s = this._firstPT; s; )
                    s.f ? s.t[s.p](s.c * this.ratio + s.s) : s.t[s.p] = s.c * this.ratio + s.s,
                    s = s._next;
                this._onUpdate && (0 > t && this._startAt && -1e-4 !== t && this._startAt.render(t, e, i),
                e || (this._time !== a || n || i) && this._callback("onUpdate")),
                r && (!this._gc || i) && (0 > t && this._startAt && !this._onUpdate && -1e-4 !== t && this._startAt.render(t, e, i),
                n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1),
                this._active = !1),
                !e && this.vars[r] && this._callback(r),
                0 === h && this._rawPrevTime === d && o !== d && (this._rawPrevTime = 0))
            }
        }
        ,
        a._kill = function(t, e, i) {
            if ("all" === t && (t = null),
            null == t && (null == e || e === this.target))
                return this._lazy = !1,
                this._enabled(!1, !1);
            e = "string" != typeof e ? e || this._targets || this.target : B.selector(e) || e;
            var n, r, s, o, a, h, l, u, c, d = i && this._time && i._startTime === this._startTime && this._timeline === i._timeline;
            if ((m(e) || R(e)) && "number" != typeof e[0])
                for (n = e.length; --n > -1; )
                    this._kill(t, e[n], i) && (h = !0);
            else {
                if (this._targets) {
                    for (n = this._targets.length; --n > -1; )
                        if (e === this._targets[n]) {
                            a = this._propLookup[n] || {},
                            this._overwrittenProps = this._overwrittenProps || [],
                            r = this._overwrittenProps[n] = t ? this._overwrittenProps[n] || {} : "all";
                            break
                        }
                } else {
                    if (e !== this.target)
                        return !1;
                    a = this._propLookup,
                    r = this._overwrittenProps = t ? this._overwrittenProps || {} : "all"
                }
                if (a) {
                    if (l = t || a,
                    u = t !== r && "all" !== r && t !== a && ("object" != typeof t || !t._tempKill),
                    i && (B.onOverwrite || this.vars.onOverwrite)) {
                        for (s in l)
                            a[s] && (c || (c = []),
                            c.push(s));
                        if ((c || !t) && !K(this, i, e, c))
                            return !1
                    }
                    for (s in l)
                        (o = a[s]) && (d && (o.f ? o.t[o.p](o.s) : o.t[o.p] = o.s,
                        h = !0),
                        o.pg && o.t._kill(l) && (h = !0),
                        o.pg && 0 !== o.t._overwriteProps.length || (o._prev ? o._prev._next = o._next : o === this._firstPT && (this._firstPT = o._next),
                        o._next && (o._next._prev = o._prev),
                        o._next = o._prev = null),
                        delete a[s]),
                        u && (r[s] = 1);
                    !this._firstPT && this._initted && this._enabled(!1, !1)
                }
            }
            return h
        }
        ,
        a.invalidate = function() {
            return this._notifyPluginsOfEnabled && B._onPluginEvent("_onDisable", this),
            this._firstPT = this._overwrittenProps = this._startAt = this._onUpdate = null,
            this._notifyPluginsOfEnabled = this._active = this._lazy = !1,
            this._propLookup = this._targets ? {} : [],
            M.prototype.invalidate.call(this),
            this.vars.immediateRender && (this._time = -d,
            this.render(Math.min(0, -this._delay))),
            this
        }
        ,
        a._enabled = function(t, e) {
            if (l || h.wake(),
            t && this._gc) {
                var i, n = this._targets;
                if (n)
                    for (i = n.length; --i > -1; )
                        this._siblings[i] = Z(n[i], this, !0);
                else
                    this._siblings = Z(this.target, this, !0)
            }
            return M.prototype._enabled.call(this, t, e),
            !(!this._notifyPluginsOfEnabled || !this._firstPT) && B._onPluginEvent(t ? "_onEnable" : "_onDisable", this)
        }
        ,
        B.to = function(t, e, i) {
            return new B(t,e,i)
        }
        ,
        B.from = function(t, e, i) {
            return i.runBackwards = !0,
            i.immediateRender = 0 != i.immediateRender,
            new B(t,e,i)
        }
        ,
        B.fromTo = function(t, e, i, n) {
            return n.startAt = i,
            n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender,
            new B(t,e,n)
        }
        ,
        B.delayedCall = function(t, e, i, n, r) {
            return new B(e,0,{
                delay: t,
                onComplete: e,
                onCompleteParams: i,
                callbackScope: n,
                onReverseComplete: e,
                onReverseCompleteParams: i,
                immediateRender: !1,
                lazy: !1,
                useFrames: r,
                overwrite: 0
            })
        }
        ,
        B.set = function(t, e) {
            return new B(t,0,e)
        }
        ,
        B.getTweensOf = function(t, e) {
            if (null == t)
                return [];
            t = "string" != typeof t ? t : B.selector(t) || t;
            var i, n, r, s;
            if ((m(t) || R(t)) && "number" != typeof t[0]) {
                for (i = t.length,
                n = []; --i > -1; )
                    n = n.concat(B.getTweensOf(t[i], e));
                for (i = n.length; --i > -1; )
                    for (s = n[i],
                    r = i; --r > -1; )
                        s === n[r] && n.splice(i, 1)
            } else
                for (n = Z(t).concat(),
                i = n.length; --i > -1; )
                    (n[i]._gc || e && !n[i].isActive()) && n.splice(i, 1);
            return n
        }
        ,
        B.killTweensOf = B.killDelayedCallsTo = function(t, e, i) {
            "object" == typeof e && (i = e,
            e = !1);
            for (var n = B.getTweensOf(t, e), r = n.length; --r > -1; )
                n[r]._kill(i, t)
        }
        ;
        var et = g("plugins.TweenPlugin", function(t, e) {
            this._overwriteProps = (t || "").split(","),
            this._propName = this._overwriteProps[0],
            this._priority = e || 0,
            this._super = et.prototype
        }, !0);
        if (a = et.prototype,
        et.version = "1.19.0",
        et.API = 2,
        a._firstPT = null,
        a._addTween = z,
        a.setRatio = j,
        a._kill = function(t) {
            var e, i = this._overwriteProps, n = this._firstPT;
            if (null != t[this._propName])
                this._overwriteProps = [];
            else
                for (e = i.length; --e > -1; )
                    null != t[i[e]] && i.splice(e, 1);
            for (; n; )
                null != t[n.n] && (n._next && (n._next._prev = n._prev),
                n._prev ? (n._prev._next = n._next,
                n._prev = null) : this._firstPT === n && (this._firstPT = n._next)),
                n = n._next;
            return !1
        }
        ,
        a._mod = a._roundProps = function(t) {
            for (var e, i = this._firstPT; i; )
                e = t[this._propName] || null != i.n && t[i.n.split(this._propName + "_").join("")],
                e && "function" == typeof e && (2 === i.f ? i.t._applyPT.m = e : i.m = e),
                i = i._next
        }
        ,
        B._onPluginEvent = function(t, e) {
            var i, n, r, s, o, a = e._firstPT;
            if ("_onInitAllProps" === t) {
                for (; a; ) {
                    for (o = a._next,
                    n = r; n && n.pr > a.pr; )
                        n = n._next;
                    (a._prev = n ? n._prev : s) ? a._prev._next = a : r = a,
                    (a._next = n) ? n._prev = a : s = a,
                    a = o
                }
                a = e._firstPT = r
            }
            for (; a; )
                a.pg && "function" == typeof a.t[t] && a.t[t]() && (i = !0),
                a = a._next;
            return i
        }
        ,
        et.activate = function(t) {
            for (var e = t.length; --e > -1; )
                t[e].API === et.API && (V[(new t[e])._propName] = t[e]);
            return !0
        }
        ,
        v.plugin = function(t) {
            if (!(t && t.propName && t.init && t.API))
                throw "illegal plugin definition.";
            var e, i = t.propName, n = t.priority || 0, r = t.overwriteProps, s = {
                init: "_onInitTween",
                set: "setRatio",
                kill: "_kill",
                round: "_mod",
                mod: "_mod",
                initAll: "_onInitAllProps"
            }, o = g("plugins." + i.charAt(0).toUpperCase() + i.substr(1) + "Plugin", function() {
                et.call(this, i, n),
                this._overwriteProps = r || []
            }, !0 === t.global), a = o.prototype = new et(i);
            a.constructor = o,
            o.API = t.API;
            for (e in s)
                "function" == typeof t[e] && (a[s[e]] = t[e]);
            return o.version = t.version,
            et.activate([o]),
            o
        }
        ,
        s = t._gsQueue) {
            for (o = 0; o < s.length; o++)
                s[o]();
            for (a in _)
                _[a].func || t.console.log("GSAP encountered missing dependency: " + a)
        }
        l = !1
    }
}("undefined" != typeof module && module.exports && "undefined" != typeof global ? global : this || window, "TweenMax"),
define("TweenMax", function() {}),
function() {
    "use strict";
    var t = "undefined" != typeof window && void 0 !== window.document ? window.document : {}
      , e = "undefined" != typeof module && module.exports
      , i = "undefined" != typeof Element && "ALLOW_KEYBOARD_INPUT"in Element
      , n = function() {
        for (var e, i = [["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror"], ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror"], ["webkitRequestFullScreen", "webkitCancelFullScreen", "webkitCurrentFullScreenElement", "webkitCancelFullScreen", "webkitfullscreenchange", "webkitfullscreenerror"], ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror"], ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError"]], n = 0, r = i.length, s = {}; n < r; n++)
            if ((e = i[n]) && e[1]in t) {
                for (n = 0; n < e.length; n++)
                    s[i[0][n]] = e[n];
                return s
            }
        return !1
    }()
      , r = {
        change: n.fullscreenchange,
        error: n.fullscreenerror
    }
      , s = {
        request: function(e) {
            var r = n.requestFullscreen;
            e = e || t.documentElement,
            / Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent) ? e[r]() : e[r](i && Element.ALLOW_KEYBOARD_INPUT)
        },
        exit: function() {
            t[n.exitFullscreen]()
        },
        toggle: function(t) {
            this.isFullscreen ? this.exit() : this.request(t)
        },
        onchange: function(t) {
            this.on("change", t)
        },
        onerror: function(t) {
            this.on("error", t)
        },
        on: function(e, i) {
            var n = r[e];
            n && t.addEventListener(n, i, !1)
        },
        off: function(e, i) {
            var n = r[e];
            n && t.removeEventListener(n, i, !1)
        },
        raw: n
    };
    if (!n)
        return void (e ? module.exports = !1 : window.screenfull = !1);
    Object.defineProperties(s, {
        isFullscreen: {
            get: function() {
                return Boolean(t[n.fullscreenElement])
            }
        },
        element: {
            enumerable: !0,
            get: function() {
                return t[n.fullscreenElement]
            }
        },
        enabled: {
            enumerable: !0,
            get: function() {
                return Boolean(t[n.fullscreenEnabled])
            }
        }
    }),
    e ? module.exports = s : window.screenfull = s
}(),
define("screenfull", function() {}),
function(t) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = t();
    else if ("function" == typeof define && define.amd)
        define("events", [], t);
    else {
        var e;
        e = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this,
        e.EventEmitter3 = t()
    }
}(function() {
    return function t(e, i, n) {
        function r(o, a) {
            if (!i[o]) {
                if (!e[o]) {
                    var h = "function" == typeof require && require;
                    if (!a && h)
                        return h(o, !0);
                    if (s)
                        return s(o, !0);
                    var l = new Error("Cannot find module '" + o + "'");
                    throw l.code = "MODULE_NOT_FOUND",
                    l
                }
                var u = i[o] = {
                    exports: {}
                };
                e[o][0].call(u.exports, function(t) {
                    var i = e[o][1][t];
                    return r(i || t)
                }, u, u.exports, t, e, i, n)
            }
            return i[o].exports
        }
        for (var s = "function" == typeof require && require, o = 0; o < n.length; o++)
            r(n[o]);
        return r
    }({
        1: [function(t, e, i) {
            "use strict";
            function n() {}
            function r(t, e, i) {
                this.fn = t,
                this.context = e,
                this.once = i || !1
            }
            function s() {
                this._events = new n,
                this._eventsCount = 0
            }
            var o = Object.prototype.hasOwnProperty
              , a = "~";
            Object.create && (n.prototype = Object.create(null),
            (new n).__proto__ || (a = !1)),
            s.prototype.eventNames = function() {
                var t, e, i = [];
                if (0 === this._eventsCount)
                    return i;
                for (e in t = this._events)
                    o.call(t, e) && i.push(a ? e.slice(1) : e);
                return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i
            }
            ,
            s.prototype.listeners = function(t, e) {
                var i = a ? a + t : t
                  , n = this._events[i];
                if (e)
                    return !!n;
                if (!n)
                    return [];
                if (n.fn)
                    return [n.fn];
                for (var r = 0, s = n.length, o = new Array(s); r < s; r++)
                    o[r] = n[r].fn;
                return o
            }
            ,
            s.prototype.emit = function(t, e, i, n, r, s) {
                var o = a ? a + t : t;
                if (!this._events[o])
                    return !1;
                var h, l, u = this._events[o], c = arguments.length;
                if (u.fn) {
                    switch (u.once && this.removeListener(t, u.fn, void 0, !0),
                    c) {
                    case 1:
                        return u.fn.call(u.context),
                        !0;
                    case 2:
                        return u.fn.call(u.context, e),
                        !0;
                    case 3:
                        return u.fn.call(u.context, e, i),
                        !0;
                    case 4:
                        return u.fn.call(u.context, e, i, n),
                        !0;
                    case 5:
                        return u.fn.call(u.context, e, i, n, r),
                        !0;
                    case 6:
                        return u.fn.call(u.context, e, i, n, r, s),
                        !0
                    }
                    for (l = 1,
                    h = new Array(c - 1); l < c; l++)
                        h[l - 1] = arguments[l];
                    u.fn.apply(u.context, h)
                } else {
                    var d, p = u.length;
                    for (l = 0; l < p; l++)
                        switch (u[l].once && this.removeListener(t, u[l].fn, void 0, !0),
                        c) {
                        case 1:
                            u[l].fn.call(u[l].context);
                            break;
                        case 2:
                            u[l].fn.call(u[l].context, e);
                            break;
                        case 3:
                            u[l].fn.call(u[l].context, e, i);
                            break;
                        case 4:
                            u[l].fn.call(u[l].context, e, i, n);
                            break;
                        default:
                            if (!h)
                                for (d = 1,
                                h = new Array(c - 1); d < c; d++)
                                    h[d - 1] = arguments[d];
                            u[l].fn.apply(u[l].context, h)
                        }
                }
                return !0
            }
            ,
            s.prototype.on = function(t, e, i) {
                var n = new r(e,i || this)
                  , s = a ? a + t : t;
                return this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], n] : this._events[s].push(n) : (this._events[s] = n,
                this._eventsCount++),
                this
            }
            ,
            s.prototype.once = function(t, e, i) {
                var n = new r(e,i || this,!0)
                  , s = a ? a + t : t;
                return this._events[s] ? this._events[s].fn ? this._events[s] = [this._events[s], n] : this._events[s].push(n) : (this._events[s] = n,
                this._eventsCount++),
                this
            }
            ,
            s.prototype.removeListener = function(t, e, i, r) {
                var s = a ? a + t : t;
                if (!this._events[s])
                    return this;
                if (!e)
                    return 0 == --this._eventsCount ? this._events = new n : delete this._events[s],
                    this;
                var o = this._events[s];
                if (o.fn)
                    o.fn !== e || r && !o.once || i && o.context !== i || (0 == --this._eventsCount ? this._events = new n : delete this._events[s]);
                else {
                    for (var h = 0, l = [], u = o.length; h < u; h++)
                        (o[h].fn !== e || r && !o[h].once || i && o[h].context !== i) && l.push(o[h]);
                    l.length ? this._events[s] = 1 === l.length ? l[0] : l : 0 == --this._eventsCount ? this._events = new n : delete this._events[s]
                }
                return this
            }
            ,
            s.prototype.removeAllListeners = function(t) {
                var e;
                return t ? (e = a ? a + t : t,
                this._events[e] && (0 == --this._eventsCount ? this._events = new n : delete this._events[e])) : (this._events = new n,
                this._eventsCount = 0),
                this
            }
            ,
            s.prototype.off = s.prototype.removeListener,
            s.prototype.addListener = s.prototype.on,
            s.prototype.setMaxListeners = function() {
                return this
            }
            ,
            s.prefixed = a,
            s.EventEmitter = s,
            void 0 !== e && (e.exports = s)
        }
        , {}]
    }, {}, [1])(1)
}),
define("models/globals", ["events"], function(t) {
    var e = {};
    return e.RESIZE = "resize",
    e.FOCUS = "focus",
    e.BLUR = "blur",
    e.events = new t,
    e.cdn = function(t) {
        return e.env.cdn + t
    }
    ,
    e.host = function(t) {
        return e.env.url + t
    }
    ,
    e.navigationOutDuration = function() {
        var t = 1.5 * e.width / 1920;
        return t = t < 1 ? 1 : t
    }
    ,
    e
}),
define("utils/loader", [], function() {
    var t = {
        loadJSON: function(t) {
            void 0 === t.method && (t.method = "GET"),
            void 0 === t.vars && (t.vars = {});
            var e = [];
            for (var i in t.vars)
                e.push(i + "=" + encodeURIComponent(t.vars[i]));
            var n = new XMLHttpRequest;
            n.overrideMimeType("application/json"),
            n.open(t.method, t.url, !0),
            n.onreadystatechange = function() {
                4 == n.readyState && "200" == n.status && t.onComplete && t.onComplete(JSON.parse(n.responseText))
            }
            ,
            n.send(e.join("&"))
        },
        loadJSONP: function(t) {
            var e = document.createElement("script");
            e.src = t.url,
            document.querySelector("head").appendChild(e),
            window[t.jsonponCallbackName] = function(i) {
                t.onComplete(i),
                e.parentNode.removeChild(e)
            }
        },
        loadText: function(t) {
            void 0 === t.method && (t.method = "GET");
            var e = new XMLHttpRequest;
            e.overrideMimeType("text/plain"),
            e.open(t.method, t.url, !0),
            e.onload = function(i) {
                t.onComplete && t.onComplete(e.responseText)
            }
            ,
            e.send()
        },
        loadSVG: function(t) {
            void 0 === t.method && (t.method = "GET");
            var e = new XMLHttpRequest;
            e.overrideMimeType("text/plain"),
            e.open(t.method, t.url, !0),
            e.onload = function(i) {
                t.onComplete && t.onComplete(e.responseText)
            }
            ,
            e.send()
        },
        loadHowl: function(e) {
            var i;
            e.src = e.url,
            e.onload = function() {
                e.onComplete && e.onComplete(i)
            }
            ,
            e.jsonp ? t.loadJSONP({
                url: e.jsonp,
                jsonponCallbackName: e.jsonpCallbackName,
                onComplete: function(t) {
                    e.sprite = t.sprite,
                    i = new Howl(e)
                }
                .bind(this)
            }) : i = new Howl(e)
        }
    };
    return t
}),
define("controllers/pixiapp", ["models/globals"], function(t) {
    return {
        ready: !1,
        resolution: 1,
        init: function() {
            if (this.ready)
                return null;
            this.resolution = this.isHighDPI() ? 2 : 1,
            this.pixiResolution = 1,
            this.container = document.getElementById("interaction-wrapper"),
            this.app = new PIXI.Application({
                width: t.width,
                height: t.height,
                resolution: this.pixiResolution
            }),
            this.container.appendChild(this.app.view),
            t.events.on(t.RESIZE, this.resize.bind(this)),
            this.ready = !0
        },
        hide: function() {
            this.app.view.display = "none"
        },
        show: function() {
            this.app.view.display = "block"
        },
        resize: function(e) {
            this.app.renderer.resize(t.width, t.height)
        },
        getTicker: function() {
            return this.app.ticker
        },
        getStage: function() {
            return this.app.stage
        },
        empty: function() {},
        prepFileName: function(t) {
            var e = 1 == this.resolution ? "" : "@2x";
            return t.split("{r}").join(e)
        },
        isHighDPI: function() {
            return window.devicePixelRatio > 1 || !(!window.matchMedia || !window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),                (min--moz-device-pixel-ratio: 1.5),                (-o-min-device-pixel-ratio: 3/2),                (min-resolution: 1.5dppx)").matches)
        }
    }
}),
define("utils/preloader", ["models/globals", "utils/loader", "controllers/pixiapp"], function(t, e, i) {
    var n = {}
      , r = {}
      , s = {}
      , o = {}
      , a = {}
      , h = {}
      , l = function(t) {
        this.progress = 0,
        this.total = 0,
        this.loading = 0,
        this.loaded = 0,
        this.max = 5,
        this.queue = [],
        this.options = void 0 === t ? {} : t
    };
    return l.prototype = {
        add: function(t, e, i, n, r) {
            this.queue.push({
                type: t,
                id: e,
                url: i,
                onComplete: n,
                options: r
            }),
            ++this.total
        },
        load: function() {
            if (this.loading)
                return null;
            for (var t = this.max > this.queue.length ? this.total : this.max, e = 0; e < t; ++e)
                this.loadNext()
        },
        loadNext: function() {
            if (!(this.loading >= this.total)) {
                var t = this.queue[this.loading];
                switch (t.type) {
                case "jsonp":
                    this.loadJSONP(t);
                    break;
                case "svg":
                    this.loadSVG(t);
                    break;
                case "image":
                    this.loadImage(t);
                    break;
                case "howler":
                    this.loadHowl(t);
                    break;
                case "text":
                    this.loadText(t);
                    break;
                case "spritesheet":
                case "texture":
                    this.loadPixiAsset(t)
                }
                ++this.loading
            }
        },
        loadImage: function(t) {
            if (void 0 !== s[t.id])
                this.returnCache(s, t);
            else {
                var e = new Image;
                e.onload = function() {
                    s[t.id] = e,
                    this.onLoadComplete(t, e, !1),
                    t.onComplete && onComplete(t.response)
                }
                .bind(this),
                e.src = t.url
            }
        },
        loadHowl: function(t) {
            t.options.url = t.url,
            t.options.onComplete = function(e) {
                a[t.id] = e,
                this.onLoadComplete(t, e, !1),
                t.onComplete && onComplete(t.response)
            }
            .bind(this),
            e.loadHowl(t.options)
        },
        loadSVG: function(t) {
            void 0 !== n[t.id] ? this.returnCache(n, t) : e.loadSVG({
                url: t.url,
                onComplete: function(e) {
                    n[t.id] = e,
                    this.onLoadComplete(t, e, !1),
                    t.onComplete && onComplete(t.response)
                }
                .bind(this)
            })
        },
        loadText: function(t) {
            void 0 !== h[t.id] ? this.returnCache(h, t) : e.loadText({
                url: t.url,
                onComplete: function(e) {
                    h[t.id] = e,
                    this.onLoadComplete(t, e, !1),
                    t.onComplete && onComplete(t.response)
                }
                .bind(this)
            })
        },
        loadPixiAsset: function(t) {
            if (void 0 !== r[t.id])
                this.returnCache(r, t);
            else {
                (new PIXI.loaders.Loader).add(t.id, i.prepFileName(t.url)).load(function(e, i) {
                    var n = i[t.id].texture;
                    r[t.id] = n,
                    this.onLoadComplete(t, n, !1),
                    t.onComplete && onComplete(t.response)
                }
                .bind(this))
            }
        },
        loadJSONP: function(t) {
            void 0 !== o[t.id] ? this.returnCache(o, t) : e.loadJSONP({
                url: t.url,
                jsonponCallbackName: t.id,
                onComplete: function(e) {
                    o[t.id] = e,
                    this.onLoadComplete(t, e, !1),
                    t.onComplete && onComplete(t.response)
                }
                .bind(this)
            })
        },
        returnCache: function(t, e) {
            var i = this;
            setTimeout(function() {
                i.onLoadComplete(e, t[e.id], !0),
                e.onComplete && e.onComplete(t[e.id])
            }, 100)
        },
        onLoadComplete: function(t, e, i) {
            var n = this.options.delayOnComplete ? this.options.delayOnComplete + Math.round(Math.random() * this.options.delayOnComplete) : 0;
            setTimeout(function() {
                ++this.loaded,
                console.log("Asset " + t.id + " (" + t.type + ") loaded: " + this.loaded + "/" + this.total + " cache: " + i),
                this.progress = this.loaded / this.total,
                this.onProgress && this.onProgress(this.progress),
                this.loaded >= this.total ? this.onComplete && this.onComplete() : this.loadNext()
            }
            .bind(this), n)
        },
        getSVG: function(t) {
            return n[t]
        },
        getTexture: function(t) {
            return r[t]
        },
        getJSONP: function(t) {
            return o[t]
        },
        getHowl: function(t) {
            return a[t]
        },
        getText: function(t) {
            return h[t]
        }
    },
    l
}),
define("utils/preloaders", ["models/globals", "utils/preloader"], function(t, e) {
    return {
        create: function() {
            this.init = new e,
            this.init.add("text", "about", t.host("about.php")),
            this.init.add("texture", "stripbg", t.cdn("images/stripbg_1024.jpg")),
            this.init.add("texture", "bottomgradient", t.cdn("images/bottomgradient.png")),
            this.init.add("image", "button", t.cdn("images/button.png")),
            this.init.add("image", "button", t.cdn("images/button-square.png")),
            this.init.add("svg", "volumeup", t.cdn("svg/volumeup.svg")),
            this.init.add("svg", "level", t.cdn("svg/level.svg")),
            this.init.add("svg", "menu_close", t.cdn("svg/menu_close.svg")),
            this.init.add("svg", "fullscreen", t.cdn("svg/fullscreen.svg")),
            this.init.add("svg", "progress", t.cdn("svg/progress.svg")),
            this.init.add("svg", "twitter", t.cdn("svg/twitter.svg")),
            this.init.add("svg", "facebook", t.cdn("svg/facebook.svg")),
            this.init.add("svg", "the_end_big_arrow", t.cdn("svg/the_end_big_arrow.svg")),
            this.init.add("svg", "the_end_small_arrow", t.cdn("svg/the_end_small_arrow.svg")),
            this.init.add("svg", "play", t.cdn("svg/play.svg")),
            this.init.add("texture", "chest", t.cdn("images/chest.json")),
            this.init.add("image", "abouttitle", t.cdn("images/about/title.gif")),
            this.init.add("image", "aboutbg", t.cdn("images/about/aboutbg.png")),
            this.init.add("image", "landscape", t.cdn("images/landscape.gif")),
            this.init.add("howler", "audiospriteintro", [t.cdn("audio/intro.mp3")], null, {
                jsonp: t.cdn("audio/intro.json"),
                jsonpCallbackName: "audiospriteintro_data_callback"
            }),
            this.experience = new e,
            this.experience.add("howler", "audiosprite", [t.cdn("audio/interactions.mp3")], null, {
                jsonp: t.cdn("audio/interactions.json"),
                jsonpCallbackName: "audiosprite_data_callback"
            }),
            this.experience.add("texture", "road", t.cdn("images/road.json")),
            this.experience.add("texture", "run_asphalt", t.cdn("images/run_asphalt.jpg")),
            this.experience.add("texture", "run_loop", t.cdn("images/run_loop.json")),
            this.experience.add("texture", "boss", t.cdn("images/boss.json")),
            this.experience.add("texture", "heart", t.cdn("images/heart.json")),
            this.experience.add("texture", "heart_background", t.cdn("images/heart_background.jpg")),
            this.experience.add("texture", "displace", t.cdn("images/displace.png")),
            this.experience.add("texture", "heart_background_general", t.cdn("images/heart_background_general.jpg")),
            this.experience.add("texture", "boss_background", t.cdn("images/boss_background.jpg")),
            this.experience.add("texture", "comma", t.cdn("images/comma.png")),
            this.experience.add("texture", "digits", t.cdn("images/digits.png")),
            this.experience.add("texture", "screenfont", t.cdn("images/screen_font.json")),
            this.experience.add("texture", "write_flash", t.cdn("images/write_flash.json")),
            this.experience.add("texture", "monster_write", t.cdn("images/monster_write.json")),
            this.experience.add("texture", "party_elements", t.cdn("images/party_elements.json")),
            this.experience.add("texture", "party_guests", t.cdn("images/party_guests.json")),
            this.experience.add("texture", "callmum", t.cdn("images/callmum.json")),
            this.experience.add("texture", "plane0", t.cdn("images/plane_0.json")),
            this.experience.add("texture", "plane1", t.cdn("images/plane_1.json")),
            this.experience.add("texture", "theend", t.cdn("images/theend.json")),
            this.experience.add("image", "thumb1", t.cdn("images/thumb1.jpg")),
            this.experience.add("image", "thumb2", t.cdn("images/thumb2.jpg")),
            this.experience.add("image", "thumb3", t.cdn("images/thumb3.jpg")),
            this.experience.add("image", "thumb4", t.cdn("images/thumb4.jpg")),
            this.experience.add("image", "thumb5", t.cdn("images/thumb5.jpg")),
            this.experience.add("image", "thumb6", t.cdn("images/thumb6.jpg")),
            this.experience.add("image", "thumb7", t.cdn("images/thumb7.jpg")),
            this.experience.add("image", "thumb8", t.cdn("images/thumb8.jpg")),
            this.experience.add("image", "video_texture_top", t.cdn("images/video_texture_top.png")),
            this.experience.add("image", "video_texture_bottom", t.cdn("images/video_texture_bottom.png"))
        }
    }
}),
define("utils/watchforhover", [], function() {
    var t = {
        isTouch: !1,
        className: "has-hover",
        start: function(t) {
            this.check()
        },
        check: function() {
            this.hasHoverClass = !1,
            this.container = document.body,
            this.lastTouchTime = 0,
            document.addEventListener("touchstart", this.updateLastTouchTime.bind(this), !0),
            document.addEventListener("touchstart", this.disableHover.bind(this), !0),
            document.addEventListener("mousemove", this.enableHover.bind(this), !0),
            this.enableHover()
        },
        enableHover: function() {
            new Date - this.lastTouchTime < 500 || this.hasHoverClass || (this.container.className += " " + this.className,
            this.hasHoverClass = !0)
        },
        disableHover: function() {
            this.hasHoverClass && (this.container.className = this.container.className.replace(" " + this.className, ""),
            this.hasHoverClass = !1,
            t.isTouch = !0)
        },
        updateLastTouchTime: function() {
            this.lastTouchTime = new Date
        },
        reset: function() {
            t.disableHover(),
            this.lastTouchTime = 0
        }
    };
    return t
}),
define("utils/gtaghelper", [], function() {
    return {
        trackers: [],
        logEnabled: !0,
        addTracker: function(t) {
            this.trackers.push(t)
        },
        pageView: function(t) {
            "/" != t.charAt(0) && (t = "/" + t);
            for (var e, i = 0; i < this.trackers.length; ++i)
                e = this.trackers[i],
                gtag("config", e, {
                    page_path: t
                }),
                this.log("(" + e + ") GTAG Page > " + t)
        },
        event: function(t, e, i) {
            for (var n, r = 0; r < this.trackers.length; ++r)
                n = this.trackers[r],
                gtag("event", "play", {
                    send_to: n,
                    event_action: e,
                    event_category: t,
                    event_label: i
                }),
                this.log("(" + n + ") GTAG Event > C: " + t + " A: " + e + " L: " + i)
        },
        log: function() {
            this.logEnabled && window.console && console.log.apply(console, arguments)
        }
    }
}),
define("utils/videoplayer", ["events"], function(t) {
    var e = function() {
        this.video = document.createElement("video"),
        this.video.width = 320,
        this.video.height = 240,
        this.playing = !1,
        this.time = 0,
        this.canPlay = !1,
        this.events = new t
    };
    return e.prototype = {
        getElement: function() {
            return this.video
        },
        setSource: function(t) {
            this.video.controls = !1,
            this.video.setAttribute("playsinline", "true"),
            this.video.setAttribute("preload", "auto");
            var e = document.createElement("source");
            e.type = "video/mp4",
            e.src = t,
            this.video.appendChild(e),
            this.video.addEventListener("playing", function(t) {
                this.events.emit("playing")
            }
            .bind(this)),
            this.video.addEventListener("canplaythrough", function(t) {
                this.events.emit("canplaythrough")
            }
            .bind(this)),
            this.video.addEventListener("timeupdate", function(t) {
                this.events.emit("timeupdate")
            }
            .bind(this)),
            this.video.addEventListener("loadedmetadata", function(t) {
                this.events.emit("loadedmetadata")
            }
            .bind(this)),
            this.video.addEventListener("pause", function(t) {
                this.events.emit("pause")
            }
            .bind(this)),
            this.video.addEventListener("end", function(t) {
                this.events.emit("end"),
                console.log("end")
            }
            .bind(this))
        },
        checkBuffering: function() {
            this.currentPlayPos = this.video.currentTime;
            var t = (this.checkInterval - 20) / 1e3;
            !this.buffering && this.currentPlayPos < this.lastPlayPos + t && !this.video.paused && (this.events.emit("startbuffering"),
            this.buffering = !0),
            this.buffering && this.currentPlayPos > this.lastPlayPos + t && !this.video.paused && (this.events.emit("stopbuffering"),
            this.buffering = !1),
            this.lastPlayPos = this.currentPlayPos
        },
        startBufferingCheck: function() {
            this.checkInterval = 50,
            this.lastPlayPos = 0,
            this.currentPlayPos = 0,
            this.buffering = !1,
            this.bufferingIntervalId && clearInterval(this.bufferingIntervalId),
            this.bufferingIntervalId = setInterval(this.checkBuffering.bind(this), this.checkInterval)
        },
        stopBufferingCheck: function() {
            this.buffering = !1,
            this.bufferingIntervalId && clearInterval(this.bufferingIntervalId)
        },
        seek: function(t) {
            this.video.duration && (this.video.currentTime = t)
        },
        getTime: function(t) {
            return this.video.currentTime
        },
        play: function() {
            this.playing = !0,
            this.video.play(),
            this.startBufferingCheck()
        },
        pause: function() {
            this.playing = !1,
            this.video.pause(),
            this.stopBufferingCheck()
        },
        getFrame: function(t) {
            return Math.ceil(this.video.currentTime * t)
        }
    },
    e
}),
define("partials/mainvideo", ["models/globals", "utils/videoplayer"], function(t, e) {
    return {
        init: function() {
            function i(t) {
                t.preventDefault()
            }
            var n = this;
            this.visible = !1,
            this.playing = !1,
            this.video = new e,
            window.screen.width > 1600 ? this.video.setSource(t.env.cdn + "videos/olb_1080.mp4") : this.video.setSource(t.env.cdn + "videos/olb_720.mp4"),
            this.videoElement = this.video.getElement(),
            this.videoElement.addEventListener("touchstart", i),
            this.videoElement.addEventListener("click", i),
            this.videoElement.addEventListener("contextmenu", i),
            this.canPlay = !1,
            this.container = t.Main.dom.video,
            this.container.appendChild(this.videoElement);
            var r;
            window.addEventListener("touchend", r = function() {
                window.removeEventListener("touchend", r),
                this.video.play(),
                this.video.pause(),
                console.log("Starting video!")
            }
            .bind(this)),
            this.resizeHandler = this.resize.bind(this),
            this.tickHandler = this.tick.bind(this),
            this.currentCuepoint = null,
            this.video.events.on("playing", function() {
                console.log("Play Event"),
                n.playing = !0
            }),
            this.video.events.on("pause", function() {
                console.log("Pause Event"),
                n.playing = !1
            }),
            this.hide()
        },
        hide: function() {
            this.visible = !1,
            this.videoElement.style.position = "absolute",
            this.videoElement.style.width = this.videoElement.style.height = "1px"
        },
        setCuePoints: function(t) {
            this.cuepoints = t
        },
        resize: function() {
            this.visible && (this.videoElement.style.position = "absolute",
            this.videoElement.style.width = t.videoSize.width + "px",
            this.videoElement.style.height = t.videoSize.height + "px",
            this.videoElement.style.left = t.videoSize.left + "px",
            this.videoElement.style.top = t.videoSize.top + "px")
        },
        play: function(t) {
            t = void 0 === t || t,
            this.playing || (t && this.show(),
            this.video.play(),
            this.tick())
        },
        show: function() {
            this.visible = !0,
            t.events.on(t.RESIZE, this.resizeHandler),
            this.resize()
        },
        pause: function() {
            t.events.off(t.RESIZE, this.resizeHandler),
            this.video.pause(),
            this.stopTick(),
            this.playing = !1
        },
        seek: function(t) {
            this.video.seek(t)
        },
        getTime: function() {
            return this.video.getTime()
        },
        tick: function() {
            if (this.tickId = requestAnimationFrame(this.tickHandler),
            this.playing) {
                for (var t, e = this.video.getTime(), i = null, n = 0; n < this.cuepoints.length; ++n)
                    t = this.cuepoints[n],
                    e >= t.start && e <= t.end && (i = t);
                if (i && (null === this.currentCuepoint || i.id != this.currentCuepoint.id)) {
                    var r = this.currentCuepoint;
                    this.onCuepoint && this.onCuepoint(i, r)
                }
                this.currentCuepoint = i
            }
        },
        stopTick: function() {
            cancelAnimationFrame(this.tickId)
        }
    }
}),
define("doodleplayer/container", [], function() {
    var t = function() {
        this.ref = Math.floor(1e8 * Math.random()),
        this.x = 0,
        this.y = 0,
        this.scaleX = 1,
        this.scaleY = 1,
        this.width = 0,
        this.height = 0,
        this.originalWidth = 0,
        this.originalHeight = 0,
        this.parent = null,
        this.viewport = null,
        this.children = [],
        this.transform = null,
        this.updateTransform()
    };
    return t.prototype.updateTransform = function() {
        this.transform = this.parent ? {
            x: this.parent.x + this.x * this.parent.transform.scaleX,
            y: this.parent.y + this.y * this.parent.transform.scaleY,
            scaleX: this.parent.transform.scaleX * this.scaleX,
            scaleY: this.parent.transform.scaleY * this.scaleY,
            width: this.originalWidth * this.parent.transform.scaleX * this.scaleX,
            height: this.originalHeight * this.parent.transform.scaleY * this.scaleY
        } : {
            x: this.x,
            y: this.x,
            scaleX: this.scaleX,
            scaleY: this.scaleY,
            width: this.originalWidth * this.scaleX,
            height: this.originalHeight * this.scaleY
        }
    }
    ,
    t.prototype.scale = function(t) {
        this.scaleX = this.scaleY = t
    }
    ,
    t.prototype.render = function(t) {
        this.updateTransform(),
        this.parent && (this.viewport = this.parent.viewport);
        for (var e = 0; e < this.children.length; ++e)
            this.children[e].render(t)
    }
    ,
    t.prototype.addChild = function(t) {
        return null !== t.parent && t.parent.removeChild(t),
        t.parent = this,
        t.index = this.children.length,
        this.children.push(t),
        t
    }
    ,
    t.prototype.removeChild = function(t) {
        t.parent = null,
        t.transform = null,
        t.viewport = null,
        this.children.splice(t.index, 1);
        for (var e = t.index; e < this.children.length; ++e)
            this.children[e].index = e;
        return t
    }
    ,
    t
}),
define("doodleplayer/viewport", ["./container"], function(t) {
    var e = function(e, i, n) {
        this.resolution = void 0 !== n ? n : 1,
        this.width = void 0 !== e ? e : 640,
        this.height = void 0 !== i ? i : 480,
        this.originalWidth = e,
        this.originalHeight = i,
        this.width *= this.resolution,
        this.height *= this.resolution,
        this.canvas = document.createElement("canvas"),
        this.ctx = this.canvas.getContext("2d"),
        this.canvas.width = this.width,
        this.canvas.height = this.height,
        this.ctx.lineJoin = "mitter",
        this.stage = new t,
        this.stage.viewport = this,
        this.stage.scale(this.resolution)
    };
    return e.prototype.render = function() {
        this.ctx.clearRect(0, 0, this.width, this.height),
        this.stage.render(this.ctx)
    }
    ,
    e.prototype.resize = function(t, e) {
        this.width = t * this.resolution,
        this.height = e * this.resolution,
        this.canvas.width = this.width,
        this.canvas.height = this.height
    }
    ,
    e
}),
define("doodleplayer/point", [], function() {
    var t = function(t, e) {
        this.x = t || 0,
        this.y = e || 0
    };
    return t.equal = function(t, e) {
        return t.x == e.x && t.y == e.y
    }
    ,
    t.prototype = {
        set: function(t, e) {
            this.x = t,
            this.y = e
        }
    },
    t
}),
define("doodleplayer/bezier", ["./point"], function(t) {
    var e = function() {
        this.points = [],
        this.last = -1,
        this.closed = !1,
        this.id = null
    };
    return e.prototype = {
        add: function(e) {
            this.points.push(e),
            this.last = this.points.length - 3,
            this.closed = t.equal(this.points[0], e)
        },
        getCenter: function() {
            for (var e = 0, i = 0, n = 0, r = 0; r < this.points.length; r += 3)
                e += this.points[r].x,
                i += this.points[r].y,
                ++n;
            return new t(e / n,i / n)
        },
        center: function(t, e) {
            var i = this.getCenter();
            this.move(t - i.x, e - i.y)
        },
        scale: function(t, e) {
            for (var i = 0; i < this.points.length; ++i)
                this.points[i].x *= t,
                this.points[i].y *= e
        },
        move: function(t, e) {
            for (var i = 0; i < this.points.length; ++i)
                this.points[i].x += t,
                this.points[i].y += e
        },
        draw: function(t, e, i, n, r, s, o, a) {
            t.beginPath(),
            t.strokeStyle = e || "black",
            t.lineWidth = i || 1,
            t.lineJoin = "round";
            var h = r + o * (this.points[0].x - n * Math.random())
              , l = s + a * (this.points[0].y - n * Math.random())
              , u = this.points.length - 3;
            t.moveTo(h, l);
            for (var c = 1; c < this.points.length; c += 3)
                t.bezierCurveTo(r + o * (this.points[c].x - n * Math.random()), s + a * (this.points[c].y - n * Math.random()), r + o * (this.points[c + 1].x - n * Math.random()), s + a * (this.points[c + 1].y - n * Math.random()), r + o * (c == u && this.closed ? h : this.points[c + 2].x - n * Math.random()), s + a * (c == u && this.closed ? l : this.points[c + 2].y - n * Math.random()));
            t.stroke()
        },
        export: function() {
            for (var t = {}, e = 0; e < this.points.length; ++e)
                t["px" + e] = this.points[e].x,
                t["py" + e] = this.points[e].y;
            return t
        },
        import: function(t) {
            for (var e = 0; e < this.points.length; ++e)
                this.points[e].x = t["px" + e],
                this.points[e].y = t["py" + e]
        }
    },
    e.svgToBeziers = function(t) {
        var i = document.createElement("div");
        i.innerHTML = t;
        for (var n, r, s = i.querySelectorAll("path"), o = [], a = 0; a < s.length; ++a)
            r = s[a],
            n = e.svgCoordsToBezier(r.getAttribute("d")),
            n.id = r.getAttribute("id"),
            o.push(n);
        return o
    }
    ,
    e.svgCoordsToBezier = function(i) {
        function n(e, i) {
            for (var n = 0; n < i.length; n += 2)
                e.add(new t(i[n],i[n + 1]))
        }
        var r = i;
        r = r.split(" ").join(""),
        r = r.split("\t").join(""),
        r = r.split("-").join(",-"),
        ["M", "m", "C", "c", "S", "s", "Z", "z"].forEach(function(t) {
            r = r.split(t).join("#" + t + "|")
        }),
        r = r.split("|,").join("|");
        var s = new e
          , o = r.split("#");
        o.shift();
        var a, h, l, u, c, d, p;
        for (h = 0; h < o.length; ++h) {
            l = o[h].split("|")[0],
            u = o[h].split("|")[1].split(","),
            p = l == l.toLowerCase() ? d : null,
            l = l.toUpperCase();
            for (a in u)
                u[a] = p ? parseFloat(u[a]) + d[a % 2] : parseFloat(u[a]);
            "M" == l ? n(s, u) : "C" == l ? n(s, u) : "S" == l && (u.unshift(d[0] - c[2] + d[0], d[1] - c[3] + d[1]),
            n(s, u)),
            c = u,
            d = [u[u.length - 2], u[u.length - 1]]
        }
        return s
    }
    ,
    e.arrayToBeziers = function(i) {
        for (var n, r, s = [], o = 0; o < i.length; ++o) {
            n = i[o],
            r = new e;
            for (var a = 0; a < n.length; a += 2)
                r.add(new t(n[a],n[a + 1]));
            s.push(r)
        }
        return s
    }
    ,
    e
}),
define("doodleplayer/box", ["./container"], function(t) {
    var e = function(e, i) {
        t.apply(this),
        e = void 0 !== e ? e : 200,
        i = void 0 !== i ? i : 200,
        this.lineColor = "black",
        this.lineWidth = 1,
        this.originalWidth = e,
        this.originalHeight = i,
        this.width = e,
        this.height = i,
        this.updateTransform()
    };
    return e.prototype = Object.create(t.prototype),
    e.prototype.constructor = e,
    e.prototype.render = function(t) {
        this.updateTransform(),
        t.beginPath(),
        t.lineWidth = this.lineWidth,
        t.strokeStyle = this.lineColor,
        t.rect(this.transform.x, this.transform.y, this.transform.width, this.transform.height),
        t.stroke()
    }
    ,
    e
}),
define("doodleplayer/dot", ["./container"], function(t) {
    var e = 2 * Math.PI
      , i = function(e) {
        t.apply(this),
        e = void 0 !== e ? e : 3,
        this.color = "black",
        this.radius = e,
        this.updateTransform()
    };
    return i.prototype = Object.create(t.prototype),
    i.prototype.constructor = i,
    i.prototype.render = function(t) {
        this.updateTransform(),
        t.beginPath(),
        t.fillStyle = this.color,
        t.arc(this.transform.x, this.transform.y, this.radius, 0, e),
        t.fill()
    }
    ,
    i
}),
define("doodleplayer/bezierdoodle", ["./container"], function(t) {
    var e = function(e) {
        t.apply(this),
        this.bezier = e,
        this.color = "red",
        this.minPointOffset = 5,
        this.maxPointOffset = 20,
        this.minStrokeWidth = 1,
        this.maxStrokeWidth = 10,
        this.total = 3,
        this.updateTransform()
    };
    return e.prototype = Object.create(t.prototype),
    e.prototype.constructor = e,
    e.prototype.render = function(t) {
        this.updateTransform();
        var e, i, n = (this.maxStrokeWidth - this.minStrokeWidth) / this.total, r = (this.maxPointOffset - this.minPointOffset) / this.total;
        this.pointOffset;
        this.parent && this.parent.viewport && this.parent.viewport.resolution;
        for (var s = 0; s < this.total; ++s)
            (e = this.minStrokeWidth + s * n) >= 1 && (i = (this.total - s) * r,
            this.bezier.draw(t, this.color, e * this.transform.scaleX, this.minPointOffset + i, this.transform.x + .5 * i * this.transform.scaleX, this.transform.y + .5 * i * this.transform.scaleY, this.transform.scaleX, this.transform.scaleY))
    }
    ,
    e
}),
define("doodleplayer/beatline", ["./point", "./bezier", "./bezierdoodle"], function(t, e, i) {
    var n = function(n, r, s) {
        var o = new e;
        i.apply(this, [o]),
        this.originalWidth = n || 1024,
        this.originalHeight = r || 256,
        this.nHandlers = s || 20,
        this.amplitude = 0,
        this.handlers = [],
        this.centerDot = this.nHandlers / 2;
        for (var a, h, l = 0; l < this.nHandlers; ++l)
            if (a = .5 * Math.sin(Math.PI * (l / this.nHandlers)),
            a = l < this.centerDot ? a : 1 - a,
            h = .5,
            this.handlers.push({
                x: a,
                y: h,
                ox: a,
                oy: h,
                a: 0,
                nextA: 0
            }),
            0 == l)
                o.add(new t(0,0));
            else
                for (var u = 0; u < 3; ++u)
                    o.add(new t(l,u))
    };
    return n.prototype = Object.create(i.prototype),
    n.prototype.constructor = n,
    n.prototype.render = function(t) {
        for (var e, n, r, s, o, a = 0, h = [], l = 0; l < this.nHandlers; ++l)
            l < this.centerDot ? (n = this.centerDot - l - 1,
            r = n + 1) : (n = l,
            r = n - 1),
            e = this.handlers[n],
            e.nextA = l == this.centerDot ? this.amplitude : .95 * this.handlers[r].a,
            e.a -= .4 * (e.a - e.nextA),
            s = e.ox * this.originalWidth,
            o = e.oy * this.originalHeight,
            e.x = s,
            e.y = o + Math.sin(n + a) * (e.a + 5 * (.5 - e.ox));
        this.handlers[1].y = this.handlers[this.nHandlers - 1].y,
        this.bezier.points[0].x = this.handlers[0].x,
        this.bezier.points[0].y = this.handlers[0].y;
        var u, c, d, p, f, a = 1;
        for (l = 1; l < this.nHandlers; ++l)
            u = this.handlers[l],
            c = 0 === l ? this.handlers[0] : this.handlers[l - 1],
            h[l % this.nHandlers],
            d = c.x + .5 * (u.x - c.x),
            p = c.y,
            f = u.y,
            this.bezier.points[a].x = d,
            this.bezier.points[a].y = p,
            this.bezier.points[a + 1].x = d,
            this.bezier.points[a + 1].y = f,
            this.bezier.points[a + 2].x = u.x,
            this.bezier.points[a + 2].y = u.y,
            a += 3;
        i.prototype.render.apply(this, [t])
    }
    ,
    n
}),
define("doodleplayer/beatlineequi", ["./point", "./bezier", "./bezierdoodle", "TweenMax"], function(t, e, i) {
    var n = function(t, n, r) {
        this.mBezier = new e,
        i.apply(this, [this.mBezier]),
        this.total = 1,
        this.maxPointOffset = 5,
        this.maxStrokeWidth = 6,
        this.color = "white",
        this.points = r || 20,
        this.amplitude = 0,
        this.decay = .1,
        this.time = (new Date).getTime(),
        this.resize(t, n)
    };
    return n.prototype = Object.create(i.prototype),
    n.prototype.constructor = n,
    n.prototype.resize = function(e, i) {
        this.width = e || 1024,
        this.height = i || 256,
        this.pointDistance = this.width / (this.points - 1);
        var n = this.pointDistance / 2
          , r = this.height / 2;
        this.centerY = r;
        var s = this.mBezier;
        s.points.length = 0,
        s.add(new t(0,r));
        for (var o = 0, a = 1; a < this.points; ++a)
            o = a * this.pointDistance - n,
            s.add(new t(o,r)),
            s.add(new t(o,r)),
            s.add(new t(a * this.pointDistance,r));
        this.pointData = [];
        for (var a = 1; a < this.points; ++a)
            this.pointData.push({
                t: 0,
                b: 0,
                c: 0,
                d: 0,
                a: 0,
                destA: 0
            });
        this.amplitudeHeight = this.height / 2
    }
    ,
    n.prototype.beat = function(t, e) {
        var i = this.pointData[t];
        i.t = 0,
        i.b = i.a,
        i.c = e - i.a,
        i.d = .1,
        i.destA = e
    }
    ,
    n.prototype.render = function(t) {
        var e = (new Date).getTime()
          , n = e - this.time;
        this.time = e;
        for (var r, s, o = 0; o < this.pointData.length; ++o)
            s = this.pointData[o],
            s.d > 0 && (s.t += n / 1e3),
            s.t > s.d && (s.t = 0,
            s.d = .5,
            s.b = s.a,
            s.c = -s.a,
            s.destA = 0),
            0 === s.destA ? s.a = this.easeOutElastic(s.a, s.t, s.b, s.c, s.d) : s.a = this.easeOutQuad(s.a, s.t, s.b, s.c, s.d),
            r = 3 * o,
            y = this.amplitudeHeight - s.a * this.amplitudeHeight,
            this.bezier.points[r].y = y,
            o > 0 && (this.bezier.points[r - 1].y = y),
            o < this.pointData.length && (this.bezier.points[r + 1].y = y);
        i.prototype.render.apply(this, [t])
    }
    ,
    n.prototype.easeOutQuad = function(t, e, i, n, r) {
        return -n * (e /= r) * (e - 2) + i
    }
    ,
    n.prototype.easeOutElastic = function(t, e, i, n, r) {
        var s = 1.70158
          , o = 0
          , a = n;
        if (0 == e)
            return i;
        if (1 == (e /= r))
            return i + n;
        if (o || (o = .3 * r),
        a < Math.abs(n)) {
            a = n;
            var s = o / 4
        } else
            var s = o / (2 * Math.PI) * Math.asin(n / a);
        return a * Math.pow(2, -10 * e) * Math.sin((e * r - s) * (2 * Math.PI) / o) + n + i
    }
    ,
    n
}),
define("doodleplayer/bezierarrayviewport", ["./viewport", "./bezier", "./bezierdoodle", "./container"], function(t, e, i, n) {
    var r = function(e, i, r) {
        t.apply(this, [e, i, r]),
        this.bindRender = this.render.bind(this),
        this.color = "red",
        this.minPointOffset = 5,
        this.maxPointOffset = 20,
        this.minStrokeWidth = 1,
        this.maxStrokeWidth = 10,
        this.total = 3,
        this.container = new n,
        this.stage.addChild(this.container),
        this.beziers = [],
        this.setScale(1)
    };
    return r.prototype = Object.create(t.prototype),
    r.prototype.constructor = r,
    r.prototype.addBezierFromData = function(t) {
        for (var n, r = e.arrayToBeziers(t), s = 0; s < t.length; ++s)
            n = new i(r[s]),
            n.locked = !1,
            n.color = this.color,
            n.minPointOffset = this.minPointOffset,
            n.maxPointOffset = this.maxPointOffset,
            n.minStrokeWidth = this.minStrokeWidth,
            n.maxStrokeWidth = this.maxStrokeWidth,
            n.total = this.total,
            this.beziers.push(n),
            this.container.addChild(n)
    }
    ,
    r.prototype.moveBeziers = function(t, e) {
        for (var i = 0; i < this.beziers.length; ++i)
            this.beziers[i].x += t,
            this.beziers[i].y += e
    }
    ,
    r.prototype.setScale = function(t) {
        if (t != this.scale) {
            this.scale = t;
            var e = this.originalWidth * t
              , i = this.originalHeight * t;
            this.resize(e, i),
            this.container.scale(t)
        }
    }
    ,
    r.prototype.setWidth = function(t) {
        var e = t / this.originalWidth;
        this.setScale(e)
    }
    ,
    r
}),
define("doodleplayer/main", ["./viewport", "./container", "./point", "./bezier", "./box", "./dot", "./bezierdoodle", "./beatline", "./beatlineequi", "./bezierarrayviewport"], function(t, e, i, n, r, s, o, a, h, l) {
    return {
        Viewport: t,
        Container: e,
        Bezier: n,
        Box: r,
        Dot: s,
        BezierDoodle: o,
        BeatLine: a,
        BeatLineEqui: h,
        BezierArrayViewport: l
    }
}),
define("models/beziers", [], function() {
    var t = {};
    return t.oneLastBeat = [[67, 183, 24, 135, -19, 512, 46, 502, 111, 493, 87, 216, 67, 198, 56, 188, 50, 198, 44, 212], [110, 490, 110, 490, 117, 170, 122, 169, 127, 168, 181, 479, 188, 478, 194, 477, 184, 159, 177, 161], [290, 145, 279, 145, 227, 152, 226, 155, 224, 159, 215, 469, 220, 471, 221, 471, 222, 471, 224, 471, 240, 470, 281, 463, 284, 461, 288, 458, 221, 474, 220, 471, 219, 467, 215, 314, 220, 314, 226, 314, 271, 303, 277, 304], [389, 128, 386, 141, 374, 448, 388, 446, 401, 445, 449, 441, 454, 436], [475, 439, 475, 439, 509, 110, 515, 108, 521, 107, 561, 423, 553, 422, 546, 421, 568, 277, 490, 291, 472, 294, 546, 284, 546, 284], [635, 188, 635, 188, 666, 137, 630, 98, 615, 84, 578, 98, 574, 161, 569, 237, 676, 277, 641, 382, 618, 450, 564, 398, 572, 347], [647, 91, 653, 95, 726, 86, 724, 79, 721, 73, 686, 83, 685, 94, 684, 104, 686, 392, 689, 404], [810, 392, 808, 381, 807, 70, 812, 66, 816, 62, 876, 34, 876, 140, 876, 224, 797, 230, 801, 225, 805, 219, 874, 192, 879, 271, 886, 365, 827, 379, 804, 383], [970, 40, 959, 40, 907, 47, 905, 50, 904, 54, 895, 364, 900, 366, 900, 366, 902, 366, 903, 366, 920, 365, 960, 358, 964, 356, 967, 353, 901, 369, 900, 366, 899, 362, 898, 206, 904, 206, 910, 206, 960, 195, 966, 196], [982, 353, 982, 353, 1015, 32, 1021, 30, 1027, 29, 1073, 343, 1065, 342, 1058, 341, 1074, 181, 997, 195, 979, 198, 1069, 191, 1069, 191], [1049, 28, 1055, 32, 1142, 24, 1139, 18, 1137, 11, 1099, 19, 1099, 30, 1098, 40, 1099, 328, 1102, 340]],
    t.escapeFromDeath = [[757, 532, 756, 545, 762, 863, 766, 855, 769, 847, 764, 711, 751, 705, 738, 698, 819, 688, 819, 678, 818, 669, 827, 505, 819, 508, 810, 511, 821, 911, 828, 915], [659, 583, 665, 586, 735, 561, 733, 555, 730, 548, 697, 566, 696, 577, 696, 588, 706, 878, 709, 889], [599, 934, 599, 934, 621, 596, 626, 593, 632, 590, 681, 900, 674, 900, 666, 901, 683, 751, 608, 782, 591, 789, 662, 763, 662, 763], [587, 610, 577, 612, 526, 630, 525, 634, 524, 638, 524, 953, 529, 953, 530, 953, 531, 953, 533, 953, 549, 948, 588, 933, 591, 930, 595, 926, 530, 957, 530, 953, 529, 950, 519, 797, 525, 795, 531, 794, 574, 773, 580, 773], [431, 668, 429, 676, 435, 990, 439, 990, 444, 989, 505, 982, 501, 815, 498, 647, 423, 675, 423, 675], [340, 845, 342, 842, 339, 700, 341, 702, 343, 703, 350, 805, 355, 804, 362, 803, 358, 695, 359, 695, 360, 694, 375, 829, 373, 832], [320, 712, 301, 695, 287, 866, 315, 856, 342, 845, 328, 725, 320, 719, 315, 716, 313, 721, 310, 727], [263, 876, 265, 882, 258, 737, 262, 733, 266, 729, 286, 721, 287, 758, 288, 806, 256, 809, 259, 805, 261, 801, 271, 791, 280, 815, 287, 834, 294, 864, 294, 864], [253, 736, 248, 737, 226, 746, 226, 748, 225, 750, 226, 889, 228, 889, 228, 889, 228, 891, 228, 889, 227, 888, 230, 818, 223, 815, 221, 814, 246, 806, 249, 806], [712, 256, 703, 257, 664, 271, 663, 275, 662, 278, 663, 524, 667, 525, 667, 525, 668, 524, 669, 524, 681, 520, 712, 508, 715, 506, 717, 503, 667, 527, 667, 525, 666, 522, 659, 402, 663, 401, 667, 400, 701, 384, 706, 383], [609, 551, 613, 561, 595, 305, 603, 297, 611, 290, 654, 278, 656, 344, 658, 430, 596, 432, 600, 424], [533, 582, 533, 582, 551, 317, 555, 315, 560, 312, 598, 555, 592, 555, 586, 556, 599, 439, 540, 463, 527, 468, 583, 448, 583, 448], [521, 344, 517, 330, 491, 329, 478, 359, 465, 390, 460, 600, 496, 591, 525, 583, 526, 536, 526, 536], [445, 436, 445, 436, 468, 390, 439, 366, 428, 357, 400, 374, 399, 425, 397, 486, 479, 499, 454, 587, 439, 645, 396, 613, 402, 572], [385, 382, 377, 384, 338, 398, 337, 401, 336, 404, 336, 651, 340, 651, 341, 651, 341, 651, 343, 650, 355, 647, 386, 635, 388, 632, 391, 630, 341, 654, 340, 651, 340, 649, 332, 528, 337, 527, 341, 526, 375, 510, 379, 510], [256, 436, 229, 412, 210, 655, 249, 640, 288, 625, 269, 454, 256, 445, 249, 441, 246, 448, 243, 458], [174, 466, 178, 468, 222, 452, 220, 449, 219, 445, 198, 456, 198, 463, 197, 470, 204, 651, 206, 658], [463, 45, 468, 47, 523, 27, 521, 22, 519, 18, 493, 32, 493, 40, 492, 49, 501, 277, 503, 286], [411, 323, 411, 323, 429, 56, 433, 54, 438, 52, 477, 296, 471, 296, 465, 297, 478, 179, 419, 203, 405, 209, 462, 188, 462, 188], [403, 68, 395, 70, 355, 84, 354, 87, 353, 91, 354, 339, 358, 339, 358, 339, 359, 339, 360, 338, 373, 335, 404, 323, 406, 320, 409, 317, 358, 341, 358, 339, 357, 336, 350, 216, 354, 215, 359, 214, 393, 197, 397, 197], [286, 377, 285, 368, 277, 121, 280, 117, 283, 113, 328, 80, 331, 165, 333, 232, 273, 250, 276, 245, 279, 240, 331, 206, 337, 268, 344, 342, 299, 363, 282, 370]],
    t.beat = [[685, 180, 696, 185, 827, 146, 823, 135, 818, 125, 756, 153, 754, 172, 752, 190, 758, 680, 762, 699], [543, 770, 543, 770, 601, 199, 612, 194, 623, 189, 698, 715, 684, 716, 670, 716, 709, 464, 568, 513, 536, 524, 670, 484, 670, 484], [508, 236, 488, 239, 394, 267, 392, 274, 389, 281, 374, 813, 384, 814, 385, 814, 387, 813, 390, 812, 419, 806, 493, 781, 499, 776, 506, 771, 385, 819, 384, 814, 383, 808, 373, 548, 383, 547, 394, 545, 475, 512, 486, 512], [217, 879, 215, 861, 211, 331, 219, 323, 226, 314, 335, 246, 336, 427, 337, 572, 193, 607, 201, 596, 209, 586, 333, 517, 343, 650, 355, 809, 249, 852, 207, 865]],
    t.useYourKeyboard = [[871, 328, 869, 335, 867, 607, 871, 607, 875, 606, 931, 600, 932, 455, 933, 309, 864, 334, 864, 334], [779, 642, 783, 654, 776, 368, 785, 360, 793, 352, 836, 337, 836, 408, 836, 504, 769, 497, 774, 489, 778, 481, 801, 460, 818, 509, 831, 545, 844, 618, 844, 618], [674, 682, 674, 682, 703, 388, 709, 385, 714, 382, 751, 651, 744, 651, 737, 652, 757, 522, 687, 549, 671, 556, 754, 524, 754, 524], [641, 417, 602, 383, 564, 720, 622, 699, 680, 678, 658, 441, 640, 429, 630, 423, 622, 457, 617, 470], [515, 742, 514, 733, 512, 461, 516, 457, 519, 452, 573, 416, 574, 508, 574, 582, 491, 607, 495, 602, 499, 596, 572, 554, 577, 623, 583, 704, 531, 727, 510, 735], [419, 493, 422, 497, 434, 634, 448, 630, 460, 628, 491, 461, 490, 466, 478, 538, 446, 621, 447, 662, 450, 760, 450, 762, 450, 762], [403, 502, 393, 503, 347, 519, 345, 523, 344, 526, 337, 799, 341, 800, 342, 800, 343, 799, 344, 799, 359, 795, 395, 781, 398, 779, 402, 776, 342, 802, 341, 800, 341, 797, 336, 664, 341, 663, 346, 662, 387, 643, 392, 643], [261, 551, 261, 558, 256, 781, 255, 829, 255, 851, 247, 774, 264, 691, 280, 612, 321, 523, 317, 531, 311, 548, 260, 689, 263, 695, 265, 701, 310, 800, 312, 813], [465, 417, 468, 424, 463, 236, 469, 231, 475, 226, 504, 216, 504, 264, 504, 327, 458, 329, 462, 324, 465, 319, 480, 306, 492, 338, 501, 363, 510, 402, 510, 402], [405, 251, 406, 258, 399, 438, 428, 429, 456, 420, 449, 239, 451, 236], [380, 262, 354, 239, 328, 461, 368, 448, 408, 435, 392, 278, 380, 270, 374, 266, 370, 272, 366, 281], [299, 285, 301, 288, 309, 378, 319, 377, 327, 375, 348, 266, 347, 269, 339, 316, 317, 370, 318, 398, 320, 462, 320, 464, 320, 464], [249, 301, 243, 302, 215, 312, 215, 314, 214, 316, 209, 490, 212, 490, 212, 490, 213, 490, 214, 490, 223, 487, 245, 478, 246, 477, 248, 475, 213, 492, 212, 490, 212, 488, 209, 404, 212, 403, 215, 402, 239, 391, 242, 391], [186, 372, 186, 372, 202, 340, 182, 323, 175, 316, 155, 328, 154, 364, 153, 407, 209, 416, 192, 479, 181, 520, 152, 497, 156, 468], [101, 351, 102, 357, 101, 526, 122, 522, 144, 519, 134, 339, 136, 337]],
    t.beatToShoot = [[101, 592, 105, 593, 152, 577, 150, 572, 149, 568, 126, 580, 126, 588, 125, 595, 133, 789, 134, 797], [729, 396, 603, 395, 633, 893, 720, 860, 807, 827, 766, 446, 744, 430, 722, 414, 705, 427, 697, 449], [601, 453, 540, 398, 498, 939, 585, 906, 672, 873, 628, 492, 600, 473, 586, 463, 578, 479, 571, 500], [402, 506, 400, 524, 410, 971, 414, 960, 419, 948, 412, 757, 394, 748, 375, 740, 490, 724, 488, 712, 487, 698, 500, 469, 489, 472, 477, 476, 492, 928, 502, 933], [352, 649, 352, 649, 391, 568, 341, 526, 322, 510, 273, 541, 271, 629, 268, 735, 410, 758, 368, 913, 341, 1013, 267, 958, 276, 886], [206, 559, 176, 533, 156, 794, 198, 778, 240, 762, 219, 579, 206, 569, 199, 564, 195, 572, 191, 582], [769, 375, 778, 378, 958, 318, 954, 309, 951, 301, 822, 351, 821, 366, 820, 382, 835, 784, 839, 799], [620, 364, 646, 364, 789, 302, 810, 302], [785, 124, 780, 125, 755, 134, 755, 136, 754, 138, 754, 293, 757, 293, 757, 293, 758, 293, 759, 293, 766, 291, 786, 283, 787, 281, 789, 280, 757, 295, 757, 293, 757, 292, 752, 216, 755, 215, 758, 215, 779, 204, 782, 204], [740, 152, 738, 144, 722, 143, 714, 162, 706, 180, 703, 310, 725, 304, 743, 300, 743, 270, 743, 270], [659, 335, 659, 335, 661, 168, 664, 167, 666, 166, 692, 319, 695, 317, 698, 316, 693, 153, 689, 155], [634, 178, 613, 160, 599, 348, 629, 336, 659, 324, 644, 192, 634, 186, 629, 182, 626, 188, 624, 195], [492, 72, 499, 75, 572, 49, 569, 42, 566, 36, 531, 55, 531, 66, 530, 77, 541, 379, 544, 390], [424, 440, 424, 440, 447, 87, 453, 84, 459, 81, 510, 403, 502, 404, 494, 405, 512, 249, 433, 281, 416, 289, 490, 262, 490, 262], [413, 103, 402, 105, 349, 124, 348, 128, 347, 132, 348, 460, 353, 461, 353, 461, 354, 460, 356, 460, 373, 455, 414, 439, 417, 436, 420, 432, 354, 464, 353, 461, 352, 457, 342, 298, 348, 296, 354, 295, 399, 273, 405, 273], [258, 511, 257, 499, 246, 173, 250, 168, 254, 163, 314, 119, 318, 230, 320, 319, 240, 344, 244, 337, 249, 330, 317, 285, 325, 368, 334, 465, 276, 493, 252, 502]],
    t.beatToWrite = [[617, 154, 621, 155, 665, 139, 664, 136, 662, 132, 641, 143, 640, 150, 640, 157, 647, 340, 649, 347], [716, 123, 688, 98, 669, 344, 709, 329, 748, 314, 728, 141, 715, 132, 709, 128, 705, 135, 702, 145], [492, 72, 499, 75, 572, 49, 569, 42, 566, 36, 531, 55, 531, 66, 530, 77, 541, 379, 544, 390], [424, 440, 424, 440, 447, 87, 453, 84, 459, 81, 510, 403, 502, 404, 494, 405, 512, 249, 433, 281, 416, 289, 490, 262, 490, 262], [413, 103, 402, 105, 349, 124, 348, 128, 347, 132, 348, 460, 353, 461, 353, 461, 354, 460, 356, 460, 373, 455, 414, 439, 417, 436, 420, 432, 354, 464, 353, 461, 352, 457, 342, 298, 348, 296, 354, 295, 399, 273, 405, 273], [258, 511, 257, 499, 246, 173, 250, 168, 254, 163, 314, 119, 318, 230, 320, 319, 240, 344, 244, 337, 249, 330, 317, 285, 325, 368, 334, 465, 276, 493, 252, 502], [322, 951, 329, 968, 317, 539, 332, 525, 346, 511, 419, 478, 419, 587, 419, 731, 304, 755, 312, 742, 321, 729, 359, 692, 389, 762, 412, 814, 435, 901, 435, 901], [837, 332, 819, 337, 734, 373, 732, 379, 729, 385, 716, 822, 725, 821, 725, 821, 727, 820, 730, 819, 757, 809, 824, 779, 829, 774, 835, 769, 726, 825, 725, 821, 723, 817, 727, 579, 737, 576, 747, 573, 815, 543, 824, 541], [442, 489, 467, 478, 553, 451, 558, 439, 563, 427, 491, 470, 491, 479, 491, 489, 493, 890, 487, 895, 481, 900, 421, 932, 436, 918, 451, 903, 552, 870, 552, 870], [571, 432, 580, 435, 728, 369, 724, 361, 720, 353, 634, 395, 632, 410, 631, 426, 642, 839, 646, 854], [161, 547, 164, 563, 192, 1008, 200, 1003, 207, 997, 219, 658, 222, 656, 225, 655, 247, 983, 252, 979, 257, 976, 279, 550, 284, 542]],
    t.beatToCreateGroupChat = [[116, 557, 115, 548, 107, 319, 110, 315, 113, 311, 155, 281, 158, 359, 160, 422, 103, 439, 106, 434, 109, 429, 157, 398, 163, 456, 169, 524, 128, 544, 112, 551], [225, 269, 217, 271, 180, 284, 179, 287, 178, 290, 179, 521, 182, 521, 183, 521, 183, 521, 185, 521, 196, 517, 225, 506, 228, 504, 230, 501, 183, 524, 182, 521, 182, 519, 175, 406, 179, 406, 183, 405, 215, 389, 219, 389], [232, 507, 232, 507, 249, 258, 253, 256, 257, 254, 293, 481, 287, 481, 282, 482, 294, 372, 239, 395, 227, 400, 279, 381, 279, 381], [281, 247, 285, 249, 337, 231, 335, 227, 333, 222, 308, 235, 308, 243, 307, 251, 315, 464, 317, 472], [383, 301, 385, 302, 418, 290, 417, 288, 416, 285, 400, 293, 400, 298, 400, 303, 405, 438, 406, 444], [455, 278, 435, 260, 421, 442, 450, 431, 479, 419, 465, 292, 455, 285, 450, 282, 448, 287, 445, 294], [581, 166, 578, 153, 556, 153, 543, 182, 531, 211, 521, 407, 553, 398, 580, 390, 581, 345, 581, 345], [594, 381, 597, 391, 592, 151, 599, 144, 605, 137, 638, 123, 638, 183, 638, 264, 586, 271, 590, 264, 594, 257, 611, 239, 624, 279, 634, 310, 644, 360, 644, 360], [702, 99, 694, 100, 658, 115, 657, 118, 656, 121, 651, 351, 654, 351, 655, 351, 655, 351, 657, 351, 668, 347, 696, 335, 698, 332, 701, 330, 655, 354, 654, 351, 654, 349, 650, 237, 654, 236, 658, 235, 689, 219, 693, 218], [709, 331, 709, 331, 731, 83, 735, 81, 739, 78, 768, 304, 762, 304, 757, 305, 772, 195, 718, 220, 706, 225, 757, 205, 757, 205], [760, 74, 764, 75, 814, 55, 813, 51, 811, 47, 787, 60, 786, 68, 786, 76, 788, 288, 789, 296], [875, 22, 867, 23, 832, 38, 831, 41, 830, 44, 824, 274, 828, 274, 828, 274, 829, 274, 830, 274, 841, 270, 881, 255, 883, 252, 886, 250, 828, 276, 828, 274, 827, 272, 823, 160, 827, 159, 831, 158, 876, 140, 880, 139], [33, 815, 33, 815, 48, 675, 51, 673, 54, 670, 73, 785, 70, 787, 66, 788, 76, 725, 40, 752, 32, 758, 66, 734, 66, 734], [172, 646, 168, 626, 139, 624, 123, 666, 107, 708, 94, 1005, 136, 994, 170, 984, 172, 917, 172, 917, 172, 917, 182, 822, 165, 829, 94, 861, 186, 826, 186, 826], [202, 965, 207, 979, 199, 620, 209, 609, 219, 599, 268, 578, 268, 669, 268, 789, 191, 799, 196, 789, 202, 778, 227, 751, 248, 812, 263, 858, 278, 933, 278, 933], [344, 561, 299, 520, 256, 947, 323, 919, 390, 890, 364, 592, 343, 577, 332, 570, 326, 582, 320, 599], [381, 542, 383, 556, 371, 900, 420, 879, 468, 858, 455, 515, 459, 509], [481, 858, 486, 873, 471, 516, 482, 505, 493, 493, 551, 476, 551, 567, 551, 688, 467, 693, 474, 682], [697, 437, 692, 418, 658, 418, 639, 460, 620, 504, 606, 798, 654, 783, 694, 771, 696, 705, 696, 705], [710, 404, 709, 418, 707, 767, 710, 758, 714, 749, 713, 600, 699, 593, 685, 587, 772, 572, 772, 562, 771, 552, 786, 373, 777, 376, 768, 379, 770, 725, 777, 729], [799, 722, 799, 722, 832, 351, 838, 347, 844, 344, 898, 714, 890, 715, 882, 716, 893, 518, 813, 555, 795, 563, 871, 532, 871, 532], [869, 342, 875, 345, 980, 301, 978, 295, 976, 288, 940, 309, 939, 321, 938, 333, 941, 650, 943, 662]],
    t.beatToBeBrave = [[83, 416, 81, 407, 73, 154, 76, 150, 79, 146, 126, 112, 128, 199, 131, 268, 69, 286, 72, 281, 75, 276, 128, 241, 134, 305, 141, 381, 96, 403, 78, 410], [202, 100, 194, 101, 153, 116, 152, 119, 151, 123, 152, 377, 156, 377, 156, 377, 157, 377, 158, 377, 171, 373, 203, 361, 205, 358, 208, 355, 156, 380, 156, 377, 155, 375, 147, 251, 152, 250, 157, 249, 192, 232, 196, 232], [211, 361, 211, 361, 229, 87, 233, 85, 238, 82, 278, 333, 272, 333, 265, 334, 279, 213, 218, 238, 205, 244, 262, 223, 262, 223], [264, 76, 269, 78, 326, 57, 324, 53, 321, 48, 295, 62, 294, 71, 294, 80, 302, 314, 304, 323], [246, 668, 245, 659, 239, 386, 242, 382, 246, 378, 297, 342, 299, 435, 300, 509, 232, 529, 236, 523, 239, 517, 298, 481, 304, 549, 310, 631, 261, 654, 241, 661], [320, 637, 324, 649, 314, 363, 322, 355, 330, 347, 370, 332, 371, 404, 372, 500, 309, 505, 313, 497, 317, 489, 338, 468, 356, 517, 369, 554, 382, 614, 382, 614], [393, 603, 393, 603, 416, 309, 421, 306, 426, 304, 466, 573, 459, 573, 452, 574, 469, 444, 403, 470, 388, 476, 451, 454, 451, 454], [466, 291, 468, 302, 498, 563, 502, 560, 507, 557, 527, 272, 530, 267], [610, 234, 600, 235, 556, 251, 555, 254, 553, 258, 551, 531, 555, 532, 555, 532, 556, 531, 558, 531, 572, 527, 606, 514, 609, 511, 612, 508, 556, 534, 555, 532, 554, 529, 548, 395, 553, 394, 558, 393, 596, 376, 601, 375], [624, 225, 623, 237, 626, 508, 638, 504, 649, 500, 690, 486, 693, 481], [671, 215, 674, 219, 688, 356, 701, 353, 712, 351, 740, 184, 739, 190, 728, 261, 699, 344, 701, 385, 704, 484, 705, 486, 705, 486], [821, 436, 821, 436, 838, 259, 842, 257, 845, 255, 868, 414, 864, 415, 859, 416, 871, 337, 828, 356, 819, 361, 859, 344, 859, 344], [868, 253, 871, 254, 912, 238, 910, 235, 909, 232, 890, 243, 889, 249, 889, 254, 890, 405, 892, 410], [170, 776, 173, 777, 211, 762, 210, 759, 209, 756, 190, 766, 190, 771, 189, 777, 191, 918, 192, 923], [220, 753, 220, 760, 218, 915, 220, 911, 222, 907, 222, 840, 215, 838, 208, 835, 251, 827, 251, 823, 251, 818, 258, 737, 254, 739, 249, 741, 250, 895, 254, 897], [304, 719, 298, 721, 271, 732, 270, 734, 270, 736, 265, 890, 268, 890, 268, 890, 269, 890, 270, 889, 278, 886, 300, 877, 301, 876, 303, 874, 268, 891, 268, 890, 268, 888, 265, 813, 268, 813, 271, 812, 294, 800, 298, 800], [352, 987, 352, 987, 357, 688, 362, 686, 366, 684, 421, 958, 427, 955, 433, 953, 422, 660, 416, 663], [446, 649, 447, 660, 433, 953, 483, 932, 532, 911, 516, 623, 519, 618], [531, 911, 536, 904, 538, 607, 543, 609, 547, 612, 556, 826, 569, 823, 584, 820, 580, 593, 583, 591, 587, 589, 611, 872, 607, 879], [629, 879, 628, 869, 626, 580, 630, 575, 634, 570, 693, 527, 693, 626, 694, 705, 616, 732, 620, 726, 624, 719, 692, 675, 697, 747, 703, 833, 646, 862, 624, 872], [781, 509, 770, 512, 719, 532, 718, 536, 716, 540, 708, 832, 713, 831, 714, 831, 715, 831, 717, 831, 733, 825, 772, 808, 776, 805, 779, 801, 714, 834, 713, 831, 713, 829, 707, 687, 713, 686, 719, 684, 763, 662, 768, 661], [800, 802, 804, 815, 797, 511, 806, 502, 815, 493, 861, 473, 861, 550, 861, 652, 789, 663, 794, 654, 799, 645, 823, 621, 842, 672, 857, 710, 871, 773, 871, 773], [939, 536, 939, 536, 970, 479, 934, 453, 920, 443, 883, 467, 880, 527, 875, 599, 980, 607, 946, 714, 923, 784, 870, 750, 878, 701]],
    t.beatToSeeTheWorld = [[214, 512, 213, 504, 205, 278, 208, 274, 211, 271, 252, 241, 255, 318, 257, 379, 201, 396, 204, 392, 207, 387, 254, 356, 260, 413, 266, 481, 226, 500, 209, 506], [321, 230, 313, 231, 277, 244, 276, 247, 275, 250, 276, 477, 279, 477, 280, 477, 280, 477, 282, 477, 293, 474, 321, 462, 324, 460, 326, 458, 280, 480, 279, 477, 279, 475, 272, 364, 276, 363, 280, 362, 311, 347, 315, 347], [328, 463, 328, 463, 344, 218, 349, 216, 353, 214, 388, 438, 383, 438, 377, 439, 389, 330, 335, 353, 323, 358, 375, 339, 375, 339], [376, 208, 380, 210, 431, 192, 429, 187, 427, 183, 403, 196, 403, 204, 402, 212, 410, 421, 412, 429], [476, 261, 479, 262, 511, 250, 510, 247, 509, 245, 493, 253, 493, 258, 493, 263, 498, 396, 499, 401], [548, 238, 528, 221, 514, 399, 543, 388, 571, 377, 557, 252, 548, 245, 543, 242, 540, 247, 538, 254], [648, 174, 648, 174, 668, 128, 645, 104, 636, 95, 612, 112, 609, 163, 606, 224, 675, 237, 652, 326, 638, 384, 603, 352, 608, 311], [712, 67, 705, 69, 671, 87, 670, 90, 669, 94, 664, 341, 667, 341, 667, 341, 668, 341, 669, 341, 680, 337, 706, 325, 708, 323, 710, 320, 667, 344, 667, 341, 666, 339, 663, 218, 667, 217, 671, 216, 700, 200, 703, 200], [760, 50, 753, 52, 719, 66, 718, 69, 717, 72, 719, 313, 722, 313, 723, 313, 723, 313, 725, 313, 735, 309, 768, 294, 770, 291, 773, 288, 723, 316, 722, 313, 722, 311, 711, 196, 715, 195, 719, 194, 752, 181, 756, 181], [154, 618, 160, 622, 232, 591, 230, 584, 227, 577, 193, 598, 192, 611, 191, 624, 194, 975, 196, 989], [243, 575, 241, 590, 239, 976, 242, 966, 246, 956, 245, 791, 232, 784, 218, 776, 302, 763, 301, 752, 301, 741, 315, 543, 307, 546, 298, 549, 300, 932, 307, 937], [392, 508, 381, 510, 329, 532, 328, 536, 326, 541, 318, 922, 323, 923, 323, 923, 325, 922, 326, 922, 342, 916, 383, 898, 386, 894, 390, 890, 324, 926, 323, 923, 322, 919, 317, 733, 323, 732, 329, 730, 373, 705, 379, 705], [459, 480, 461, 495, 474, 866, 479, 862, 484, 858, 492, 545, 494, 545, 496, 544, 510, 850, 513, 847, 516, 844, 531, 453, 534, 447], [598, 429, 554, 382, 512, 853, 577, 824, 641, 795, 617, 464, 597, 447, 587, 438, 581, 452, 575, 471], [633, 798, 637, 814, 630, 416, 640, 405, 649, 394, 696, 373, 696, 473, 696, 606, 622, 614, 627, 603, 632, 592, 657, 563, 676, 631, 691, 682, 705, 766, 705, 766], [724, 365, 722, 382, 711, 760, 724, 754, 737, 749, 785, 731, 790, 725], [803, 325, 802, 334, 798, 714, 803, 714, 807, 713, 870, 705, 871, 502, 872, 299, 796, 333, 796, 333], [811, 38, 810, 56, 809, 74, 808, 92], [774, 72, 796, 67, 819, 62, 842, 57], [788, 47, 799, 64, 822, 68, 835, 83]],
    t.beatToDie = [[111, 546, 76, 511, 48, 856, 99, 835, 150, 814, 127, 571, 111, 559, 103, 553, 98, 563, 94, 576], [150, 811, 150, 811, 151, 524, 154, 523, 158, 521, 205, 788, 210, 786, 215, 783, 203, 502, 197, 504], [286, 469, 278, 470, 237, 487, 236, 490, 235, 494, 232, 773, 236, 773, 236, 773, 237, 773, 238, 772, 251, 768, 283, 754, 286, 751, 289, 748, 236, 776, 236, 773, 235, 770, 229, 634, 234, 633, 238, 632, 274, 613, 278, 613], [364, 434, 362, 446, 357, 722, 367, 718, 378, 714, 416, 701, 419, 696], [436, 695, 436, 695, 458, 395, 462, 392, 467, 389, 503, 664, 497, 664, 491, 665, 506, 532, 445, 560, 432, 566, 490, 543, 490, 543], [558, 440, 558, 440, 582, 388, 553, 361, 541, 350, 512, 370, 510, 427, 507, 496, 592, 511, 566, 611, 548, 677, 505, 641, 511, 594], [567, 351, 571, 353, 628, 331, 626, 325, 624, 320, 597, 336, 597, 346, 596, 355, 602, 612, 604, 622], [699, 588, 697, 578, 692, 301, 696, 296, 699, 292, 746, 255, 748, 349, 749, 425, 686, 446, 690, 440, 693, 434, 747, 396, 752, 466, 758, 549, 712, 573, 694, 581], [820, 242, 811, 244, 770, 260, 769, 264, 768, 268, 765, 546, 769, 547, 770, 547, 771, 546, 772, 546, 785, 542, 817, 528, 819, 525, 822, 522, 770, 549, 769, 546, 769, 544, 766, 405, 770, 403, 775, 402, 814, 382, 819, 382], [834, 519, 834, 519, 855, 226, 860, 224, 864, 221, 905, 492, 899, 493, 893, 493, 904, 348, 843, 375, 829, 382, 900, 357, 900, 357], [882, 216, 887, 219, 955, 195, 953, 189, 951, 184, 921, 198, 921, 208, 920, 218, 926, 474, 928, 484]],
    t.menu = [[138, 337, 138, 337, 155, 133, 159, 131, 163, 130, 191, 324, 186, 323, 181, 323, 193, 233, 145, 245, 135, 247, 180, 239, 180, 239], [206, 326, 205, 319, 202, 127, 204, 124, 207, 122, 244, 102, 245, 167, 246, 220, 197, 226, 199, 223, 202, 219, 244, 200, 248, 248, 253, 306, 217, 317, 202, 320], [294, 106, 266, 78, 243, 312, 283, 304, 323, 295, 306, 125, 293, 115, 287, 109, 283, 116, 280, 125], [317, 101, 318, 109, 321, 298, 342, 294, 363, 289, 361, 94, 363, 91], [376, 92, 380, 94, 425, 86, 423, 82, 422, 78, 400, 85, 400, 92, 399, 99, 403, 276, 405, 283], [97, 611, 100, 620, 93, 418, 99, 413, 105, 408, 134, 402, 135, 453, 135, 520, 89, 517, 93, 512, 96, 507, 111, 495, 124, 531, 133, 558, 142, 602, 142, 602], [203, 392, 196, 393, 164, 399, 163, 401, 162, 403, 159, 595, 162, 596, 163, 596, 163, 596, 164, 596, 174, 594, 200, 589, 202, 587, 204, 586, 163, 598, 162, 596, 162, 594, 157, 499, 161, 499, 165, 499, 192, 490, 196, 491], [253, 443, 253, 443, 273, 410, 250, 388, 241, 379, 218, 390, 216, 428, 214, 476, 280, 496, 259, 562, 245, 605, 212, 575, 216, 544], [279, 375, 283, 378, 333, 379, 332, 375, 330, 371, 306, 374, 305, 380, 305, 386, 307, 556, 308, 563], [337, 558, 337, 558, 354, 354, 358, 352, 362, 351, 390, 545, 385, 544, 380, 544, 392, 454, 344, 466, 334, 468, 379, 460, 379, 460], [400, 542, 403, 551, 396, 349, 402, 344, 408, 339, 437, 333, 438, 384, 438, 451, 392, 448, 396, 443, 399, 438, 414, 426, 427, 462, 436, 489, 445, 533, 445, 533], [453, 332, 457, 334, 502, 326, 500, 322, 499, 318, 477, 325, 477, 332, 476, 339, 480, 516, 482, 523]],
    t.menuHome = [[138, 337, 138, 337, 155, 133, 159, 131, 163, 130, 191, 324, 186, 323, 181, 323, 193, 233, 145, 245, 135, 247, 180, 239, 180, 239], [206, 326, 205, 319, 202, 127, 204, 124, 207, 122, 244, 102, 245, 167, 246, 220, 197, 226, 199, 223, 202, 219, 244, 200, 248, 248, 253, 306, 217, 317, 202, 320], [294, 106, 266, 78, 243, 312, 283, 304, 323, 295, 306, 125, 293, 115, 287, 109, 283, 116, 280, 125], [317, 101, 318, 109, 321, 298, 342, 294, 363, 289, 361, 94, 363, 91], [376, 92, 380, 94, 425, 86, 423, 82, 422, 78, 400, 85, 400, 92, 399, 99, 403, 276, 405, 283], [180, 453, 180, 453, 200, 420, 177, 398, 168, 389, 145, 400, 143, 438, 141, 486, 207, 506, 186, 572, 172, 615, 139, 585, 143, 554], [206, 385, 210, 388, 260, 389, 259, 385, 257, 381, 233, 384, 232, 390, 232, 396, 234, 566, 235, 573], [264, 568, 264, 568, 281, 364, 285, 362, 289, 361, 317, 555, 312, 554, 307, 554, 319, 464, 271, 476, 261, 478, 306, 470, 306, 470], [327, 552, 330, 561, 323, 359, 329, 354, 335, 349, 364, 343, 365, 394, 365, 461, 319, 458, 323, 453, 326, 448, 341, 436, 354, 472, 363, 499, 372, 543, 372, 543], [380, 342, 384, 344, 429, 336, 427, 332, 426, 328, 404, 335, 404, 342, 403, 349, 407, 526, 409, 533]],
    t.theEnd = [[164, 259, 172, 262, 259, 243, 256, 236, 253, 230, 211, 245, 210, 256, 209, 267, 213, 561, 216, 572], [294, 224, 293, 237, 290, 560, 294, 552, 299, 544, 298, 405, 282, 398, 265, 391, 366, 387, 366, 377, 365, 368, 382, 203, 372, 205, 361, 207, 364, 528, 372, 532], [485, 180, 472, 181, 409, 195, 408, 199, 406, 203, 396, 522, 402, 522, 403, 522, 404, 522, 406, 522, 426, 518, 475, 506, 479, 503, 483, 500, 403, 526, 402, 522, 401, 519, 395, 363, 402, 362, 409, 361, 463, 344, 470, 344], [643, 140, 629, 141, 567, 156, 565, 160, 563, 164, 554, 482, 560, 483, 560, 483, 562, 483, 564, 482, 583, 479, 632, 466, 636, 464, 641, 460, 561, 486, 560, 483, 559, 479, 552, 324, 560, 323, 567, 322, 621, 304, 628, 305], [806, 97, 804, 104, 801, 422, 806, 422, 812, 422, 887, 420, 888, 250, 889, 80, 797, 103, 797, 103], [672, 457, 672, 457, 679, 129, 685, 127, 690, 126, 757, 435, 765, 433, 773, 432, 759, 108, 751, 111]],
    t.oneLastBeat.reverse(),
    t.escapeFromDeath.reverse(),
    t.beat.reverse(),
    t.useYourKeyboard.reverse(),
    t
}),
define("partials/cardboardbutton", ["models/globals"], function(t) {
    var e = "ontouchstart"in window || navigator.msMaxTouchPoints > 0
      , i = function(t, i, n) {
        this.type = t,
        this.pressed = !1,
        this.enabled = !0,
        this.allowRollover = void 0 === n || n,
        this.preventDefault = !0,
        this.container = document.createElement("div"),
        this.button = document.createElement("div"),
        this.caption = document.createElement("div"),
        this.captionText = document.createElement("span"),
        this.captionText.innerHTML = i,
        this.container.className = "cardboardbutton " + t,
        this.button.className = "button",
        this.caption.className = "caption",
        this.caption.appendChild(this.captionText),
        this.button.appendChild(this.caption),
        this.container.appendChild(this.button),
        this.onPressHandler = this.onPress.bind(this),
        this.onReleaseHandler = this.onRelease.bind(this),
        this.onMouseOverHandler = this.onMouseOver.bind(this),
        this.onMouseOutHandler = this.onMouseOut.bind(this),
        this.onClickHandler = this.onDummyClick.bind(this),
        this.container.addEventListener("mousedown", this.onPressHandler),
        this.container.addEventListener("touchstart", this.onPressHandler),
        document.body.addEventListener("mouseup", this.onReleaseHandler),
        document.body.addEventListener("touchend", this.onReleaseHandler),
        this.container.addEventListener("click", this.onClickHandler),
        !e && this.allowRollover ? (this.container.addEventListener("mouseover", this.onMouseOverHandler),
        this.container.addEventListener("mouseout", this.onMouseOutHandler)) : TweenMax.set(this.container, {
            className: "+=nohover"
        })
    };
    return i.BIG = "big",
    i.SQUARE = "square",
    i.prototype = {
        getDom: function() {
            return this.container
        },
        onDummyClick: function(t) {
            this.onInmediateClick && this.onInmediateClick(t)
        },
        onPress: function(t) {
            return this.onInmediatePress && this.onInmediatePress(),
            this.enabled ? this.pressed ? null : (this.pressed = !0,
            this.pressTime = (new Date).getTime(),
            TweenMax.set(this.container, {
                className: "+=pressed"
            }),
            void (t && this.preventDefault && t.preventDefault())) : null
        },
        onRelease: function(t) {
            if (!this.enabled)
                return null;
            if (!this.pressed)
                return null;
            var e = this
              , i = (new Date).getTime()
              , n = i - this.pressTime
              , r = n < 100 ? 100 - n : 0;
            this.clearReleaseId = setTimeout(function() {
                TweenMax.set(e.container, {
                    className: "-=pressed"
                }),
                setTimeout(function() {
                    e.onClick && e.onClick()
                }, 100),
                e.pressed = !1
            }, r),
            t && this.preventDefault && t.preventDefault()
        },
        onMouseOver: function(t) {
            if (!this.enabled)
                return null;
            TweenMax.set(this.container, {
                className: "+=hover"
            }),
            t && this.preventDefault && t.preventDefault()
        },
        onMouseOut: function(t) {
            if (!this.enabled)
                return null;
            TweenMax.set(this.container, {
                className: "-=hover"
            }),
            t && this.preventDefault && t.preventDefault()
        },
        destroy: function() {
            document.body.removeEventListener("mouseup", this.onReleaseHandler),
            document.body.removeEventListener("touchend", this.onReleaseHandler)
        },
        demoPress: function(t) {
            t && !this.pressed ? TweenMax.set(this.container, {
                className: "+=semipressed"
            }) : TweenMax.set(this.container, {
                className: "-=semipressed"
            })
        }
    },
    i
}),
define("partials/stripbg", ["models/globals", "controllers/pixiapp", "utils/preloaders"], function(t, e, i) {
    return {
        ready: !1,
        container: null,
        showing: !1,
        show: function(n) {
            if (this.showing)
                return null;
            this.showing = !0,
            this.tilePosition = new PIXI.Point,
            this.tileScale = new PIXI.Point,
            this.tilePositionOffset = new PIXI.Point,
            this.vOffset = new PIXI.Point,
            this.phase = 0,
            this.stage = e.getStage(),
            e.getTicker().add(this.tickerHandler = this.tick.bind(this)),
            this.container = new PIXI.Container,
            this.stage.addChild(this.container),
            this.bg = new PIXI.extras.TilingSprite(i.init.getTexture("stripbg"),t.width,t.height),
            this.container.addChild(this.bg),
            this.gradient = new PIXI.Sprite(i.init.getTexture("bottomgradient")),
            this.gradient.anchor.x = 0,
            this.gradient.anchor.y = 1,
            this.container.addChild(this.gradient),
            this.ready = !0,
            this.scrollingX = !1,
            t.events.on(t.RESIZE, this.resizeHandler = this.resize.bind(this)),
            this.resize(),
            n = void 0 === n ? 2 : n,
            TweenMax.fromTo(this.container, n, {
                alpha: 0
            }, {
                alpha: 1
            })
        },
        resize: function(e) {
            this.bg.width = t.width,
            this.bg.height = t.height;
            if (t.width > 1800)
                this.tileScale.x = this.tileScale.y = 1.3;
            else {
                var i = t.width / 1800;
                i < .6 && (i = .6),
                this.tileScale.x = this.tileScale.y = 1.3 * i
            }
            this.gradient.width = t.width,
            this.gradient.height = Math.floor(.5 * t.height) - 1,
            this.gradient.y = t.height
        },
        hide: function(i) {
            if (!this.showing)
                return null;
            TweenMax.to(this.container, i, {
                alpha: 0,
                onComplete: function() {
                    t.events.off(t.RESIZE, this.resizeHandler),
                    this.ready = !1,
                    this.showing = null,
                    this.stage.removeChild(this.container),
                    e.getTicker().remove(this.tickerHandler)
                }
                .bind(this)
            })
        },
        scrollX: function(t, e, i) {
            i = void 0 === i ? Quad.easeInOut : i,
            this.scrollingX = !0;
            var n = this.tilePositionOffset.x
              , r = this.tilePositionOffset.y;
            TweenMax.to(this.tilePositionOffset, e, {
                x: "+=" + t,
                ease: i,
                onComplete: function() {
                    this.scrollingX = !1
                }
                .bind(this),
                onUpdate: function() {
                    this.vOffset.x = this.tilePositionOffset.x - n,
                    this.vOffset.y = this.tilePositionOffset.y - r,
                    n = this.tilePositionOffset.x,
                    r = this.tilePositionOffset.y
                }
                .bind(this)
            })
        },
        tick: function() {
            this.phase += .01,
            this.tilePosition.y -= 2,
            this.tilePosition.x = this.tilePositionOffset.x + 40 * Math.sin(this.phase),
            this.bg.tilePosition = this.tilePosition,
            this.bg.tileScale = this.tileScale
        }
    }
}),
define("controllers/landscape", ["TweenMax", "models/globals"], function(t, e) {
    return {
        enabled: !0,
        showing: !1,
        initialized: !1,
        init: function() {
            if (this.initialized)
                return null;
            var t = this;
            this.template = ['<div class="center">', "<span>TURN YOUR DEVICE<br>INTO LANDSCAPE MODE</span>", "</div>", '<div class="nope">NOPE</div>'].join(""),
            this.container = document.querySelector("#landscape"),
            this.container.innerHTML = this.template,
            this.nope = this.container.querySelector(".nope"),
            this.resizeHandler = this.resize.bind(this),
            e.events.on(e.RESIZE, this.resizeHandler),
            this.nope.addEventListener("click", function() {
                t.remove()
            }),
            this.initialized = !0,
            this.resize()
        },
        resize: function() {
            this.container.style.width = e.width + "px",
            this.container.style.height = e.height + "px",
            this.enabled && e.width < e.height ? (this.showing = !0,
            this.container.style.display = "block") : (this.showing = !1,
            this.container.style.display = "none")
        },
        remove: function() {
            var i = this;
            t.to(this.container, .3, {
                opacity: 0,
                onComplete: function() {
                    i.container.parentNode.removeChild(i.container)
                }
            }),
            e.events.off(e.RESIZE, this.resizeHandler),
            this.showing = !1
        }
    }
}),
define("controllers/storyhome", ["TweenMax", "models/globals", "utils/loader", "utils/preloaders", "doodleplayer/main", "models/beziers", "partials/cardboardbutton", "partials/stripbg", "controllers/pixiapp", "controllers/landscape"], function(t, e, i, n, r, s, o, a, h, l) {
    var u = function() {
        function t(t) {}
        var i = this;
        this.template = ['<div class="center">', '<div class="main-title"></div>', '<div class="disclaimer">', '<span class="title red">A HOMEMADE INTERACTIVE<sup>*</sup> STORY</span>', '<span class="line">CONTAINS OBVIOUS FAKE BLOOD, MILD VIOLENCE AND DEATH.</span>', '<span class="line">REQUIRES A RECENT DEVICE OR COMPUTER TO PLAY.</span>', '<span class="line">VIDEO, MUSIC & CODE BY <a class="red" href="http://www.nerris.com/" target="_blank">NERRIS</a></span>', "</div>", '<div class="button-wrapper"></div>', '<div class="loadingbar"><div class="bar"></div></div>', '<div class="volumeup">TURN UP THE VOLUME!</div>', "</div>"].join(""),
        this.container = document.createElement("div"),
        this.container.className = "home wrapper",
        this.container.innerHTML = this.template,
        e.Main.dom.overlay.appendChild(this.container),
        this.titleContainer = document.querySelector(".main-title"),
        this.buttonWrapper = document.querySelector(".button-wrapper"),
        this.disclaimer = document.querySelector(".disclaimer"),
        this.loadingBar = document.querySelector(".loadingbar"),
        this.loadingBarProgress = document.querySelector(".loadingbar .bar"),
        this.volumeUp = document.querySelector(".volumeup"),
        this.titleBaseWidth = 1300,
        this.titleBaseHeight = 600,
        this.title = new r.BezierArrayViewport(this.titleBaseWidth,this.titleBaseHeight,h.resolution),
        this.title.color = "#ffffff",
        this.title.minPointOffset = 10,
        this.title.maxPointOffset = 30,
        this.title.minStrokeWidth = 5,
        this.title.maxStrokeWidth = 20,
        this.title.addBezierFromData(s.oneLastBeat),
        this.title.moveBeziers(80, 50),
        this.titleContainer.appendChild(this.title.canvas),
        this.tickHandler = this.tick.bind(this),
        e.events.on(e.RESIZE, this.resizeHandler = this.resize.bind(this)),
        this.button = new o(o.BIG,"START"),
        this.button.preventDefault = !1,
        this.buttonWrapper.appendChild(this.button.getDom()),
        this.button.onClick = function() {
            i.startLoader(),
            i.sound.play("beat_front")
        }
        ,
        this.button.onInmediateClick = function() {
            e.width < 800 && e.Main.enterFullScreen()
        }
        ,
        this.buttonWrapper.addEventListener("touchstart", t),
        this.buttonWrapper.addEventListener("click", t),
        this.buttonWrapper.addEventListener("contextmenu", t),
        this.oddFrame = !1,
        this.sound = n.experience.getHowl("audiospriteintro"),
        this.resize(),
        this.intro(),
        this.tick(),
        a.show(),
        this.trackingProgress = !1,
        this.currentProgress = 0
    };
    return u.prototype = {
        intro: function() {
            var e = this
              , i = new TimelineMax;
            i.add(t.allTo(this.title.beziers, 0, {
                minStrokeWidth: 0,
                maxStrokeWidth: 0,
                maxPointOffset: 100
            })),
            i.add(t.allTo(this.title.beziers, 1.3, {
                minStrokeWidth: 5,
                maxStrokeWidth: 20,
                maxPointOffset: 30,
                ease: Quad.easeOut
            }, -.02), 1),
            i.add(t.allFrom([this.disclaimer, this.buttonWrapper], .5, {
                opacity: 0,
                ease: Quad.easeOut
            }, .3), 2),
            t.delayedCall(1, function() {
                e.sound.volume(.2, e.sound.play("title_out"))
            })
        },
        tick: function() {
            var t = this;
            this.tickId = requestAnimationFrame(this.tickHandler),
            this.oddFrame = !this.oddFrame,
            this.oddFrame && e.focus && this.title.render(),
            this.trackingProgress && (this.currentProgress -= .1 * (this.currentProgress - n.experience.progress),
            this.loadingBarProgress.style.width = Math.round(100 * this.currentProgress) + "%",
            1 == n.experience.progress && this.currentProgress > .99 && t.stopProgressTrack())
        },
        resize: function() {
            this.title.setWidth(this.titleContainer.offsetWidth);
            var t = this.titleContainer.offsetWidth
              , e = this.titleBaseHeight * this.title.scale;
            this.title.canvas.style.width = t + "px",
            this.title.canvas.style.height = e + "px",
            this.loadingBar.style.top = e - .07 * e + "px"
        },
        externalStart: function() {
            this.button.onInmediateClick(),
            this.startLoader()
        },
        startLoader: function() {
            var i = this;
            if (l.init(),
            l.showing)
                return setTimeout(function() {
                    i.startLoader()
                }, 100),
                null;
            e.GAnalytics.event("home", "click", "start"),
            this.button.enabled = !1,
            this.button.onClick = null,
            n.experience.load();
            var r = this.inLoadTimeline = new TimelineMax;
            r.add(t.allTo(this.title.beziers, .3, {
                maxPointOffset: 200,
                minStrokeWidth: 2,
                maxStrokeWidth: 8,
                ease: Quad.easeOut
            }, -.03), 0),
            r.add(t.allTo(this.title.beziers, .3, {
                maxPointOffset: 30,
                minStrokeWidth: 5,
                maxStrokeWidth: 20,
                ease: Quad.easeOut
            }, -.03)),
            r.add(t.allTo(this.title.beziers, .3, {
                color: e.red1
            }, -.03), 0),
            r.add(t.to(this.buttonWrapper, .3, {
                autoAlpha: 0
            }), 0),
            r.add(t.to(this.disclaimer, .3, {
                autoAlpha: 0,
                delay: .1
            }), 0),
            r.add(t.to(this.loadingBar, 0, {
                display: "block"
            })),
            r.add(t.from(this.loadingBar, .3, {
                width: 0,
                ease: Quad.easeOut
            })),
            r.add(t.to(this.volumeUp, 0, {
                display: "block"
            })),
            r.add(t.from(this.volumeUp, .3, {
                opacity: 0,
                onComplete: function() {
                    i.startProgressTrack(),
                    t.set(i.loadingBar, {
                        clearProps: "width"
                    })
                }
            })),
            a.hide(1),
            this.sound.volume(.2, this.sound.play("title_in"))
        },
        startProgressTrack: function() {
            this.startProgressTrackTime = (new Date).getTime(),
            this.trackingProgress = !0
        },
        stopProgressTrack: function() {
            this.inLoadTimeline && this.inLoadTimeline.kill();
            var i = this
              , n = (new Date).getTime();
            this.trackingProgress = !1,
            this.loadingBarProgress.style.width = "100%",
            t.to(this.loadingBar, .3, {
                opacity: 0
            }),
            delay = n - this.startProgressTrackTime < 2e3 ? 2 : 0,
            t.to(this.volumeUp, .3, {
                opacity: 0,
                delay: delay,
                onComplete: function() {
                    t.allTo(i.title.beziers, .3, {
                        maxPointOffset: 200,
                        minStrokeWidth: 2,
                        maxStrokeWidth: 8,
                        ease: Quad.easeOut
                    }, -.03),
                    t.allTo(i.title.beziers, .3, {
                        color: "black"
                    }, -.03),
                    i.sound.volume(.2, i.sound.play("title_out")),
                    setTimeout(function() {
                        e.Story.startStory(),
                        i.destroy()
                    }, 1e3)
                }
            })
        },
        destroy: function() {
            e.events.off(e.RESIZE, this.resizeHandler),
            cancelAnimationFrame(this.tickId),
            this.container.parentNode.removeChild(this.container),
            this.button.destroy()
        }
    },
    u
}),
define("partials/score", ["TweenMax", "models/globals", "utils/preloaders"], function(t, e, i) {
    var n = function(t, i, n) {
        var r, s;
        this.textureDigitWidth = 16,
        this.textureDigitHeight = 43,
        this.textureCommaWidth = 7,
        this.scale = 1,
        this.updating = !1,
        this.textureHeight = 10 * this.textureDigitHeight * this.scale,
        this.commaWidth = this.textureCommaWidth * this.scale,
        this.digitWidth = this.textureDigitWidth * this.scale,
        this.digitHeight = this.textureDigitHeight * this.scale,
        this.nDigits = i,
        this.digits = [],
        this.values = [],
        this._value = n,
        this.transitionTo = n,
        this.current = this.parseValue(n);
        for (var o, a = 0, h = 0; h < this.nDigits; ++h)
            o = this.nDigits - 1 - h,
            r = document.createElement("div"),
            s = r.style,
            s.display = "inline-block",
            s.width = this.digitWidth + "px",
            s.height = this.digitHeight + "px",
            s.backgroundImage = "url(" + e.cdn("images/digits.png") + ")",
            s.backgroundSize = this.digitWidth + "px " + this.textureHeight + "px",
            s.backgroundPosition = "0 " + this.current["d" + h] * -this.digitHeight + "px",
            s.backgroundRepeat = "repeat-y",
            a += this.digitWidth,
            this.digits.push(r),
            this.values.push(0),
            t.appendChild(r),
            o % 3 == 0 && h < this.nDigits - 1 && (r = document.createElement("div"),
            s = r.style,
            s.display = "inline-block",
            s.width = this.commaWidth + "px",
            s.height = this.digitHeight + "px",
            s.backgroundImage = "url(" + e.cdn("images/comma.png") + ")",
            s.backgroundSize = "contain",
            s.backgroundPosition = "0 0",
            s.backgroundRepeat = "no-repeat",
            t.appendChild(r),
            a += this.digitWidth);
        t.style.width = a + "px",
        Object.defineProperty(this, "value", {
            get: function() {
                return this._value
            },
            set: function(t) {
                this.updateValue(t)
            }
        })
    };
    return n.prototype = {
        updateValue: function(e, i) {
            var n = this
              , r = this.parseValue(e);
            if (void 0 === i) {
                i = this.nDigits;
                for (var s = 0; s < this.nDigits && this.current["d" + s] == r["d" + s]; )
                    i -= 1,
                    ++s;
                i *= .5
            }
            r.onUpdate = function() {
                for (var t = 0; t < n.nDigits; ++t)
                    n.digits[t].style.backgroundPositionY = -n.current["d" + t] * n.digitHeight + "px"
            }
            ,
            r.onComplete = function() {
                n.updating = !1,
                n.onUpdated && n.onUpdated()
            }
            ,
            this.updating = !0,
            this.tween && this.tween.kill(),
            this.tween = t.to(this.current, i, r),
            this._value = e
        },
        parseValue: function(t) {
            t = Math.round(t);
            var e, i, n = {};
            for (e = 0; e < this.nDigits; ++e)
                i = this.nDigits - 1 - e,
                n["d" + e] = Math.floor(t / Math.pow(10, i));
            return n
        },
        destroy: function() {
            for (var t = 0; t < this.digits.length; ++t)
                this.digits[t].parentNode.removeChild(this.digits[t]);
            this.values = null
        }
    },
    n
}),
define("utils/svgpathprogress", [], function() {
    var t = function(t) {
        this._from = 0,
        this._to = 0,
        this.path = t,
        Object.defineProperty(this, "from", {
            get: function() {
                return this._from
            },
            set: function(t) {
                this._from = t,
                this.update()
            }
        }),
        Object.defineProperty(this, "to", {
            get: function() {
                return this._to
            },
            set: function(t) {
                this._to = t,
                this.update()
            }
        })
    };
    return t.prototype = {
        update: function() {
            var t = this.path.getTotalLength();
            this.path.style.strokeDasharray = [0, this._from * t, (this._to - this._from) * t, t].join(" ")
        }
    },
    t
}),
define("partials/progress", ["TweenMax", "models/globals", "utils/preloaders", "utils/svgpathprogress"], function(t, e, i, n) {
    var r = function(t, i) {
        this.segments = i,
        this.video = e.MainVideo,
        this.paths = [];
        for (var r = 1; r <= i.length; ++r)
            this.paths.push(new n(t.querySelector(".s" + r)));
        this.interval = setInterval(this.update.bind(this), 200),
        this.update()
    };
    return r.prototype = {
        update: function() {
            for (var t, e, i = this.video.getTime(), n = 0; n < this.segments.length; ++n)
                if (t = this.segments[n],
                e = this.paths[n],
                i >= t.start && i < t.end) {
                    var r = (i - t.start) / (t.end - t.start);
                    e.from = 0,
                    e.to = r,
                    e.path.style.opacity = 1
                } else
                    i > t.end ? (e.path.style.opacity = 1,
                    e.from = 0,
                    e.to = 1) : (e.path.style.opacity = 0,
                    e.from = 0,
                    e.to = 0)
        }
    },
    r
}),
define("utils/horizontaltransition", ["TweenMax"], function(t) {
    var e = function(t, e) {
        this.canvas = t,
        this.ctx = this.canvas.getContext("2d"),
        this.color = e,
        this.nSegments = 6,
        this.segmentDuration = .4,
        this.segmentOfsset = .1,
        this.reverseY = !1
    };
    return e.prototype = {
        animate: function(t, e, i, n, r) {
            function s() {
                c.clearRect(0, 0, l, u);
                var e;
                for (c.beginPath(),
                c.moveTo(t * l, 0 * u),
                e = 0; e < h.nSegments; ++e)
                    c.lineTo(p[e].x * l, p[e].y * u);
                for (e = 0; e < h.nSegments; ++e)
                    c.lineTo(d[e].x * l, d[e].y * u);
                c.closePath(),
                c.fill()
            }
            var o, a, h = this, l = this.canvas.width, u = this.canvas.height, c = this.ctx, d = [], p = [], f = this.timeline = new TimelineMax({
                onComplete: r,
                onUpdate: s
            }), m = this.nSegments - 1;
            for (o = 0; o < this.nSegments; ++o)
                a = {
                    x: t,
                    y: 1 - o / m
                },
                d.push(a),
                a = {
                    x: i,
                    y: o / m
                },
                p.push(a);
            var _;
            for (o = 0; o < this.nSegments; ++o)
                _ = this.reverseY ? this.nSegments - o - 1 : o,
                a = d[o],
                f.to(a, this.segmentDuration, {
                    x: e,
                    ease: Quad.easeInOut
                }, _ * this.segmentOfsset),
                a = p[o],
                f.to(a, this.segmentDuration, {
                    x: n,
                    ease: Quad.easeInOut
                }, _ * this.segmentOfsset);
            c.fillStyle = this.color
        }
    },
    e
}),
define("utils/share", [], function() {
    return {
        facebook: function(t) {
            window.open("https://www.facebook.com/sharer/sharer.php?u=" + t, "Compartir", "width=500, height=400")
        },
        facebookSDK: function(t, e) {
            FB.ui({
                method: "share",
                href: t,
                quote: e
            }, function(t) {})
        },
        facebookCaching: function(t) {
            var e = "https://www.facebook.com/sharer/sharer.php?u=" + t;
            $(document.body).append('<iframe style="width: 0px; height: 0px; margin: 0px; padding: 0px;" src="' + e + '"></iframe>')
        },
        twitter: function(t, e, i, n) {
            var r = "https://twitter.com/intent/tweet?";
            t && (r += "&url=" + encodeURIComponent(t)),
            e && (r += "&text=" + encodeURIComponent(e)),
            i && (r += "&hashtags=" + encodeURIComponent(i)),
            n && (r += "&via=" + encodeURIComponent(n)),
            window.open(r, "Compartir", "width=575, height=400")
        },
        googlePlus: function(t) {
            window.open("https://plus.google.com/share?url=" + t, "Compartir", "width=575, height=400")
        },
        linkedin: function(t, e, i, n) {
            var r = "https://www.linkedin.com/shareArticle?";
            r += "mini=true",
            r += "&url=" + encodeURIComponent(t),
            e && (r += "&title=" + encodeURIComponent(e)),
            i && (r += "&summary=" + encodeURIComponent(i)),
            n && (r += "&source=" + encodeURIComponent(n)),
            window.open(r, "Compartir", "width=575, height=400")
        },
        getWhatsappURL: function(t, e) {
            return "whatsapp://send?text=" + encodeURIComponent(e + " " + t)
        },
        whatsapp: function(t, e) {
            window.open(this.getWhatsappURL(t, e))
        },
        getMailTo: function(t, e, i) {
            e = e.split("{url}").join(i);
            return i = "mailto:?subject=" + t + "&body=" + encodeURIComponent(e)
        },
        mailTo: function(t, e, i) {
            window.open(this.getMailTo(t, e, i))
        }
    }
}),
define("utils/sharehelper", ["utils/share", "models/globals"], function(t, e) {
    var i = Object.create(t);
    return i.facebook = function() {
        t.facebook(e.env.url)
    }
    ,
    i.twitter = function() {
        t.twitter(e.env.url, "Check out this interactive story about a guy who lost his head (literally)", null, "mcnerris")
    }
    ,
    i
}),
define("utils/polygonbuttons", [], function() {
    var t = function(t) {
        this.canvas = t,
        this.ctx = t.getContext("2d"),
        this.buttons = {},
        this.hovering = [],
        this.cursor = "pointer",
        this.onPointerEventHandler = this.onPointerEvent.bind(this),
        document.addEventListener("mousedown", this.onPointerEventHandler, !0),
        document.addEventListener("mousemove", this.onPointerEventHandler, !0),
        document.addEventListener("touchstart", this.onPointerEventHandler, !0),
        document.addEventListener("touchmove", this.onPointerEventHandler, !0)
    };
    return t.prototype = {
        constructor: t,
        onPointerEvent: function(t) {
            var e, i, n = this.canvas.getBoundingClientRect(), r = this.canvas.width / n.width, s = this.canvas.height / n.height, o = !1;
            switch (t.type) {
            case "mousedown":
            case "mousemove":
                e = t.clientX,
                i = t.clientY;
                break;
            case "touchstart":
            case "touchmove":
                o = !0,
                e = t.touches[0].clientX,
                i = t.touches[0].clientY
            }
            e = (e - n.left) * r,
            i = (i - n.top) * s;
            var a = [e, i];
            this.hovering = [];
            var h, l, u;
            for (var c in this.buttons)
                h = this.buttons[c],
                l = h.polygon,
                u = this.checkPoint(a, l),
                u && this.hovering.push(h.id),
                u && !l.hovering && this.onHover && !o && this.onHover(h.id),
                !u && l.hovering && this.onOut && !o && this.onOut(h.id),
                l.hovering = u;
            this.cursor && this.hovering.length ? this.canvas.style.cursor = this.cursor : this.canvas.style.cursor = "default"
        },
        addButtonRect: function(t, e, i, n, r) {
            var s = [[e, i], [n, i], [n, r], [e, r], [e, i]];
            this.addButton(t, s)
        },
        addButton: function(t, e) {
            this.buttons[t] = {
                id: t,
                polygon: e,
                hovering: !1
            }
        },
        removeButton: function(t) {
            delete this.buttons[t]
        },
        removeAllButtons: function(t) {
            for (var e in this.buttons)
                this.removeButton(e)
        },
        draw: function(t) {
            t = void 0 === t ? "rgba(255,0,0,0.3)" : t,
            this.ctx.fillStyle = t;
            var e, i, n;
            for (var r in this.buttons) {
                for (e = this.buttons[r],
                i = e.polygon,
                this.ctx.beginPath(),
                this.ctx.moveTo(i[0][0], i[0][1]),
                n = 1; n < i.length; ++n)
                    this.ctx.lineTo(i[n][0], i[n][1]);
                this.ctx.closePath(),
                this.ctx.fill()
            }
        },
        checkPoint: function(t, e) {
            for (var i = t[0], n = t[1], r = !1, s = 0, o = e.length - 1; s < e.length; o = s++) {
                var a = e[s][0]
                  , h = e[s][1]
                  , l = e[o][0]
                  , u = e[o][1];
                h > n != u > n && i < (l - a) * (n - h) / (u - h) + a && (r = !r)
            }
            return r
        },
        destroy: function() {
            this.removeAllButtons(),
            document.removeEventListener("touchstart", this.onPointerEventHandler),
            document.removeEventListener("touchmove", this.onPointerEventHandler),
            document.removeEventListener("mousedown", this.onPointerEventHandler),
            document.removeEventListener("mousemove", this.onPointerEventHandler)
        }
    },
    t
}),
define("controllers/about", ["TweenMax", "models/beziers", "controllers/pixiapp", "controllers/landscape", "doodleplayer/main", "models/globals", "utils/preloaders", "utils/horizontaltransition", "utils/polygonbuttons"], function(t, e, i, n, r, s, o, a, h) {
    var l = !1
      , u = function() {
        var e = this;
        if (l)
            return null;
        this.parent = document.querySelector("#overlay #contents");
        var i = o.init.getText("about");
        this.container = document.createElement("div"),
        this.container.className = "about can-scroll",
        e.parent.appendChild(e.container),
        s.StoryGUI.whatToClose = this,
        s.StoryGUI.buttonAsClose(),
        t.from(this.container, .5, {
            y: "+=" + s.height,
            ease: Quad.easeInOut,
            onComplete: function() {
                e.container.innerHTML = i,
                e.contents = e.container.querySelector("#about-contents"),
                e.setupGalleries(),
                t.from(e.contents, .5, {
                    opacity: 0
                })
            }
        }),
        t.delayedCall(2, function() {}),
        l = !0,
        s.GAnalytics.pageView("about"),
        s.StoryGUI.lightClose(),
        n.enabled = !1,
        s.allowScroll = !0
    };
    return u.prototype = {
        close: function() {
            var e = this;
            this.container.style.overflowY = "hidden",
            t.to(this.contents, .3, {
                opacity: 0,
                onComplete: function() {
                    e.container.innerHTML = "",
                    t.to(e.container, .5, {
                        y: s.height,
                        ease: Quad.easeInOut,
                        onComplete: function() {
                            e.parent.removeChild(e.container)
                        }
                    })
                }
            }),
            s.StoryGUI.darkClose(),
            s.allowScroll = !1,
            n.enabled = !0,
            l = !1
        },
        setupGalleries: function() {
            function e(t) {
                for (var e, n, r, s, o = t.currentTarget, a = o.parentNode, h = a.querySelectorAll(".request"), l = 0; l < h.length; ++l)
                    for (e = h[l],
                    e.className = "show",
                    n = e.querySelectorAll("img"),
                    s = 0; s < n.length; ++s)
                        r = n[s],
                        r.src = r.getAttribute("data-src"),
                        r.addEventListener("load", i);
                a.removeChild(o)
            }
            function i() {
                t.from(this, .5, {
                    opacity: 0
                })
            }
            for (var n, r = this.container.querySelectorAll(".gallery .show-more"), s = 0; s < r.length; ++s)
                n = r[s],
                n.addEventListener("click", e)
        }
    },
    u
}),
define("controllers/menu", ["TweenMax", "models/beziers", "controllers/pixiapp", "doodleplayer/main", "models/globals", "utils/preloaders", "utils/horizontaltransition", "utils/sharehelper", "utils/polygonbuttons", "controllers/about"], function(t, e, i, n, r, s, o, a, h, l) {
    var u = function(u, c) {
        var d = this;
        this.parent = u,
        this.section = c,
        this.paused = !1;
        var p = ['<canvas class="background" width="256" height="256"></canvas>', '<div class="bottom">', "<span>SHARE</span>", s.experience.getSVG("twitter"), s.experience.getSVG("facebook"), "</div>"].join("");
        this.container = document.createElement("div"),
        this.container.className = "main-menu",
        this.container.innerHTML = p,
        this.bottom = this.container.querySelector(".bottom"),
        this.twitter = this.container.querySelector(".twitter-icon"),
        this.facebook = this.container.querySelector(".facebook-icon"),
        t.set(this.bottom, {
            opacity: 0
        }),
        u.appendChild(this.container),
        this.background = new o(this.container.querySelector("canvas"),"#111111"),
        this.optionsValues = {
            regular: {
                minPointOffset: 5,
                maxPointOffset: 8,
                minStrokeWidth: 5,
                maxStrokeWidth: 8,
                color: "white"
            },
            hover: {
                minPointOffset: 5,
                maxPointOffset: 40,
                minStrokeWidth: 2,
                maxStrokeWidth: 8,
                color: "#990000"
            }
        },
        this.options = new n.BezierArrayViewport(600,700,i.resolution),
        this.options.color = "white",
        this.options.total = 3,
        this.options.minPointOffset = this.optionsValues.regular.minPointOffset,
        this.options.maxPointOffset = this.optionsValues.regular.maxPointOffset,
        this.options.minStrokeWidth = this.optionsValues.regular.minStrokeWidth,
        this.options.maxStrokeWidth = this.optionsValues.regular.maxStrokeWidth,
        this.options.canvas.style.position = "absolute",
        this.options.canvas.className = "interaction-title";
        var f;
        switch (console.log(this.section),
        this.section) {
        case "home":
            this.options.addBezierFromData(e.menuHome),
            f = this.options.beziers,
            this.about = [f[0], f[1], f[2], f[3], f[4]],
            this.restart = [f[5], f[6], f[7], f[8], f[9]];
            break;
        default:
            this.options.addBezierFromData(e.menu),
            f = this.options.beziers,
            this.about = [f[0], f[1], f[2], f[3], f[4]],
            this.restart = [f[5], f[6], f[7], f[8], f[9], f[10], f[11]]
        }
        this.tickHandler = this.tick.bind(this),
        this.resizeHandler = this.resize.bind(this),
        this.buttons = new h(this.options.canvas),
        this.hoverTweens = {},
        this.buttons.onHover = function(t) {
            d.animateOption(t, d.optionsValues.hover)
        }
        ,
        this.buttons.onOut = function(t) {
            d.animateOption(t, d.optionsValues.regular)
        }
        ,
        this.options.canvas.addEventListener("click", function(t) {
            switch (d.buttons.hovering[0]) {
            case "about":
                new l;
                break;
            case "restart":
                r.Story.restart(),
                r.StoryGUI.closeMenu()
            }
        }),
        this.facebook.addEventListener("click", function() {
            r.GAnalytics.event("menu", "share", "facebook"),
            a.facebook()
        }),
        this.twitter.addEventListener("click", function() {
            r.GAnalytics.event("menu", "share", "twitter"),
            a.twitter()
        })
    };
    return u.prototype = {
        animateOption: function(t, e) {
            var i, n = {
                minPointOffset: e.minPointOffset,
                maxPointOffset: e.maxPointOffset,
                minStrokeWidth: e.minStrokeWidth,
                maxStrokeWidth: e.maxStrokeWidth,
                color: e.color,
                ease: Quad.easeOut
            };
            switch (t) {
            case "about":
                i = this.about;
                break;
            case "restart":
                i = this.restart
            }
            if (i) {
                this.hoverTweens[t] && this.hoverTweens[t].kill();
                (this.hoverTweens[t] = new TimelineMax).staggerTo(i, .5, n, .02)
            }
        },
        show: function() {
            this.background.reverseY = !0,
            this.background.animate(1, 0, 1, 1, this.showContents.bind(this)),
            this.resize()
        },
        showContents: function() {
            r.events.on(r.RESIZE, this.resizeHandler),
            this.container.appendChild(this.options.canvas),
            t.staggerFrom(this.options.beziers, .5, {
                minStrokeWidth: 0,
                maxStrokeWidth: 0,
                maxPointOffset: 100,
                ease: Quad.easeOut
            }, .02),
            this.bottomTween = t.to(this.bottom, .5, {
                opacity: 1,
                delay: .5
            }),
            this.tick()
        },
        resize: function() {
            function t(t) {
                return t * l * i.resolution
            }
            function e(t) {
                return t * l * i.resolution
            }
            this.container.style.width = r.width + "px",
            this.container.style.height = r.height + "px";
            var n = .8 * r.height
              , s = .8 * r.width
              , o = Math.min(n, s);
            o > 1200 && (o = 1200);
            var a = "bottom s0";
            o > 500 && (a = "bottom s1"),
            o > 1e3 && (a = "bottom s2"),
            this.bottom.className = a;
            var h = this.bottom.getBoundingClientRect()
              , l = o - h.height
              , u = (r.height - o) / 2;
            this.options.setWidth(l),
            this.options.canvas.style.width = l + "px",
            this.options.canvas.style.height = l + "px",
            this.options.canvas.style.left = .5 * (r.width - l) + "px",
            this.options.canvas.style.top = u + "px",
            this.bottom.style.top = u + l + "px",
            this.buttons.removeAllButtons(),
            this.buttons.addButton("about", [[t(.2), e(.2)], [t(.7), e(.1)], [t(.7), e(.5)], [t(.2), e(.6)]]),
            this.buttons.addButton("restart", [[t(.1), e(.65)], [t(.9), e(.5)], [t(.9), e(.9)], [t(.1), e(1.05)]])
        },
        tick: function() {
            this.paused || this.options.render(),
            this.animationFrame = requestAnimationFrame(this.tick.bind(this))
        },
        hide: function(e) {
            var i = this;
            this.buttons.destroy(),
            t.to(this.bottom, .5, {
                opacity: 0
            }),
            t.staggerTo(this.options.beziers, .5, {
                minStrokeWidth: 0,
                maxStrokeWidth: 0,
                maxPointOffset: 100,
                color: "#990000",
                ease: Quad.easeOut
            }, .02),
            t.delayedCall(.2, function() {
                i.background.animate(0, 1, 1, 1, function() {
                    i.destroy(),
                    e && e()
                })
            }),
            this.bottomTween && this.bottomTween.kill()
        },
        destroy: function() {
            cancelAnimationFrame(this.animationFrame),
            r.events.off(r.ON_RESIZE, this.resizeHandler),
            this.container.innerHTML = "",
            this.container.parentElement.removeChild(this.container)
        }
    },
    u
}),
define("utils/verticaltransition", ["TweenMax"], function(t) {
    var e = function(t, e) {
        this.canvas = t,
        this.ctx = this.canvas.getContext("2d"),
        this.color = e,
        this.nSegments = 6,
        this.segmentDuration = .4,
        this.segmentOfsset = .1,
        this.reverseY = !1
    };
    return e.prototype = {
        animate: function(t, e, i, n, r) {
            function s() {
                c.clearRect(0, 0, l, u);
                var e;
                for (c.beginPath(),
                c.moveTo(0 * u, t * u),
                e = 0; e < h.nSegments; ++e)
                    c.lineTo(p[e].x * l, p[e].y * u);
                for (e = 0; e < h.nSegments; ++e)
                    c.lineTo(d[e].x * l, d[e].y * u);
                c.closePath(),
                c.fill()
            }
            var o, a, h = this, l = this.canvas.width, u = this.canvas.height, c = this.ctx, d = [], p = [], f = this.timeline = new TimelineMax({
                onComplete: r,
                onUpdate: s
            }), m = this.nSegments - 1;
            for (o = 0; o < this.nSegments; ++o)
                a = {
                    x: 1 - o / m,
                    y: t
                },
                d.push(a),
                a = {
                    x: o / m,
                    y: i
                },
                p.push(a);
            var _;
            for (o = 0; o < this.nSegments; ++o)
                _ = this.reverseY ? this.nSegments - o - 1 : o,
                a = d[o],
                f.to(a, this.segmentDuration, {
                    y: e,
                    ease: Quad.easeInOut
                }, _ * this.segmentOfsset),
                a = p[o],
                f.to(a, this.segmentDuration, {
                    y: n,
                    ease: Quad.easeInOut
                }, _ * this.segmentOfsset);
            c.fillStyle = this.color
        }
    },
    e
}),
define("controllers/chapters", ["TweenMax", "models/beziers", "controllers/pixiapp", "doodleplayer/main", "models/globals", "utils/preloaders", "utils/verticaltransition", "utils/sharehelper", "utils/polygonbuttons", "controllers/about"], function(t, e, n, r, s, o, a, h, l, u) {
    var c = function(e) {
        this.segments = e,
        this.parent = document.querySelector("#overlay #contents"),
        this.paused = !1,
        this.segmentSelected = !1;
        for (var i = ['<canvas class="background" width="256" height="256"></canvas>', '<div class="chapters">'], n = 0; n < e.length; ++n)
            i.push('<div class="chapter" rel="' + n + '"><div class="image" style="background-image:url(' + s.cdn("images/thumb" + (n + 1) + ".jpg") + ')"></div></div>');
        for (i.push("</div>"),
        i = i.join(""),
        this.container = document.createElement("div"),
        this.container.className = "chapters",
        this.container.innerHTML = i,
        this.chapters = this.container.querySelectorAll(".chapter"),
        t.set(this.chapters, {
            opacity: 0
        }),
        this.parent.appendChild(this.container),
        this.background = new a(this.container.querySelector("canvas"),"#111111"),
        this.resizeHandler = this.resize.bind(this),
        s.events.on(s.RESIZE, this.resizeHandler),
        s.StoryGUI.whatToClose = this,
        s.StoryGUI.buttonAsClose(),
        this.onChapterHandler = this.onChapter.bind(this),
        n = 0; n < this.chapters.length; ++n)
            this.chapters[n].addEventListener("click", this.onChapterHandler);
        this.show()
    };
    return c.prototype = {
        show: function() {
            this.background.reverseY = !0,
            this.background.animate(1, 0, 1, 1, null),
            this.chaptersTween = (new TimelineMax).staggerTo(this.chapters, .3, {
                opacity: 1,
                y: "-=20",
                delay: 1,
                ease: Quad.easeOut
            }, .1),
            s.Story.pause(),
            this.resize()
        },
        onChapter: function(t) {
            this.segmentSelected = !0;
            var e = t.currentTarget.getAttribute("rel");
            s.StoryGUI.close(),
            s.Story.jumpTo(this.segments[parseInt(e)])
        },
        resize: function() {
            this.container.style.width = s.width + "px",
            this.container.style.height = s.height + "px"
        },
        close: function(t) {
            for (this.chaptersTween && this.chaptersTween.kill(),
            i = 0; i < this.chapters.length; ++i)
                this.chapters[i].removeEventListener("click", this.onChapterHandler);
            this.chaptersTween = (new TimelineMax).to(this.chapters, .3, {
                opacity: 0,
                ease: Quad.easeOut
            }),
            this.background.reverseY = !0,
            this.background.animate(0, 0, 1, 0, this.destroy.bind(this)),
            s.StoryGUI.whatToClose = null,
            this.segmentSelected || s.Story.continue()
        },
        destroy: function() {
            s.events.off(s.ON_RESIZE, this.resizeHandler),
            this.container.innerHTML = "",
            this.parent.removeChild(this.container)
        }
    },
    c
}),
define("controllers/storygui", ["TweenMax", "models/globals", "utils/preloaders", "partials/score", "partials/progress", "controllers/menu", "controllers/chapters"], function(t, e, i, n, r, s, o) {
    function a(t) {
        return t + "px"
    }
    return {
        init: function(s) {
            var a = this;
            this.whatToClose = null,
            this.isFullscreen = !1,
            this.template = ['<div class="video-texture top"></div>', '<div class="video-texture bottom"></div>', '<div id="keyboard-container"></div>', '<div id="buffering"><div class="icon">BUFFERING</div></div>', i.experience.getSVG("fullscreen"), '<div id="score"></div>', i.experience.getSVG("progress"), '<div id="contents"></div>', i.experience.getSVG("menu_close")].join(""),
            this.container = document.querySelector("#overlay"),
            this.container.innerHTML = this.template,
            this.defaultScore = 0,
            this.contents = this.container.querySelector("#contents"),
            this.menuCloseButton = this.container.querySelector("#menu-close-button"),
            this.fullscreen = this.container.querySelector("#fullscreen-button"),
            this.scoreContainer = this.container.querySelector("#score"),
            this.progressContainer = this.container.querySelector("#progress"),
            this.buffering = this.container.querySelector("#buffering"),
            this.textureTop = this.container.querySelector(".video-texture.top"),
            this.textureBottom = this.container.querySelector(".video-texture.bottom"),
            this.score = e.Score = new n(this.scoreContainer,6,this.defaultScore),
            t.set(this.scoreContainer, {
                autoAlpha: 0
            }),
            this.progress = new r(this.progressContainer,s),
            t.set(this.progressContainer, {
                autoAlpha: 0
            }),
            screenfull.isFullscreen ? this.enterFullScreen() : this.exitFullScreen(),
            screenfull.enabled || (this.fullscreen.style.display = "none"),
            e.events.on(e.RESIZE, this.resize.bind(this)),
            this.resize(),
            t.set(this.buffering, {
                autoAlpha: 0
            }),
            this.bufferingTween = null,
            this.menuCloseButton.addEventListener("click", function() {
                a.isButtonAsMenu ? a.showMenu() : a.close()
            }),
            this.fullscreen.addEventListener("click", function() {
                a.isFullscreen ? e.Main.exitFullScreen() : e.Main.enterFullScreen()
            }),
            this.progressContainer.addEventListener("click", function() {
                new o(s)
            }),
            e.MainVideo.video.events.on("startbuffering", function() {
                a.bufferingTween && a.bufferingTween.kill(),
                a.bufferingTween = t.to(a.buffering, .2, {
                    autoAlpha: 1,
                    delay: 1.5
                })
            }),
            e.MainVideo.video.events.on("stopbuffering", function() {
                a.bufferingTween && a.bufferingTween.kill(),
                a.bufferingTween = t.to(a.buffering, .2, {
                    autoAlpha: 0
                }),
                console.log("Stop buffering!!!!")
            }),
            this.buttonAsMenu(),
            t.set(this.container, {
                autoAlpha: 0
            })
        },
        showForSection: function(e) {
            switch (this.section = e,
            e) {
            case "home":
                this.showVideoTexture(!1),
                this.showTopButtons(),
                this.hideProgress(),
                this.hideScore();
                break;
            case "story":
                this.showVideoTexture(!0),
                this.showProgress(),
                this.hideScore();
                break;
            case "die":
                this.hideTopButtons();
                break;
            case "theend":
                this.showTopButtons(),
                this.showVideoTexture(!1),
                this.hideProgress(),
                this.hideScore()
            }
            t.to(this.container, .3, {
                autoAlpha: 1
            })
        },
        showVideoTexture: function(e) {
            t.allTo([this.textureTop, this.textureBottom], .3, {
                autoAlpha: e ? 1 : 0
            })
        },
        resetScore: function() {
            e.Score.updateValue(this.defaultScore, .5)
        },
        enterFullScreen: function() {
            this.isFullscreen = !0,
            this.fullscreen && this.fullscreen.setAttribute("class", "exit")
        },
        exitFullScreen: function() {
            this.isFullscreen = !1,
            this.fullscreen && this.fullscreen.setAttribute("class", "enter")
        },
        buttonAsMenu: function() {
            this.isButtonAsMenu = !0,
            this.isButtonAsClose = !1,
            this.menuCloseButton.setAttribute("class", "menu")
        },
        buttonAsClose: function() {
            this.isButtonAsMenu = !1,
            this.isButtonAsClose = !0,
            this.menuCloseButton.setAttribute("class", "close")
        },
        lightClose: function() {
            this.menuCloseButton.setAttribute("class", "close light")
        },
        darkClose: function() {
            this.buttonAsClose()
        },
        close: function() {
            this.whatToClose ? this.whatToClose.close() : this.closeMenu(),
            this.whatToClose = null,
            this.menu || this.buttonAsMenu()
        },
        showMenu: function() {
            e.GAnalytics.event("menu", "click", "show"),
            this.buttonAsClose(),
            this.whatToClose = null,
            this.menu = new s(this.contents,this.section),
            this.menu.show(),
            "story" == this.section && e.Story.pause()
        },
        closeMenu: function() {
            this.buttonAsMenu(),
            this.whatToClose = null,
            this.menu.hide(),
            this.menu = null,
            "story" == this.section && e.Story.continue()
        },
        hideTopButtons: function() {
            t.to([this.menuCloseButton, this.fullscreen], .5, {
                autoAlpha: 0
            })
        },
        showTopButtons: function() {
            t.to([this.menuCloseButton, this.fullscreen], .5, {
                autoAlpha: 1
            })
        },
        showScore: function() {
            this.score.onUpdated = null
        },
        hideScore: function() {
            var e = this;
            this.score.updating ? this.score.onUpdated = function() {
                t.to(e.scoreContainer, .5, {
                    autoAlpha: 0
                }),
                e.score.onUpdated = null
            }
            : t.to(this.scoreContainer, .5, {
                autoAlpha: 0
            })
        },
        showProgress: function() {
            t.to(this.progressContainer, .5, {
                autoAlpha: 1,
                delay: .5
            })
        },
        hideProgress: function() {
            t.to(this.progressContainer, .5, {
                autoAlpha: 0
            })
        },
        resize: function() {
            if (e.videoSize.top > 0) {
                var t = e.videoSize.top
                  , i = this.textureBottom.getBoundingClientRect();
                this.textureTop.style.top = t + "px",
                this.textureBottom.style.top = e.height - t - i.height + 1 + "px"
            } else
                this.textureTop.style.top = "-1000px",
                this.textureBottom.style.top = e.height + 1e3 + "px";
            var n = e.width < 1200 ? 20 : .02 * e.width
              , r = e.width < 1200 ? 20 : .02 * e.width
              , s = n
              , o = e.height - n
              , h = r
              , l = e.width - r
              , u = e.width / 2;
            e.videoSize.top > 50 && e.videoSize.top < 100 && (s = (e.videoSize.top - 30) / 2,
            o = e.height - s),
            e.videoSize.top < 50 && e.videoSize.top > 0 && (s = e.videoSize.top + n,
            o = e.height - s);
            var c = this.menuCloseButton.getBoundingClientRect();
            this.menuCloseButton.style.left = a(l - c.width),
            this.menuCloseButton.style.top = a(s + (30 - c.height) / 2);
            var d = this.fullscreen.getBoundingClientRect();
            this.fullscreen.style.left = a(h),
            this.fullscreen.style.top = a(s + (30 - d.height) / 2);
            var p = this.scoreContainer.getBoundingClientRect();
            this.scoreContainer.style.left = a(u - p.width / 2),
            this.scoreContainer.style.top = a(s + 2 + (30 - p.height) / 2);
            var f = this.progressContainer.getBoundingClientRect()
              , m = e.videoSize.top < 50 ? o - f.height : e.height - e.videoSize.top / 2 - f.height / 2;
            this.progressContainer.style.left = a(u - f.width / 2),
            this.progressContainer.style.top = a(m),
            this.buffering.style.width = e.width + "px",
            this.buffering.style.height = e.height + "px"
        }
    }
}),
define("controllers/theend", ["TweenMax", "models/globals", "utils/loader", "utils/preloaders", "utils/sharehelper", "doodleplayer/main", "models/beziers", "controllers/pixiapp", "controllers/about"], function(t, e, i, n, r, s, o, a, h) {
    var l = function() {
        var t = this;
        this.template = ['<div class="center">', '<div class="main-title"></div>', "</div>", '<div class="share">', "<span>SHARE</span>", n.experience.getSVG("twitter"), n.experience.getSVG("facebook"), "</div>", '<div class="info">', '<a href="about" rel="about">KNOW MORE</a>', '<a href="http://nerris.com/" target="_blank" rel="nerris">BY NERRIS</a>', "</div>"].join(""),
        this.container = document.createElement("div"),
        this.container.className = "theend wrapper",
        this.container.innerHTML = this.template,
        e.Main.dom.overlay.appendChild(this.container),
        this.titleContainer = this.container.querySelector(".main-title"),
        this.buttonWrapper = this.container.querySelector(".button-wrapper"),
        this.share = this.container.querySelector(".share"),
        this.arrowsContainers = this.container.querySelectorAll(".arrow"),
        this.arrows = this.container.querySelectorAll(".arrow svg"),
        this.info = this.container.querySelector(".info"),
        this.twitter = this.container.querySelector(".twitter-icon"),
        this.facebook = this.container.querySelector(".facebook-icon"),
        this.share.style.display = "none",
        this.info.style.display = "none",
        this.titleBaseWidth = 1300,
        this.titleBaseHeight = 700,
        this.tickHandler = this.tick.bind(this),
        e.events.on(e.RESIZE, this.resizeHandler = this.resize.bind(this)),
        this.oddFrame = !1,
        this.sound = n.experience.getHowl("audiospriteintro"),
        this.showTheEnd(),
        this.resize(),
        this.tick();
        for (var i = 0; i < this.arrowsContainers.length; ++i)
            this.arrowsContainers[i].style.opacity = 0,
            this.arrowsContainers[i].addEventListener("click", onArrowClick);
        this.facebook.addEventListener("click", function() {
            e.GAnalytics.event("theend", "share", "facebook"),
            r.facebook()
        }),
        this.twitter.addEventListener("click", function() {
            e.GAnalytics.event("theend", "share", "twitter"),
            r.twitter()
        }),
        this.container.querySelector('a[rel="about"]').addEventListener("click", function(e) {
            e.preventDefault(),
            t.showAbout()
        })
    };
    return l.prototype = {
        showTheEnd: function() {
            this.title = new s.BezierArrayViewport(this.titleBaseWidth,this.titleBaseHeight,a.resolution),
            this.title.color = "#ffffff",
            this.title.minPointOffset = 10,
            this.title.maxPointOffset = 30,
            this.title.minStrokeWidth = 5,
            this.title.maxStrokeWidth = 20,
            this.title.addBezierFromData(o.theEnd),
            this.title.moveBeziers(80, 50),
            this.titleContainer.appendChild(this.title.canvas);
            var i = new TimelineMax
              , n = e.env.debug ? 0 : 5;
            i.add(t.allTo(this.title.beziers, .2, {
                minStrokeWidth: 0,
                maxStrokeWidth: 0,
                maxPointOffset: 200
            }, .05), n),
            i.addCallback(this.showMainTitleAndGUI.bind(this))
        },
        showMainTitleAndGUI: function() {
            this.title && this.titleContainer.removeChild(this.title.canvas),
            this.title = new s.BezierArrayViewport(this.titleBaseWidth,this.titleBaseHeight,a.resolution),
            this.title.color = "#990000",
            this.title.minPointOffset = 10,
            this.title.maxPointOffset = 30,
            this.title.minStrokeWidth = 5,
            this.title.maxStrokeWidth = 20,
            this.title.addBezierFromData(o.oneLastBeat),
            this.title.moveBeziers(80, 50),
            this.titleContainer.appendChild(this.title.canvas);
            for (var e = 0; e < this.arrowsContainers.length; ++e)
                this.arrowsContainers[e].style.visibility = "visible";
            this.share.style.display = "block",
            this.info.style.display = "block";
            var i = new TimelineMax;
            i.add(t.allTo(this.title.beziers, 0, {
                minStrokeWidth: 0,
                maxStrokeWidth: 0,
                maxPointOffset: 100
            })),
            i.add(t.allTo(this.title.beziers, 1.3, {
                minStrokeWidth: 5,
                maxStrokeWidth: 20,
                maxPointOffset: 30,
                ease: Quad.easeOut
            }, -.02)),
            i.from(this.share, .5, {
                opacity: 0
            }, .5),
            i.from(this.info, .5, {
                opacity: 0
            }, .5),
            i.to(this.arrowsContainers, .5, {
                opacity: 1
            }, .5),
            this.arrowTween = t.fromTo(this.arrows, .5, {
                y: "-=10"
            }, {
                y: "+=10",
                repeat: -1,
                yoyo: !0,
                ease: Quad.easeInOut
            }),
            this.resize()
        },
        showAbout: function() {
            this.about = new h
        },
        intro: function() {
            var e = this
              , i = new TimelineMax;
            i.add(t.allTo(this.title.beziers, 0, {
                minStrokeWidth: 0,
                maxStrokeWidth: 0,
                maxPointOffset: 100
            })),
            i.add(t.allTo(this.title.beziers, 1.3, {
                minStrokeWidth: 5,
                maxStrokeWidth: 20,
                maxPointOffset: 30,
                ease: Quad.easeOut
            }, -.02), 1),
            i.add(t.allFrom([this.buttonWrapper, this.disclaimer], .5, {
                opacity: 0,
                ease: Quad.easeOut
            }, .3), 2),
            t.delayedCall(1, function() {
                e.sound.volume(.2, e.sound.play("title_out"))
            })
        },
        tick: function() {
            this.oddFrame = !this.oddFrame,
            this.oddFrame && e.focus && this.title && this.title.render(),
            this.tickId = requestAnimationFrame(this.tickHandler)
        },
        resize: function() {
            this.title.setWidth(this.titleContainer.offsetWidth);
            var t = this.titleContainer.offsetWidth
              , e = this.titleBaseHeight * this.title.scale;
            this.title.canvas.style.width = t + "px",
            this.title.canvas.style.height = e + "px";
            var i = "share s0";
            t > 500 && (i = "share s1"),
            t > 1e3 && (i = "share s2"),
            this.share.className = i
        },
        destroy: function() {
            this.arrowTween && this.arrowTween.kill(),
            e.events.off(e.RESIZE, this.resizeHandler),
            cancelAnimationFrame(this.tickId),
            this.container.parentNode.removeChild(this.container)
        }
    },
    l
}),
define("controllers/restartpopup", ["TweenMax", "models/globals", "utils/preloaders"], function(t, e, i) {
    var n = !1
      , r = function() {
        var t = this;
        if (n)
            return null;
        this.parent = document.body,
        template = i.experience.getSVG("play"),
        this.container = document.createElement("div"),
        this.container.className = "restartpopup",
        this.container.innerHTML = template,
        this.parent.appendChild(this.container),
        n = !0,
        this.container.addEventListener("click", function() {
            t.onClick && t.onClick()
        })
    };
    return r.prototype = {
        close: function() {
            this.parent.removeChild(this.container),
            n = !1
        }
    },
    r
}),
define("partials/interactionkeyboard", ["TweenMax", "models/globals", "partials/cardboardbutton"], function(e, i, n) {
    var r = function() {
        this.sequence = [],
        this.buttons = [],
        this.strictSequence = !1,
        this.ref = {},
        this.currentIndex = 0,
        this.defaultDemoIntervalTime = 300,
        this.demoIntervalTime = this.defaultIntervalTime,
        this.demoIndex = -1,
        this.visible = !1,
        this.isKeyDown = !1,
        this.autoNext = !0,
        window.addEventListener("keydown", this.keyDownHandler = this.onKeyDown.bind(this)),
        window.addEventListener("keyup", this.keyUpHandler = this.onKeyUp.bind(this)),
        this.container = document.createElement("div"),
        this.container.className = "keyboard",
        this.parent = document.querySelector("#keyboard-container"),
        this.parent.appendChild(this.container),
        i.events.on(i.RESIZE, this.resizeHandler = this.resize.bind(this))
    };
    return r.prototype = {
        create: function(t, i, r) {
            function s() {
                c.press(this.id)
            }
            var o, a, h, l, u, c = this;
            for (o = 0; o < t.length; ++o)
                l = t[o].key,
                h = "SPACE" == l ? n.BIG : n.SQUARE,
                u = t[o].caption,
                a = new n(h,u,!1),
                a.id = l,
                a.onInmediatePress = s,
                this.container.appendChild(a.getDom()),
                this.buttons.push(a),
                this.ref[l] = a;
            if (i)
                this.strictSequence = !0,
                this.demoIndex = 0;
            else
                for (this.strictSequence = !1,
                i = [],
                o = 0; o < t.length; ++o)
                    i.push(o);
            this.sequence = i,
            r && (reverse = i.reverse()),
            this.demoBall = document.createElement("div"),
            this.demoBall.className = "demo-ball",
            t.length > 1 && this.container.appendChild(this.demoBall),
            setTimeout(this.demoStep.bind(this), 1e3),
            this.visible = !1,
            e.to(this.container, 0, {
                opacity: 0
            }),
            this.resize()
        },
        demoStep: function() {
            clearTimeout(this.demoIntervalId);
            var i = this;
            this.strictSequence || ++this.demoIndex,
            this.demoIndex >= this.sequence.length && (this.demoIndex = 0);
            var n = this.buttons[this.sequence[this.demoIndex]]
              , r = n.getDom();
            n.demoPress(!0);
            var s = r.offsetLeft + r.clientWidth / 2;
            s != this.demoBallLastX && (console.log("offsetLeft: " + r.offsetLeft),
            console.log("x: " + s),
            console.log("demoBallLastX: " + this.demoBallLastX),
            this.demoBallTimeline && this.demoBallTimeline.kill(),
            this.demoBallTimeline = t = new TimelineMax({
                onComplete: function() {}
            }),
            t.to(this.demoBall, .1, {
                left: s
            }, 0),
            t.to(this.demoBall, .05, {
                top: -30
            }, 0),
            t.to(this.demoBall, .05, {
                top: -10
            }, .05),
            this.demoBallLastX = s);
            var o = this.demoIndex;
            setTimeout(function() {
                i.demoBallTimeline.isActive() || e.to(i.demoBall, .1, {
                    top: -20,
                    left: s
                }),
                i.buttons[i.sequence[o]].demoPress(!1)
            }, 100),
            this.demoIntervalId = setTimeout(function() {
                i.demoBallTimeline.isActive() || e.to(i.demoBall, .1, {
                    top: -5,
                    left: s
                }),
                i.demoStep()
            }, this.demoIntervalTime)
        },
        show: function() {
            this.demoIndex = this.strictSequence ? 0 : -1;
            for (var t, i = 0; i < this.buttons.length; ++i)
                t = this.buttons[i].getDom(),
                e.from(t, .1, {
                    scaleX: 0,
                    scaleY: 0,
                    delay: .1 * i
                });
            e.set(this.container, {
                visibility: "visible"
            }),
            e.to(this.container, .5, {
                opacity: 1
            }),
            this.visible = !0
        },
        hide: function() {
            var t = this;
            e.to(this.container, .3, {
                opacity: 0,
                onComplete: function() {
                    e.set(t.container, {
                        visibility: "hidden"
                    })
                }
            }),
            this.visible = !1
        },
        onKeyDown: function(t) {
            if (this.isKeyDown)
                return null;
            var e = t.keyCode;
            t.keyCode >= 96 && t.keyCode <= 105 && (e -= 48);
            var i = String.fromCharCode(e);
            " " == i && (i = "SPACE"),
            this.ref[i] && this.ref[i].onPress(),
            this.isKeyDown = !0
        },
        onKeyUp: function(t) {
            var e = t.keyCode
              , i = String.fromCharCode(e);
            " " == i && (i = "SPACE"),
            this.ref[i] && this.ref[i].onRelease(),
            this.isKeyDown = !1
        },
        next: function() {
            ++this.currentIndex,
            ++this.demoIndex
        },
        press: function(t) {
            if (!this.visible)
                return null;
            if (this.strictSequence)
                this.buttons[this.sequence[this.currentIndex]].id == t && (this.currentIndex >= this.sequence.length && (this.currentIndex = 0),
                this.onGoodPress && this.onGoodPress(),
                this.autoNext && this.next());
            else {
                var e = -1
                  , i = this.currentIndex + 1;
                i >= this.sequence.length && (i = 0);
                for (var n, r = 0; r < this.sequence.length; ++r)
                    n = this.buttons[this.sequence[r]].id,
                    t == n && (e = r);
                e >= 0 && (e == i && this.onGoodPress && this.onGoodPress(),
                this.currentIndex = e)
            }
        },
        resize: function() {
            var t = this.container.querySelectorAll(".cardboardbutton")[0].getBoundingClientRect();
            this.container.style.top = Math.round(.95 * i.height - t.height) + "px"
        },
        destroy: function() {
            window.removeEventListener("keydown", this.keyDownHandler),
            window.removeEventListener("keyup", this.keyUpHandler),
            clearTimeout(this.demoIntervalId),
            this.parent.removeChild(this.container),
            i.events.off(i.RESIZE, this.resizeHandler)
        }
    },
    r
}),
define("partials/chest", ["pixi", "utils/preloaders", "models/globals", "controllers/pixiapp"], function(t, e, i, n) {
    var r = 2 * Math.PI
      , s = 1.5 * Math.PI
      , o = Math.PI / 2
      , a = function() {
        t.Container.call(this),
        this.updateStrips = !0,
        this.baseWidth = 1920,
        this.baseHeight = 1080,
        this.baseWidth_2 = this.baseWidth / 2,
        this.baseHeight_2 = this.baseHeight / 2,
        this.dolly = 0,
        this.stripTexture3 = t.utils.TextureCache["chest_strip_3.png"],
        this.stripTexture2 = t.utils.TextureCache["chest_strip_2.png"],
        this.stripTexture1 = t.utils.TextureCache["chest_strip_1.png"],
        i.events.on(i.RESIZE, this.resizeHandler = this.resize.bind(this)),
        this.resize(),
        this.maskContainer = new t.Container,
        this.maskContainer.perspective = .1,
        this.maskLeft = new t.Graphics,
        this.maskLeft.beginFill(0),
        this.maskLeft.drawRect(0, -1, -this.baseWidth_2, this.baseHeight + 2),
        this.maskLeft.x = -this.baseWidth_2,
        this.maskLeft.y = -this.baseHeight_2,
        this.maskRight = new t.Graphics,
        this.maskRight.beginFill(0),
        this.maskRight.drawRect(0, -1, this.baseWidth_2, this.baseHeight + 2),
        this.maskRight.x = 0,
        this.maskRight.y = -this.baseHeight_2,
        this.addChild(this.maskContainer),
        this.maskContainer.addChild(this.maskLeft),
        this.maskContainer.addChild(this.maskRight),
        this.stripsXSide = 20,
        this.stripsContainers = [new t.ParticleContainer(1e3,{
            scale: !0,
            position: !0,
            rotation: !0
        }), new t.ParticleContainer(1e3,{
            scale: !0,
            position: !0,
            rotation: !0
        }), new t.ParticleContainer(1e3,{
            scale: !0,
            position: !0,
            rotation: !0
        })],
        this.stripsContainers[0].perspective = .1,
        this.stripsContainers[1].perspective = .15,
        this.stripsContainers[2].perspective = .2,
        this.strips = [];
        for (var e = 0; e < this.stripsContainers.length; ++e)
            this.addChild(this.stripsContainers[e]);
        var r = Math.PI / 8;
        this.stripsArrange = [],
        this.stripsArrange.push({
            right: this.addStrips(this.stripsContainers[0], 5 * r, 11 * r, this.stripTexture1),
            left: this.addStrips(this.stripsContainers[0], 13 * r, 3 * r, this.stripTexture1)
        }),
        this.stripsArrange.push({
            right: this.addStrips(this.stripsContainers[1], 13 * r, 3 * r, this.stripTexture2),
            left: this.addStrips(this.stripsContainers[1], 5 * r, 11 * r, this.stripTexture2)
        }),
        this.stripsArrange.push({
            right: this.addStrips(this.stripsContainers[2], 13 * r, 3 * r, this.stripTexture3),
            left: this.addStrips(this.stripsContainers[2], 5 * r, 11 * r, this.stripTexture3)
        }),
        this.ribsContainer = new t.Container,
        this.ribs = new t.Sprite(t.utils.TextureCache["chest_ribs.png"]),
        this.ribs.width = this.baseWidth,
        this.ribs.height = this.baseHeight,
        this.ribs.anchor.x = .5,
        this.ribs.anchor.y = .5,
        this.ribs.brightness = 0,
        this.ribsContainer.addChild(this.ribs),
        this.addChild(this.ribsContainer),
        this.ribsContainer.perspective = 1.5,
        this.tickHandler = this.tick.bind(this),
        n.getTicker().add(this.tickHandler)
    };
    return a.prototype = Object.create(t.Container.prototype),
    a.prototype.constructor = a,
    a.prototype.addStrips = function(e, i, n, s) {
        for (var o, a = n < i ? i - r : i, h = Math.abs(a - n) / this.stripsXSide, l = [], u = 0; u < this.stripsXSide; ++u)
            o = new t.Sprite(s),
            o.p = (i + u * h) % r,
            o.rx = -20,
            o.ry = 700,
            o.rxm = Math.random(),
            o.rym = 0,
            o.anchor.y = .5,
            l.push(o),
            this.strips.push(o);
        for (u = 0; u < this.stripsXSide; ++u)
            e.addChild(l[u]);
        return l
    }
    ,
    a.prototype.open = function() {
        if (this.opened)
            return null;
        this.opened = !0;
        for (var t = new TimelineMax({
            onComplete: function() {
                this.onOpen && this.onOpen()
            }
            .bind(this)
        }), e = this.stripsXSide, i = 0; i < this.stripsArrange.length; ++i) {
            var n = this.stripsArrange[i]
              , r = .1 * (this.stripsArrange.length - i);
            for (var s in n)
                t.add(TweenMax.staggerTo(n[s], 1, {
                    rx: 650 + 30 * i,
                    ry: 800,
                    ease: Quad.easeInOut,
                    cycle: {
                        delay: function(t) {
                            return .02 * Math.abs(Math.floor(e / 2) - t) + r + .1 * Math.random()
                        }
                    }
                }), 0)
        }
        TweenMax.to(this.ribs, 1, {
            brightness: 1,
            delay: .2,
            ease: Quad.easeInOut
        })
    }
    ,
    a.prototype.go = function() {
        if (this.going)
            return null;
        this.going = !0,
        TweenMax.to(this, 1, {
            dolly: 1.2,
            ease: Quad.easeInOut
        }),
        TweenMax.to(this.ribs, 1, {
            opacity: 0,
            delay: 1,
            visible: !1,
            ease: Quad.easeInOut,
            onComplete: function() {
                this.updateStrips = !1
            }
            .bind(this)
        })
    }
    ,
    a.prototype.beat = function(t) {
        var e = this;
        return !this.beating && (this.beating = !0,
        TweenMax.to(this, .1 + .1 * (1 - t), {
            dolly: 1.2 + t,
            ease: Quad.easeOut,
            onComplete: function() {
                e.beatTween = TweenMax.to(e, .1 + .4 * (1 - t), {
                    dolly: 1.2,
                    ease: Elastic.easeOut,
                    onComplete: function() {
                        e.beating = !1
                    }
                })
            }
        }),
        !0)
    }
    ,
    a.prototype.tick = function() {
        if (this.updateStrips) {
            for (var e, i, n, a, h, l = 0, u = 0, c = 0; c < this.strips.length; ++c)
                e = this.strips[c],
                a = e.rx + 100 * e.rxm,
                h = e.ry + 100 * e.rym,
                i = a / h,
                i < 0 && (i = 0),
                n = 0,
                n = e.p > s && e.p < r ? (e.p - r) * i : e.p > o && e.p < s ? Math.PI + (e.p - Math.PI) * i : e.p * i,
                e.position.x = Math.cos(e.p) * a,
                e.position.y = Math.sin(e.p) * h,
                e.rotation = n,
                e.position.x > l && (l = e.position.x),
                e.position.x < u && (u = e.position.x);
            this.maskLeft.x = u - 100,
            this.maskRight.x = l + 100
        }
        var d = new t.filters.ColorMatrixFilter;
        d.brightness(this.ribs.brightness),
        this.ribs.filters = [d];
        for (var p, c = 0; c < this.children.length; ++c)
            p = this.children[c],
            p.perspective && (p.scale.x = p.scale.y = 1 + this.dolly * p.perspective)
    }
    ,
    a.prototype.resize = function() {}
    ,
    a.prototype.destroy = function() {
        i.events.off(i.RESIZE, this.resizeHandler),
        n.getTicker().remove(this.tickHandler)
    }
    ,
    a
}),
define("controllers/interactionbase", ["TweenMax", "doodleplayer/main", "utils/preloaders", "models/globals", "models/beziers", "controllers/pixiapp", "partials/interactionkeyboard", "partials/chest"], function(t, e, i, n, r, s, o, a) {
    var h = !0
      , l = !1
      , u = function() {
        var t = this;
        this.realStage = s.getStage(),
        this.mask = new PIXI.Graphics,
        this.mask.beginFill(16711680),
        this.mask.drawRect(0, 0, 1920, 1080),
        this.mask.endFill(),
        this.stage = new PIXI.Container,
        this.realStage.addChild(this.stage),
        this.realStage.addChild(this.mask),
        this.stage.mask = this.mask,
        this.destroySounds = !0,
        this.tweens = [],
        this.dummyResize(),
        this.keyboardInteraction = !1,
        h && (h = !1,
        l = n.touchEvents),
        this.useTouch = l,
        this.sounds = {},
        this.sound = i.experience.getHowl("audiosprite"),
        this.keyboard = new o,
        n.events.on(n.RESIZE, this.resizeHandler = this.dummyResize.bind(this)),
        this.tickHandler = this.dummyTick.bind(this),
        this.ticker = s.getTicker(),
        this.ticker.add(this.tickHandler),
        this.delta = this.ticker.elapsedMS,
        this.oddFrame = !1,
        document.body.addEventListener("keydown", this.onKeyboardInteractionHandler = function() {
            t.keyboardInteraction = !0
        }
        ),
        document.body.addEventListener("touchstart", this.onScreenInteractionHandler = function() {
            t.keyboardInteraction = !1
        }
        ),
        document.body.addEventListener("mousedown", this.onScreenInteractionHandler)
    };
    return u.prototype = {
        prepareTweenForCleanup: function(t) {
            if (t.length)
                for (var e in tweens)
                    this.tweens.push(t[e]);
            else
                this.tweens.push(t)
        },
        emitOnReady: function() {
            var t = this;
            this.onReady && requestAnimationFrame(function() {
                t.onReady()
            })
        },
        notifyStartInteraction: function() {
            n.StoryGUI.showScore()
        },
        playSound: function(t, e) {
            var i;
            return this.sound && (i = this.sound.play(t)),
            void 0 !== e && this.sound.volume(e, i),
            i
        },
        addScore: function(t) {
            t = void 0 === t ? 50 + Math.round(20 * Math.random()) : t,
            n.Score.value += t
        },
        addTitle: function(i, r, o, a, h) {
            function l() {
                c.kill(),
                n.Main.dom.overlay.removeChild(u.title.canvas),
                u.title = null,
                d.kill(),
                a()
            }
            var u = this;
            r = r || 1,
            o = o || .5,
            a = a || function() {}
            ,
            h = h || {},
            h.total = h.total || 3,
            h.minPointOffset = h.minPointOffset || 10,
            h.maxPointOffset = h.maxPointOffset || 30,
            h.minStrokeWidth = h.minStrokeWidth || 5,
            h.maxStrokeWidth = h.maxStrokeWidth || 20,
            this.titleBaseWidth = 1024,
            this.titleBaseHeight = 1024,
            this.title = new e.BezierArrayViewport(this.titleBaseWidth,this.titleBaseHeight,s.resolution),
            this.title.color = "white",
            this.title.total = h.total,
            this.title.minPointOffset = h.minPointOffset,
            this.title.maxPointOffset = h.maxPointOffset,
            this.title.minStrokeWidth = h.minStrokeWidth,
            this.title.maxStrokeWidth = h.maxStrokeWidth,
            this.title.addBezierFromData(i),
            this.title.canvas.style.position = "absolute",
            this.title.canvas.className = "interaction-title",
            n.Main.dom.overlay.appendChild(this.title.canvas),
            this.title.canvas.addEventListener("click", function() {
                l()
            });
            var c = new TimelineMax({
                onComplete: l
            });
            c.add(t.allFrom(this.title.beziers, .5, {
                minStrokeWidth: 0,
                maxStrokeWidth: 0,
                maxPointOffset: 100,
                ease: Quad.easeOut
            }, .02), o),
            c.add(t.allTo(this.title.beziers, .5, {
                minStrokeWidth: 0,
                maxStrokeWidth: 0,
                maxPointOffset: 100,
                ease: Quad.easeOut
            }, .02), "+=" + r),
            this.prepareTweenForCleanup(c),
            t.delayedCall(o, function() {
                var t = u.sound.play("title_in");
                u.sound.volume(.1, t)
            });
            var d = t.delayedCall(c.duration() - .5, function() {
                var t = u.sound.play("title_out");
                u.sound.volume(.1, t)
            });
            this.dummyResize()
        },
        dummyResize: function() {
            if (this.title) {
                var t = n.videoSize.width > n.videoSize.height ? n.videoSize.height : n.videoSize.width
                  , e = Math.floor(.8 * t)
                  , i = e;
                this.title.setWidth(i),
                this.title.canvas.style.width = i + "px",
                this.title.canvas.style.top = e + "px",
                this.title.canvas.style.left = .5 * (n.width - i) + "px",
                this.title.canvas.style.top = .5 * (n.height - e) + "px"
            }
            this.red && (this.red.clear(),
            this.red.beginFill(10027008, 1),
            this.red.drawRect(0, 0, n.width, n.height),
            this.red.endFill()),
            this.mask && (this.mask.x = n.videoSize.left,
            this.mask.y = n.videoSize.top,
            this.mask.scale.x = this.mask.scale.y = n.videoSize.scale2K),
            this.resize && this.resize()
        },
        dummyTick: function(t) {
            this.oddFrame = !this.oddFrame,
            this.title && this.title.render(),
            this.delta = this.ticker.elapsedMS,
            this.tick()
        },
        addChest: function(t) {
            this.chest = new a,
            t.addChild(this.chest)
        },
        openChest: function() {
            var t = this;
            this.chest.open(),
            setTimeout(function() {
                t.playSound("i_chest_open", .4)
            }, 200)
        },
        finish: function(t) {
            var e = this;
            if (this.finished)
                return null;
            this.finished = !0,
            n.StoryGUI.hideScore(),
            e.onSuccess(t)
        },
        destroy: function() {
            this.mask && t.killTweensOf(this.mask),
            this.title && t.killTweensOf(this.title),
            n.events.off(n.RESIZE, this.resizeHandler),
            s.getTicker().remove(this.tickHandler),
            this.keyboard.destroy(),
            document.body.removeEventListener("keydown", this.onKeyboardInteractionHandler),
            document.body.removeEventListener("touchstart", this.onScreenInteractionHandler),
            document.body.removeEventListener("mousedown", this.onScreenInteractionHandler),
            this.red && this.stage.removeChild(this.red),
            this.chest && (this.chest.parent.removeChild(this.chest),
            this.chest.destroy(),
            this.chest = null);
            var e;
            for (e in this.tweens)
                console.log("Cleaning up Tween: " + e),
                this.tweens[e].kill();
            if (this.destroySounds) {
                for (e in this.sounds)
                    console.log("Cleaning up Sound: " + e),
                    this.sound.stop(this.sounds[e]);
                this.sound.stop()
            }
            this.stage = null
        }
    },
    u
}),
define("controllers/interaction_makemebeat", ["TweenMax", "utils/preloaders", "models/globals", "models/beziers", "controllers/pixiapp", "controllers/interactionbase"], function(t, e, i, n, r, s) {
    var o = function() {
        s.call(this)
    };
    return o.prototype = Object.create(s.prototype),
    o.prototype.contructor = o,
    o.prototype.init = function() {
        var t = this;
        this.score = 0,
        this.achievements = [{
            id: "firstbeat",
            scoreKeyboard: 1,
            scoreMobile: 1
        }, {
            id: "step1",
            scoreKeyboard: 7,
            scoreMobile: 7
        }, {
            id: "step2",
            scoreKeyboard: 10,
            scoreMobile: 10
        }];
        var e;
        e = this.useTouch ? [{
            key: "SPACE",
            caption: "BEAT"
        }] : [{
            key: "SPACE",
            caption: "SPACE BAR"
        }],
        this.keyboard.create(e, null, !0),
        this.keyboard.onGoodPress = function() {
            t.onGood()
        }
        ,
        this.keyboard.demoIntervalTime = 1e3,
        this.power = 0,
        this.gravity = -1,
        this.totalFrames = 18,
        this.centerFrame = Math.ceil(this.totalFrames / 2) - 1,
        this.fCurrentFrame = this.centerFrame,
        this.currentFrame = this.centerFrame,
        this.requestFrame = this.centerFrame,
        this.sounds.loop = this.sound.play("i01_loop"),
        this.say("i01_voice_01", function() {
            t.addTitle(n.beat, 1, .5, function() {
                t.useTouch ? (t.keyboard.show(),
                t.notifyStartInteraction()) : t.addTitle(n.useYourKeyboard, 1, .5, function() {
                    t.keyboard.show(),
                    t.notifyStartInteraction()
                }, {
                    maxStrokeWidth: 10,
                    maxPointOffset: 15
                })
            })
        }),
        this.addHeart(),
        this.resize(),
        this.tick(),
        this.emitOnReady()
    }
    ,
    o.prototype.onGood = function() {
        if (this.finished)
            return null;
        var t = this.score;
        this.score += 1;
        for (var e = 0; e < this.achievements.length && !0 === this.achievements[e].achieved; )
            ++e;
        if (e < this.achievements.length) {
            var i = this.achievements[e]
              , n = this.keyboardInteraction ? i.scoreKeyboard : i.scoreMobile;
            this.score >= n ? (this.score = 0,
            i.achieved = !0,
            this.processAchievement(i, !0, !1)) : this.processAchievement(i, !1, 0 === t)
        }
    }
    ,
    o.prototype.processAchievement = function(t, e, i) {
        var n = this;
        switch (t.id) {
        case "firstbeat":
            this.keyboard.hide(),
            this.beat(function() {
                setTimeout(function() {
                    n.say("i01_voice_02", function() {
                        n.keyboard.demoIntervalTime = n.keyboard.defaultDemoIntervalTime,
                        n.keyboard.show()
                    })
                }, 300)
            });
            break;
        case "step1":
            this.beat(),
            e && n.say("i01_voice_03");
            break;
        case "step2":
            this.beat(),
            e && n.finish()
        }
        this.addScore()
    }
    ,
    o.prototype.say = function(t, e) {
        this.sounds.voice = this.sound.play(t),
        e && this.sound.on("end", e, this.sounds.voice),
        this.bindHowlerSound(this.sounds.voice)
    }
    ,
    o.prototype.addHeart = function() {
        this.container = new PIXI.Container,
        this.heartContainer = new PIXI.Container,
        this.stage.addChild(this.container),
        this.container.addChild(this.heartContainer),
        this.background = new PIXI.Sprite(e.experience.getTexture("heart_background")),
        this.heartContainer.addChild(this.background);
        for (var t = [], i = 0; i < this.totalFrames; ++i)
            t.push(PIXI.utils.TextureCache["heart_" + i + ".png"]);
        this.heart = new PIXI.extras.AnimatedSprite(t),
        this.heartContainer.addChild(this.heart),
        this.heart.x = 681,
        this.heart.y = 160,
        this.heartBeatDisplacement = new PIXI.Sprite(e.experience.getTexture("displace")),
        this.heartContainer.addChild(this.heartBeatDisplacement),
        this.heartBeatDisplacement.anchor.x = .5,
        this.heartBeatDisplacement.anchor.y = .5,
        this.heartBeatDisplacement.x = 960,
        this.heartBeatDisplacement.y = 540,
        this.heartBeatDisplacement.height = 1080,
        this.filterLevel = 1e-5
    }
    ,
    o.prototype.beat = function(e) {
        if (this.beating)
            return null;
        var i = this;
        this.beating = !0;
        var n = new TimelineMax({
            onComplete: function() {
                e && e()
            }
        });
        n.add(t.fromTo(this, .1, {
            requestFrame: 0
        }, {
            requestFrame: this.totalFrames - 1,
            ease: Linear.easeNone
        })),
        n.add(t.to(this, .1, {
            requestFrame: 0,
            ease: Quad.easeIn
        }), "+=0.02"),
        n.add(t.to(this, .1, {
            requestFrame: this.centerFrame,
            ease: Quad.easeInOut
        }));
        var r = (new Date).getTime()
          , s = r - this.lastBeatTime
          , o = .02
          , a = 1;
        s < 1e3 && (o *= 1 + (1e3 - s) / 1e3 * 5,
        a *= 1 + (1e3 - s) / 1e3 * 3),
        n.add(t.fromTo(this.heartContainer.scale, .1, {
            x: 1,
            y: 1
        }, {
            x: 1 + o,
            y: 1 + o,
            repeat: 1,
            yoyo: !0,
            ease: Circ.easeInOut
        }), .2),
        n.add(t.fromTo(this.heartContainer, .1, {
            x: 0,
            y: 0
        }, {
            x: -1920 * o / 2,
            y: -1080 * o / 2,
            repeat: 1,
            yoyo: !0,
            ease: Circ.easeInOut
        }), .2),
        setTimeout(function() {
            i.sounds.beat = i.playSound("beat_front"),
            i.sound.volume(1, i.sounds.beat)
        }, 20),
        setTimeout(function() {
            i.beating = !1
        }, 300),
        setTimeout(function() {
            t.fromTo(i, 1, {
                filterLevel: a
            }, {
                filterLevel: 0
            }),
            t.fromTo(i.heartBeatDisplacement.scale, 1, {
                x: 1
            }, {
                x: 10
            })
        }, 200),
        this.lastBeatTime = r
    }
    ,
    o.prototype.finish = function() {
        this.addScore(500),
        this.keyboard.hide(),
        this.sound.stop(this.sounds.loop),
        s.prototype.finish.call(this)
    }
    ,
    o.prototype.tick = function() {
        if (this.beating)
            this.currentFrame = Math.ceil(this.requestFrame);
        else {
            var t = 0 == this.requestFrame ? .2 : .7;
            this.fCurrentFrame -= (this.fCurrentFrame - this.requestFrame) * t,
            this.currentFrame = Math.ceil(this.fCurrentFrame)
        }
        this.heart.gotoAndStop(this.currentFrame),
        this.analyser && this.analyzeAudio();
        var e = new PIXI.filters.DisplacementFilter(this.heartBeatDisplacement,20 * this.filterLevel * i.videoSize.scale2K)
          , n = new PIXI.filters.ColorMatrixFilter;
        if (n.saturate(this.filterLevel),
        this.heartContainer.filters = [e, n],
        this.lastBeatTime) {
            (new Date).getTime() - this.lastBeatTime > 6e3 && (this.say("i01_voice_04"),
            this.lastBeatTime = 0)
        }
    }
    ,
    o.prototype.resize = function() {
        this.container && (this.container.x = i.videoSize.left,
        this.container.y = i.videoSize.top,
        this.container.scale.x = this.container.scale.y = i.videoSize.scale2K)
    }
    ,
    o.prototype.destroy = function() {
        this.stage.removeChild(this.container),
        s.prototype.destroy.call(this)
    }
    ,
    o.prototype.bindHowlerSound = function(t, e, i, n, r, s) {
        for (var o, a = this, h = 0; h < this.sound._sounds.length; ++h)
            this.sound._sounds[h]._id == t && (o = this.sound._sounds[h]);
        o && (this.lastAmplitude = 0,
        this.analyser = Howler.ctx.createAnalyser(),
        this.bufferLength = this.analyser.frequencyBinCount,
        this.dataArray = new Uint8Array(this.bufferLength),
        this.analyser.fftSize = e || 64,
        this.sampleStart = i || 8,
        this.offSamples = i || 18,
        this.raisingAmplitude = i || 90,
        this.raisingAttenuation = i || 160,
        o._node.connect(this.analyser),
        this.analyser.connect(Howler.ctx.destination)),
        this.sound.once("end", function() {
            a.analyser = null
        }, t)
    }
    ,
    o.prototype.clearAudioBinding = function() {
        this.analyser = null
    }
    ,
    o.prototype.analyzeAudio = function() {
        this.analyser.getByteFrequencyData(this.dataArray);
        for (var t = 0, e = this.sampleStart; e < this.sampleStart + this.offSamples; ++e)
            t += this.dataArray[e] || 0;
        if (t /= this.offSamples,
        !this.beating) {
            var i = t < 64 ? this.centerFrame : Math.abs(Math.floor((t - 64) / 64 * (this.totalFrames - 1)));
            this.requestFrame = i
        }
        this.lastAmplitude = t
    }
    ,
    o
}),
define("partials/voicebeatline", ["howler", "models/globals", "doodleplayer/main", "controllers/pixiapp"], function(t, e, i, n) {
    var r = function(t, e, n) {
        this.nPoints = n,
        this.baseWidth = t,
        this.baseHeight = e,
        this.viewport = new i.Viewport(t,e),
        this.tickHandler = this.tick.bind(this),
        this.offSides = 10
    };
    return r.prototype = {
        show: function() {
            if (this.showing)
                return null;
            this.beatline = new i.BeatLineEqui(this.baseWidth,this.baseHeight,this.nPoints),
            this.viewport.stage.addChild(this.beatline),
            n.getTicker().add(this.tickHandler),
            this.resize(this.baseWidth, this.baseHeight),
            this.showing = !0,
            TweenMax.from(this.beatline, 3, {
                maxStrokeWidth: 0,
                maxStrokeWidth: 0
            })
        },
        hide: function() {
            this.showing = !1,
            n.getTicker().remove(this.tickHandler)
        },
        beat: function(t, e) {
            var i = Math.floor(1 + (this.nPoints - 3) * t);
            this.beatline.beat(i, 1, 150)
        },
        bindHowlerSound: function(t, e, i, n, r, s) {
            this.analyser = Howler.ctx.createAnalyser(),
            this.bufferLength = this.analyser.frequencyBinCount,
            this.dataArray = new Uint8Array(this.bufferLength),
            this.analyser.fftSize = e || 64,
            this.sampleStart = i || 8,
            this.offSamples = i || 18,
            this.raisingAmplitude = i || 90,
            this.raisingAttenuation = i || 160,
            t._sounds[0]._node.connect(this.analyser),
            this.analyser.connect(Howler.ctx.destination)
        },
        clearAudioBinding: function() {
            this.analyser = null
        },
        analyzeAudio: function() {
            this.analyser.getByteFrequencyData(this.dataArray);
            for (var t = 0, e = this.sampleStart; e < this.sampleStart + this.offSamples; ++e)
                t += this.dataArray[e] || 0;
            if (t /= this.offSamples,
            this.raisingAmplitude > 90) {
                var i = this.beatline.getLowPoints();
                this.beatline.beat(i[Math.floor(Math.random() * (i.length - 1))], this.raisingAmplitude / this.raisingAttenuation, 100)
            }
        },
        tick: function() {
            this.viewport.render(),
            this.analyser && this.analyzeAudio()
        },
        resize: function(t, e) {
            this.baseWidth = t,
            this.baseHeight = e,
            this.viewport.resize(t, e),
            this.beatline.resize(this.baseWidth - 2 * this.offSides, e),
            this.beatline.x = this.offSides
        },
        getDom: function() {
            return this.viewport.canvas
        },
        destroy: function() {
            n.ticker.remove(this.tickHandler),
            this.clearAudioBinding()
        }
    },
    r
}),
define("partials/musicplayer", [], function() {
    var t = function(t, e) {
        this.beat = 0,
        this.patterns = {},
        this.sound = t,
        this.setBeatDuration(e || 120),
        this.setLength(16)
    };
    return t.prototype = {
        setBeatDuration: function(t) {
            this.beatDuration = t
        },
        setLength: function(t) {
            this.length = t
        },
        addPattern: function(t, e, i) {
            this.patterns[t] = {
                id: t,
                requestMute: !1,
                muted: !1,
                soundId: e,
                notes: i
            }
        },
        mute: function(t, e, i) {
            if (this.patterns[t]) {
                var n = this.patterns[t];
                i && (n.muted = e),
                n.requestMute = e
            }
        },
        removePattern: function(t) {
            this.patterns[t] && delete this.patterns[t]
        },
        play: function() {
            if (this.playing)
                return null;
            this.playing = !0,
            this.playBeat(),
            this.lastTime = (new Date).getTime()
        },
        pause: function() {
            this.playing = !1,
            cancelAnimationFrame(this.frameRequest)
        },
        playBeat: function() {
            var t = this;
            this.frameRequest = requestAnimationFrame(function() {
                t.playBeat()
            });
            var e = (new Date).getTime();
            if (e - this.lastTime < this.beatDuration)
                return null;
            this.lastTime = e;
            var i;
            for (var n in this.patterns)
                i = this.patterns[n],
                void 0 === i.notes[this.beat] || i.muted || 1 !== i.notes[this.beat] || this.sound.play(i.soundId);
            if (++this.beat >= this.length) {
                this.beat = 0,
                this.onPattern && this.onPattern();
                for (var n in this.patterns)
                    i = this.patterns[n],
                    i.muted = i.requestMute
            }
            this.onBeat && this.onBeat()
        },
        destroy: function() {
            cancelAnimationFrame(this.frameRequest),
            this.sound = null,
            this.patterns = {}
        }
    },
    t
}),
define("controllers/interaction_run", ["TweenMax", "utils/preloaders", "partials/voicebeatline", "partials/musicplayer", "models/globals", "models/beziers", "controllers/pixiapp", "controllers/interactionbase"], function(t, e, i, n, r, s, o, a) {
    var h = function() {
        a.call(this)
    };
    return h.prototype = Object.create(a.prototype),
    h.prototype.contructor = h,
    h.prototype.init = function() {
        var e = this;
        this.score = 0,
        this.achievements = [{
            id: "step1",
            scoreKeyboard: 1e5,
            scoreMobile: 1e5
        }];
        var i;
        i = this.useTouch ? [{
            key: "1",
            caption: "1"
        }, {
            key: "2",
            caption: "2"
        }] : [{
            key: "Q",
            caption: "Q"
        }, {
            key: "W",
            caption: "W"
        }],
        this.keyboard.create(i, null, !0),
        this.keyboard.onGoodPress = function() {
            e.onGood()
        }
        ,
        this.keyboard.demoIntervalTime = 300,
        this.running = !1,
        this.waiting = 1,
        this.frame = 0,
        this.frameFloat = 0,
        this.totalFrameFloat = 0,
        this.minSpeed = .033,
        this.maxSpeedOffset = .07,
        this.runningTime = 0,
        this.totalRunningTime = 0,
        this.maxRunningTime = 5e3,
        this.finishRunningTime = 8e3,
        this.finishLine = !1,
        this.speed = 0,
        this.asphaltBaseScale = 3,
        this.asphaltOffScale = .4,
        this.asphaltY = 0,
        this.asphaltYSpeed = 60,
        this.asphaltScaleFloat = 1,
        this.lastBeatTime = 0,
        this.stepSound = -1,
        this.lastStepSound = -1,
        this.yesSound = !1,
        this.dontStopSound = !1,
        this.wiggling = !1,
        this.wiggleScale = .05,
        this.wiggleOffX = 1920 * e.wiggleScale / 2,
        this.wiggleOffY = 1080 * e.wiggleScale / 2,
        this.wiggleOX = -e.wiggleOffX,
        this.wiggleOY = -e.wiggleOffY,
        this.wigglePhases = [0, 0, 0, 0],
        this.wiggleVs = [.01, .02, .05, .03],
        this.wiggleAcc = 0,
        this.wiggleAccEnd = .1,
        this.container = new PIXI.Container,
        this.stage.addChild(this.container),
        this.music = new n(this.sound,160),
        this.music.length = 8,
        this.music.addPattern("hit", "i02_bso_hit", [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
        this.music.addPattern("tick", "i02_bso_tick", [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]),
        this.music.addPattern("bass1", "i02_bso_note1", [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0]),
        this.music.addPattern("bass2", "i02_bso_note2", [0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0]),
        this.music.addPattern("bass3", "i02_bso_note2", [0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1]),
        this.music.mute("hit", !0, !0),
        this.music.mute("bass3", !0, !0),
        this.addAnimation(),
        this.addChest(this.container),
        this.resize(),
        this.tick(),
        this.emitOnReady(),
        t.from(this.mask, .6, {
            x: "+=" + r.videoSize.width,
            ease: Quad.easeOut
        }),
        this.prepareTweenForCleanup(t.from(this.container, .6, {
            x: "+=" + r.videoSize.width,
            ease: Quad.easeOut,
            onComplete: function() {
                e.openChest();
                var i = {
                    total: 3,
                    minPointOffset: 5,
                    maxPointOffset: 20,
                    minStrokeWidth: 2,
                    maxStrokeWidth: 17
                };
                e.wiggling = !0,
                setTimeout(function() {
                    e.music.play()
                }, 2e3),
                e.addTitle(s.escapeFromDeath, .5, 2, function() {
                    e.chest.go(),
                    e.keyboard.show(),
                    e.playSound("i02_voice_01"),
                    e.notifyStartInteraction();
                    var i = 1 + e.wiggleScale;
                    e.wiggleOX,
                    e.wiggleOY;
                    t.to(e.interaction.scale, 1, {
                        x: i,
                        y: i,
                        ease: Quad.easeInOut
                    })
                }, i)
            }
        }))
    }
    ,
    h.prototype.onGood = function() {
        if (this.finished)
            return null;
        var t = this.score;
        this.score += 1;
        for (var e = 0; e < this.achievements.length && !0 === this.achievements[e].achieved; )
            ++e;
        if (e < this.achievements.length) {
            var i = this.achievements[e]
              , n = this.keyboardInteraction ? i.scoreKeyboard : i.scoreMobile;
            this.score >= n ? (this.score = 0,
            i.achieved = !0,
            this.processAchievement(i, !0, !1)) : this.processAchievement(i, !1, 0 === t)
        }
        this.addScore()
    }
    ,
    h.prototype.processAchievement = function(t, e, i) {
        t.id,
        this.run()
    }
    ,
    h.prototype.run = function() {
        var t = this;
        this.running = !0,
        this.runningTimerId && clearTimeout(this.runningTimerId),
        this.runningTimerId = setTimeout(function() {
            t.running = !1
        }, 1e3)
    }
    ,
    h.prototype.addAnimation = function() {
        this.interaction = new PIXI.Container,
        this.container.addChild(this.interaction);
        var t = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 14, 15, 6, 5, 4, 3, 2, 1, 0];
        this.frameVs = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, .5, .4, .3, .2, .1, .1, 0, 0],
        this.frameHs = [0, .1, .2, .3, .5, .8, .9, .8, .7, .5, .4, .3, .1, 0, 0, .2, .4, .6, 1, .8, .6, .3, .2, 0, .2, .3, .6, .8, 1, .9, .6, .3, .2, 0, 0, .2, .3, .4, .3, .2, .1, 0, 0];
        for (var e = [], i = 0; i < t.length; ++i) {
            var n = "run_" + t[i] + ".png";
            e.push(PIXI.utils.TextureCache[n])
        }
        this.totalFrames = t.length,
        this.loopStart = 14,
        this.loopEnd = 33;
        var r = PIXI.utils.TextureCache["road.png"];
        this.asphalt = new PIXI.extras.TilingSprite(r,1920,1080),
        this.asphalt.anchor.x = this.asphalt.anchor.y = .5,
        this.asphalt.x = 960,
        this.asphalt.y = 540,
        this.asphalt.tileScale.y = this.asphalt.tileScale.x = this.asphaltBaseScale = this.asphalt.width / 1024,
        this.asphalt.tilePosition.x = (this.asphalt.width / this.asphaltBaseScale - 1024) / 2,
        this.interaction.addChild(this.asphalt),
        this.sequence = new PIXI.extras.AnimatedSprite(e),
        this.firstFrame = new PIXI.Sprite(PIXI.utils.TextureCache["first_frame.png"]),
        this.firstFrameBaseScale = 1.875,
        this.firstFrame.y = 346,
        this.firstFrame.scale.x = this.firstFrame.scale.y = this.firstFrameBaseScale,
        this.sewer = new PIXI.Sprite(PIXI.utils.TextureCache["sewer.png"]),
        this.sewer.scale.x = this.sewer.scale.y = this.firstFrameBaseScale,
        this.sewer.y = -200,
        this.trash = new PIXI.Sprite(PIXI.utils.TextureCache["trash.png"]),
        this.trash.scale.x = this.trash.scale.y = this.firstFrameBaseScale,
        this.trash.x = 1200,
        this.interaction.addChild(this.trash),
        this.interaction.addChild(this.sewer),
        this.interaction.addChild(this.sequence),
        this.interaction.addChild(this.firstFrame),
        this.sequence.width = 1920,
        this.sequence.height = 1080,
        this.sequence.animationSpeed = .5,
        this.running = !1,
        this.time = (new Date).getTime(),
        this.sequence.gotoAndStop(0);
        var s = 16711680;
        this.asphalt.tint = s,
        this.sequence.tint = s,
        this.firstFrame.tint = s,
        this.sewer.tint = s,
        this.trash.tint = s
    }
    ,
    h.prototype.tick = function() {
        var t = (new Date).getTime();
        delta = t - this.time,
        this.time = t,
        this.running ? (this.runningTime += delta,
        this.totalRunningTime += delta,
        this.runningTime > this.maxRunningTime && (this.runningTime = this.maxRunningTime)) : (this.runningTime -= delta,
        this.runningTime < 0 && (this.runningTime = 0));
        var e = this.runningTime / this.maxRunningTime
          , i = delta * (this.minSpeed + e * this.maxSpeedOffset)
          , n = this.totalFrameFloat;
        e > 0 ? (this.frameFloat += i,
        this.totalFrameFloat += i,
        this.frameFloat >= this.loopEnd && (this.frameFloat = this.loopStart),
        this.lastBeatTime += delta,
        this.lastBeatTime > 1e3 - 800 * e && this.chest.beat(e) && (this.playSound("beat_front"),
        this.lastBeatTime = 0)) : this.frame < this.totalFrames && 0 !== this.frame ? (this.frameFloat += i,
        this.frameFloat >= this.totalFrames ? this.frameFloat = 0 : this.totalFrameFloat += i) : this.frameFloat = 0,
        this.frame = Math.floor(this.frameFloat),
        this.sequence.gotoAndStop(this.frame),
        e > .7 && !this.yesSound && (this.playSound("i02_voice_02"),
        this.yesSound = !0),
        e < .1 && this.yesSound && !this.dontStopSound && (this.playSound("i02_voice_03"),
        this.dontStopSound = !0),
        this.firstFrame.visible = 0 === this.frameFloat;
        var r = (n - this.totalFrameFloat) * this.asphaltYSpeed * this.frameVs[this.frame];
        if (this.asphalt.tilePosition.y -= r,
        this.asphalt.scale.y = this.asphalt.scale.x = 1 + this.frameHs[this.frame] * this.asphaltOffScale,
        this.sewer.y -= r,
        this.trash.y -= r,
        e > 0) {
            var s = new PIXI.filters.BlurYFilter(10 * e + 1,2,1);
            this.interaction.filters = [s]
        } else
            this.interaction.filters = null;
        if (this.music.setBeatDuration(200 - 100 * e),
        this.music.mute("hit", e < .7),
        this.music.mute("bass2", e > .4),
        this.music.mute("bass3", e < .4),
        this.wiggling) {
            for (var o = 0, a = [0, 0, 0, 0], h = 0; h < this.wigglePhases.length; ++h)
                this.wigglePhases[h] += this.wiggleVs[h],
                a[h] = Math.sin(this.wigglePhases[h]);
            o /= this.wigglePhases.length,
            this.interaction.x -= .1 * (this.interaction.x - (this.wiggleOX + a[0] * this.wiggleOffX)),
            this.interaction.y -= .1 * (this.interaction.y - (this.wiggleOY + a[1] * this.wiggleOffY));
            var l = .02 * a[1];
            this.firstFrame.scale.y -= .1 * (this.firstFrame.scale.y - (this.firstFrameBaseScale - l))
        }
        this.totalRunningTime > this.finishRunningTime && !this.finishLine && this.startFinish()
    }
    ,
    h.prototype.resize = function() {
        this.container && (this.container.x = r.videoSize.left,
        this.container.y = r.videoSize.top,
        this.container.scale.x = this.container.scale.y = r.videoSize.scale2K,
        this.chest.x = 960,
        this.chest.y = 540)
    }
    ,
    h.prototype.startFinish = function() {
        var t = this;
        this.music.onPattern = function() {
            t.music.onPattern = null,
            t.finish()
        }
        ,
        this.destroySounds = !1,
        this.sound.play("i02_voice_04"),
        this.finishLine = !0
    }
    ,
    h.prototype.finish = function() {
        a.prototype.finish.call(this)
    }
    ,
    h.prototype.destroy = function() {
        this.stage.removeChild(this.container),
        this.music.destroy(),
        a.prototype.destroy.call(this)
    }
    ,
    h
}),
define("controllers/interaction_boss", ["TweenMax", "utils/preloaders", "partials/musicplayer", "models/globals", "models/beziers", "controllers/pixiapp", "controllers/interactionbase"], function(t, e, i, n, r, s, o) {
    var a = function() {
        o.call(this)
    };
    a.prototype = Object.create(o.prototype),
    a.prototype.contructor = a,
    a.prototype.init = function() {
        var e = this;
        this.score = 0,
        this.amplideMult = 1,
        this.phaseX = 0,
        this.phaseY = 0,
        this.phaseX2 = 0,
        this.phaseY2 = 0,
        this.showTarget = !1,
        this.achievements = [{
            id: "step1",
            scoreKeyboard: 1e5,
            scoreMobile: 1e5
        }];
        var i;
        i = this.useTouch ? [{
            key: "SPACE",
            caption: "BEAT"
        }] : [{
            key: "SPACE",
            caption: "SPACE BAR"
        }],
        this.keyboard.create(i, null, !0),
        this.keyboard.onGoodPress = function() {
            e.onGood()
        }
        ,
        this.keyboard.demoIntervalTime = 3e3,
        this.container = new PIXI.Container,
        this.stage.addChild(this.container),
        this.time = (new Date).getTime(),
        this.totalTime = 0,
        this.timeWarning = !1,
        this.sounds.loop = this.sound.play("i03_loop"),
        this.addScene(),
        this.addChest(this.container),
        this.resize(),
        this.tick(),
        this.emitOnReady(),
        t.from(this.mask, .6, {
            x: "+=" + n.videoSize.width,
            ease: Quad.easeOut
        }),
        this.prepareTweenForCleanup(t.from(this.container, .6, {
            x: "+=" + n.videoSize.width,
            ease: Quad.easeOut,
            onComplete: function() {
                e.openChest();
                var i = {
                    total: 3,
                    minPointOffset: 5,
                    maxPointOffset: 20,
                    minStrokeWidth: 2,
                    maxStrokeWidth: 17
                };
                e.wiggling = !0,
                e.addTitle(r.beatToShoot, .5, 2, function() {
                    e.chest.go(),
                    e.keyboard.show(),
                    e.sound.play("i03_voice_01"),
                    e.showTarget = !0,
                    e.notifyStartInteraction();
                    var i = 1 + e.wiggleScale;
                    e.wiggleOX,
                    e.wiggleOY;
                    t.to(e.interaction.scale, 1, {
                        x: i,
                        y: i,
                        ease: Quad.easeInOut
                    })
                }, i)
            }
        }))
    }
    ,
    a.prototype.addScene = function() {
        this.interaction = new PIXI.Container,
        this.container.addChild(this.interaction),
        this.interaction.x = 960,
        this.interaction.y = 540,
        this.background = new PIXI.Sprite(e.experience.getTexture("boss_background")),
        this.background.anchor.x = this.background.anchor.y = .5,
        this.background.scale.x = this.background.scale.y = 1.5,
        this.boss = new PIXI.Sprite(PIXI.utils.TextureCache["boss.png"]),
        this.boss.anchor.x = this.boss.anchor.y = .5,
        this.boss.scale.x = this.boss.scale.y = 1.5,
        this.boss.alpha = 0,
        this.handFront = new PIXI.Sprite(PIXI.utils.TextureCache["shothand_front.png"]),
        this.handBack = new PIXI.Sprite(PIXI.utils.TextureCache["shothand_back.png"]),
        this.handFront.scale.x = this.handFront.scale.y = this.handBack.scale.x = this.handBack.scale.y = 1.8,
        this.handBack.anchor.x = 464 / 547,
        this.handBack.anchor.y = 70 / 512,
        this.handFront.anchor.x = 115 / 669,
        this.handFront.anchor.y = 63 / 512,
        this.interaction.addChild(this.background),
        this.interaction.addChild(this.handBack),
        this.interaction.addChild(this.handFront),
        this.interaction.addChild(this.boss);
        var t = 16711680;
        this.background.tint = t,
        this.handBack.tint = t,
        this.handFront.tint = t,
        this.boss.tint = t
    }
    ;
    return a.prototype.onGood = function() {
        var e = this;
        this.sound.play("i03_elastic"),
        t.to(this, .2, {
            amplideMult: .1
        }),
        this.prepareTweenForCleanup(t.delayedCall(.5, function() {
            e.sound.stop(e.sounds.timeWarning),
            e.sound.play("i03_voice_03")
        })),
        this.prepareTweenForCleanup(t.to(this.handFront.scale, .8, {
            x: 3,
            y: 3,
            ease: Quad.easeInOut,
            onComplete: function() {
                e.finish()
            }
        })),
        this.chest.beat(.5),
        this.addScore(-200),
        this.playSound("beat_front")
    }
    ,
    a.prototype.tick = function() {
        var e = (new Date).getTime();
        delta = e - this.time,
        this.time = e,
        this.totalTime += delta,
        this.totalTime > 15e3 && !this.timeWarning && (this.sound.play("i03_voice_02"),
        this.timeWarning = !0),
        this.shootRadiusX = 200,
        this.shootRadiusY = 100;
        var i = this.amplideMult * (delta / 16);
        this.phaseX += .025 * i,
        this.phaseY += .05 * i,
        this.phaseX2 += .25 * i,
        this.phaseY2 += .1 * i;
        var n = Math.cos(this.phaseX) + .02 * Math.sin(this.phaseX2)
          , r = Math.sin(this.phaseY) + .02 * Math.sin(this.phaseY2);
        this.handBack.x = n * this.shootRadiusX,
        this.handFront.x = n * this.shootRadiusX * .8,
        this.handBack.y = r * this.shootRadiusY,
        this.handFront.y = r * this.shootRadiusY * .9,
        this.background.x = -n * this.shootRadiusX * .3,
        this.background.y = -r * this.shootRadiusY * .3 - 150,
        this.boss.x = this.background.x + 25,
        this.boss.y = this.background.y + 75,
        this.showTarget && Math.abs(n) < .1 && Math.abs(r) < .1 && 0 === this.boss.alpha && (this.boss.alpha = 0,
        t.fromTo(this.boss, .1, {
            alpha: 0
        }, {
            alpha: 1,
            repeat: 1,
            yoyo: !0
        }))
    }
    ,
    a.prototype.resize = function() {
        this.container && (this.container.x = n.videoSize.left,
        this.container.y = n.videoSize.top,
        this.container.scale.x = this.container.scale.y = n.videoSize.scale2K,
        this.chest.x = 960,
        this.chest.y = 540)
    }
    ,
    a.prototype.finish = function() {
        this.destroySounds = !1,
        this.sound.stop(this.sounds.loop),
        o.prototype.finish.call(this)
    }
    ,
    a.prototype.destroy = function() {
        this.stage.removeChild(this.container),
        o.prototype.destroy.call(this)
    }
    ,
    a
}),
function(t) {
    if ("object" == typeof exports && "undefined" != typeof module)
        module.exports = t();
    else if ("function" == typeof define && define.amd)
        define("planck", [], t);
    else {
        var e;
        "undefined" != typeof window ? e = window : "undefined" != typeof global ? e = global : "undefined" != typeof self && (e = self),
        e.planck = t()
    }
}(function() {
    return function t(e, i, n) {
        function r(o, a) {
            if (!i[o]) {
                if (!e[o]) {
                    var h = "function" == typeof require && require;
                    if (!a && h)
                        return h(o, !0);
                    if (s)
                        return s(o, !0);
                    var l = new Error("Cannot find module '" + o + "'");
                    throw l.code = "MODULE_NOT_FOUND",
                    l
                }
                var u = i[o] = {
                    exports: {}
                };
                e[o][0].call(u.exports, function(t) {
                    var i = e[o][1][t];
                    return r(i || t)
                }, u, u.exports, t, e, i, n)
            }
            return i[o].exports
        }
        for (var s = "function" == typeof require && require, o = 0; o < n.length; o++)
            r(n[o]);
        return r
    }({
        1: [function(t, e, i) {
            i.internal = {},
            i.Math = t("./common/Math"),
            i.Vec2 = t("./common/Vec2"),
            i.Transform = t("./common/Transform"),
            i.Rot = t("./common/Rot"),
            i.AABB = t("./collision/AABB"),
            i.Shape = t("./Shape"),
            i.Fixture = t("./Fixture"),
            i.Body = t("./Body"),
            i.Contact = t("./Contact"),
            i.Joint = t("./Joint"),
            i.World = t("./World"),
            i.Circle = t("./shape/CircleShape"),
            i.Edge = t("./shape/EdgeShape"),
            i.Polygon = t("./shape/PolygonShape"),
            i.Chain = t("./shape/ChainShape"),
            i.Box = t("./shape/BoxShape"),
            t("./shape/CollideCircle"),
            t("./shape/CollideEdgeCircle"),
            i.internal.CollidePolygons = t("./shape/CollidePolygon"),
            t("./shape/CollideCirclePolygone"),
            t("./shape/CollideEdgePolygon"),
            i.DistanceJoint = t("./joint/DistanceJoint"),
            i.FrictionJoint = t("./joint/FrictionJoint"),
            i.GearJoint = t("./joint/GearJoint"),
            i.MotorJoint = t("./joint/MotorJoint"),
            i.MouseJoint = t("./joint/MouseJoint"),
            i.PrismaticJoint = t("./joint/PrismaticJoint"),
            i.PulleyJoint = t("./joint/PulleyJoint"),
            i.RevoluteJoint = t("./joint/RevoluteJoint"),
            i.RopeJoint = t("./joint/RopeJoint"),
            i.WeldJoint = t("./joint/WeldJoint"),
            i.WheelJoint = t("./joint/WheelJoint"),
            i.internal.Sweep = t("./common/Sweep"),
            i.internal.stats = t("./common/stats"),
            i.internal.Manifold = t("./Manifold"),
            i.internal.Distance = t("./collision/Distance"),
            i.internal.TimeOfImpact = t("./collision/TimeOfImpact"),
            i.internal.DynamicTree = t("./collision/DynamicTree"),
            i.internal.Settings = t("./Settings")
        }
        , {
            "./Body": 2,
            "./Contact": 3,
            "./Fixture": 4,
            "./Joint": 5,
            "./Manifold": 6,
            "./Settings": 7,
            "./Shape": 8,
            "./World": 10,
            "./collision/AABB": 11,
            "./collision/Distance": 13,
            "./collision/DynamicTree": 14,
            "./collision/TimeOfImpact": 15,
            "./common/Math": 18,
            "./common/Rot": 20,
            "./common/Sweep": 21,
            "./common/Transform": 22,
            "./common/Vec2": 23,
            "./common/stats": 26,
            "./joint/DistanceJoint": 27,
            "./joint/FrictionJoint": 28,
            "./joint/GearJoint": 29,
            "./joint/MotorJoint": 30,
            "./joint/MouseJoint": 31,
            "./joint/PrismaticJoint": 32,
            "./joint/PulleyJoint": 33,
            "./joint/RevoluteJoint": 34,
            "./joint/RopeJoint": 35,
            "./joint/WeldJoint": 36,
            "./joint/WheelJoint": 37,
            "./shape/BoxShape": 38,
            "./shape/ChainShape": 39,
            "./shape/CircleShape": 40,
            "./shape/CollideCircle": 41,
            "./shape/CollideCirclePolygone": 42,
            "./shape/CollideEdgeCircle": 43,
            "./shape/CollideEdgePolygon": 44,
            "./shape/CollidePolygon": 45,
            "./shape/EdgeShape": 46,
            "./shape/PolygonShape": 47
        }],
        2: [function(t, e, i) {
            function n(t, e) {
                e = s(e, _),
                this.m_world = t,
                this.m_awakeFlag = e.awake,
                this.m_autoSleepFlag = e.allowSleep,
                this.m_bulletFlag = e.bullet,
                this.m_fixedRotationFlag = e.fixedRotation,
                this.m_activeFlag = e.active,
                this.m_islandFlag = !1,
                this.m_toiFlag = !1,
                this.m_userData = e.userData,
                this.m_type = e.type,
                this.m_type == m ? (this.m_mass = 1,
                this.m_invMass = 1) : (this.m_mass = 0,
                this.m_invMass = 0),
                this.m_I = 0,
                this.m_invI = 0,
                this.m_xf = l.identity(),
                this.m_xf.p = o.clone(e.position),
                this.m_xf.q.setAngle(e.angle),
                this.m_sweep = new h,
                this.m_sweep.setTransform(this.m_xf),
                this.c_velocity = new u,
                this.c_position = new c,
                this.m_force = o.zero(),
                this.m_torque = 0,
                this.m_linearVelocity = o.clone(e.linearVelocity),
                this.m_angularVelocity = e.angularVelocity,
                this.m_linearDamping = e.linearDamping,
                this.m_angularDamping = e.angularDamping,
                this.m_gravityScale = e.gravityScale,
                this.m_sleepTime = 0,
                this.m_jointList = null,
                this.m_contactList = null,
                this.m_fixtureList = null,
                this.m_prev = null,
                this.m_next = null
            }
            function r() {
                this.mass = 0,
                this.center = o.zero(),
                this.I = 0
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var s = (t("./util/common"),
            t("./util/options"))
              , o = t("./common/Vec2")
              , a = t("./common/Rot")
              , h = (t("./common/Math"),
            t("./common/Sweep"))
              , l = t("./common/Transform")
              , u = t("./common/Velocity")
              , c = t("./common/Position")
              , d = t("./Fixture")
              , p = (t("./Shape"),
            t("./World"),
            n.STATIC = "static")
              , f = n.KINEMATIC = "kinematic"
              , m = n.DYNAMIC = "dynamic"
              , _ = {
                type: p,
                position: o.zero(),
                angle: 0,
                linearVelocity: o.zero(),
                angularVelocity: 0,
                linearDamping: 0,
                angularDamping: 0,
                fixedRotation: !1,
                bullet: !1,
                gravityScale: 1,
                allowSleep: !0,
                awake: !0,
                active: !0,
                userData: null
            };
            n.prototype.isWorldLocked = function() {
                return !(!this.m_world || !this.m_world.isLocked())
            }
            ,
            n.prototype.getWorld = function() {
                return this.m_world
            }
            ,
            n.prototype.getNext = function() {
                return this.m_next
            }
            ,
            n.prototype.setUserData = function(t) {
                this.m_userData = t
            }
            ,
            n.prototype.getUserData = function() {
                return this.m_userData
            }
            ,
            n.prototype.getFixtureList = function() {
                return this.m_fixtureList
            }
            ,
            n.prototype.getJointList = function() {
                return this.m_jointList
            }
            ,
            n.prototype.getContactList = function() {
                return this.m_contactList
            }
            ,
            n.prototype.isStatic = function() {
                return this.m_type == p
            }
            ,
            n.prototype.isDynamic = function() {
                return this.m_type == m
            }
            ,
            n.prototype.isKinematic = function() {
                return this.m_type == f
            }
            ,
            n.prototype.setStatic = function() {
                return this.setType(p),
                this
            }
            ,
            n.prototype.setDynamic = function() {
                return this.setType(m),
                this
            }
            ,
            n.prototype.setKinematic = function() {
                return this.setType(f),
                this
            }
            ,
            n.prototype.getType = function() {
                return this.m_type
            }
            ,
            n.prototype.setType = function(t) {
                if (1 != this.isWorldLocked() && this.m_type != t) {
                    this.m_type = t,
                    this.resetMassData(),
                    this.m_type == p && (this.m_linearVelocity.setZero(),
                    this.m_angularVelocity = 0,
                    this.m_sweep.forward(),
                    this.synchronizeFixtures()),
                    this.setAwake(!0),
                    this.m_force.setZero(),
                    this.m_torque = 0;
                    for (var e = this.m_contactList; e; ) {
                        var i = e;
                        e = e.next,
                        this.m_world.destroyContact(i.contact)
                    }
                    this.m_contactList = null;
                    for (var n = this.m_world.m_broadPhase, r = this.m_fixtureList; r; r = r.m_next)
                        for (var s = r.m_proxyCount, o = 0; o < s; ++o)
                            n.touchProxy(r.m_proxies[o].proxyId)
                }
            }
            ,
            n.prototype.isBullet = function() {
                return this.m_bulletFlag
            }
            ,
            n.prototype.setBullet = function(t) {
                this.m_bulletFlag = !!t
            }
            ,
            n.prototype.isSleepingAllowed = function() {
                return this.m_autoSleepFlag
            }
            ,
            n.prototype.setSleepingAllowed = function(t) {
                this.m_autoSleepFlag = !!t,
                0 == this.m_autoSleepFlag && this.setAwake(!0)
            }
            ,
            n.prototype.isAwake = function() {
                return this.m_awakeFlag
            }
            ,
            n.prototype.setAwake = function(t) {
                t ? 0 == this.m_awakeFlag && (this.m_awakeFlag = !0,
                this.m_sleepTime = 0) : (this.m_awakeFlag = !1,
                this.m_sleepTime = 0,
                this.m_linearVelocity.setZero(),
                this.m_angularVelocity = 0,
                this.m_force.setZero(),
                this.m_torque = 0)
            }
            ,
            n.prototype.isActive = function() {
                return this.m_activeFlag
            }
            ,
            n.prototype.setActive = function(t) {
                if (t != this.m_activeFlag)
                    if (this.m_activeFlag = !!t,
                    this.m_activeFlag)
                        for (var e = this.m_world.m_broadPhase, i = this.m_fixtureList; i; i = i.m_next)
                            i.createProxies(e, this.m_xf);
                    else {
                        for (var e = this.m_world.m_broadPhase, i = this.m_fixtureList; i; i = i.m_next)
                            i.destroyProxies(e);
                        for (var n = this.m_contactList; n; ) {
                            var r = n;
                            n = n.next,
                            this.m_world.destroyContact(r.contact)
                        }
                        this.m_contactList = null
                    }
            }
            ,
            n.prototype.isFixedRotation = function() {
                return this.m_fixedRotationFlag
            }
            ,
            n.prototype.setFixedRotation = function(t) {
                this.m_fixedRotationFlag != t && (this.m_fixedRotationFlag = !!t,
                this.m_angularVelocity = 0,
                this.resetMassData())
            }
            ,
            n.prototype.getTransform = function() {
                return this.m_xf
            }
            ,
            n.prototype.setTransform = function(t, e) {
                if (1 != this.isWorldLocked()) {
                    this.m_xf.set(t, e),
                    this.m_sweep.setTransform(this.m_xf);
                    for (var i = this.m_world.m_broadPhase, n = this.m_fixtureList; n; n = n.m_next)
                        n.synchronize(i, this.m_xf, this.m_xf)
                }
            }
            ,
            n.prototype.synchronizeTransform = function() {
                this.m_sweep.getTransform(this.m_xf, 1)
            }
            ,
            n.prototype.synchronizeFixtures = function() {
                var t = l.identity();
                this.m_sweep.getTransform(t, 0);
                for (var e = this.m_world.m_broadPhase, i = this.m_fixtureList; i; i = i.m_next)
                    i.synchronize(e, t, this.m_xf)
            }
            ,
            n.prototype.advance = function(t) {
                this.m_sweep.advance(t),
                this.m_sweep.c.set(this.m_sweep.c0),
                this.m_sweep.a = this.m_sweep.a0,
                this.m_sweep.getTransform(this.m_xf, 1)
            }
            ,
            n.prototype.getPosition = function() {
                return this.m_xf.p
            }
            ,
            n.prototype.setPosition = function(t) {
                this.setTransform(t, this.m_sweep.a)
            }
            ,
            n.prototype.getAngle = function() {
                return this.m_sweep.a
            }
            ,
            n.prototype.setAngle = function(t) {
                this.setTransform(this.m_xf.p, t)
            }
            ,
            n.prototype.getWorldCenter = function() {
                return this.m_sweep.c
            }
            ,
            n.prototype.getLocalCenter = function() {
                return this.m_sweep.localCenter
            }
            ,
            n.prototype.getLinearVelocity = function() {
                return this.m_linearVelocity
            }
            ,
            n.prototype.getLinearVelocityFromWorldPoint = function(t) {
                var e = o.sub(t, this.m_sweep.c);
                return o.add(this.m_linearVelocity, o.cross(this.m_angularVelocity, e))
            }
            ,
            n.prototype.getLinearVelocityFromLocalPoint = function(t) {
                return this.getLinearVelocityFromWorldPoint(this.getWorldPoint(t))
            }
            ,
            n.prototype.setLinearVelocity = function(t) {
                this.m_type != p && (o.dot(t, t) > 0 && this.setAwake(!0),
                this.m_linearVelocity.set(t))
            }
            ,
            n.prototype.getAngularVelocity = function() {
                return this.m_angularVelocity
            }
            ,
            n.prototype.setAngularVelocity = function(t) {
                this.m_type != p && (t * t > 0 && this.setAwake(!0),
                this.m_angularVelocity = t)
            }
            ,
            n.prototype.getLinearDamping = function() {
                return this.m_linearDamping
            }
            ,
            n.prototype.setLinearDamping = function(t) {
                this.m_linearDamping = t
            }
            ,
            n.prototype.getAngularDamping = function() {
                return this.m_angularDamping
            }
            ,
            n.prototype.setAngularDamping = function(t) {
                this.m_angularDamping = t
            }
            ,
            n.prototype.getGravityScale = function() {
                return this.m_gravityScale
            }
            ,
            n.prototype.setGravityScale = function(t) {
                this.m_gravityScale = t
            }
            ,
            n.prototype.getMass = function() {
                return this.m_mass
            }
            ,
            n.prototype.getInertia = function() {
                return this.m_I + this.m_mass * o.dot(this.m_sweep.localCenter, this.m_sweep.localCenter)
            }
            ,
            n.prototype.getMassData = function(t) {
                t.mass = this.m_mass,
                t.I = this.getInertia(),
                t.center.set(this.m_sweep.localCenter)
            }
            ,
            n.prototype.resetMassData = function() {
                if (this.m_mass = 0,
                this.m_invMass = 0,
                this.m_I = 0,
                this.m_invI = 0,
                this.m_sweep.localCenter.setZero(),
                this.isStatic() || this.isKinematic())
                    return this.m_sweep.c0.set(this.m_xf.p),
                    this.m_sweep.c.set(this.m_xf.p),
                    void (this.m_sweep.a0 = this.m_sweep.a);
                for (var t = o.zero(), e = this.m_fixtureList; e; e = e.m_next)
                    if (0 != e.m_density) {
                        var i = new r;
                        e.getMassData(i),
                        this.m_mass += i.mass,
                        t.wAdd(i.mass, i.center),
                        this.m_I += i.I
                    }
                this.m_mass > 0 ? (this.m_invMass = 1 / this.m_mass,
                t.mul(this.m_invMass)) : (this.m_mass = 1,
                this.m_invMass = 1),
                this.m_I > 0 && 0 == this.m_fixedRotationFlag ? (this.m_I -= this.m_mass * o.dot(t, t),
                this.m_invI = 1 / this.m_I) : (this.m_I = 0,
                this.m_invI = 0);
                var n = o.clone(this.m_sweep.c);
                this.m_sweep.setLocalCenter(t, this.m_xf),
                this.m_linearVelocity.add(o.cross(this.m_angularVelocity, o.sub(this.m_sweep.c, n)))
            }
            ,
            n.prototype.setMassData = function(t) {
                if (1 != this.isWorldLocked() && this.m_type == m) {
                    this.m_invMass = 0,
                    this.m_I = 0,
                    this.m_invI = 0,
                    this.m_mass = t.mass,
                    this.m_mass <= 0 && (this.m_mass = 1),
                    this.m_invMass = 1 / this.m_mass,
                    t.I > 0 && 0 == this.m_fixedRotationFlag && (this.m_I = t.I - this.m_mass * o.dot(t.center, t.center),
                    this.m_invI = 1 / this.m_I);
                    var e = o.clone(this.m_sweep.c);
                    this.m_sweep.setLocalCenter(t.center, this.m_xf),
                    this.m_linearVelocity.add(o.cross(this.m_angularVelocity, o.sub(this.m_sweep.c, e)))
                }
            }
            ,
            n.prototype.applyForce = function(t, e, i) {
                this.m_type == m && (i && 0 == this.m_awakeFlag && this.setAwake(!0),
                this.m_awakeFlag && (this.m_force.add(t),
                this.m_torque += o.cross(o.sub(e, this.m_sweep.c), t)))
            }
            ,
            n.prototype.applyForceToCenter = function(t, e) {
                this.m_type == m && (e && 0 == this.m_awakeFlag && this.setAwake(!0),
                this.m_awakeFlag && this.m_force.add(t))
            }
            ,
            n.prototype.applyTorque = function(t, e) {
                this.m_type == m && (e && 0 == this.m_awakeFlag && this.setAwake(!0),
                this.m_awakeFlag && (this.m_torque += t))
            }
            ,
            n.prototype.applyLinearImpulse = function(t, e, i) {
                this.m_type == m && (i && 0 == this.m_awakeFlag && this.setAwake(!0),
                this.m_awakeFlag && (this.m_linearVelocity.wAdd(this.m_invMass, t),
                this.m_angularVelocity += this.m_invI * o.cross(o.sub(e, this.m_sweep.c), t)))
            }
            ,
            n.prototype.applyAngularImpulse = function(t, e) {
                this.m_type == m && (e && 0 == this.m_awakeFlag && this.setAwake(!0),
                this.m_awakeFlag && (this.m_angularVelocity += this.m_invI * t))
            }
            ,
            n.prototype.shouldCollide = function(t) {
                if (this.m_type != m && t.m_type != m)
                    return !1;
                for (var e = this.m_jointList; e; e = e.next)
                    if (e.other == t && 0 == e.joint.m_collideConnected)
                        return !1;
                return !0
            }
            ,
            n.prototype.createFixture = function(t, e) {
                if (1 == this.isWorldLocked())
                    return null;
                var i = new d(this,t,e);
                if (this.m_activeFlag) {
                    var n = this.m_world.m_broadPhase;
                    i.createProxies(n, this.m_xf)
                }
                return i.m_next = this.m_fixtureList,
                this.m_fixtureList = i,
                i.m_density > 0 && this.resetMassData(),
                this.m_world.m_newFixture = !0,
                i
            }
            ,
            n.prototype.destroyFixture = function(t) {
                if (1 != this.isWorldLocked()) {
                    for (var e = this.m_fixtureList; null != e; ) {
                        if (e == t) {
                            e = t.m_next,
                            !0;
                            break
                        }
                        e = e.m_next
                    }
                    for (var i = this.m_contactList; i; ) {
                        var n = i.contact;
                        i = i.next;
                        var r = n.getFixtureA()
                          , s = n.getFixtureB();
                        t != r && t != s || this.m_world.destroyContact(n)
                    }
                    if (this.m_activeFlag) {
                        var o = this.m_world.m_broadPhase;
                        t.destroyProxies(o)
                    }
                    t.m_body = null,
                    t.m_next = null,
                    this.m_world.publish("remove-fixture", t),
                    this.resetMassData()
                }
            }
            ,
            n.prototype.getWorldPoint = function(t) {
                return l.mul(this.m_xf, t)
            }
            ,
            n.prototype.getWorldVector = function(t) {
                return a.mul(this.m_xf.q, t)
            }
            ,
            n.prototype.getLocalPoint = function(t) {
                return l.mulT(this.m_xf, t)
            }
            ,
            n.prototype.getLocalVector = function(t) {
                return a.mulT(this.m_xf.q, t)
            }
        }
        , {
            "./Fixture": 4,
            "./Shape": 8,
            "./World": 10,
            "./common/Math": 18,
            "./common/Position": 19,
            "./common/Rot": 20,
            "./common/Sweep": 21,
            "./common/Transform": 22,
            "./common/Vec2": 23,
            "./common/Velocity": 25,
            "./util/common": 50,
            "./util/options": 52
        }],
        3: [function(t, e, i) {
            function n(t) {
                this.contact = t,
                this.prev,
                this.next,
                this.other
            }
            function r(t, e, i, r, s) {
                this.m_nodeA = new n(this),
                this.m_nodeB = new n(this),
                this.m_fixtureA = t,
                this.m_fixtureB = i,
                this.m_indexA = e,
                this.m_indexB = r,
                this.m_evaluateFcn = s,
                this.m_manifold = new f,
                this.m_prev = null,
                this.m_next = null,
                this.m_toi = 1,
                this.m_toiCount = 0,
                this.m_toiFlag = !1,
                this.m_friction = o(this.m_fixtureA.m_friction, this.m_fixtureB.m_friction),
                this.m_restitution = a(this.m_fixtureA.m_restitution, this.m_fixtureB.m_restitution),
                this.m_tangentSpeed = 0,
                this.m_enabledFlag = !0,
                this.m_islandFlag = !1,
                this.m_touchingFlag = !1,
                this.m_filterFlag = !1,
                this.m_bulletHitFlag = !1,
                this.v_points = [],
                this.v_normal = l.zero(),
                this.v_normalMass = new c,
                this.v_K = new c,
                this.v_pointCount,
                this.v_tangentSpeed,
                this.v_friction,
                this.v_restitution,
                this.v_invMassA,
                this.v_invMassB,
                this.v_invIA,
                this.v_invIB,
                this.p_localPoints = [],
                this.p_localNormal = l.zero(),
                this.p_localPoint = l.zero(),
                this.p_localCenterA = l.zero(),
                this.p_localCenterB = l.zero(),
                this.p_type,
                this.p_radiusA,
                this.p_radiusB,
                this.p_pointCount,
                this.p_invMassA,
                this.p_invMassB,
                this.p_invIA,
                this.p_invIB
            }
            function s() {
                this.rA = l.zero(),
                this.rB = l.zero(),
                this.normalImpulse = 0,
                this.tangentImpulse = 0,
                this.normalMass = 0,
                this.tangentMass = 0,
                this.velocityBias = 0
            }
            function o(t, e) {
                return h.sqrt(t * e)
            }
            function a(t, e) {
                return t > e ? t : e
            }
            DEBUG = !1,
            ASSERT = !1;
            var h = (t("./util/common"),
            t("./common/Math"))
              , l = t("./common/Vec2")
              , u = t("./common/Transform")
              , c = t("./common/Mat22")
              , d = t("./common/Rot")
              , p = t("./Settings")
              , f = t("./Manifold")
              , m = t("./collision/Distance");
            e.exports = r,
            r.prototype.initConstraint = function(t) {
                var e = this.m_fixtureA
                  , i = this.m_fixtureB
                  , n = e.getShape()
                  , r = i.getShape()
                  , o = e.getBody()
                  , a = i.getBody()
                  , h = this.getManifold()
                  , u = h.pointCount;
                this.v_invMassA = o.m_invMass,
                this.v_invMassB = a.m_invMass,
                this.v_invIA = o.m_invI,
                this.v_invIB = a.m_invI,
                this.v_friction = this.m_friction,
                this.v_restitution = this.m_restitution,
                this.v_tangentSpeed = this.m_tangentSpeed,
                this.v_pointCount = u,
                this.v_K.setZero(),
                this.v_normalMass.setZero(),
                this.p_invMassA = o.m_invMass,
                this.p_invMassB = a.m_invMass,
                this.p_invIA = o.m_invI,
                this.p_invIB = a.m_invI,
                this.p_localCenterA = l.clone(o.m_sweep.localCenter),
                this.p_localCenterB = l.clone(a.m_sweep.localCenter),
                this.p_radiusA = n.m_radius,
                this.p_radiusB = r.m_radius,
                this.p_type = h.type,
                this.p_localNormal = l.clone(h.localNormal),
                this.p_localPoint = l.clone(h.localPoint),
                this.p_pointCount = u;
                for (var c = 0; c < u; ++c) {
                    var d = h.points[c]
                      , p = this.v_points[c] = new s;
                    t.warmStarting ? (p.normalImpulse = t.dtRatio * d.normalImpulse,
                    p.tangentImpulse = t.dtRatio * d.tangentImpulse) : (p.normalImpulse = 0,
                    p.tangentImpulse = 0),
                    p.rA.setZero(),
                    p.rB.setZero(),
                    p.normalMass = 0,
                    p.tangentMass = 0,
                    p.velocityBias = 0,
                    this.p_localPoints[c] = l.clone(d.localPoint)
                }
            }
            ,
            r.prototype.getManifold = function() {
                return this.m_manifold
            }
            ,
            r.prototype.getWorldManifold = function(t) {
                var e = this.m_fixtureA.getBody()
                  , i = this.m_fixtureB.getBody()
                  , n = this.m_fixtureA.getShape()
                  , r = this.m_fixtureB.getShape();
                return this.m_manifold.getWorldManifold(t, e.getTransform(), n.m_radius, i.getTransform(), r.m_radius)
            }
            ,
            r.prototype.setEnabled = function(t) {
                this.m_enabledFlag = !!t
            }
            ,
            r.prototype.isEnabled = function() {
                return this.m_enabledFlag
            }
            ,
            r.prototype.isTouching = function() {
                return this.m_touchingFlag
            }
            ,
            r.prototype.getNext = function() {
                return this.m_next
            }
            ,
            r.prototype.getFixtureA = function() {
                return this.m_fixtureA
            }
            ,
            r.prototype.getFixtureB = function() {
                return this.m_fixtureB
            }
            ,
            r.prototype.getChildIndexA = function() {
                return this.m_indexA
            }
            ,
            r.prototype.getChildIndexB = function() {
                return this.m_indexB
            }
            ,
            r.prototype.flagForFiltering = function() {
                this.m_filterFlag = !0
            }
            ,
            r.prototype.setFriction = function(t) {
                this.m_friction = t
            }
            ,
            r.prototype.getFriction = function() {
                return this.m_friction
            }
            ,
            r.prototype.resetFriction = function() {
                this.m_friction = o(this.m_fixtureA.m_friction, this.m_fixtureB.m_friction)
            }
            ,
            r.prototype.setRestitution = function(t) {
                this.m_restitution = t
            }
            ,
            r.prototype.getRestitution = function() {
                return this.m_restitution
            }
            ,
            r.prototype.resetRestitution = function() {
                this.m_restitution = a(this.m_fixtureA.m_restitution, this.m_fixtureB.m_restitution)
            }
            ,
            r.prototype.setTangentSpeed = function(t) {
                this.m_tangentSpeed = t
            }
            ,
            r.prototype.getTangentSpeed = function() {
                return this.m_tangentSpeed
            }
            ,
            r.prototype.evaluate = function(t, e, i) {
                this.m_evaluateFcn(t, e, this.m_fixtureA, this.m_indexA, i, this.m_fixtureB, this.m_indexB)
            }
            ,
            r.prototype.update = function(t) {
                this.m_enabledFlag = !0;
                var e = !1
                  , i = this.m_touchingFlag
                  , n = this.m_fixtureA.isSensor()
                  , r = this.m_fixtureB.isSensor()
                  , s = n || r
                  , o = this.m_fixtureA.getBody()
                  , a = this.m_fixtureB.getBody()
                  , h = o.getTransform()
                  , l = a.getTransform();
                if (s) {
                    var u = this.m_fixtureA.getShape()
                      , c = this.m_fixtureB.getShape();
                    e = m.testOverlap(u, this.m_indexA, c, this.m_indexB, h, l),
                    this.m_manifold.pointCount = 0
                } else {
                    var d = this.m_manifold;
                    this.m_manifold = new f,
                    this.evaluate(this.m_manifold, h, l),
                    e = this.m_manifold.pointCount > 0;
                    for (var p = 0; p < this.m_manifold.pointCount; ++p) {
                        var _ = this.m_manifold.points[p];
                        _.normalImpulse = 0,
                        _.tangentImpulse = 0;
                        for (var y = 0; y < d.pointCount; ++y) {
                            var v = d.points[y];
                            if (v.id.key == _.id.key) {
                                _.normalImpulse = v.normalImpulse,
                                _.tangentImpulse = v.tangentImpulse;
                                break
                            }
                        }
                    }
                    e != i && (o.setAwake(!0),
                    a.setAwake(!0))
                }
                this.m_touchingFlag = e,
                0 == i && 1 == e && t && t.beginContact(this),
                1 == i && 0 == e && t && t.endContact(this),
                0 == s && e && t && t.preSolve(this, d)
            }
            ,
            r.prototype.solvePositionConstraint = function(t) {
                return this._solvePositionConstraint(t, !1)
            }
            ,
            r.prototype.solvePositionConstraintTOI = function(t, e, i) {
                return this._solvePositionConstraint(t, !0, e, i)
            }
            ,
            r.prototype._solvePositionConstraint = function(t, e, i, n) {
                var r = this.m_fixtureA
                  , s = this.m_fixtureB
                  , o = r.getBody()
                  , a = s.getBody()
                  , c = (o.c_velocity,
                a.c_velocity,
                o.c_position)
                  , m = a.c_position
                  , _ = l.clone(this.p_localCenterA)
                  , y = l.clone(this.p_localCenterB)
                  , v = 0
                  , g = 0;
                e && o != i && o != n || (v = this.p_invMassA,
                g = this.p_invIA);
                var x = 0
                  , b = 0;
                e && a != i && a != n || (x = this.p_invMassB,
                b = this.p_invIB);
                for (var w = l.clone(c.c), T = c.a, A = l.clone(m.c), S = m.a, C = 0, E = 0; E < this.p_pointCount; ++E) {
                    var P = u.identity()
                      , M = u.identity();
                    P.q.set(T),
                    M.q.set(S),
                    P.p = l.sub(w, d.mul(P.q, _)),
                    M.p = l.sub(A, d.mul(M.q, y));
                    var O, I, B;
                    switch (this.p_type) {
                    case f.e_circles:
                        var R = u.mul(P, this.p_localPoint)
                          , k = u.mul(M, this.p_localPoints[0]);
                        O = l.sub(k, R),
                        O.normalize(),
                        I = l.wAdd(.5, R, .5, k),
                        B = l.dot(l.sub(k, R), O) - this.p_radiusA - this.p_radiusB;
                        break;
                    case f.e_faceA:
                        O = d.mul(P.q, this.p_localNormal);
                        var D = u.mul(P, this.p_localPoint)
                          , L = u.mul(M, this.p_localPoints[E]);
                        B = l.dot(l.sub(L, D), O) - this.p_radiusA - this.p_radiusB,
                        I = L;
                        break;
                    case f.e_faceB:
                        O = d.mul(M.q, this.p_localNormal);
                        var D = u.mul(M, this.p_localPoint)
                          , L = u.mul(P, this.p_localPoints[E]);
                        B = l.dot(l.sub(L, D), O) - this.p_radiusA - this.p_radiusB,
                        I = L,
                        O.mul(-1)
                    }
                    var F = l.sub(I, w)
                      , j = l.sub(I, A);
                    C = h.min(C, B);
                    var N = e ? p.toiBaugarte : p.baumgarte
                      , z = p.linearSlop
                      , U = p.maxLinearCorrection
                      , V = h.clamp(N * (B + z), -U, 0)
                      , X = l.cross(F, O)
                      , W = l.cross(j, O)
                      , q = v + x + g * X * X + b * W * W
                      , H = q > 0 ? -V / q : 0
                      , G = l.mul(H, O);
                    w.wSub(v, G),
                    T -= g * l.cross(F, G),
                    A.wAdd(x, G),
                    S += b * l.cross(j, G)
                }
                return c.c.set(w),
                c.a = T,
                m.c.set(A),
                m.a = S,
                C
            }
            ,
            r.prototype.initVelocityConstraint = function(t) {
                var e = this.m_fixtureA
                  , i = this.m_fixtureB
                  , n = e.getBody()
                  , r = i.getBody()
                  , s = n.c_velocity
                  , o = r.c_velocity
                  , a = n.c_position
                  , h = r.c_position
                  , c = this.p_radiusA
                  , f = this.p_radiusB
                  , m = this.getManifold()
                  , _ = this.v_invMassA
                  , y = this.v_invMassB
                  , v = this.v_invIA
                  , g = this.v_invIB
                  , x = l.clone(this.p_localCenterA)
                  , b = l.clone(this.p_localCenterB)
                  , w = l.clone(a.c)
                  , T = a.a
                  , A = l.clone(s.v)
                  , S = s.w
                  , C = l.clone(h.c)
                  , E = h.a
                  , P = l.clone(o.v)
                  , M = o.w
                  , O = u.identity()
                  , I = u.identity();
                O.q.set(T),
                I.q.set(E),
                O.p.wSet(1, w, -1, d.mul(O.q, x)),
                I.p.wSet(1, C, -1, d.mul(I.q, b));
                var B = m.getWorldManifold(null, O, c, I, f);
                this.v_normal.set(B.normal);
                for (var R = 0; R < this.v_pointCount; ++R) {
                    var k = this.v_points[R];
                    k.rA.set(l.sub(B.points[R], w)),
                    k.rB.set(l.sub(B.points[R], C));
                    var D = l.cross(k.rA, this.v_normal)
                      , L = l.cross(k.rB, this.v_normal)
                      , F = _ + y + v * D * D + g * L * L;
                    k.normalMass = F > 0 ? 1 / F : 0;
                    var j = l.cross(this.v_normal, 1)
                      , N = l.cross(k.rA, j)
                      , z = l.cross(k.rB, j)
                      , U = _ + y + v * N * N + g * z * z;
                    k.tangentMass = U > 0 ? 1 / U : 0,
                    k.velocityBias = 0;
                    var V = l.dot(this.v_normal, P) + l.dot(this.v_normal, l.cross(M, k.rB)) - l.dot(this.v_normal, A) - l.dot(this.v_normal, l.cross(S, k.rA));
                    V < -p.velocityThreshold && (k.velocityBias = -this.v_restitution * V)
                }
                if (2 == this.v_pointCount && t.blockSolve) {
                    var X = this.v_points[0]
                      , W = this.v_points[1]
                      , q = l.cross(X.rA, this.v_normal)
                      , H = l.cross(X.rB, this.v_normal)
                      , G = l.cross(W.rA, this.v_normal)
                      , Y = l.cross(W.rB, this.v_normal)
                      , J = _ + y + v * q * q + g * H * H
                      , Q = _ + y + v * G * G + g * Y * Y
                      , Z = _ + y + v * q * G + g * H * Y;
                    J * J < 1e3 * (J * Q - Z * Z) ? (this.v_K.ex.set(J, Z),
                    this.v_K.ey.set(Z, Q),
                    this.v_normalMass.set(this.v_K.getInverse())) : this.v_pointCount = 1
                }
                a.c.set(w),
                a.a = T,
                s.v.set(A),
                s.w = S,
                h.c.set(C),
                h.a = E,
                o.v.set(P),
                o.w = M
            }
            ,
            r.prototype.warmStartConstraint = function(t) {
                for (var e = this.m_fixtureA, i = this.m_fixtureB, n = e.getBody(), r = i.getBody(), s = n.c_velocity, o = r.c_velocity, a = (n.c_position,
                r.c_position,
                this.v_invMassA), h = this.v_invIA, u = this.v_invMassB, c = this.v_invIB, d = l.clone(s.v), p = s.w, f = l.clone(o.v), m = o.w, _ = this.v_normal, y = l.cross(_, 1), v = 0; v < this.v_pointCount; ++v) {
                    var g = this.v_points[v]
                      , x = l.wAdd(g.normalImpulse, _, g.tangentImpulse, y);
                    p -= h * l.cross(g.rA, x),
                    d.wSub(a, x),
                    m += c * l.cross(g.rB, x),
                    f.wAdd(u, x)
                }
                s.v.set(d),
                s.w = p,
                o.v.set(f),
                o.w = m
            }
            ,
            r.prototype.storeConstraintImpulses = function(t) {
                for (var e = this.m_manifold, i = 0; i < this.v_pointCount; ++i)
                    e.points[i].normalImpulse = this.v_points[i].normalImpulse,
                    e.points[i].tangentImpulse = this.v_points[i].tangentImpulse
            }
            ,
            r.prototype.solveVelocityConstraint = function(t) {
                for (var e = this.m_fixtureA.m_body, i = this.m_fixtureB.m_body, n = e.c_velocity, r = (e.c_position,
                i.c_velocity), s = (i.c_position,
                this.v_invMassA), o = this.v_invIA, a = this.v_invMassB, u = this.v_invIB, d = l.clone(n.v), p = n.w, f = l.clone(r.v), m = r.w, _ = this.v_normal, y = l.cross(_, 1), v = this.v_friction, g = 0; g < this.v_pointCount; ++g) {
                    var x = this.v_points[g]
                      , b = l.zero();
                    b.wAdd(1, f, 1, l.cross(m, x.rB)),
                    b.wSub(1, d, 1, l.cross(p, x.rA));
                    var w = l.dot(b, y) - this.v_tangentSpeed
                      , T = x.tangentMass * -w
                      , A = v * x.normalImpulse
                      , S = h.clamp(x.tangentImpulse + T, -A, A);
                    T = S - x.tangentImpulse,
                    x.tangentImpulse = S;
                    var C = l.mul(T, y);
                    d.wSub(s, C),
                    p -= o * l.cross(x.rA, C),
                    f.wAdd(a, C),
                    m += u * l.cross(x.rB, C)
                }
                if (1 == this.v_pointCount || 0 == t.blockSolve)
                    for (var E = 0; E < this.v_pointCount; ++E) {
                        var x = this.v_points[E]
                          , b = l.zero();
                        b.wAdd(1, f, 1, l.cross(m, x.rB)),
                        b.wSub(1, d, 1, l.cross(p, x.rA));
                        var P = l.dot(b, _)
                          , T = -x.normalMass * (P - x.velocityBias)
                          , S = h.max(x.normalImpulse + T, 0);
                        T = S - x.normalImpulse,
                        x.normalImpulse = S;
                        var C = l.mul(T, _);
                        d.wSub(s, C),
                        p -= o * l.cross(x.rA, C),
                        f.wAdd(a, C),
                        m += u * l.cross(x.rB, C)
                    }
                else {
                    var M = this.v_points[0]
                      , O = this.v_points[1]
                      , I = l.neo(M.normalImpulse, O.normalImpulse)
                      , B = l.zero().add(f).add(l.cross(m, M.rB)).sub(d).sub(l.cross(p, M.rA))
                      , R = l.zero().add(f).add(l.cross(m, O.rB)).sub(d).sub(l.cross(p, O.rA))
                      , k = l.dot(B, _)
                      , D = l.dot(R, _)
                      , L = l.neo(k - M.velocityBias, D - O.velocityBias);
                    for (L.sub(c.mul(this.v_K, I)); ; ) {
                        var F = l.neg(c.mul(this.v_normalMass, L));
                        if (F.x >= 0 && F.y >= 0) {
                            var j = l.sub(F, I)
                              , N = l.mul(j.x, _)
                              , z = l.mul(j.y, _);
                            d.wSub(s, N, s, z),
                            p -= o * (l.cross(M.rA, N) + l.cross(O.rA, z)),
                            f.wAdd(a, N, a, z),
                            m += u * (l.cross(M.rB, N) + l.cross(O.rB, z)),
                            M.normalImpulse = F.x,
                            O.normalImpulse = F.y;
                            break
                        }
                        if (F.x = -M.normalMass * L.x,
                        F.y = 0,
                        k = 0,
                        D = this.v_K.ex.y * F.x + L.y,
                        F.x >= 0 && D >= 0) {
                            var j = l.sub(F, I)
                              , N = l.mul(j.x, _)
                              , z = l.mul(j.y, _);
                            if (d.wSub(s, N, s, z),
                            p -= o * (l.cross(M.rA, N) + l.cross(O.rA, z)),
                            f.wAdd(a, N, a, z),
                            m += u * (l.cross(M.rB, N) + l.cross(O.rB, z)),
                            M.normalImpulse = F.x,
                            O.normalImpulse = F.y,
                            !1) {
                                var U = l.add(f, l.cross(m, M.rB))
                                  , V = l.add(d, l.cross(p, M.rA))
                                  , B = l.sub(U, V);
                                k = l.dot(B, _)
                            }
                            break
                        }
                        if (F.x = 0,
                        F.y = -O.normalMass * L.y,
                        k = this.v_K.ey.x * F.y + L.x,
                        D = 0,
                        F.y >= 0 && k >= 0) {
                            var j = l.sub(F, I)
                              , N = l.mul(j.x, _)
                              , z = l.mul(j.y, _);
                            if (d.wSub(s, N, s, z),
                            p -= o * (l.cross(M.rA, N) + l.cross(O.rA, z)),
                            f.wAdd(a, N, a, z),
                            m += u * (l.cross(M.rB, N) + l.cross(O.rB, z)),
                            M.normalImpulse = F.x,
                            O.normalImpulse = F.y,
                            !1) {
                                var X = l.add(f, l.cross(m, O.rB))
                                  , W = l.add(d, l.cross(p, O.rA))
                                  , B = l.sub(X, W);
                                D = l.dot(R, _)
                            }
                            break
                        }
                        if (F.x = 0,
                        F.y = 0,
                        k = L.x,
                        D = L.y,
                        k >= 0 && D >= 0) {
                            var j = l.sub(F, I)
                              , N = l.mul(j.x, _)
                              , z = l.mul(j.y, _);
                            d.wSub(s, N, s, z),
                            p -= o * (l.cross(M.rA, N) + l.cross(O.rA, z)),
                            f.wAdd(a, N, a, z),
                            m += u * (l.cross(M.rB, N) + l.cross(O.rB, z)),
                            M.normalImpulse = F.x,
                            O.normalImpulse = F.y;
                            break
                        }
                        break
                    }
                }
                n.v.set(d),
                n.w = p,
                r.v.set(f),
                r.w = m
            }
            ;
            var _ = [];
            r.addType = function(t, e, i) {
                _[t] = _[t] || {},
                _[t][e] = i
            }
            ,
            r.create = function(t, e, i, n) {
                var s, o, a = t.getType(), h = i.getType();
                if (o = _[a] && _[a][h])
                    s = new r(t,e,i,n,o);
                else {
                    if (!(o = _[h] && _[h][a]))
                        return null;
                    s = new r(i,n,t,e,o)
                }
                t = s.getFixtureA(),
                i = s.getFixtureB(),
                e = s.getChildIndexA(),
                n = s.getChildIndexB();
                var l = t.getBody()
                  , u = i.getBody();
                return s.m_nodeA.contact = s,
                s.m_nodeA.other = u,
                s.m_nodeA.prev = null,
                s.m_nodeA.next = l.m_contactList,
                null != l.m_contactList && (l.m_contactList.prev = s.m_nodeA),
                l.m_contactList = s.m_nodeA,
                s.m_nodeB.contact = s,
                s.m_nodeB.other = l,
                s.m_nodeB.prev = null,
                s.m_nodeB.next = u.m_contactList,
                null != u.m_contactList && (u.m_contactList.prev = s.m_nodeB),
                u.m_contactList = s.m_nodeB,
                0 == t.isSensor() && 0 == i.isSensor() && (l.setAwake(!0),
                u.setAwake(!0)),
                s
            }
            ,
            r.destroy = function(t, e) {
                var i = t.m_fixtureA
                  , n = t.m_fixtureB
                  , r = i.getBody()
                  , s = n.getBody();
                t.isTouching() && e.endContact(t),
                t.m_nodeA.prev && (t.m_nodeA.prev.next = t.m_nodeA.next),
                t.m_nodeA.next && (t.m_nodeA.next.prev = t.m_nodeA.prev),
                t.m_nodeA == r.m_contactList && (r.m_contactList = t.m_nodeA.next),
                t.m_nodeB.prev && (t.m_nodeB.prev.next = t.m_nodeB.next),
                t.m_nodeB.next && (t.m_nodeB.next.prev = t.m_nodeB.prev),
                t.m_nodeB == s.m_contactList && (s.m_contactList = t.m_nodeB.next),
                t.m_manifold.pointCount > 0 && 0 == i.isSensor() && 0 == n.isSensor() && (r.setAwake(!0),
                s.setAwake(!0));
                var o = i.getType()
                  , a = n.getType()
                  , h = _[o][a].destroyFcn;
                "function" == typeof h && h(t)
            }
        }
        , {
            "./Manifold": 6,
            "./Settings": 7,
            "./collision/Distance": 13,
            "./common/Mat22": 16,
            "./common/Math": 18,
            "./common/Rot": 20,
            "./common/Transform": 22,
            "./common/Vec2": 23,
            "./util/common": 50
        }],
        4: [function(t, e, i) {
            function n(t, e) {
                this.aabb = new a,
                this.fixture = t,
                this.childIndex = e,
                this.proxyId
            }
            function r(t, e, i) {
                e.shape ? (i = e,
                e = e.shape) : "number" == typeof i && (i = {
                    density: i
                }),
                i = s(i, h),
                this.m_body = t,
                this.m_friction = i.friction,
                this.m_restitution = i.restitution,
                this.m_density = i.density,
                this.m_isSensor = i.isSensor,
                this.m_filterGroupIndex = i.filterGroupIndex,
                this.m_filterCategoryBits = i.filterCategoryBits,
                this.m_filterMaskBits = i.filterMaskBits,
                this.m_shape = e,
                this.m_next = null,
                this.m_proxies = [],
                this.m_proxyCount = 0;
                for (var r = this.m_shape.getChildCount(), o = 0; o < r; ++o)
                    this.m_proxies[o] = new n(this,o);
                this.m_userData = i.userData
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = r;
            var s = (t("./util/common"),
            t("./util/options"))
              , o = t("./common/Vec2")
              , a = t("./collision/AABB")
              , h = {
                userData: null,
                friction: .2,
                restitution: 0,
                density: 0,
                isSensor: !1,
                filterGroupIndex: 0,
                filterCategoryBits: 1,
                filterMaskBits: 65535
            };
            r.prototype.getType = function() {
                return this.m_shape.getType()
            }
            ,
            r.prototype.getShape = function() {
                return this.m_shape
            }
            ,
            r.prototype.isSensor = function() {
                return this.m_isSensor
            }
            ,
            r.prototype.setSensor = function(t) {
                t != this.m_isSensor && (this.m_body.setAwake(!0),
                this.m_isSensor = t)
            }
            ,
            r.prototype.getUserData = function() {
                return this.m_userData
            }
            ,
            r.prototype.setUserData = function(t) {
                this.m_userData = t
            }
            ,
            r.prototype.getBody = function() {
                return this.m_body
            }
            ,
            r.prototype.getNext = function() {
                return this.m_next
            }
            ,
            r.prototype.getDensity = function() {
                return this.m_density
            }
            ,
            r.prototype.setDensity = function(t) {
                this.m_density = t
            }
            ,
            r.prototype.getFriction = function() {
                return this.m_friction
            }
            ,
            r.prototype.setFriction = function(t) {
                this.m_friction = t
            }
            ,
            r.prototype.getRestitution = function() {
                return this.m_restitution
            }
            ,
            r.prototype.setRestitution = function(t) {
                this.m_restitution = t
            }
            ,
            r.prototype.testPoint = function(t) {
                return this.m_shape.testPoint(this.m_body.getTransform(), t)
            }
            ,
            r.prototype.rayCast = function(t, e, i) {
                return this.m_shape.rayCast(t, e, this.m_body.getTransform(), i)
            }
            ,
            r.prototype.getMassData = function(t) {
                this.m_shape.computeMass(t, this.m_density)
            }
            ,
            r.prototype.getAABB = function(t) {
                return this.m_proxies[t].aabb
            }
            ,
            r.prototype.createProxies = function(t, e) {
                this.m_proxyCount = this.m_shape.getChildCount();
                for (var i = 0; i < this.m_proxyCount; ++i) {
                    var n = this.m_proxies[i];
                    this.m_shape.computeAABB(n.aabb, e, i),
                    n.proxyId = t.createProxy(n.aabb, n)
                }
            }
            ,
            r.prototype.destroyProxies = function(t) {
                for (var e = 0; e < this.m_proxyCount; ++e) {
                    var i = this.m_proxies[e];
                    t.destroyProxy(i.proxyId),
                    i.proxyId = null
                }
                this.m_proxyCount = 0
            }
            ,
            r.prototype.synchronize = function(t, e, i) {
                for (var n = 0; n < this.m_proxyCount; ++n) {
                    var r = this.m_proxies[n]
                      , s = new a
                      , h = new a;
                    this.m_shape.computeAABB(s, e, r.childIndex),
                    this.m_shape.computeAABB(h, i, r.childIndex),
                    r.aabb.combine(s, h);
                    var l = o.sub(i.p, e.p);
                    t.moveProxy(r.proxyId, r.aabb, l)
                }
            }
            ,
            r.prototype.setFilterData = function(t) {
                this.m_filterGroupIndex = t.groupIndex,
                this.m_filterCategoryBits = t.categoryBits,
                this.m_filterMaskBits = t.maskBits,
                this.refilter()
            }
            ,
            r.prototype.getFilterGroupIndex = function() {
                return this.m_filterGroupIndex
            }
            ,
            r.prototype.getFilterCategoryBits = function() {
                return this.m_filterCategoryBits
            }
            ,
            r.prototype.getFilterMaskBits = function() {
                return this.m_filterMaskBits
            }
            ,
            r.prototype.refilter = function() {
                if (null != this.m_body) {
                    for (var t = this.m_body.getContactList(); t; ) {
                        var e = t.contact
                          , i = e.getFixtureA()
                          , n = e.getFixtureB();
                        i != this && n != this || e.flagForFiltering(),
                        t = t.next
                    }
                    var r = this.m_body.getWorld();
                    if (null != r)
                        for (var s = r.m_broadPhase, o = 0; o < this.m_proxyCount; ++o)
                            s.touchProxy(this.m_proxies[o].proxyId)
                }
            }
            ,
            r.prototype.shouldCollide = function(t) {
                return t.m_filterGroupIndex == this.m_filterGroupIndex && 0 != t.m_filterGroupIndex ? t.m_filterGroupIndex > 0 : 0 != (t.m_filterMaskBits & this.m_filterCategoryBits) && 0 != (t.m_filterCategoryBits & this.m_filterMaskBits)
            }
        }
        , {
            "./collision/AABB": 11,
            "./common/Vec2": 23,
            "./util/common": 50,
            "./util/options": 52
        }],
        5: [function(t, e, i) {
            function n() {
                this.other = null,
                this.joint = null,
                this.prev = null,
                this.next = null
            }
            function r(t, e, i) {
                e = t.bodyA || e,
                i = t.bodyB || i,
                this.m_type = "unknown-joint",
                this.m_bodyA = e,
                this.m_bodyB = i,
                this.m_index = 0,
                this.m_collideConnected = !!t.collideConnected,
                this.m_prev = null,
                this.m_next = null,
                this.m_edgeA = new n,
                this.m_edgeB = new n,
                this.m_islandFlag = !1,
                this.m_userData = t.userData
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = r,
            t("./util/common"),
            r.prototype.isActive = function() {
                return this.m_bodyA.isActive() && this.m_bodyB.isActive()
            }
            ,
            r.prototype.getType = function() {
                return this.m_type
            }
            ,
            r.prototype.getBodyA = function() {
                return this.m_bodyA
            }
            ,
            r.prototype.getBodyB = function() {
                return this.m_bodyB
            }
            ,
            r.prototype.getNext = function() {
                return this.m_next
            }
            ,
            r.prototype.getUserData = function() {
                return this.m_userData
            }
            ,
            r.prototype.setUserData = function(t) {
                this.m_userData = t
            }
            ,
            r.prototype.getCollideConnected = function() {
                return this.m_collideConnected
            }
            ,
            r.prototype.getAnchorA = function() {}
            ,
            r.prototype.getAnchorB = function() {}
            ,
            r.prototype.getReactionForce = function(t) {}
            ,
            r.prototype.getReactionTorque = function(t) {}
            ,
            r.prototype.shiftOrigin = function(t) {}
            ,
            r.prototype.initVelocityConstraints = function(t) {}
            ,
            r.prototype.solveVelocityConstraints = function(t) {}
            ,
            r.prototype.solvePositionConstraints = function(t) {}
        }
        , {
            "./util/common": 50
        }],
        6: [function(t, e, i) {
            function n() {
                this.type,
                this.localNormal = c.zero(),
                this.localPoint = c.zero(),
                this.points = [new r, new r],
                this.pointCount = 0
            }
            function r() {
                this.localPoint = c.zero(),
                this.normalImpulse = 0,
                this.tangentImpulse = 0,
                this.id = new s
            }
            function s() {
                this.cf = new o,
                this.key
            }
            function o() {
                this.indexA,
                this.indexB,
                this.typeA,
                this.typeB
            }
            function a() {
                this.normal,
                this.points = [],
                this.separations = []
            }
            function h(t, e, i, n) {
                for (var r = 0; r < i.pointCount; ++r) {
                    var s = i.points[r].id;
                    t[r] = m.removeState;
                    for (var o = 0; o < n.pointCount; ++o)
                        if (n.points[o].id.key == s.key) {
                            t[r] = m.persistState;
                            break
                        }
                }
                for (var r = 0; r < n.pointCount; ++r) {
                    var s = n.points[r].id;
                    e[r] = m.addState;
                    for (var o = 0; o < i.pointCount; ++o)
                        if (i.points[o].id.key == s.key) {
                            e[r] = m.persistState;
                            break
                        }
                }
            }
            function l() {
                this.v = c.zero(),
                this.id = new s
            }
            function u(t, e, i, n, r) {
                var s = 0
                  , a = c.dot(i, e[0].v) - n
                  , h = c.dot(i, e[1].v) - n;
                if (a <= 0 && t[s++].set(e[0]),
                h <= 0 && t[s++].set(e[1]),
                a * h < 0) {
                    var l = a / (a - h);
                    t[s].v.wSet(1 - l, e[0].v, l, e[1].v),
                    t[s].id.cf.indexA = r,
                    t[s].id.cf.indexB = e[0].id.cf.indexB,
                    t[s].id.cf.typeA = o.e_vertex,
                    t[s].id.cf.typeB = o.e_face,
                    ++s
                }
                return s
            }
            DEBUG = !1,
            ASSERT = !1;
            var c = (t("./util/common"),
            t("./common/Vec2"))
              , d = t("./common/Transform")
              , p = t("./common/Math")
              , f = t("./common/Rot");
            e.exports = n,
            e.exports.clipSegmentToLine = u,
            e.exports.clipVertex = l,
            e.exports.getPointStates = h,
            e.exports.PointState = m,
            n.e_circles = 0,
            n.e_faceA = 1,
            n.e_faceB = 2,
            n.e_vertex = 0,
            n.e_face = 1,
            s.prototype.set = function(t) {
                this.key = t.key,
                this.cf.set(t.cf)
            }
            ,
            o.prototype.set = function(t) {
                this.indexA = t.indexA,
                this.indexB = t.indexB,
                this.typeA = t.typeA,
                this.typeB = t.typeB
            }
            ,
            n.prototype.getWorldManifold = function(t, e, i, r, s) {
                if (0 != this.pointCount) {
                    t = t || new a;
                    var o = t.normal
                      , h = t.points
                      , l = t.separations;
                    switch (this.type) {
                    case n.e_circles:
                        o = c.neo(1, 0);
                        var u = d.mul(e, this.localPoint)
                          , m = d.mul(r, this.points[0].localPoint)
                          , _ = c.sub(m, u);
                        c.lengthSquared(_) > p.EPSILON * p.EPSILON && (o.set(_),
                        o.normalize()),
                        h[0] = c.mid(u, m),
                        l[0] = -s - i,
                        h.length = 1,
                        l.length = 1;
                        break;
                    case n.e_faceA:
                        o = f.mul(e.q, this.localNormal);
                        for (var y = d.mul(e, this.localPoint), v = 0; v < this.pointCount; ++v) {
                            var g = d.mul(r, this.points[v].localPoint)
                              , x = c.clone(g).wAdd(i - c.dot(c.sub(g, y), o), o)
                              , b = c.clone(g).wSub(s, o);
                            h[v] = c.mid(x, b),
                            l[v] = c.dot(c.sub(b, x), o)
                        }
                        h.length = this.pointCount,
                        l.length = this.pointCount;
                        break;
                    case n.e_faceB:
                        o = f.mul(r.q, this.localNormal);
                        for (var y = d.mul(r, this.localPoint), v = 0; v < this.pointCount; ++v) {
                            var g = d.mul(e, this.points[v].localPoint)
                              , b = c.zero().wSet(1, g, s - c.dot(c.sub(g, y), o), o)
                              , x = c.zero().wSet(1, g, -i, o);
                            h[v] = c.mid(x, b),
                            l[v] = c.dot(c.sub(x, b), o)
                        }
                        h.length = this.pointCount,
                        l.length = this.pointCount,
                        o.mul(-1)
                    }
                    return t.normal = o,
                    t.points = h,
                    t.separations = l,
                    t
                }
            }
            ;
            var m = {
                nullState: 0,
                addState: 1,
                persistState: 2,
                removeState: 3
            };
            l.prototype.set = function(t) {
                this.v.set(t.v),
                this.id.set(t.id)
            }
        }
        , {
            "./common/Math": 18,
            "./common/Rot": 20,
            "./common/Transform": 22,
            "./common/Vec2": 23,
            "./util/common": 50
        }],
        7: [function(t, e, i) {
            DEBUG = !1,
            ASSERT = !1;
            var n = i;
            n.maxManifoldPoints = 2,
            n.maxPolygonVertices = 12,
            n.aabbExtension = .1,
            n.aabbMultiplier = 2,
            n.linearSlop = .005,
            n.linearSlopSquared = n.linearSlop * n.linearSlop,
            n.angularSlop = 2 / 180 * Math.PI,
            n.polygonRadius = 2 * n.linearSlop,
            n.maxSubSteps = 8,
            n.maxTOIContacts = 32,
            n.maxTOIIterations = 20,
            n.maxDistnceIterations = 20,
            n.velocityThreshold = 1,
            n.maxLinearCorrection = .2,
            n.maxAngularCorrection = 8 / 180 * Math.PI,
            n.maxTranslation = 2,
            n.maxTranslationSquared = n.maxTranslation * n.maxTranslation,
            n.maxRotation = .5 * Math.PI,
            n.maxRotationSquared = n.maxRotation * n.maxRotation,
            n.baumgarte = .2,
            n.toiBaugarte = .75,
            n.timeToSleep = .5,
            n.linearSleepTolerance = .01,
            n.linearSleepToleranceSqr = Math.pow(n.linearSleepTolerance, 2),
            n.angularSleepTolerance = 2 / 180 * Math.PI,
            n.angularSleepToleranceSqr = Math.pow(n.angularSleepTolerance, 2)
        }
        , {}],
        8: [function(t, e, i) {
            function n() {
                this.m_type,
                this.m_radius
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n,
            t("./common/Math"),
            n.isValid = function(t) {
                return !!t
            }
            ,
            n.prototype.getRadius = function() {
                return this.m_radius
            }
            ,
            n.prototype.getType = function() {
                return this.m_type
            }
            ,
            n.prototype._clone = function() {}
            ,
            n.prototype.getChildCount = function() {}
            ,
            n.prototype.testPoint = function(t, e) {}
            ,
            n.prototype.rayCast = function(t, e, i, n) {}
            ,
            n.prototype.computeAABB = function(t, e, i) {}
            ,
            n.prototype.computeMass = function(t, e) {}
            ,
            n.prototype.computeDistanceProxy = function(t) {}
        }
        , {
            "./common/Math": 18
        }],
        9: [function(t, e, i) {
            function n() {
                this.solveInit,
                this.solveVelocity,
                this.solvePosition
            }
            function r(t) {
                this.dt = 0,
                this.inv_dt = 0,
                this.velocityIterations = 0,
                this.positionIterations = 0,
                this.warmStarting = !1,
                this.blockSolve = !0,
                this.inv_dt0 = 0,
                this.dtRatio = 1
            }
            function s(t) {
                this.m_world = t,
                this.m_profile = new n,
                this.m_stack = [],
                this.m_bodies = [],
                this.m_contacts = [],
                this.m_joints = []
            }
            function o() {
                this.normalImpulses = [],
                this.tangentImpulses = []
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = s,
            e.exports.TimeStep = r;
            var a = t("./Settings")
              , h = t("./util/common")
              , l = t("./util/Timer")
              , u = t("./common/Vec2")
              , c = t("./common/Math")
              , d = (t("./Body"),
            t("./Contact"),
            t("./Joint"),
            t("./collision/TimeOfImpact"))
              , p = d.Input
              , f = d.Output
              , m = t("./collision/Distance");
            m.Input,
            m.Output,
            m.Proxy,
            m.Cache,
            r.prototype.reset = function(t) {
                this.dt > 0 && (this.inv_dt0 = this.inv_dt),
                this.dt = t,
                this.inv_dt = 0 == t ? 0 : 1 / t,
                this.dtRatio = t * this.inv_dt0
            }
            ,
            s.prototype.clear = function() {
                this.m_stack.length = 0,
                this.m_bodies.length = 0,
                this.m_contacts.length = 0,
                this.m_joints.length = 0
            }
            ,
            s.prototype.addBody = function(t) {
                this.m_bodies.push(t)
            }
            ,
            s.prototype.addContact = function(t) {
                this.m_contacts.push(t)
            }
            ,
            s.prototype.addJoint = function(t) {
                this.m_joints.push(t)
            }
            ,
            s.prototype.solveWorld = function(t) {
                var e = this.m_world
                  , i = this.m_profile;
                i.solveInit = 0,
                i.solveVelocity = 0,
                i.solvePosition = 0;
                for (var n = e.m_bodyList; n; n = n.m_next)
                    n.m_islandFlag = !1;
                for (var r = e.m_contactList; r; r = r.m_next)
                    r.m_islandFlag = !1;
                for (var s = e.m_jointList; s; s = s.m_next)
                    s.m_islandFlag = !1;
                for (var o = this.m_stack, a = -1, h = e.m_bodyList; h; h = h.m_next)
                    if (a++,
                    !h.m_islandFlag && 0 != h.isAwake() && 0 != h.isActive() && !h.isStatic()) {
                        for (this.clear(),
                        o.push(h),
                        h.m_islandFlag = !0; o.length > 0; ) {
                            var n = o.pop();
                            if (this.addBody(n),
                            n.setAwake(!0),
                            !n.isStatic()) {
                                for (var l = n.m_contactList; l; l = l.next) {
                                    var u = l.contact;
                                    if (!u.m_islandFlag && 0 != u.isEnabled() && 0 != u.isTouching()) {
                                        var c = u.m_fixtureA.m_isSensor
                                          , d = u.m_fixtureB.m_isSensor;
                                        if (!c && !d) {
                                            this.addContact(u),
                                            u.m_islandFlag = !0;
                                            var p = l.other;
                                            p.m_islandFlag || (o.push(p),
                                            p.m_islandFlag = !0)
                                        }
                                    }
                                }
                                for (var f = n.m_jointList; f; f = f.next)
                                    if (1 != f.joint.m_islandFlag) {
                                        var p = f.other;
                                        0 != p.isActive() && (this.addJoint(f.joint),
                                        f.joint.m_islandFlag = !0,
                                        p.m_islandFlag || (o.push(p),
                                        p.m_islandFlag = !0))
                                    }
                            }
                        }
                        this.solveIsland(t);
                        for (var m = 0; m < this.m_bodies.length; ++m) {
                            var n = this.m_bodies[m];
                            n.isStatic() && (n.m_islandFlag = !1)
                        }
                    }
            }
            ,
            s.prototype.solveIsland = function(t) {
                for (var e = this.m_world, i = this.m_profile, n = e.m_gravity, r = e.m_allowSleep, s = l.now(), o = t.dt, d = 0; d < this.m_bodies.length; ++d) {
                    var p = this.m_bodies[d]
                      , f = u.clone(p.m_sweep.c)
                      , m = p.m_sweep.a
                      , _ = u.clone(p.m_linearVelocity)
                      , y = p.m_angularVelocity;
                    p.m_sweep.c0.set(p.m_sweep.c),
                    p.m_sweep.a0 = p.m_sweep.a,
                    p.isDynamic() && (_.wAdd(o * p.m_gravityScale, n),
                    _.wAdd(o * p.m_invMass, p.m_force),
                    y += o * p.m_invI * p.m_torque,
                    _.mul(1 / (1 + o * p.m_linearDamping)),
                    y *= 1 / (1 + o * p.m_angularDamping)),
                    h.debug("A: ", m, f.x, f.y, y, _.x, _.y),
                    p.c_position.c = f,
                    p.c_position.a = m,
                    p.c_velocity.v = _,
                    p.c_velocity.w = y
                }
                s = l.now();
                for (var d = 0; d < this.m_contacts.length; ++d) {
                    var v = this.m_contacts[d];
                    v.initConstraint(t)
                }
                for (var d = 0; d < this.m_contacts.length; ++d) {
                    var v = this.m_contacts[d];
                    v.initVelocityConstraint(t)
                }
                if (t.warmStarting)
                    for (var d = 0; d < this.m_contacts.length; ++d) {
                        var v = this.m_contacts[d];
                        v.warmStartConstraint(t)
                    }
                for (var d = 0; d < this.m_joints.length; ++d) {
                    var g = this.m_joints[d];
                    g.initVelocityConstraints(t)
                }
                i.solveInit = l.diff(s),
                s = l.now();
                for (var d = 0; d < t.velocityIterations; ++d) {
                    for (var x = 0; x < this.m_joints.length; ++x) {
                        var g = this.m_joints[x];
                        g.solveVelocityConstraints(t)
                    }
                    for (var x = 0; x < this.m_contacts.length; ++x) {
                        var v = this.m_contacts[x];
                        v.solveVelocityConstraint(t)
                    }
                }
                for (var d = 0; d < this.m_contacts.length; ++d) {
                    var v = this.m_contacts[d];
                    v.storeConstraintImpulses(t)
                }
                i.solveVelocity = l.diff(s);
                for (var d = 0; d < this.m_bodies.length; ++d) {
                    var p = this.m_bodies[d]
                      , f = u.clone(p.c_position.c)
                      , m = p.c_position.a
                      , _ = u.clone(p.c_velocity.v)
                      , y = p.c_velocity.w
                      , b = u.mul(o, _);
                    if (u.lengthSquared(b) > a.maxTranslationSquared) {
                        var w = a.maxTranslation / b.length();
                        _.mul(w)
                    }
                    var T = o * y;
                    if (T * T > a.maxRotationSquared) {
                        var w = a.maxRotation / c.abs(T);
                        y *= w
                    }
                    f.wAdd(o, _),
                    m += o * y,
                    p.c_position.c.set(f),
                    p.c_position.a = m,
                    p.c_velocity.v.set(_),
                    p.c_velocity.w = y
                }
                s = l.now();
                for (var A = !1, d = 0; d < t.positionIterations; ++d) {
                    for (var S = 0, x = 0; x < this.m_contacts.length; ++x) {
                        var v = this.m_contacts[x]
                          , C = v.solvePositionConstraint(t);
                        S = c.min(S, C)
                    }
                    for (var E = S >= -3 * a.linearSlop, P = !0, x = 0; x < this.m_joints.length; ++x) {
                        var g = this.m_joints[x]
                          , M = g.solvePositionConstraints(t);
                        P = P && M
                    }
                    if (E && P) {
                        A = !0;
                        break
                    }
                }
                for (var d = 0; d < this.m_bodies.length; ++d) {
                    var p = this.m_bodies[d];
                    p.m_sweep.c.set(p.c_position.c),
                    p.m_sweep.a = p.c_position.a,
                    p.m_linearVelocity.set(p.c_velocity.v),
                    p.m_angularVelocity = p.c_velocity.w,
                    p.synchronizeTransform()
                }
                if (i.solvePosition = l.diff(s),
                this.postSolveIsland(),
                r) {
                    for (var O = 1 / 0, I = a.linearSleepToleranceSqr, B = a.angularSleepToleranceSqr, d = 0; d < this.m_bodies.length; ++d) {
                        var p = this.m_bodies[d];
                        p.isStatic() || (0 == p.m_autoSleepFlag || p.m_angularVelocity * p.m_angularVelocity > B || u.lengthSquared(p.m_linearVelocity) > I ? (p.m_sleepTime = 0,
                        O = 0) : (p.m_sleepTime += o,
                        O = c.min(O, p.m_sleepTime)))
                    }
                    if (O >= a.timeToSleep && A)
                        for (var d = 0; d < this.m_bodies.length; ++d) {
                            var p = this.m_bodies[d];
                            p.setAwake(!1)
                        }
                }
            }
            ,
            s.prototype.printBodies = function(t) {
                for (var e = 0; e < this.m_bodies.length; ++e) {
                    var i = this.m_bodies[e];
                    h.debug(t, i.c_position.a, i.c_position.c.x, i.c_position.c.y, i.c_velocity.w, i.c_velocity.v.x, i.c_velocity.v.y)
                }
            }
            ;
            var _ = new r;
            s.prototype.solveWorldTOI = function(t) {
                var e = this.m_world;
                if (this.m_profile,
                e.m_stepComplete) {
                    for (var i = e.m_bodyList; i; i = i.m_next)
                        i.m_islandFlag = !1,
                        i.m_sweep.alpha0 = 0;
                    for (var n = e.m_contactList; n; n = n.m_next)
                        n.m_toiFlag = !1,
                        n.m_islandFlag = !1,
                        n.m_toiCount = 0,
                        n.m_toi = 1
                }
                for (var n; ; ) {
                    for (var r = null, s = 1, n = e.m_contactList; n; n = n.m_next)
                        if (0 != n.isEnabled() && !(n.m_toiCount > a.maxSubSteps)) {
                            var o = 1;
                            if (n.m_toiFlag)
                                o = n.m_toi;
                            else {
                                var h = n.getFixtureA()
                                  , l = n.getFixtureB();
                                if (h.isSensor() || l.isSensor())
                                    continue;
                                var u = h.getBody()
                                  , m = l.getBody()
                                  , y = u.isAwake() && !u.isStatic()
                                  , v = m.isAwake() && !m.isStatic();
                                if (0 == y && 0 == v)
                                    continue;
                                var g = u.isBullet() || !u.isDynamic()
                                  , x = m.isBullet() || !m.isDynamic();
                                if (0 == g && 0 == x)
                                    continue;
                                var b = u.m_sweep.alpha0;
                                u.m_sweep.alpha0 < m.m_sweep.alpha0 ? (b = m.m_sweep.alpha0,
                                u.m_sweep.advance(b)) : m.m_sweep.alpha0 < u.m_sweep.alpha0 && (b = u.m_sweep.alpha0,
                                m.m_sweep.advance(b));
                                var w = n.getChildIndexA()
                                  , T = n.getChildIndexB()
                                  , A = (u.m_sweep,
                                m.m_sweep,
                                new p);
                                A.proxyA.set(h.getShape(), w),
                                A.proxyB.set(l.getShape(), T),
                                A.sweepA.set(u.m_sweep),
                                A.sweepB.set(m.m_sweep),
                                A.tMax = 1;
                                var S = new f;
                                d(S, A);
                                var C = S.t;
                                o = S.state == f.e_touching ? c.min(b + (1 - b) * C, 1) : 1,
                                n.m_toi = o,
                                n.m_toiFlag = !0
                            }
                            o < s && (r = n,
                            s = o)
                        }
                    if (null == r || 1 - 10 * c.EPSILON < s) {
                        e.m_stepComplete = !0;
                        break
                    }
                    var h = r.getFixtureA()
                      , l = r.getFixtureB()
                      , u = h.getBody()
                      , m = l.getBody()
                      , E = u.m_sweep.clone()
                      , P = m.m_sweep.clone();
                    if (u.advance(s),
                    m.advance(s),
                    r.update(e),
                    r.m_toiFlag = !1,
                    ++r.m_toiCount,
                    0 != r.isEnabled() && 0 != r.isTouching()) {
                        u.setAwake(!0),
                        m.setAwake(!0),
                        this.clear(),
                        this.addBody(u),
                        this.addBody(m),
                        this.addContact(r),
                        u.m_islandFlag = !0,
                        m.m_islandFlag = !0,
                        r.m_islandFlag = !0;
                        for (var M = [u, m], O = 0; O < M.length; ++O) {
                            var I = M[O];
                            if (I.isDynamic())
                                for (var B = I.m_contactList; B; B = B.next) {
                                    var R = B.contact;
                                    if (!R.m_islandFlag) {
                                        var k = B.other;
                                        if (!k.isDynamic() || I.isBullet() || k.isBullet()) {
                                            var D = R.m_fixtureA.m_isSensor
                                              , L = R.m_fixtureB.m_isSensor;
                                            if (!D && !L) {
                                                var F = k.m_sweep.clone();
                                                0 == k.m_islandFlag && k.advance(s),
                                                R.update(e),
                                                0 != R.isEnabled() && 0 != R.isTouching() ? (R.m_islandFlag = !0,
                                                this.addContact(R),
                                                k.m_islandFlag || (k.m_islandFlag = !0,
                                                k.isStatic() || k.setAwake(!0),
                                                this.addBody(k))) : (k.m_sweep.set(F),
                                                k.synchronizeTransform())
                                            }
                                        }
                                    }
                                }
                        }
                        _.reset((1 - s) * t.dt),
                        _.dtRatio = 1,
                        _.positionIterations = 20,
                        _.velocityIterations = t.velocityIterations,
                        _.warmStarting = !1,
                        this.solveIslandTOI(_, u, m);
                        for (var O = 0; O < this.m_bodies.length; ++O) {
                            var I = this.m_bodies[O];
                            if (I.m_islandFlag = !1,
                            I.isDynamic()) {
                                I.synchronizeFixtures();
                                for (var B = I.m_contactList; B; B = B.next)
                                    B.contact.m_toiFlag = !1,
                                    B.contact.m_islandFlag = !1
                            }
                        }
                        if (e.findNewContacts(),
                        e.m_subStepping) {
                            e.m_stepComplete = !1;
                            break
                        }
                    } else
                        r.setEnabled(!1),
                        u.m_sweep.set(E),
                        m.m_sweep.set(P),
                        u.synchronizeTransform(),
                        m.synchronizeTransform()
                }
                var i, n
            }
            ,
            s.prototype.solveIslandTOI = function(t, e, i) {
                for (var n = (this.m_world,
                this.m_profile,
                0); n < this.m_bodies.length; ++n) {
                    var r = this.m_bodies[n];
                    r.c_position.c.set(r.m_sweep.c),
                    r.c_position.a = r.m_sweep.a,
                    r.c_velocity.v.set(r.m_linearVelocity),
                    r.c_velocity.w = r.m_angularVelocity
                }
                for (var n = 0; n < this.m_contacts.length; ++n) {
                    var s = this.m_contacts[n];
                    s.initConstraint(t)
                }
                for (var n = 0; n < t.positionIterations; ++n) {
                    for (var o = 0, h = 0; h < this.m_contacts.length; ++h) {
                        var s = this.m_contacts[h]
                          , l = s.solvePositionConstraintTOI(t, e, i);
                        o = c.min(o, l)
                    }
                    if (o >= -1.5 * a.linearSlop)
                        break
                }
                var n, d;
                e.m_sweep.c0.set(e.c_position.c),
                e.m_sweep.a0 = e.c_position.a,
                i.m_sweep.c0.set(i.c_position.c),
                i.m_sweep.a0 = i.c_position.a;
                for (var n = 0; n < this.m_contacts.length; ++n) {
                    var s = this.m_contacts[n];
                    s.initVelocityConstraint(t)
                }
                for (var n = 0; n < t.velocityIterations; ++n)
                    for (var h = 0; h < this.m_contacts.length; ++h) {
                        var s = this.m_contacts[h];
                        s.solveVelocityConstraint(t)
                    }
                for (var p = t.dt, n = 0; n < this.m_bodies.length; ++n) {
                    var r = this.m_bodies[n]
                      , d = u.clone(r.c_position.c)
                      , f = r.c_position.a
                      , m = u.clone(r.c_velocity.v)
                      , _ = r.c_velocity.w
                      , y = u.mul(p, m);
                    if (u.dot(y, y) > a.maxTranslationSquared) {
                        var v = a.maxTranslation / y.length();
                        m.mul(v)
                    }
                    var g = p * _;
                    if (g * g > a.maxRotationSquared) {
                        var v = a.maxRotation / c.abs(g);
                        _ *= v
                    }
                    d.wAdd(p, m),
                    f += p * _,
                    r.c_position.c = d,
                    r.c_position.a = f,
                    r.c_velocity.v = m,
                    r.c_velocity.w = _,
                    r.m_sweep.c = d,
                    r.m_sweep.a = f,
                    r.m_linearVelocity = m,
                    r.m_angularVelocity = _,
                    r.synchronizeTransform()
                }
                this.postSolveIsland()
            }
            ,
            s.prototype.postSolveIsland = function() {
                for (var t = new o, e = 0; e < this.m_contacts.length; ++e) {
                    for (var i = this.m_contacts[e], n = 0; n < i.v_points.length; ++n)
                        t.normalImpulses.push(i.v_points[n].normalImpulse),
                        t.tangentImpulses.push(i.v_points[n].tangentImpulse);
                    this.m_world.postSolve(i, t)
                }
            }
        }
        , {
            "./Body": 2,
            "./Contact": 3,
            "./Joint": 5,
            "./Settings": 7,
            "./collision/Distance": 13,
            "./collision/TimeOfImpact": 15,
            "./common/Math": 18,
            "./common/Vec2": 23,
            "./util/Timer": 49,
            "./util/common": 50
        }],
        10: [function(t, e, i) {
            function n(t) {
                return this instanceof n ? (t && s.isValid(t) && (t = {
                    gravity: t
                }),
                t = r(t, u),
                this.m_solver = new a(this),
                this.m_broadPhase = new o,
                this.m_contactList = null,
                this.m_contactCount = 0,
                this.m_bodyList = null,
                this.m_bodyCount = 0,
                this.m_jointList = null,
                this.m_jointCount = 0,
                this.m_stepComplete = !0,
                this.m_allowSleep = t.allowSleep,
                this.m_gravity = s.clone(t.gravity),
                this.m_clearForces = !0,
                this.m_newFixture = !1,
                this.m_locked = !1,
                this.m_warmStarting = t.warmStarting,
                this.m_continuousPhysics = t.continuousPhysics,
                this.m_subStepping = t.subStepping,
                this.m_blockSolve = t.blockSolve,
                this.m_velocityIterations = t.velocityIterations,
                this.m_positionIterations = t.positionIterations,
                this.m_t = 0,
                this.m_stepCount = 0,
                void (this.addPair = this.createContact.bind(this))) : new n(t)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = t("./util/options")
              , s = (t("./util/common"),
            t("./util/Timer"),
            t("./common/Vec2"))
              , o = t("./collision/BroadPhase")
              , a = t("./Solver")
              , h = t("./Body")
              , l = t("./Contact")
              , u = {
                gravity: s.zero(),
                allowSleep: !0,
                warmStarting: !0,
                continuousPhysics: !0,
                subStepping: !1,
                blockSolve: !0,
                velocityIterations: 8,
                positionIterations: 3
            };
            n.prototype.getBodyList = function() {
                return this.m_bodyList
            }
            ,
            n.prototype.getJointList = function() {
                return this.m_jointList
            }
            ,
            n.prototype.getContactList = function() {
                return this.m_contactList
            }
            ,
            n.prototype.getBodyCount = function() {
                return this.m_bodyCount
            }
            ,
            n.prototype.getJointCount = function() {
                return this.m_jointCount
            }
            ,
            n.prototype.getContactCount = function() {
                return this.m_contactCount
            }
            ,
            n.prototype.setGravity = function(t) {
                this.m_gravity = t
            }
            ,
            n.prototype.getGravity = function() {
                return this.m_gravity
            }
            ,
            n.prototype.isLocked = function() {
                return this.m_locked
            }
            ,
            n.prototype.setAllowSleeping = function(t) {
                if (t != this.m_allowSleep && (this.m_allowSleep = t,
                0 == this.m_allowSleep))
                    for (var e = this.m_bodyList; e; e = e.m_next)
                        e.setAwake(!0)
            }
            ,
            n.prototype.getAllowSleeping = function() {
                return this.m_allowSleep
            }
            ,
            n.prototype.setWarmStarting = function(t) {
                this.m_warmStarting = t
            }
            ,
            n.prototype.getWarmStarting = function() {
                return this.m_warmStarting
            }
            ,
            n.prototype.setContinuousPhysics = function(t) {
                this.m_continuousPhysics = t
            }
            ,
            n.prototype.getContinuousPhysics = function() {
                return this.m_continuousPhysics
            }
            ,
            n.prototype.setSubStepping = function(t) {
                this.m_subStepping = t
            }
            ,
            n.prototype.getSubStepping = function() {
                return this.m_subStepping
            }
            ,
            n.prototype.setAutoClearForces = function(t) {
                this.m_clearForces = t
            }
            ,
            n.prototype.getAutoClearForces = function() {
                return this.m_clearForces
            }
            ,
            n.prototype.clearForces = function() {
                for (var t = this.m_bodyList; t; t = t.getNext())
                    t.m_force.setZero(),
                    t.m_torque = 0
            }
            ,
            n.prototype.queryAABB = function(t, e) {
                var i = this.m_broadPhase;
                this.m_broadPhase.query(t, function(t) {
                    var n = i.getUserData(t);
                    return e(n.fixture)
                })
            }
            ,
            n.prototype.rayCast = function(t, e, i) {
                var n = this.m_broadPhase;
                this.m_broadPhase.rayCast({
                    maxFraction: 1,
                    p1: t,
                    p2: e
                }, function(t, e) {
                    var r = n.getUserData(e)
                      , o = r.fixture
                      , a = r.childIndex
                      , h = {};
                    if (o.rayCast(h, t, a)) {
                        var l = h.fraction
                          , u = s.add(s.mul(1 - l, t.p1), s.mul(l, t.p2));
                        return i(o, u, h.normal, l)
                    }
                    return t.maxFraction
                })
            }
            ,
            n.prototype.getProxyCount = function() {
                return this.m_broadPhase.getProxyCount()
            }
            ,
            n.prototype.getTreeHeight = function() {
                return this.m_broadPhase.getTreeHeight()
            }
            ,
            n.prototype.getTreeBalance = function() {
                return this.m_broadPhase.getTreeBalance()
            }
            ,
            n.prototype.getTreeQuality = function() {
                return this.m_broadPhase.getTreeQuality()
            }
            ,
            n.prototype.shiftOrigin = function(t) {
                if (!this.m_locked) {
                    for (var e = this.m_bodyList; e; e = e.m_next)
                        e.m_xf.p.sub(t),
                        e.m_sweep.c0.sub(t),
                        e.m_sweep.c.sub(t);
                    for (var i = this.m_jointList; i; i = i.m_next)
                        i.shiftOrigin(t);
                    this.m_broadPhase.shiftOrigin(t)
                }
            }
            ,
            n.prototype.createBody = function(t, e) {
                if (this.isLocked())
                    return null;
                t && s.isValid(t) && (t = {
                    position: t,
                    angle: e
                });
                var i = new h(this,t);
                return i.m_prev = null,
                i.m_next = this.m_bodyList,
                this.m_bodyList && (this.m_bodyList.m_prev = i),
                this.m_bodyList = i,
                ++this.m_bodyCount,
                i
            }
            ,
            n.prototype.createDynamicBody = function(t, e) {
                return t ? s.isValid(t) && (t = {
                    position: t,
                    angle: e
                }) : t = {},
                t.type = "dynamic",
                this.createBody(t)
            }
            ,
            n.prototype.createKinematicBody = function(t, e) {
                return t ? s.isValid(t) && (t = {
                    position: t,
                    angle: e
                }) : t = {},
                t.type = "kinematic",
                this.createBody(t)
            }
            ,
            n.prototype.destroyBody = function(t) {
                if (!this.isLocked()) {
                    if (t.m_destroyed)
                        return !1;
                    for (var e = t.m_jointList; e; ) {
                        var i = e;
                        e = e.next,
                        this.publish("remove-joint", i.joint),
                        this.destroyJoint(i.joint),
                        t.m_jointList = e
                    }
                    t.m_jointList = null;
                    for (var n = t.m_contactList; n; ) {
                        var r = n;
                        n = n.next,
                        this.destroyContact(r.contact),
                        t.m_contactList = n
                    }
                    t.m_contactList = null;
                    for (var s = t.m_fixtureList; s; ) {
                        var o = s;
                        s = s.m_next,
                        this.publish("remove-fixture", o),
                        o.destroyProxies(this.m_broadPhase),
                        t.m_fixtureList = s
                    }
                    return t.m_fixtureList = null,
                    t.m_prev && (t.m_prev.m_next = t.m_next),
                    t.m_next && (t.m_next.m_prev = t.m_prev),
                    t == this.m_bodyList && (this.m_bodyList = t.m_next),
                    t.m_destroyed = !0,
                    --this.m_bodyCount,
                    !0
                }
            }
            ,
            n.prototype.createJoint = function(t) {
                if (this.isLocked())
                    return null;
                if (t.m_prev = null,
                t.m_next = this.m_jointList,
                this.m_jointList && (this.m_jointList.m_prev = t),
                this.m_jointList = t,
                ++this.m_jointCount,
                t.m_edgeA.joint = t,
                t.m_edgeA.other = t.m_bodyB,
                t.m_edgeA.prev = null,
                t.m_edgeA.next = t.m_bodyA.m_jointList,
                t.m_bodyA.m_jointList && (t.m_bodyA.m_jointList.prev = t.m_edgeA),
                t.m_bodyA.m_jointList = t.m_edgeA,
                t.m_edgeB.joint = t,
                t.m_edgeB.other = t.m_bodyA,
                t.m_edgeB.prev = null,
                t.m_edgeB.next = t.m_bodyB.m_jointList,
                t.m_bodyB.m_jointList && (t.m_bodyB.m_jointList.prev = t.m_edgeB),
                t.m_bodyB.m_jointList = t.m_edgeB,
                0 == t.m_collideConnected)
                    for (var e = t.m_bodyB.getContactList(); e; e = e.next)
                        e.other == t.m_bodyA && e.contact.flagForFiltering();
                return t
            }
            ,
            n.prototype.destroyJoint = function(t) {
                if (!this.isLocked()) {
                    t.m_prev && (t.m_prev.m_next = t.m_next),
                    t.m_next && (t.m_next.m_prev = t.m_prev),
                    t == this.m_jointList && (this.m_jointList = t.m_next);
                    var e = t.m_bodyA
                      , i = t.m_bodyB;
                    if (e.setAwake(!0),
                    i.setAwake(!0),
                    t.m_edgeA.prev && (t.m_edgeA.prev.next = t.m_edgeA.next),
                    t.m_edgeA.next && (t.m_edgeA.next.prev = t.m_edgeA.prev),
                    t.m_edgeA == e.m_jointList && (e.m_jointList = t.m_edgeA.next),
                    t.m_edgeA.prev = null,
                    t.m_edgeA.next = null,
                    t.m_edgeB.prev && (t.m_edgeB.prev.next = t.m_edgeB.next),
                    t.m_edgeB.next && (t.m_edgeB.next.prev = t.m_edgeB.prev),
                    t.m_edgeB == i.m_jointList && (i.m_jointList = t.m_edgeB.next),
                    t.m_edgeB.prev = null,
                    t.m_edgeB.next = null,
                    --this.m_jointCount,
                    0 == t.m_collideConnected)
                        for (var n = i.getContactList(); n; )
                            n.other == e && n.contact.flagForFiltering(),
                            n = n.next;
                    this.publish("remove-joint", t)
                }
            }
            ;
            var c = new a.TimeStep;
            n.prototype.step = function(t, e, i) {
                if ((0 | e) !== e && (e = 0),
                e = e || this.m_velocityIterations,
                i = i || this.m_positionIterations,
                this.m_stepCount++,
                this.m_newFixture && (this.findNewContacts(),
                this.m_newFixture = !1),
                this.m_locked = !0,
                c.reset(t),
                c.velocityIterations = e,
                c.positionIterations = i,
                c.warmStarting = this.m_warmStarting,
                c.blockSolve = this.m_blockSolve,
                this.updateContacts(),
                this.m_stepComplete && t > 0) {
                    this.m_solver.solveWorld(c);
                    for (var n = this.m_bodyList; n; n = n.getNext())
                        0 != n.m_islandFlag && (n.isStatic() || n.synchronizeFixtures());
                    this.findNewContacts()
                }
                this.m_continuousPhysics && t > 0 && this.m_solver.solveWorldTOI(c),
                this.m_clearForces && this.clearForces(),
                this.m_locked = !1
            }
            ,
            n.prototype.findNewContacts = function() {
                this.m_broadPhase.updatePairs(this.addPair)
            }
            ,
            n.prototype.createContact = function(t, e) {
                var i = t.fixture
                  , n = e.fixture
                  , r = t.childIndex
                  , s = e.childIndex
                  , o = i.getBody()
                  , a = n.getBody();
                if (o != a) {
                    for (var h = a.getContactList(); h; ) {
                        if (h.other == o) {
                            var u = h.contact.getFixtureA()
                              , c = h.contact.getFixtureB()
                              , d = h.contact.getChildIndexA()
                              , p = h.contact.getChildIndexB();
                            if (u == i && c == n && d == r && p == s)
                                return;
                            if (u == n && c == i && d == s && p == r)
                                return
                        }
                        h = h.next
                    }
                    if (0 != a.shouldCollide(o) && 0 != n.shouldCollide(i)) {
                        var f = l.create(i, r, n, s);
                        null != f && (f.m_prev = null,
                        null != this.m_contactList && (f.m_next = this.m_contactList,
                        this.m_contactList.m_prev = f),
                        this.m_contactList = f,
                        ++this.m_contactCount)
                    }
                }
            }
            ,
            n.prototype.updateContacts = function() {
                for (var t, e = this.m_contactList; t = e; ) {
                    e = t.getNext();
                    var i = t.getFixtureA()
                      , n = t.getFixtureB()
                      , r = t.getChildIndexA()
                      , s = t.getChildIndexB()
                      , o = i.getBody()
                      , a = n.getBody();
                    if (t.m_filterFlag) {
                        if (0 == a.shouldCollide(o)) {
                            this.destroyContact(t);
                            continue
                        }
                        if (0 == n.shouldCollide(i)) {
                            this.destroyContact(t);
                            continue
                        }
                        t.m_filterFlag = !1
                    }
                    var h = o.isAwake() && !o.isStatic()
                      , l = a.isAwake() && !a.isStatic();
                    if (0 != h || 0 != l) {
                        var u = i.m_proxies[r].proxyId
                          , c = n.m_proxies[s].proxyId;
                        0 != this.m_broadPhase.testOverlap(u, c) ? t.update(this) : this.destroyContact(t)
                    }
                }
            }
            ,
            n.prototype.destroyContact = function(t) {
                l.destroy(t, this),
                t.m_prev && (t.m_prev.m_next = t.m_next),
                t.m_next && (t.m_next.m_prev = t.m_prev),
                t == this.m_contactList && (this.m_contactList = t.m_next),
                --this.m_contactCount
            }
            ,
            n.prototype._listeners = null,
            n.prototype.on = function(t, e) {
                return "string" != typeof t || "function" != typeof e ? this : (this._listeners || (this._listeners = {}),
                this._listeners[t] || (this._listeners[t] = []),
                this._listeners[t].push(e),
                this)
            }
            ,
            n.prototype.off = function(t, e) {
                if ("string" != typeof t || "function" != typeof e)
                    return this;
                var i = this._listeners && this._listeners[t];
                if (!i || !i.length)
                    return this;
                var n = i.indexOf(e);
                return n >= 0 && i.splice(n, 1),
                this
            }
            ,
            n.prototype.publish = function(t, e, i, n) {
                var r = this._listeners && this._listeners[t];
                if (!r || !r.length)
                    return 0;
                for (var s = 0; s < r.length; s++)
                    r[s].call(this, e, i, n);
                return r.length
            }
            ,
            n.prototype.beginContact = function(t) {
                this.publish("begin-contact", t)
            }
            ,
            n.prototype.endContact = function(t) {
                this.publish("end-contact", t)
            }
            ,
            n.prototype.preSolve = function(t, e) {
                this.publish("pre-solve", t, e)
            }
            ,
            n.prototype.postSolve = function(t, e) {
                this.publish("post-solve", t, e)
            }
        }
        , {
            "./Body": 2,
            "./Contact": 3,
            "./Solver": 9,
            "./collision/BroadPhase": 12,
            "./common/Vec2": 23,
            "./util/Timer": 49,
            "./util/common": 50,
            "./util/options": 52
        }],
        11: [function(t, e, i) {
            function n(t, e) {
                return this instanceof n ? (this.lowerBound = s.zero(),
                this.upperBound = s.zero(),
                "object" == typeof t && this.lowerBound.set(t),
                void ("object" == typeof e && this.upperBound.set(e))) : new n(t,e)
            }
            DEBUG = !1,
            ASSERT = !1;
            var r = (t("../Settings"),
            t("../common/Math"))
              , s = t("../common/Vec2");
            e.exports = n,
            n.prototype.isValid = function() {
                return n.isValid(this)
            }
            ,
            n.isValid = function(t) {
                var e = s.sub(t.upperBound, t.lowerBound);
                return e.x >= 0 && e.y >= 0 && s.isValid(t.lowerBound) && s.isValid(t.upperBound)
            }
            ,
            n.prototype.getCenter = function() {
                return s.neo(.5 * (this.lowerBound.x + this.upperBound.x), .5 * (this.lowerBound.y + this.upperBound.y))
            }
            ,
            n.prototype.getExtents = function() {
                return s.neo(.5 * (this.upperBound.x - this.lowerBound.x), .5 * (this.upperBound.y - this.lowerBound.y))
            }
            ,
            n.prototype.getPerimeter = function() {
                return 2 * (this.upperBound.x - this.lowerBound.x + this.upperBound.y - this.lowerBound.y)
            }
            ,
            n.prototype.combine = function(t, e) {
                e = e || this,
                this.lowerBound.set(r.min(t.lowerBound.x, e.lowerBound.x), r.min(t.lowerBound.y, e.lowerBound.y)),
                this.upperBound.set(r.max(t.upperBound.x, e.upperBound.x), r.max(t.upperBound.y, e.upperBound.y))
            }
            ,
            n.prototype.combinePoints = function(t, e) {
                this.lowerBound.set(r.min(t.x, e.x), r.min(t.y, e.y)),
                this.upperBound.set(r.max(t.x, e.x), r.max(t.y, e.y))
            }
            ,
            n.prototype.set = function(t) {
                this.lowerBound.set(t.lowerBound.x, t.lowerBound.y),
                this.upperBound.set(t.upperBound.x, t.upperBound.y)
            }
            ,
            n.prototype.contains = function(t) {
                var e = !0;
                return e = e && this.lowerBound.x <= t.lowerBound.x,
                e = e && this.lowerBound.y <= t.lowerBound.y,
                e = e && t.upperBound.x <= this.upperBound.x,
                e = e && t.upperBound.y <= this.upperBound.y
            }
            ,
            n.prototype.extend = function(t) {
                n.extend(this, t)
            }
            ,
            n.extend = function(t, e) {
                t.lowerBound.x -= e,
                t.lowerBound.y -= e,
                t.upperBound.x += e,
                t.upperBound.y += e
            }
            ,
            n.testOverlap = function(t, e) {
                var i = e.lowerBound.x - t.upperBound.x
                  , n = t.lowerBound.x - e.upperBound.x
                  , r = e.lowerBound.y - t.upperBound.y
                  , s = t.lowerBound.y - e.upperBound.y;
                return !(i > 0 || r > 0 || n > 0 || s > 0)
            }
            ,
            n.areEqual = function(t, e) {
                return s.areEqual(t.lowerBound, e.lowerBound) && s.areEqual(t.upperBound, e.upperBound)
            }
            ,
            n.diff = function(t, e) {
                var i = r.max(0, r.min(t.upperBound.x, e.upperBound.x) - r.max(e.lowerBound.x, t.lowerBound.x))
                  , n = r.max(0, r.min(t.upperBound.y, e.upperBound.y) - r.max(e.lowerBound.y, t.lowerBound.y))
                  , s = t.upperBound.x - t.lowerBound.x
                  , o = t.upperBound.y - t.lowerBound.y
                  , a = e.upperBound.y - e.lowerBound.y
                  , a = e.upperBound.y - e.lowerBound.y;
                return s * o + wB * a - i * n
            }
            ,
            n.prototype.rayCast = function(t, e) {
                for (var i = -1 / 0, n = 1 / 0, o = e.p1, a = s.sub(e.p2, e.p1), h = s.abs(a), l = s.zero(), u = "x"; null !== u; u = "x" === u ? "y" : null)
                    if (h.x < r.EPSILON) {
                        if (o[u] < this.lowerBound[u] || this.upperBound[u] < o[u])
                            return !1
                    } else {
                        var c = 1 / a[u]
                          , d = (this.lowerBound[u] - o[u]) * c
                          , p = (this.upperBound[u] - o[u]) * c
                          , f = -1;
                        if (d > p) {
                            var m = d;
                            d = p,
                            p = m,
                            f = 1
                        }
                        if (d > i && (l.setZero(),
                        l[u] = f,
                        i = d),
                        n = r.min(n, p),
                        i > n)
                            return !1
                    }
                return !(i < 0 || e.maxFraction < i || (t.fraction = i,
                t.normal = l,
                0))
            }
            ,
            n.prototype.toString = function() {
                return JSON.stringify(this)
            }
        }
        , {
            "../Settings": 7,
            "../common/Math": 18,
            "../common/Vec2": 23
        }],
        12: [function(t, e, i) {
            function n() {
                this.m_tree = new o,
                this.m_proxyCount = 0,
                this.m_moveBuffer = [],
                this.queryCallback = this.queryCallback.bind(this)
            }
            DEBUG = !1,
            ASSERT = !1;
            var r = (t("../Settings"),
            t("../util/common"),
            t("../common/Math"))
              , s = t("./AABB")
              , o = t("./DynamicTree");
            e.exports = n,
            n.prototype.getUserData = function(t) {
                return this.m_tree.getUserData(t)
            }
            ,
            n.prototype.testOverlap = function(t, e) {
                var i = this.m_tree.getFatAABB(t)
                  , n = this.m_tree.getFatAABB(e);
                return s.testOverlap(i, n)
            }
            ,
            n.prototype.getFatAABB = function(t) {
                return this.m_tree.getFatAABB(t)
            }
            ,
            n.prototype.getProxyCount = function() {
                return this.m_proxyCount
            }
            ,
            n.prototype.getTreeHeight = function() {
                return this.m_tree.getHeight()
            }
            ,
            n.prototype.getTreeBalance = function() {
                return this.m_tree.getMaxBalance()
            }
            ,
            n.prototype.getTreeQuality = function() {
                return this.m_tree.getAreaRatio()
            }
            ,
            n.prototype.query = function(t, e) {
                this.m_tree.query(t, e)
            }
            ,
            n.prototype.rayCast = function(t, e) {
                this.m_tree.rayCast(t, e)
            }
            ,
            n.prototype.shiftOrigin = function(t) {
                this.m_tree.shiftOrigin(t)
            }
            ,
            n.prototype.createProxy = function(t, e) {
                var i = this.m_tree.createProxy(t, e);
                return this.m_proxyCount++,
                this.bufferMove(i),
                i
            }
            ,
            n.prototype.destroyProxy = function(t) {
                this.unbufferMove(t),
                this.m_proxyCount--,
                this.m_tree.destroyProxy(t)
            }
            ,
            n.prototype.moveProxy = function(t, e, i) {
                this.m_tree.moveProxy(t, e, i) && this.bufferMove(t)
            }
            ,
            n.prototype.touchProxy = function(t) {
                this.bufferMove(t)
            }
            ,
            n.prototype.bufferMove = function(t) {
                this.m_moveBuffer.push(t)
            }
            ,
            n.prototype.unbufferMove = function(t) {
                for (var e = 0; e < this.m_moveBuffer.length; ++e)
                    this.m_moveBuffer[e] == t && (this.m_moveBuffer[e] = null)
            }
            ,
            n.prototype.updatePairs = function(t) {
                for (this.m_callback = t; this.m_moveBuffer.length > 0; )
                    if (this.m_queryProxyId = this.m_moveBuffer.pop(),
                    null !== this.m_queryProxyId) {
                        var e = this.m_tree.getFatAABB(this.m_queryProxyId);
                        this.m_tree.query(e, this.queryCallback)
                    }
            }
            ,
            n.prototype.queryCallback = function(t) {
                if (t == this.m_queryProxyId)
                    return !0;
                var e = r.min(t, this.m_queryProxyId)
                  , i = r.max(t, this.m_queryProxyId)
                  , n = this.m_tree.getUserData(e)
                  , s = this.m_tree.getUserData(i);
                return this.m_callback(n, s),
                !0
            }
        }
        , {
            "../Settings": 7,
            "../common/Math": 18,
            "../util/common": 50,
            "./AABB": 11,
            "./DynamicTree": 14
        }],
        13: [function(t, e, i) {
            function n() {
                this.proxyA = new a,
                this.proxyB = new a,
                this.transformA = null,
                this.transformB = null,
                this.useRadii = !1
            }
            function r() {
                this.pointA = p.zero(),
                this.pointB = p.zero(),
                this.distance,
                this.iterations
            }
            function s() {
                this.metric = 0,
                this.indexA = [],
                this.indexB = [],
                this.count = 0
            }
            function o(t, e, i) {
                ++c.gjkCalls;
                var n = i.proxyA
                  , r = i.proxyB
                  , s = i.transformA
                  , o = i.transformB
                  , a = new l;
                a.readCache(e, n, s, r, o);
                for (var h = a.m_v, _ = u.maxDistnceIterations, y = [], v = [], g = 0, x = 1 / 0, b = 0; b < _; ) {
                    g = a.m_count;
                    for (var w = 0; w < g; ++w)
                        y[w] = h[w].indexA,
                        v[w] = h[w].indexB;
                    if (a.solve(),
                    3 == a.m_count)
                        break;
                    var T = a.getClosestPoint();
                    x = T.lengthSquared(),
                    x;
                    var A = a.getSearchDirection();
                    if (A.lengthSquared() < d.EPSILON * d.EPSILON)
                        break;
                    var S = h[a.m_count];
                    S.indexA = n.getSupport(f.mulT(s.q, p.neg(A))),
                    S.wA = m.mul(s, n.getVertex(S.indexA)),
                    S.indexB = r.getSupport(f.mulT(o.q, A)),
                    S.wB = m.mul(o, r.getVertex(S.indexB)),
                    S.w = p.sub(S.wB, S.wA),
                    ++b,
                    ++c.gjkIters;
                    for (var C = !1, w = 0; w < g; ++w)
                        if (S.indexA == y[w] && S.indexB == v[w]) {
                            C = !0;
                            break
                        }
                    if (C)
                        break;
                    ++a.m_count
                }
                if (c.gjkMaxIters = d.max(c.gjkMaxIters, b),
                a.getWitnessPoints(t.pointA, t.pointB),
                t.distance = p.distance(t.pointA, t.pointB),
                t.iterations = b,
                a.writeCache(e),
                i.useRadii) {
                    var E = n.m_radius
                      , P = r.m_radius;
                    if (t.distance > E + P && t.distance > d.EPSILON) {
                        t.distance -= E + P;
                        var M = p.sub(t.pointB, t.pointA);
                        M.normalize(),
                        t.pointA.wAdd(E, M),
                        t.pointB.wSub(P, M)
                    } else {
                        var T = p.mid(t.pointA, t.pointB);
                        t.pointA.set(T),
                        t.pointB.set(T),
                        t.distance = 0
                    }
                }
            }
            function a() {
                this.m_buffer = [],
                this.m_vertices = [],
                this.m_count = 0,
                this.m_radius = 0
            }
            function h() {
                this.indexA,
                this.indexB,
                this.wA = p.zero(),
                this.wB = p.zero(),
                this.w = p.zero(),
                this.a
            }
            function l() {
                this.m_v1 = new h,
                this.m_v2 = new h,
                this.m_v3 = new h,
                this.m_v = [this.m_v1, this.m_v2, this.m_v3],
                this.m_count
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = o,
            e.exports.Input = n,
            e.exports.Output = r,
            e.exports.Proxy = a,
            e.exports.Cache = s;
            var u = t("../Settings")
              , c = (t("../util/common"),
            t("../util/Timer"),
            t("../common/stats"))
              , d = t("../common/Math")
              , p = t("../common/Vec2")
              , f = (t("../common/Vec3"),
            t("../common/Mat22"),
            t("../common/Mat33"),
            t("../common/Rot"))
              , m = (t("../common/Sweep"),
            t("../common/Transform"));
            t("../common/Velocity"),
            t("../common/Position"),
            c.gjkCalls = 0,
            c.gjkIters = 0,
            c.gjkMaxIters = 0,
            a.prototype.getVertexCount = function() {
                return this.m_count
            }
            ,
            a.prototype.getVertex = function(t) {
                return this.m_vertices[t]
            }
            ,
            a.prototype.getSupport = function(t) {
                for (var e = 0, i = p.dot(this.m_vertices[0], t), n = 0; n < this.m_count; ++n) {
                    var r = p.dot(this.m_vertices[n], t);
                    r > i && (e = n,
                    i = r)
                }
                return e
            }
            ,
            a.prototype.getSupportVertex = function(t) {
                return this.m_vertices[this.getSupport(t)]
            }
            ,
            a.prototype.set = function(t, e) {
                t.computeDistanceProxy(this, e)
            }
            ,
            h.prototype.set = function(t) {
                this.indexA = t.indexA,
                this.indexB = t.indexB,
                this.wA = p.clone(t.wA),
                this.wB = p.clone(t.wB),
                this.w = p.clone(t.w),
                this.a = t.a
            }
            ,
            l.prototype.print = function() {
                return 3 == this.m_count ? ["+" + this.m_count, this.m_v1.a, this.m_v1.wA.x, this.m_v1.wA.y, this.m_v1.wB.x, this.m_v1.wB.y, this.m_v2.a, this.m_v2.wA.x, this.m_v2.wA.y, this.m_v2.wB.x, this.m_v2.wB.y, this.m_v3.a, this.m_v3.wA.x, this.m_v3.wA.y, this.m_v3.wB.x, this.m_v3.wB.y].toString() : 2 == this.m_count ? ["+" + this.m_count, this.m_v1.a, this.m_v1.wA.x, this.m_v1.wA.y, this.m_v1.wB.x, this.m_v1.wB.y, this.m_v2.a, this.m_v2.wA.x, this.m_v2.wA.y, this.m_v2.wB.x, this.m_v2.wB.y].toString() : 1 == this.m_count ? ["+" + this.m_count, this.m_v1.a, this.m_v1.wA.x, this.m_v1.wA.y, this.m_v1.wB.x, this.m_v1.wB.y].toString() : "+" + this.m_count
            }
            ,
            l.prototype.readCache = function(t, e, i, n, r) {
                this.m_count = t.count;
                for (var s = 0; s < this.m_count; ++s) {
                    var o = this.m_v[s];
                    o.indexA = t.indexA[s],
                    o.indexB = t.indexB[s];
                    var a = e.getVertex(o.indexA)
                      , h = n.getVertex(o.indexB);
                    o.wA = m.mul(i, a),
                    o.wB = m.mul(r, h),
                    o.w = p.sub(o.wB, o.wA),
                    o.a = 0
                }
                if (this.m_count > 1) {
                    var l = t.metric
                      , u = this.getMetric();
                    (u < .5 * l || 2 * l < u || u < d.EPSILON) && (this.m_count = 0)
                }
                if (0 == this.m_count) {
                    var o = this.m_v[0];
                    o.indexA = 0,
                    o.indexB = 0;
                    var a = e.getVertex(0)
                      , h = n.getVertex(0);
                    o.wA = m.mul(i, a),
                    o.wB = m.mul(r, h),
                    o.w = p.sub(o.wB, o.wA),
                    o.a = 1,
                    this.m_count = 1
                }
            }
            ,
            l.prototype.writeCache = function(t) {
                t.metric = this.getMetric(),
                t.count = this.m_count;
                for (var e = 0; e < this.m_count; ++e)
                    t.indexA[e] = this.m_v[e].indexA,
                    t.indexB[e] = this.m_v[e].indexB
            }
            ,
            l.prototype.getSearchDirection = function() {
                switch (this.m_count) {
                case 1:
                    return p.neg(this.m_v1.w);
                case 2:
                    var t = p.sub(this.m_v2.w, this.m_v1.w);
                    return p.cross(t, p.neg(this.m_v1.w)) > 0 ? p.cross(1, t) : p.cross(t, 1);
                default:
                    return p.zero()
                }
            }
            ,
            l.prototype.getClosestPoint = function() {
                switch (this.m_count) {
                case 0:
                    return p.zero();
                case 1:
                    return p.clone(this.m_v1.w);
                case 2:
                    return p.wAdd(this.m_v1.a, this.m_v1.w, this.m_v2.a, this.m_v2.w);
                case 3:
                default:
                    return p.zero()
                }
            }
            ,
            l.prototype.getWitnessPoints = function(t, e) {
                switch (this.m_count) {
                case 0:
                    break;
                case 1:
                    t.set(this.m_v1.wA),
                    e.set(this.m_v1.wB);
                    break;
                case 2:
                    t.wSet(this.m_v1.a, this.m_v1.wA, this.m_v2.a, this.m_v2.wA),
                    e.wSet(this.m_v1.a, this.m_v1.wB, this.m_v2.a, this.m_v2.wB);
                    break;
                case 3:
                    t.wSet(this.m_v1.a, this.m_v1.wA, this.m_v2.a, this.m_v2.wA),
                    t.wAdd(this.m_v3.a, this.m_v3.wA),
                    e.set(t)
                }
            }
            ,
            l.prototype.getMetric = function() {
                switch (this.m_count) {
                case 0:
                case 1:
                    return 0;
                case 2:
                    return p.distance(this.m_v1.w, this.m_v2.w);
                case 3:
                    return p.cross(p.sub(this.m_v2.w, this.m_v1.w), p.sub(this.m_v3.w, this.m_v1.w));
                default:
                    return 0
                }
            }
            ,
            l.prototype.solve = function() {
                switch (this.m_count) {
                case 1:
                    break;
                case 2:
                    this.solve2();
                    break;
                case 3:
                    this.solve3()
                }
            }
            ,
            l.prototype.solve2 = function() {
                var t = this.m_v1.w
                  , e = this.m_v2.w
                  , i = p.sub(e, t)
                  , n = -p.dot(t, i);
                if (n <= 0)
                    return this.m_v1.a = 1,
                    void (this.m_count = 1);
                var r = p.dot(e, i);
                if (r <= 0)
                    return this.m_v2.a = 1,
                    this.m_count = 1,
                    void this.m_v1.set(this.m_v2);
                var s = 1 / (r + n);
                this.m_v1.a = r * s,
                this.m_v2.a = n * s,
                this.m_count = 2
            }
            ,
            l.prototype.solve3 = function() {
                var t = this.m_v1.w
                  , e = this.m_v2.w
                  , i = this.m_v3.w
                  , n = p.sub(e, t)
                  , r = p.dot(t, n)
                  , s = p.dot(e, n)
                  , o = s
                  , a = -r
                  , h = p.sub(i, t)
                  , l = p.dot(t, h)
                  , u = p.dot(i, h)
                  , c = u
                  , d = -l
                  , f = p.sub(i, e)
                  , m = p.dot(e, f)
                  , _ = p.dot(i, f)
                  , y = _
                  , v = -m
                  , g = p.cross(n, h)
                  , x = g * p.cross(e, i)
                  , b = g * p.cross(i, t)
                  , w = g * p.cross(t, e);
                if (a <= 0 && d <= 0)
                    return this.m_v1.a = 1,
                    void (this.m_count = 1);
                if (o > 0 && a > 0 && w <= 0) {
                    var T = 1 / (o + a);
                    return this.m_v1.a = o * T,
                    this.m_v2.a = a * T,
                    void (this.m_count = 2)
                }
                if (c > 0 && d > 0 && b <= 0) {
                    var A = 1 / (c + d);
                    return this.m_v1.a = c * A,
                    this.m_v3.a = d * A,
                    this.m_count = 2,
                    void this.m_v2.set(this.m_v3)
                }
                if (o <= 0 && v <= 0)
                    return this.m_v2.a = 1,
                    this.m_count = 1,
                    void this.m_v1.set(this.m_v2);
                if (c <= 0 && y <= 0)
                    return this.m_v3.a = 1,
                    this.m_count = 1,
                    void this.m_v1.set(this.m_v3);
                if (y > 0 && v > 0 && x <= 0) {
                    var S = 1 / (y + v);
                    return this.m_v2.a = y * S,
                    this.m_v3.a = v * S,
                    this.m_count = 2,
                    void this.m_v1.set(this.m_v3)
                }
                var C = 1 / (x + b + w);
                this.m_v1.a = x * C,
                this.m_v2.a = b * C,
                this.m_v3.a = w * C,
                this.m_count = 3
            }
            ,
            o.testOverlap = function(t, e, i, a, h, l) {
                var u = new n;
                u.proxyA.set(t, e),
                u.proxyB.set(i, a),
                u.transformA = h,
                u.transformB = l,
                u.useRadii = !0;
                var c = new s
                  , p = new r;
                return o(p, c, u),
                p.distance < 10 * d.EPSILON
            }
        }
        , {
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../common/stats": 26,
            "../util/Timer": 49,
            "../util/common": 50
        }],
        14: [function(t, e, i) {
            function n(t) {
                this.id = t,
                this.aabb = new u,
                this.userData = null,
                this.parent = null,
                this.child1 = null,
                this.child2 = null,
                this.height = -1,
                this.toString = function() {
                    return this.id + ": " + this.userData
                }
            }
            function r() {
                this.m_root = null,
                this.m_nodes = {},
                this.m_lastProxyId = 0,
                this.m_pool = new a({
                    create: function() {
                        return new n
                    }
                })
            }
            function s() {
                var t = []
                  , e = [];
                return {
                    preorder: function(i) {
                        return t.length = 0,
                        t.push(i),
                        e.length = 0,
                        e.push(0),
                        this
                    },
                    next: function() {
                        for (; t.length > 0; ) {
                            var i = t.length - 1
                              , n = t[i];
                            if (0 === e[i])
                                return e[i] = 1,
                                n;
                            if (1 === e[i] && (e[i] = 2,
                            n.child1))
                                return t.push(n.child1),
                                e.push(1),
                                n.child1;
                            if (2 === e[i] && (e[i] = 3,
                            n.child2))
                                return t.push(n.child2),
                                e.push(1),
                                n.child2;
                            t.pop(),
                            e.pop()
                        }
                    },
                    close: function() {
                        t.length = 0
                    }
                }
            }
            DEBUG = !1,
            ASSERT = !1;
            var o = t("../Settings")
              , a = (t("../util/common"),
            t("../util/Pool"))
              , h = t("../common/Vec2")
              , l = t("../common/Math")
              , u = t("./AABB");
            e.exports = r,
            n.prototype.isLeaf = function() {
                return null == this.child1
            }
            ,
            r.prototype.getUserData = function(t) {
                return this.m_nodes[t].userData
            }
            ,
            r.prototype.getFatAABB = function(t) {
                return this.m_nodes[t].aabb
            }
            ,
            r.prototype.allocateNode = function() {
                var t = this.m_pool.allocate();
                return t.id = ++this.m_lastProxyId,
                t.userData = null,
                t.parent = null,
                t.child1 = null,
                t.child2 = null,
                t.height = -1,
                this.m_nodes[t.id] = t,
                t
            }
            ,
            r.prototype.freeNode = function(t) {
                this.m_pool.release(t),
                t.height = -1,
                delete this.m_nodes[t.id]
            }
            ,
            r.prototype.createProxy = function(t, e) {
                var i = this.allocateNode();
                return i.aabb.set(t),
                u.extend(i.aabb, o.aabbExtension),
                i.userData = e,
                i.height = 0,
                this.insertLeaf(i),
                i.id
            }
            ,
            r.prototype.destroyProxy = function(t) {
                var e = this.m_nodes[t];
                this.removeLeaf(e),
                this.freeNode(e)
            }
            ,
            r.prototype.moveProxy = function(t, e, i) {
                var n = this.m_nodes[t];
                return !n.aabb.contains(e) && (this.removeLeaf(n),
                n.aabb.set(e),
                e = n.aabb,
                u.extend(e, o.aabbExtension),
                i.x < 0 ? e.lowerBound.x += i.x * o.aabbMultiplier : e.upperBound.x += i.x * o.aabbMultiplier,
                i.y < 0 ? e.lowerBound.y += i.y * o.aabbMultiplier : e.upperBound.y += i.y * o.aabbMultiplier,
                this.insertLeaf(n),
                !0)
            }
            ,
            r.prototype.insertLeaf = function(t) {
                if (null == this.m_root)
                    return this.m_root = t,
                    void (this.m_root.parent = null);
                for (var e = t.aabb, i = this.m_root; 0 == i.isLeaf(); ) {
                    var n = i.child1
                      , r = i.child2
                      , s = i.aabb.getPerimeter()
                      , o = new u;
                    o.combine(i.aabb, e);
                    var a, h = o.getPerimeter(), c = 2 * h, d = 2 * (h - s);
                    if (n.isLeaf()) {
                        var p = new u;
                        p.combine(e, n.aabb),
                        a = p.getPerimeter() + d
                    } else {
                        var p = new u;
                        p.combine(e, n.aabb);
                        var f = n.aabb.getPerimeter()
                          , m = p.getPerimeter();
                        a = m - f + d
                    }
                    var _;
                    if (r.isLeaf()) {
                        var p = new u;
                        p.combine(e, r.aabb),
                        _ = p.getPerimeter() + d
                    } else {
                        var p = new u;
                        p.combine(e, r.aabb);
                        var f = r.aabb.getPerimeter()
                          , m = p.getPerimeter();
                        _ = m - f + d
                    }
                    if (c < a && c < _)
                        break;
                    i = a < _ ? n : r
                }
                var y = i
                  , v = y.parent
                  , g = this.allocateNode();
                for (g.parent = v,
                g.userData = null,
                g.aabb.combine(e, y.aabb),
                g.height = y.height + 1,
                null != v ? (v.child1 == y ? v.child1 = g : v.child2 = g,
                g.child1 = y,
                g.child2 = t,
                y.parent = g,
                t.parent = g) : (g.child1 = y,
                g.child2 = t,
                y.parent = g,
                t.parent = g,
                this.m_root = g),
                i = t.parent; null != i; ) {
                    i = this.balance(i);
                    var n = i.child1
                      , r = i.child2;
                    i.height = 1 + l.max(n.height, r.height),
                    i.aabb.combine(n.aabb, r.aabb),
                    i = i.parent
                }
            }
            ,
            r.prototype.removeLeaf = function(t) {
                if (t == this.m_root)
                    return void (this.m_root = null);
                var e, i = t.parent, n = i.parent;
                if (e = i.child1 == t ? i.child2 : i.child1,
                null != n) {
                    n.child1 == i ? n.child1 = e : n.child2 = e,
                    e.parent = n,
                    this.freeNode(i);
                    for (var r = n; null != r; ) {
                        r = this.balance(r);
                        var s = r.child1
                          , o = r.child2;
                        r.aabb.combine(s.aabb, o.aabb),
                        r.height = 1 + l.max(s.height, o.height),
                        r = r.parent
                    }
                } else
                    this.m_root = e,
                    e.parent = null,
                    this.freeNode(i)
            }
            ,
            r.prototype.balance = function(t) {
                var e = t;
                if (e.isLeaf() || e.height < 2)
                    return t;
                var i = e.child1
                  , n = e.child2
                  , r = n.height - i.height;
                if (r > 1) {
                    var s = n.child1
                      , o = n.child2;
                    return n.child1 = e,
                    n.parent = e.parent,
                    e.parent = n,
                    null != n.parent ? n.parent.child1 == t ? n.parent.child1 = n : n.parent.child2 = n : this.m_root = n,
                    s.height > o.height ? (n.child2 = s,
                    e.child2 = o,
                    o.parent = e,
                    e.aabb.combine(i.aabb, o.aabb),
                    n.aabb.combine(e.aabb, s.aabb),
                    e.height = 1 + l.max(i.height, o.height),
                    n.height = 1 + l.max(e.height, s.height)) : (n.child2 = o,
                    e.child2 = s,
                    s.parent = e,
                    e.aabb.combine(i.aabb, s.aabb),
                    n.aabb.combine(e.aabb, o.aabb),
                    e.height = 1 + l.max(i.height, s.height),
                    n.height = 1 + l.max(e.height, o.height)),
                    n
                }
                if (r < -1) {
                    var a = i.child1
                      , h = i.child2;
                    return i.child1 = e,
                    i.parent = e.parent,
                    e.parent = i,
                    null != i.parent ? i.parent.child1 == e ? i.parent.child1 = i : i.parent.child2 = i : this.m_root = i,
                    a.height > h.height ? (i.child2 = a,
                    e.child1 = h,
                    h.parent = e,
                    e.aabb.combine(n.aabb, h.aabb),
                    i.aabb.combine(e.aabb, a.aabb),
                    e.height = 1 + l.max(n.height, h.height),
                    i.height = 1 + l.max(e.height, a.height)) : (i.child2 = h,
                    e.child1 = a,
                    a.parent = e,
                    e.aabb.combine(n.aabb, a.aabb),
                    i.aabb.combine(e.aabb, h.aabb),
                    e.height = 1 + l.max(n.height, a.height),
                    i.height = 1 + l.max(e.height, h.height)),
                    i
                }
                return e
            }
            ,
            r.prototype.getHeight = function() {
                return null == this.m_root ? 0 : this.m_root.height
            }
            ,
            r.prototype.getAreaRatio = function() {
                if (null == this.m_root)
                    return 0;
                for (var t, e = this.m_root, i = e.aabb.getPerimeter(), n = 0, r = p.allocate().preorder(); t = r.next(); )
                    t.height < 0 || (n += t.aabb.getPerimeter());
                return p.release(r),
                n / i
            }
            ,
            r.prototype.computeHeight = function(t) {
                var e;
                if (e = void 0 !== t ? this.m_nodes[t] : this.m_root,
                e.isLeaf())
                    return 0;
                var i = ComputeHeight(e.child1)
                  , n = ComputeHeight(e.child2);
                return 1 + l.max(i, n)
            }
            ,
            r.prototype.validateStructure = function(t) {
                if (null != t) {
                    this.m_root;
                    var e = t.child1
                      , i = t.child2;
                    t.isLeaf() || (this.validateStructure(e),
                    this.validateStructure(i))
                }
            }
            ,
            r.prototype.validateMetrics = function(t) {
                if (null != t) {
                    var e = t.child1
                      , i = t.child2;
                    if (!t.isLeaf()) {
                        var n = this.m_nodes[e].height
                          , r = this.m_nodes[i].height;
                        (l.max(n, r),
                        new u).combine(e.aabb, i.aabb),
                        this.validateMetrics(e),
                        this.validateMetrics(i)
                    }
                }
            }
            ,
            r.prototype.validate = function() {
                ValidateStructure(this.m_root),
                ValidateMetrics(this.m_root)
            }
            ,
            r.prototype.getMaxBalance = function() {
                for (var t, e = 0, i = p.allocate().preorder(); t = i.next(); )
                    if (!(t.height <= 1)) {
                        var n = l.abs(t.child2.height - t.child1.height);
                        e = l.max(e, n)
                    }
                return p.release(i),
                e
            }
            ,
            r.prototype.rebuildBottomUp = function() {
                for (var t, e = [], i = 0, n = p.allocate().preorder(); t = n.next(); )
                    t.height < 0 || (t.isLeaf() ? (t.parent = null,
                    e[i] = t,
                    ++i) : this.freeNode(t));
                for (p.release(n); i > 1; ) {
                    for (var r = 1 / 0, s = -1, o = -1, a = 0; a < i; ++a)
                        for (var h = e[a].aabb, c = a + 1; c < i; ++c) {
                            var d = e[c].aabb
                              , f = new u;
                            f.combine(h, d);
                            var m = f.getPerimeter();
                            m < r && (s = a,
                            o = c,
                            r = m)
                        }
                    var _ = e[s]
                      , y = e[o]
                      , v = this.allocateNode();
                    v.child1 = _,
                    v.child2 = y,
                    v.height = 1 + l.max(_.height, y.height),
                    v.aabb.combine(_.aabb, y.aabb),
                    v.parent = null,
                    _.parent = v,
                    y.parent = v,
                    e[o] = e[i - 1],
                    e[s] = v,
                    --i
                }
                this.m_root = e[0],
                this.validate()
            }
            ,
            r.prototype.shiftOrigin = function(t) {
                for (var e, i = p.allocate().preorder(); e = i.next(); ) {
                    var n = e.aabb;
                    n.lowerBound.x -= t.x,
                    n.lowerBound.y -= t.y,
                    n.lowerBound.x -= t.x,
                    n.lowerBound.y -= t.y
                }
                p.release(i)
            }
            ,
            r.prototype.query = function(t, e) {
                var i = d.allocate();
                for (i.push(this.m_root); i.length > 0; ) {
                    var n = i.pop();
                    if (null != n && u.testOverlap(n.aabb, t))
                        if (n.isLeaf()) {
                            var r = e(n.id);
                            if (0 == r)
                                return
                        } else
                            i.push(n.child1),
                            i.push(n.child2)
                }
                d.release(i)
            }
            ,
            r.prototype.rayCast = function(t, e) {
                var i = t.p1
                  , n = t.p2
                  , r = h.sub(n, i);
                r.normalize();
                var s = h.cross(1, r)
                  , o = h.abs(s)
                  , a = t.maxFraction
                  , p = new u
                  , f = h.wAdd(1 - a, i, a, n);
                p.combinePoints(i, f);
                var m = d.allocate()
                  , _ = c.allocate();
                for (m.push(this.m_root); m.length > 0; ) {
                    var y = m.pop();
                    if (null != y && 0 != u.testOverlap(y.aabb, p)) {
                        var v = y.aabb.getCenter()
                          , g = y.aabb.getExtents();
                        if (!(l.abs(h.dot(s, h.sub(i, v))) - h.dot(o, g) > 0))
                            if (y.isLeaf()) {
                                _.p1 = h.clone(t.p1),
                                _.p2 = h.clone(t.p2),
                                _.maxFraction = a;
                                var x = e(_, y.id);
                                if (0 == x)
                                    return;
                                x > 0 && (a = x,
                                f = h.wAdd(1 - a, i, a, n),
                                p.combinePoints(i, f))
                            } else
                                m.push(y.child1),
                                m.push(y.child2)
                    }
                }
                d.release(m),
                c.release(_)
            }
            ;
            var c = new a({
                create: function() {
                    return {}
                },
                release: function(t) {}
            })
              , d = new a({
                create: function() {
                    return []
                },
                release: function(t) {
                    t.length = 0
                }
            })
              , p = new a({
                create: function() {
                    return new s
                },
                release: function(t) {
                    t.close()
                }
            })
        }
        , {
            "../Settings": 7,
            "../common/Math": 18,
            "../common/Vec2": 23,
            "../util/Pool": 48,
            "../util/common": 50,
            "./AABB": 11
        }],
        15: [function(t, e, i) {
            function n() {
                this.proxyA = new v,
                this.proxyB = new v,
                this.sweepA = new p,
                this.sweepB = new p,
                this.tMax
            }
            function r() {
                this.state,
                this.t
            }
            function s(t, e) {
                var i = h.now();
                ++l.toiCalls,
                t.state = r.e_unknown,
                t.t = e.tMax;
                var n = e.proxyA
                  , s = e.proxyB
                  , c = e.sweepA
                  , d = e.sweepB;
                c.normalize(),
                d.normalize();
                var p = e.tMax
                  , v = n.m_radius + s.m_radius
                  , x = u.max(a.linearSlop, v - 3 * a.linearSlop)
                  , b = .25 * a.linearSlop
                  , w = 0
                  , T = a.maxTOIIterations
                  , A = 0
                  , S = new g
                  , C = new _;
                for (C.proxyA = e.proxyA,
                C.proxyB = e.proxyB,
                C.useRadii = !1; ; ) {
                    var E = f.identity()
                      , P = f.identity();
                    c.getTransform(E, w),
                    d.getTransform(P, w),
                    C.transformA = E,
                    C.transformB = P;
                    var M = new y;
                    if (m(M, S, C),
                    M.distance <= 0) {
                        t.state = r.e_overlapped,
                        t.t = 0;
                        break
                    }
                    if (M.distance < x + b) {
                        t.state = r.e_touching,
                        t.t = w;
                        break
                    }
                    var O = new o;
                    O.initialize(S, n, c, s, d, w);
                    for (var I = !1, B = p, R = 0; ; ) {
                        var k = O.findMinSeparation(B);
                        if (O.indexA,
                        O.indexB,
                        k > x + b) {
                            t.state = r.e_separated,
                            t.t = p,
                            I = !0;
                            break
                        }
                        if (k > x - b) {
                            w = B;
                            break
                        }
                        var D = O.evaluate(w);
                        if (O.indexA,
                        O.indexB,
                        D < x - b) {
                            t.state = r.e_failed,
                            t.t = w,
                            I = !0;
                            break
                        }
                        if (D <= x + b) {
                            t.state = r.e_touching,
                            t.t = w,
                            I = !0;
                            break
                        }
                        for (var L = 0, F = w, j = B; ; ) {
                            var N;
                            N = 1 & L ? F + (x - D) * (j - F) / (k - D) : .5 * (F + j),
                            ++L,
                            ++l.toiRootIters;
                            var z = O.evaluate(N);
                            if (O.indexA,
                            O.indexB,
                            u.abs(z - x) < b) {
                                B = N;
                                break
                            }
                            if (z > x ? (F = N,
                            D = z) : (j = N,
                            k = z),
                            50 == L)
                                break
                        }
                        if (l.toiMaxRootIters = u.max(l.toiMaxRootIters, L),
                        ++R == a.maxPolygonVertices)
                            break
                    }
                    if (++A,
                    ++l.toiIters,
                    I)
                        break;
                    if (A == T) {
                        t.state = r.e_failed,
                        t.t = w;
                        break
                    }
                }
                l.toiMaxIters = u.max(l.toiMaxIters, A);
                var U = h.diff(i);
                l.toiMaxTime = u.max(l.toiMaxTime, U),
                l.toiTime += U
            }
            function o() {
                this.m_proxyA = new v,
                this.m_proxyB = new v,
                this.m_sweepA,
                this.m_sweepB,
                this.m_type,
                this.m_localPoint = c.zero(),
                this.m_axis = c.zero()
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = s,
            e.exports.Input = n,
            e.exports.Output = r;
            var a = t("../Settings")
              , h = (t("../util/common"),
            t("../util/Timer"))
              , l = t("../common/stats")
              , u = t("../common/Math")
              , c = t("../common/Vec2")
              , d = (t("../common/Vec3"),
            t("../common/Mat22"),
            t("../common/Mat33"),
            t("../common/Rot"))
              , p = t("../common/Sweep")
              , f = t("../common/Transform")
              , m = (t("../common/Velocity"),
            t("../common/Position"),
            t("./Distance"))
              , _ = m.Input
              , y = m.Output
              , v = m.Proxy
              , g = m.Cache;
            r.e_unknown = 0,
            r.e_failed = 1,
            r.e_overlapped = 2,
            r.e_touching = 3,
            r.e_separated = 4,
            l.toiTime = 0,
            l.toiMaxTime = 0,
            l.toiCalls = 0,
            l.toiIters = 0,
            l.toiMaxIters = 0,
            l.toiRootIters = 0,
            l.toiMaxRootIters = 0;
            o.prototype.initialize = function(t, e, i, n, r, s) {
                this.m_proxyA = e,
                this.m_proxyB = n;
                var o = t.count;
                this.m_sweepA = i,
                this.m_sweepB = r;
                var a = f.identity()
                  , h = f.identity();
                if (this.m_sweepA.getTransform(a, s),
                this.m_sweepB.getTransform(h, s),
                1 == o) {
                    this.m_type = 1;
                    var l = this.m_proxyA.getVertex(t.indexA[0])
                      , u = this.m_proxyB.getVertex(t.indexB[0])
                      , p = f.mul(a, l)
                      , m = f.mul(h, u);
                    this.m_axis.wSet(1, m, -1, p);
                    var _ = this.m_axis.normalize();
                    return _
                }
                if (t.indexA[0] == t.indexA[1]) {
                    this.m_type = 3;
                    var y = n.getVertex(t.indexB[0])
                      , v = n.getVertex(t.indexB[1]);
                    this.m_axis = c.cross(c.sub(v, y), 1),
                    this.m_axis.normalize();
                    var g = d.mul(h.q, this.m_axis);
                    this.m_localPoint = c.mid(y, v);
                    var m = f.mul(h, this.m_localPoint)
                      , l = e.getVertex(t.indexA[0])
                      , p = f.mul(a, l)
                      , _ = c.dot(p, g) - c.dot(m, g);
                    return _ < 0 && (this.m_axis = c.neg(this.m_axis),
                    _ = -_),
                    _
                }
                this.m_type = 2;
                var x = this.m_proxyA.getVertex(t.indexA[0])
                  , b = this.m_proxyA.getVertex(t.indexA[1]);
                this.m_axis = c.cross(c.sub(b, x), 1),
                this.m_axis.normalize();
                var g = d.mul(a.q, this.m_axis);
                this.m_localPoint = c.mid(x, b);
                var p = f.mul(a, this.m_localPoint)
                  , u = this.m_proxyB.getVertex(t.indexB[0])
                  , m = f.mul(h, u)
                  , _ = c.dot(m, g) - c.dot(p, g);
                return _ < 0 && (this.m_axis = c.neg(this.m_axis),
                _ = -_),
                _
            }
            ,
            o.prototype.compute = function(t, e) {
                var i = f.identity()
                  , n = f.identity();
                switch (this.m_sweepA.getTransform(i, e),
                this.m_sweepB.getTransform(n, e),
                this.m_type) {
                case 1:
                    if (t) {
                        var r = d.mulT(i.q, this.m_axis)
                          , s = d.mulT(n.q, c.neg(this.m_axis));
                        this.indexA = this.m_proxyA.getSupport(r),
                        this.indexB = this.m_proxyB.getSupport(s)
                    }
                    var o = this.m_proxyA.getVertex(this.indexA)
                      , a = this.m_proxyB.getVertex(this.indexB)
                      , h = f.mul(i, o)
                      , l = f.mul(n, a)
                      , u = c.dot(l, this.m_axis) - c.dot(h, this.m_axis);
                    return u;
                case 2:
                    var p = d.mul(i.q, this.m_axis)
                      , h = f.mul(i, this.m_localPoint);
                    if (t) {
                        var s = d.mulT(n.q, c.neg(p));
                        this.indexA = -1,
                        this.indexB = this.m_proxyB.getSupport(s)
                    }
                    var a = this.m_proxyB.getVertex(this.indexB)
                      , l = f.mul(n, a)
                      , u = c.dot(l, p) - c.dot(h, p);
                    return u;
                case 3:
                    var p = d.mul(n.q, this.m_axis)
                      , l = f.mul(n, this.m_localPoint);
                    if (t) {
                        var r = d.mulT(i.q, c.neg(p));
                        this.indexB = -1,
                        this.indexA = this.m_proxyA.getSupport(r)
                    }
                    var o = this.m_proxyA.getVertex(this.indexA)
                      , h = f.mul(i, o)
                      , u = c.dot(h, p) - c.dot(l, p);
                    return u;
                default:
                    return t && (this.indexA = -1,
                    this.indexB = -1),
                    0
                }
            }
            ,
            o.prototype.findMinSeparation = function(t) {
                return this.compute(!0, t)
            }
            ,
            o.prototype.evaluate = function(t) {
                return this.compute(!1, t)
            }
        }
        , {
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../common/stats": 26,
            "../util/Timer": 49,
            "../util/common": 50,
            "./Distance": 13
        }],
        16: [function(t, e, i) {
            function n(t, e, i, n) {
                "object" == typeof t && null !== t ? (this.ex = r.clone(t),
                this.ey = r.clone(e)) : "number" == typeof t ? (this.ex = r.neo(t, i),
                this.ey = r.neo(e, n)) : (this.ex = r.zero(),
                this.ey = r.zero())
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("./Math"),
            t("./Vec2"));
            n.prototype.toString = function() {
                return JSON.stringify(this)
            }
            ,
            n.isValid = function(t) {
                return t && r.isValid(t.ex) && r.isValid(t.ey)
            }
            ,
            n.assert = function(t) {}
            ,
            n.prototype.set = function(t, e, i, n) {
                "number" == typeof t && "number" == typeof e && "number" == typeof i && "number" == typeof n ? (this.ex.set(t, i),
                this.ey.set(e, n)) : "object" == typeof t && "object" == typeof e ? (this.ex.set(t),
                this.ey.set(e)) : "object" == typeof t && (this.ex.set(t.ex),
                this.ey.set(t.ey))
            }
            ,
            n.prototype.setIdentity = function() {
                this.ex.x = 1,
                this.ey.x = 0,
                this.ex.y = 0,
                this.ey.y = 1
            }
            ,
            n.prototype.setZero = function() {
                this.ex.x = 0,
                this.ey.x = 0,
                this.ex.y = 0,
                this.ey.y = 0
            }
            ,
            n.prototype.getInverse = function() {
                var t = this.ex.x
                  , e = this.ey.x
                  , i = this.ex.y
                  , r = this.ey.y
                  , s = t * r - e * i;
                0 != s && (s = 1 / s);
                var o = new n;
                return o.ex.x = s * r,
                o.ey.x = -s * e,
                o.ex.y = -s * i,
                o.ey.y = s * t,
                o
            }
            ,
            n.prototype.solve = function(t) {
                var e = this.ex.x
                  , i = this.ey.x
                  , n = this.ex.y
                  , s = this.ey.y
                  , o = e * s - i * n;
                0 != o && (o = 1 / o);
                var a = r.zero();
                return a.x = o * (s * t.x - i * t.y),
                a.y = o * (e * t.y - n * t.x),
                a
            }
            ,
            n.mul = function(t, e) {
                if (e && "x"in e && "y"in e) {
                    var i = t.ex.x * e.x + t.ey.x * e.y
                      , s = t.ex.y * e.x + t.ey.y * e.y;
                    return r.neo(i, s)
                }
                if (e && "ex"in e && "ey"in e)
                    return new n(r.mul(t, e.ex),r.mul(t, e.ey))
            }
            ,
            n.mulT = function(t, e) {
                if (e && "x"in e && "y"in e)
                    return r.neo(r.dot(e, t.ex), r.dot(e, t.ey));
                if (e && "ex"in e && "ey"in e) {
                    return new n(r.neo(r.dot(t.ex, e.ex), r.dot(t.ey, e.ex)),r.neo(r.dot(t.ex, e.ey), r.dot(t.ey, e.ey)))
                }
            }
            ,
            n.abs = function(t) {
                return new n(r.abs(t.ex),r.abs(t.ey))
            }
            ,
            n.add = function(t, e) {
                return new n(r.add(t.ex + e.ex),r.add(t.ey + e.ey))
            }
        }
        , {
            "../util/common": 50,
            "./Math": 18,
            "./Vec2": 23
        }],
        17: [function(t, e, i) {
            function n(t, e, i) {
                "object" == typeof t && null !== t ? (this.ex = s.clone(t),
                this.ey = s.clone(e),
                this.ez = s.clone(i)) : (this.ex = s(),
                this.ey = s(),
                this.ez = s())
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("./Math"),
            t("./Vec2"))
              , s = t("./Vec3");
            n.prototype.toString = function() {
                return JSON.stringify(this)
            }
            ,
            n.isValid = function(t) {
                return t && s.isValid(t.ex) && s.isValid(t.ey) && s.isValid(t.ez)
            }
            ,
            n.assert = function(t) {}
            ,
            n.prototype.setZero = function() {
                return this.ex.setZero(),
                this.ey.setZero(),
                this.ez.setZero(),
                this
            }
            ,
            n.prototype.solve33 = function(t) {
                var e = s.dot(this.ex, s.cross(this.ey, this.ez));
                0 != e && (e = 1 / e);
                var i = new s;
                return i.x = e * s.dot(t, s.cross(this.ey, this.ez)),
                i.y = e * s.dot(this.ex, s.cross(t, this.ez)),
                i.z = e * s.dot(this.ex, s.cross(this.ey, t)),
                i
            }
            ,
            n.prototype.solve22 = function(t) {
                var e = this.ex.x
                  , i = this.ey.x
                  , n = this.ex.y
                  , s = this.ey.y
                  , o = e * s - i * n;
                0 != o && (o = 1 / o);
                var a = r.zero();
                return a.x = o * (s * t.x - i * t.y),
                a.y = o * (e * t.y - n * t.x),
                a
            }
            ,
            n.prototype.getInverse22 = function(t) {
                var e = this.ex.x
                  , i = this.ey.x
                  , n = this.ex.y
                  , r = this.ey.y
                  , s = e * r - i * n;
                0 != s && (s = 1 / s),
                t.ex.x = s * r,
                t.ey.x = -s * i,
                t.ex.z = 0,
                t.ex.y = -s * n,
                t.ey.y = s * e,
                t.ey.z = 0,
                t.ez.x = 0,
                t.ez.y = 0,
                t.ez.z = 0
            }
            ,
            n.prototype.getSymInverse33 = function(t) {
                var e = s.dot(this.ex, s.cross(this.ey, this.ez));
                0 != e && (e = 1 / e);
                var i = this.ex.x
                  , n = this.ey.x
                  , r = this.ez.x
                  , o = this.ey.y
                  , a = this.ez.y
                  , h = this.ez.z;
                t.ex.x = e * (o * h - a * a),
                t.ex.y = e * (r * a - n * h),
                t.ex.z = e * (n * a - r * o),
                t.ey.x = t.ex.y,
                t.ey.y = e * (i * h - r * r),
                t.ey.z = e * (r * n - i * a),
                t.ez.x = t.ex.z,
                t.ez.y = t.ey.z,
                t.ez.z = e * (i * o - n * n)
            }
            ,
            n.mul = function(t, e) {
                if (e && "z"in e && "y"in e && "x"in e) {
                    var i = t.ex.x * e.x + t.ey.x * e.y + t.ez.x * e.z
                      , n = t.ex.y * e.x + t.ey.y * e.y + t.ez.y * e.z
                      , o = t.ex.z * e.x + t.ey.z * e.y + t.ez.z * e.z;
                    return new s(i,n,o)
                }
                if (e && "y"in e && "x"in e) {
                    var i = t.ex.x * e.x + t.ey.x * e.y
                      , n = t.ex.y * e.x + t.ey.y * e.y;
                    return r.neo(i, n)
                }
            }
            ,
            n.add = function(t, e) {
                return new s(t.x + e.x,t.y + e.y,t.z + e.z)
            }
        }
        , {
            "../util/common": 50,
            "./Math": 18,
            "./Vec2": 23,
            "./Vec3": 24
        }],
        18: [function(t, e, i) {
            DEBUG = !1,
            ASSERT = !1;
            var n = (t("../util/common"),
            t("../util/create"))
              , r = Math
              , s = e.exports = n(r);
            s.EPSILON = 1e-9,
            s.isFinite = function(t) {
                return "number" == typeof t && isFinite(t) && !isNaN(t)
            }
            ,
            s.assert = function(t) {}
            ,
            s.invSqrt = function(t) {
                return 1 / r.sqrt(t)
            }
            ,
            s.nextPowerOfTwo = function(t) {
                return t |= t >> 1,
                t |= t >> 2,
                t |= t >> 4,
                t |= t >> 8,
                (t |= t >> 16) + 1
            }
            ,
            s.isPowerOfTwo = function(t) {
                return t > 0 && 0 == (t & t - 1)
            }
            ,
            s.mod = function(t, e, i) {
                return void 0 === e ? (i = 1,
                e = 0) : void 0 === i && (i = e,
                e = 0),
                i > e ? (t = (t - e) % (i - e)) + (t < 0 ? i : e) : (t = (t - i) % (e - i)) + (t <= 0 ? e : i)
            }
            ,
            s.clamp = function(t, e, i) {
                return t < e ? e : t > i ? i : t
            }
            ,
            s.random = function(t, e) {
                return void 0 === t ? (e = 1,
                t = 0) : void 0 === e && (e = t,
                t = 0),
                t == e ? t : r.random() * (e - t) + t
            }
        }
        , {
            "../util/common": 50,
            "../util/create": 51
        }],
        19: [function(t, e, i) {
            function n() {
                this.c = r.zero(),
                this.a = 0
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = t("./Vec2")
              , s = t("./Rot");
            n.prototype.getTransform = function(t, e) {
                return t.q.set(this.a),
                t.p.set(r.sub(this.c, s.mul(t.q, e))),
                t
            }
        }
        , {
            "./Rot": 20,
            "./Vec2": 23
        }],
        20: [function(t, e, i) {
            function n(t) {
                return this instanceof n ? void ("number" == typeof t ? this.setAngle(t) : "object" == typeof t ? this.set(t) : this.setIdentity()) : new n(t)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("./Vec2"))
              , s = t("./Math");
            n.neo = function(t) {
                var e = Object.create(n.prototype);
                return e.setAngle(t),
                e
            }
            ,
            n.clone = function(t) {
                return Object.create(n.prototype),
                ojb.s = t.s,
                ojb.c = t.c,
                ojb
            }
            ,
            n.identity = function(t) {
                var e = Object.create(n.prototype);
                return e.s = 0,
                e.c = 1,
                e
            }
            ,
            n.isValid = function(t) {
                return t && s.isFinite(t.s) && s.isFinite(t.c)
            }
            ,
            n.assert = function(t) {}
            ,
            n.prototype.setIdentity = function() {
                this.s = 0,
                this.c = 1
            }
            ,
            n.prototype.set = function(t) {
                "object" == typeof t ? (this.s = t.s,
                this.c = t.c) : (this.s = s.sin(t),
                this.c = s.cos(t))
            }
            ,
            n.prototype.setAngle = function(t) {
                this.s = s.sin(t),
                this.c = s.cos(t)
            }
            ,
            n.prototype.getAngle = function() {
                return s.atan2(this.s, this.c)
            }
            ,
            n.prototype.getXAxis = function() {
                return r.neo(this.c, this.s)
            }
            ,
            n.prototype.getYAxis = function() {
                return r.neo(-this.s, this.c)
            }
            ,
            n.mul = function(t, e) {
                if ("c"in e && "s"in e) {
                    var i = n.identity();
                    return i.s = t.s * e.c + t.c * e.s,
                    i.c = t.c * e.c - t.s * e.s,
                    i
                }
                if ("x"in e && "y"in e)
                    return r.neo(t.c * e.x - t.s * e.y, t.s * e.x + t.c * e.y)
            }
            ,
            n.mulSub = function(t, e, i) {
                var n = t.c * (e.x - i.x) - t.s * (e.y - i.y)
                  , s = t.s * (e.x - i.y) + t.c * (e.y - i.y);
                return r.neo(n, s)
            }
            ,
            n.mulT = function(t, e) {
                if ("c"in e && "s"in e) {
                    var i = n.identity();
                    return i.s = t.c * e.s - t.s * e.c,
                    i.c = t.c * e.c + t.s * e.s,
                    i
                }
                if ("x"in e && "y"in e)
                    return r.neo(t.c * e.x + t.s * e.y, -t.s * e.x + t.c * e.y)
            }
        }
        , {
            "../util/common": 50,
            "./Math": 18,
            "./Vec2": 23
        }],
        21: [function(t, e, i) {
            function n(t, e) {
                this.localCenter = s.zero(),
                this.c = s.zero(),
                this.a = 0,
                this.alpha0 = 0,
                this.c0 = s.zero(),
                this.a0 = 0
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("./Math"))
              , s = t("./Vec2")
              , o = t("./Rot")
              , a = t("./Transform");
            n.prototype.setTransform = function(t) {
                var e = a.mul(t, this.localCenter);
                this.c.set(e),
                this.c0.set(e),
                this.a = t.q.getAngle(),
                this.a0 = t.q.getAngle()
            }
            ,
            n.prototype.setLocalCenter = function(t, e) {
                this.localCenter.set(t);
                var i = a.mul(e, this.localCenter);
                this.c.set(i),
                this.c0.set(i)
            }
            ,
            n.prototype.getTransform = function(t, e) {
                e = void 0 === e ? 0 : e,
                t.q.setAngle((1 - e) * this.a0 + e * this.a),
                t.p.wSet(1 - e, this.c0, e, this.c),
                t.p.sub(o.mul(t.q, this.localCenter))
            }
            ,
            n.prototype.advance = function(t) {
                var e = (t - this.alpha0) / (1 - this.alpha0);
                this.c0.wSet(e, this.c, 1 - e, this.c0),
                this.a0 = e * this.a + (1 - e) * this.a0,
                this.alpha0 = t
            }
            ,
            n.prototype.forward = function() {
                this.a0 = this.a,
                this.c0.set(this.c)
            }
            ,
            n.prototype.normalize = function() {
                var t = r.mod(this.a0, -r.PI, +r.PI);
                this.a -= this.a0 - t,
                this.a0 = t
            }
            ,
            n.prototype.clone = function() {
                var t = new n;
                return t.localCenter.set(this.localCenter),
                t.alpha0 = this.alpha0,
                t.a0 = this.a0,
                t.a = this.a,
                t.c0.set(this.c0),
                t.c.set(this.c),
                t
            }
            ,
            n.prototype.set = function(t) {
                this.localCenter.set(t.localCenter),
                this.alpha0 = t.alpha0,
                this.a0 = t.a0,
                this.a = t.a,
                this.c0.set(t.c0),
                this.c.set(t.c)
            }
        }
        , {
            "../util/common": 50,
            "./Math": 18,
            "./Rot": 20,
            "./Transform": 22,
            "./Vec2": 23
        }],
        22: [function(t, e, i) {
            function n(t, e) {
                return this instanceof n ? (this.p = r.zero(),
                this.q = s.identity(),
                void 0 !== t && this.p.set(t),
                void (void 0 !== e && this.q.set(e))) : new n(t,e)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("./Vec2"))
              , s = t("./Rot");
            n.clone = function(t) {
                var e = Object.create(n.prototype);
                return e.p = r.clone(t.p),
                e.q = s.clone(t.q),
                e
            }
            ,
            n.neo = function(t, e) {
                var i = Object.create(n.prototype);
                return i.p = r.clone(t),
                i.q = s.clone(e),
                i
            }
            ,
            n.identity = function() {
                var t = Object.create(n.prototype);
                return t.p = r.zero(),
                t.q = s.identity(),
                t
            }
            ,
            n.prototype.setIdentity = function() {
                this.p.setZero(),
                this.q.setIdentity()
            }
            ,
            n.prototype.set = function(t, e) {
                n.isValid(t) ? (this.p.set(t.p),
                this.q.set(t.q)) : (this.p.set(t),
                this.q.set(e))
            }
            ,
            n.isValid = function(t) {
                return t && r.isValid(t.p) && s.isValid(t.q)
            }
            ,
            n.assert = function(t) {}
            ,
            n.mul = function(t, e) {
                if (Array.isArray(e)) {
                    for (var i = [], o = 0; o < e.length; o++)
                        i[o] = n.mul(t, e[o]);
                    return i
                }
                if ("x"in e && "y"in e) {
                    var a = t.q.c * e.x - t.q.s * e.y + t.p.x
                      , h = t.q.s * e.x + t.q.c * e.y + t.p.y;
                    return r.neo(a, h)
                }
                if ("p"in e && "q"in e) {
                    var l = n.identity();
                    return l.q = s.mul(t.q, e.q),
                    l.p = r.add(s.mul(t.q, e.p), t.p),
                    l
                }
            }
            ,
            n.mulT = function(t, e) {
                if ("x"in e && "y"in e) {
                    var i = e.x - t.p.x
                      , o = e.y - t.p.y
                      , a = t.q.c * i + t.q.s * o
                      , h = -t.q.s * i + t.q.c * o;
                    return r.neo(a, h)
                }
                if ("p"in e && "q"in e) {
                    var l = n.identity();
                    return l.q.set(s.mulT(t.q, e.q)),
                    l.p.set(s.mulT(t.q, r.sub(e.p, t.p))),
                    l
                }
            }
        }
        , {
            "../util/common": 50,
            "./Rot": 20,
            "./Vec2": 23
        }],
        23: [function(t, e, i) {
            function n(t, e) {
                return this instanceof n ? void (void 0 === t ? (this.x = 0,
                this.y = 0) : "object" == typeof t ? (this.x = t.x,
                this.y = t.y) : (this.x = t,
                this.y = e)) : new n(t,e)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("./Math"));
            n.zero = function() {
                var t = Object.create(n.prototype);
                return t.x = 0,
                t.y = 0,
                t
            }
            ,
            n.neo = function(t, e) {
                var i = Object.create(n.prototype);
                return i.x = t,
                i.y = e,
                i
            }
            ,
            n.clone = function(t, e) {
                return n.neo(t.x, t.y)
            }
            ,
            n.prototype.toString = function() {
                return JSON.stringify(this)
            }
            ,
            n.isValid = function(t) {
                return t && r.isFinite(t.x) && r.isFinite(t.y)
            }
            ,
            n.assert = function(t) {}
            ,
            n.prototype.clone = function(t) {
                return n.clone(this, t)
            }
            ,
            n.prototype.setZero = function() {
                return this.x = 0,
                this.y = 0,
                this
            }
            ,
            n.prototype.set = function(t, e) {
                return "object" == typeof t ? (this.x = t.x,
                this.y = t.y) : (this.x = t,
                this.y = e),
                this
            }
            ,
            n.prototype.wSet = function(t, e, i, n) {
                var r = t * e.x
                  , s = t * e.y;
                return void 0 === i && void 0 === n || (r += i * n.x,
                s += i * n.y),
                this.x = r,
                this.y = s,
                this
            }
            ,
            n.prototype.add = function(t) {
                return this.x += t.x,
                this.y += t.y,
                this
            }
            ,
            n.prototype.wAdd = function(t, e, i, n) {
                var r = t * e.x
                  , s = t * e.y;
                return void 0 === i && void 0 === n || (r += i * n.x,
                s += i * n.y),
                this.x += r,
                this.y += s,
                this
            }
            ,
            n.prototype.wSub = function(t, e, i, n) {
                var r = t * e.x
                  , s = t * e.y;
                return void 0 === i && void 0 === n || (r += i * n.x,
                s += i * n.y),
                this.x -= r,
                this.y -= s,
                this
            }
            ,
            n.prototype.sub = function(t) {
                return this.x -= t.x,
                this.y -= t.y,
                this
            }
            ,
            n.prototype.mul = function(t) {
                return this.x *= t,
                this.y *= t,
                this
            }
            ,
            n.prototype.length = function() {
                return n.lengthOf(this)
            }
            ,
            n.prototype.lengthSquared = function() {
                return n.lengthSquared(this)
            }
            ,
            n.prototype.normalize = function() {
                var t = this.length();
                if (t < r.EPSILON)
                    return 0;
                var e = 1 / t;
                return this.x *= e,
                this.y *= e,
                t
            }
            ,
            n.lengthOf = function(t) {
                return r.sqrt(t.x * t.x + t.y * t.y)
            }
            ,
            n.lengthSquared = function(t) {
                return t.x * t.x + t.y * t.y
            }
            ,
            n.distance = function(t, e) {
                var i = t.x - e.x
                  , n = t.y - e.y;
                return r.sqrt(i * i + n * n)
            }
            ,
            n.distanceSquared = function(t, e) {
                var i = t.x - e.x
                  , n = t.y - e.y;
                return i * i + n * n
            }
            ,
            n.areEqual = function(t, e) {
                return t == e || "object" == typeof e && null !== e && t.x == e.x && t.y == e.y
            }
            ,
            n.skew = function(t) {
                return n.neo(-t.y, t.x)
            }
            ,
            n.dot = function(t, e) {
                return t.x * e.x + t.y * e.y
            }
            ,
            n.cross = function(t, e) {
                return "number" == typeof e ? n.neo(e * t.y, -e * t.x) : "number" == typeof t ? n.neo(-t * e.y, t * e.x) : t.x * e.y - t.y * e.x
            }
            ,
            n.addCross = function(t, e, i) {
                return "number" == typeof i ? n.neo(i * e.y + t.x, -i * e.x + t.y) : "number" == typeof e ? n.neo(-e * i.y + t.x, e * i.x + t.y) : void 0
            }
            ,
            n.add = function(t, e) {
                return n.neo(t.x + e.x, t.y + e.y)
            }
            ,
            n.wAdd = function(t, e, i, r) {
                var s = n.zero();
                return s.wAdd(t, e, i, r),
                s
            }
            ,
            n.sub = function(t, e) {
                return n.neo(t.x - e.x, t.y - e.y)
            }
            ,
            n.mul = function(t, e) {
                return "object" == typeof t ? n.neo(t.x * e, t.y * e) : "object" == typeof e ? n.neo(t * e.x, t * e.y) : void 0
            }
            ,
            n.prototype.neg = function() {
                return this.x = -this.x,
                this.y = -this.y,
                this
            }
            ,
            n.neg = function(t) {
                return n.neo(-t.x, -t.y)
            }
            ,
            n.abs = function(t) {
                return n.neo(r.abs(t.x), r.abs(t.y))
            }
            ,
            n.mid = function(t, e) {
                return n.neo(.5 * (t.x + e.x), .5 * (t.y + e.y))
            }
            ,
            n.upper = function(t, e) {
                return n.neo(r.max(t.x, e.x), r.max(t.y, e.y))
            }
            ,
            n.lower = function(t, e) {
                return n.neo(r.min(t.x, e.x), r.min(t.y, e.y))
            }
            ,
            n.prototype.clamp = function(t) {
                var e = this.x * this.x + this.y * this.y;
                if (e > t * t) {
                    var i = r.invSqrt(e);
                    this.x *= i * t,
                    this.y *= i * t
                }
                return this
            }
            ,
            n.clamp = function(t, e) {
                return t = n.neo(t.x, t.y),
                t.clamp(e),
                t
            }
        }
        , {
            "../util/common": 50,
            "./Math": 18
        }],
        24: [function(t, e, i) {
            function n(t, e, i) {
                return this instanceof n ? void (void 0 === t ? (this.x = 0,
                this.y = 0,
                this.z = 0) : "object" == typeof t ? (this.x = t.x,
                this.y = t.y,
                this.z = t.z) : (this.x = t,
                this.y = e,
                this.z = i)) : new n(t,e,i)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("./Math"));
            n.prototype.toString = function() {
                return JSON.stringify(this)
            }
            ,
            n.isValid = function(t) {
                return t && r.isFinite(t.x) && r.isFinite(t.y) && r.isFinite(t.z)
            }
            ,
            n.assert = function(t) {}
            ,
            n.prototype.setZero = function() {
                return this.x = 0,
                this.y = 0,
                this.z = 0,
                this
            }
            ,
            n.prototype.set = function(t, e, i) {
                return this.x = t,
                this.y = e,
                this.z = i,
                this
            }
            ,
            n.prototype.add = function(t) {
                return this.x += t.x,
                this.y += t.y,
                this.z += t.z,
                this
            }
            ,
            n.prototype.sub = function(t) {
                return this.x -= t.x,
                this.y -= t.y,
                this.z -= t.z,
                this
            }
            ,
            n.prototype.mul = function(t) {
                return this.x *= t,
                this.y *= t,
                this.z *= t,
                this
            }
            ,
            n.areEqual = function(t, e) {
                return t == e || "object" == typeof e && null !== e && t.x == e.x && t.y == e.y && t.z == e.z
            }
            ,
            n.dot = function(t, e) {
                return t.x * e.x + t.y * e.y + t.z * e.z
            }
            ,
            n.cross = function(t, e) {
                return new n(t.y * e.z - t.z * e.y,t.z * e.x - t.x * e.z,t.x * e.y - t.y * e.x)
            }
            ,
            n.add = function(t, e) {
                return new n(t.x + e.x,t.y + e.y,t.z + e.z)
            }
            ,
            n.sub = function(t, e) {
                return new n(t.x - e.x,t.y - e.y,t.z - e.z)
            }
            ,
            n.mul = function(t, e) {
                return new n(e * t.x,e * t.y,e * t.z)
            }
            ,
            n.prototype.neg = function(t) {
                return this.x = -this.x,
                this.y = -this.y,
                this.z = -this.z,
                this
            }
            ,
            n.neg = function(t) {
                return new n(-t.x,-t.y,-t.z)
            }
        }
        , {
            "../util/common": 50,
            "./Math": 18
        }],
        25: [function(t, e, i) {
            function n() {
                this.v = r.zero(),
                this.w = 0
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = t("./Vec2")
        }
        , {
            "./Vec2": 23
        }],
        26: [function(t, e, i) {
            DEBUG = !1,
            ASSERT = !1,
            i.toString = function(t) {
                t = "string" == typeof t ? t : "\n";
                var e = "";
                for (var i in this)
                    "function" != typeof this[i] && "object" != typeof this[i] && (e += i + ": " + this[i] + t);
                return e
            }
        }
        , {}],
        27: [function(t, e, i) {
            function n(t, e, i, s, o) {
                return this instanceof n ? (t = r(t, c),
                u.call(this, t, e, s),
                this.m_type = n.TYPE,
                this.m_localAnchorA = t.localAnchorA || e.getLocalPoint(i),
                this.m_localAnchorB = t.localAnchorB || s.getLocalPoint(o),
                this.m_length = h.distance(o, i),
                this.m_frequencyHz = t.frequencyHz,
                this.m_dampingRatio = t.dampingRatio,
                this.m_impulse = 0,
                this.m_gamma = 0,
                this.m_bias = 0,
                this.m_u,
                this.m_rA,
                this.m_rB,
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                void this.m_mass) : new n(t,e,i,s,o)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = t("../util/options")
              , s = t("../util/create")
              , o = t("../Settings")
              , a = t("../common/Math")
              , h = t("../common/Vec2")
              , l = (t("../common/Vec3"),
            t("../common/Mat22"),
            t("../common/Mat33"),
            t("../common/Rot"))
              , u = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"));
            n.TYPE = "distance-joint",
            n._super = u,
            n.prototype = s(n._super.prototype);
            var c = {
                frequencyHz: 0,
                dampingRatio: 0
            };
            n.prototype.getLocalAnchorA = function() {
                return this.m_localAnchorA
            }
            ,
            n.prototype.getLocalAnchorB = function() {
                return this.m_localAnchorB
            }
            ,
            n.prototype.setLength = function(t) {
                this.m_length = t
            }
            ,
            n.prototype.getLength = function() {
                return this.m_length
            }
            ,
            n.prototype.setFrequency = function(t) {
                this.m_frequencyHz = t
            }
            ,
            n.prototype.getFrequency = function() {
                return this.m_frequencyHz
            }
            ,
            n.prototype.setDampingRatio = function(t) {
                this.m_dampingRatio = t
            }
            ,
            n.prototype.getDampingRatio = function() {
                return this.m_dampingRatio
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return h.mul(t * this.m_impulse, this.m_u)
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return 0
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyA.c_velocity.v
                  , r = this.m_bodyA.c_velocity.w
                  , s = this.m_bodyB.c_position.c
                  , u = this.m_bodyB.c_position.a
                  , c = this.m_bodyB.c_velocity.v
                  , d = this.m_bodyB.c_velocity.w
                  , p = l.neo(i)
                  , f = l.neo(u);
                this.m_rA = l.mul(p, h.sub(this.m_localAnchorA, this.m_localCenterA)),
                this.m_rB = l.mul(f, h.sub(this.m_localAnchorB, this.m_localCenterB)),
                this.m_u = h.sub(h.add(s, this.m_rB), h.add(e, this.m_rA));
                var m = this.m_u.length();
                m > o.linearSlop ? this.m_u.mul(1 / m) : this.m_u.set(0, 0);
                var _ = h.cross(this.m_rA, this.m_u)
                  , y = h.cross(this.m_rB, this.m_u)
                  , v = this.m_invMassA + this.m_invIA * _ * _ + this.m_invMassB + this.m_invIB * y * y;
                if (this.m_mass = 0 != v ? 1 / v : 0,
                this.m_frequencyHz > 0) {
                    var g = m - this.m_length
                      , x = 2 * a.PI * this.m_frequencyHz
                      , b = 2 * this.m_mass * this.m_dampingRatio * x
                      , w = this.m_mass * x * x
                      , T = t.dt;
                    this.m_gamma = T * (b + T * w),
                    this.m_gamma = 0 != this.m_gamma ? 1 / this.m_gamma : 0,
                    this.m_bias = g * T * w * this.m_gamma,
                    v += this.m_gamma,
                    this.m_mass = 0 != v ? 1 / v : 0
                } else
                    this.m_gamma = 0,
                    this.m_bias = 0;
                if (t.warmStarting) {
                    this.m_impulse *= t.dtRatio;
                    var A = h.mul(this.m_impulse, this.m_u);
                    n.wSub(this.m_invMassA, A),
                    r -= this.m_invIA * h.cross(this.m_rA, A),
                    c.wAdd(this.m_invMassB, A),
                    d += this.m_invIB * h.cross(this.m_rB, A)
                } else
                    this.m_impulse = 0;
                this.m_bodyA.c_velocity.v.set(n),
                this.m_bodyA.c_velocity.w = r,
                this.m_bodyB.c_velocity.v.set(c),
                this.m_bodyB.c_velocity.w = d
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = h.add(e, h.cross(i, this.m_rA))
                  , o = h.add(n, h.cross(r, this.m_rB))
                  , a = h.dot(this.m_u, o) - h.dot(this.m_u, s)
                  , l = -this.m_mass * (a + this.m_bias + this.m_gamma * this.m_impulse);
                this.m_impulse += l;
                var u = h.mul(l, this.m_u);
                e.wSub(this.m_invMassA, u),
                i -= this.m_invIA * h.cross(this.m_rA, u),
                n.wAdd(this.m_invMassB, u),
                r += this.m_invIB * h.cross(this.m_rB, u),
                this.m_bodyA.c_velocity.v.set(e),
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v.set(n),
                this.m_bodyB.c_velocity.w = r
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                if (this.m_frequencyHz > 0)
                    return !0;
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyB.c_position.c
                  , r = this.m_bodyB.c_position.a
                  , s = l.neo(i)
                  , u = l.neo(r)
                  , c = l.mulSub(s, this.m_localAnchorA, this.m_localCenterA)
                  , d = l.mulSub(u, this.m_localAnchorB, this.m_localCenterB)
                  , p = h.sub(h.add(n, d), h.add(e, c))
                  , f = p.normalize()
                  , m = f - this.m_length;
                m = a.clamp(m, -o.maxLinearCorrection, o.maxLinearCorrection);
                var _ = -this.m_mass * m
                  , y = h.mul(_, p);
                return e.wSub(this.m_invMassA, y),
                i -= this.m_invIA * h.cross(c, y),
                n.wAdd(this.m_invMassB, y),
                r += this.m_invIB * h.cross(d, y),
                this.m_bodyA.c_position.c.set(e),
                this.m_bodyA.c_position.a = i,
                this.m_bodyB.c_position.c.set(n),
                this.m_bodyB.c_position.a = r,
                a.abs(m) < o.linearSlop
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/create": 51,
            "../util/options": 52
        }],
        28: [function(t, e, i) {
            function n(t, e, i, s) {
                return this instanceof n ? (t = r(t, c),
                u.call(this, t, e, i),
                this.m_type = n.TYPE,
                s ? (this.m_localAnchorA = e.getLocalPoint(s),
                this.m_localAnchorB = i.getLocalPoint(s)) : (this.m_localAnchorA = a.zero(),
                this.m_localAnchorB = a.zero()),
                this.m_linearImpulse = a.zero(),
                this.m_angularImpulse = 0,
                this.m_maxForce = t.maxForce,
                this.m_maxTorque = t.maxTorque,
                this.m_rA,
                this.m_rB,
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                this.m_linearMass,
                void this.m_angularMass) : new n(t,e,i,s)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/options"))
              , s = t("../util/create")
              , o = (t("../Settings"),
            t("../common/Math"))
              , a = t("../common/Vec2")
              , h = (t("../common/Vec3"),
            t("../common/Mat22"))
              , l = (t("../common/Mat33"),
            t("../common/Rot"))
              , u = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"));
            n.TYPE = "friction-joint",
            n._super = u,
            n.prototype = s(n._super.prototype);
            var c = {
                maxForce: 0,
                maxTorque: 0
            };
            n.prototype.getLocalAnchorA = function() {
                return this.m_localAnchorA
            }
            ,
            n.prototype.getLocalAnchorB = function() {
                return this.m_localAnchorB
            }
            ,
            n.prototype.setMaxForce = function(t) {
                this.m_maxForce = t
            }
            ,
            n.prototype.getMaxForce = function() {
                return this.m_maxForce
            }
            ,
            n.prototype.setMaxTorque = function(t) {
                this.m_maxTorque = t
            }
            ,
            n.prototype.getMaxTorque = function() {
                return this.m_maxTorque
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return t * this.m_linearImpulse
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return t * this.m_angularImpulse
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyA.c_position.a
                  , i = this.m_bodyA.c_velocity.v
                  , n = this.m_bodyA.c_velocity.w
                  , r = this.m_bodyB.c_position.a
                  , s = this.m_bodyB.c_velocity.v
                  , o = this.m_bodyB.c_velocity.w
                  , u = l.neo(e)
                  , c = l.neo(r);
                this.m_rA = l.mul(u, a.sub(this.m_localAnchorA, this.m_localCenterA)),
                this.m_rB = l.mul(c, a.sub(this.m_localAnchorB, this.m_localCenterB));
                var d = this.m_invMassA
                  , p = this.m_invMassB
                  , f = this.m_invIA
                  , m = this.m_invIB
                  , _ = new h;
                if (_.ex.x = d + p + f * this.m_rA.y * this.m_rA.y + m * this.m_rB.y * this.m_rB.y,
                _.ex.y = -f * this.m_rA.x * this.m_rA.y - m * this.m_rB.x * this.m_rB.y,
                _.ey.x = _.ex.y,
                _.ey.y = d + p + f * this.m_rA.x * this.m_rA.x + m * this.m_rB.x * this.m_rB.x,
                this.m_linearMass = _.getInverse(),
                this.m_angularMass = f + m,
                this.m_angularMass > 0 && (this.m_angularMass = 1 / this.m_angularMass),
                t.warmStarting) {
                    this.m_linearImpulse.mul(t.dtRatio),
                    this.m_angularImpulse *= t.dtRatio;
                    var y = a.neo(this.m_linearImpulse.x, this.m_linearImpulse.y);
                    i.wSub(d, y),
                    n -= f * (a.cross(this.m_rA, y) + this.m_angularImpulse),
                    s.wAdd(p, y),
                    o += m * (a.cross(this.m_rB, y) + this.m_angularImpulse)
                } else
                    this.m_linearImpulse.setZero(),
                    this.m_angularImpulse = 0;
                this.m_bodyA.c_velocity.v = i,
                this.m_bodyA.c_velocity.w = n,
                this.m_bodyB.c_velocity.v = s,
                this.m_bodyB.c_velocity.w = o
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = this.m_invMassA
                  , l = this.m_invMassB
                  , u = this.m_invIA
                  , c = this.m_invIB
                  , d = t.dt
                  , p = r - i
                  , f = -this.m_angularMass * p
                  , m = this.m_angularImpulse
                  , _ = d * this.m_maxTorque;
                this.m_angularImpulse = o.clamp(this.m_angularImpulse + f, -_, _),
                f = this.m_angularImpulse - m,
                i -= u * f,
                r += c * f;
                var p = a.sub(a.add(n, a.cross(r, this.m_rB)), a.add(e, a.cross(i, this.m_rA)))
                  , f = a.neg(h.mul(this.m_linearMass, p))
                  , m = this.m_linearImpulse;
                this.m_linearImpulse.add(f);
                var _ = d * this.m_maxForce;
                this.m_linearImpulse.lengthSquared() > _ * _ && (this.m_linearImpulse.normalize(),
                this.m_linearImpulse.mul(_)),
                f = a.sub(this.m_linearImpulse, m),
                e.wSub(s, f),
                i -= u * a.cross(this.m_rA, f),
                n.wAdd(l, f),
                r += c * a.cross(this.m_rB, f),
                this.m_bodyA.c_velocity.v = e,
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v = n,
                this.m_bodyB.c_velocity.w = r
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                return !0
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52
        }],
        29: [function(t, e, i) {
            function n(t, e, i, s, o, d) {
                if (!(this instanceof n))
                    return new n(t,e,i,s,o,d);
                t = r(t, c),
                l.call(this, t, e, i),
                this.m_type = n.TYPE,
                this.m_joint1 = s,
                this.m_joint2 = o,
                this.m_type1 = this.m_joint1.getType(),
                this.m_type2 = this.m_joint2.getType();
                var p, f;
                this.m_bodyC = this.m_joint1.getBodyA(),
                this.m_bodyA = this.m_joint1.getBodyB();
                var m = this.m_bodyA.m_xf
                  , _ = this.m_bodyA.m_sweep.a
                  , y = this.m_bodyC.m_xf
                  , v = this.m_bodyC.m_sweep.a;
                if (this.m_type1 == u.TYPE) {
                    var g = s;
                    this.m_localAnchorC = g.m_localAnchorA,
                    this.m_localAnchorA = g.m_localAnchorB,
                    this.m_referenceAngleA = g.m_referenceAngle,
                    this.m_localAxisC = a.zero(),
                    p = _ - v - this.m_referenceAngleA
                } else {
                    var x = s;
                    this.m_localAnchorC = x.m_localAnchorA,
                    this.m_localAnchorA = x.m_localAnchorB,
                    this.m_referenceAngleA = x.m_referenceAngle,
                    this.m_localAxisC = x.m_localXAxisA;
                    var b = this.m_localAnchorC
                      , w = h.mulT(y.q, a.add(h.mul(m.q, this.m_localAnchorA), a.sub(m.p, y.p)));
                    p = a.dot(w, this.m_localAxisC) - a.dot(b, this.m_localAxisC)
                }
                this.m_bodyD = this.m_joint2.getBodyA(),
                this.m_bodyB = this.m_joint2.getBodyB();
                var T = this.m_bodyB.m_xf
                  , A = this.m_bodyB.m_sweep.a
                  , S = this.m_bodyD.m_xf
                  , C = this.m_bodyD.m_sweep.a;
                if (this.m_type2 == u.TYPE) {
                    var g = o;
                    this.m_localAnchorD = g.m_localAnchorA,
                    this.m_localAnchorB = g.m_localAnchorB,
                    this.m_referenceAngleB = g.m_referenceAngle,
                    this.m_localAxisD = a.zero(),
                    f = A - C - this.m_referenceAngleB
                } else {
                    var x = o;
                    this.m_localAnchorD = x.m_localAnchorA,
                    this.m_localAnchorB = x.m_localAnchorB,
                    this.m_referenceAngleB = x.m_referenceAngle,
                    this.m_localAxisD = x.m_localXAxisA;
                    var E = this.m_localAnchorD
                      , P = h.mulT(S.q, a.add(h.mul(T.q, this.m_localAnchorB), a.sub(T.p, S.p)));
                    f = a.dot(P, this.m_localAxisD) - a.dot(E, this.m_localAxisD)
                }
                this.m_ratio = d || t.ratio,
                this.m_constant = p + this.m_ratio * f,
                this.m_impulse = 0,
                this.m_lcA,
                this.m_lcB,
                this.m_lcC,
                this.m_lcD,
                this.m_mA,
                this.m_mB,
                this.m_mC,
                this.m_mD,
                this.m_iA,
                this.m_iB,
                this.m_iC,
                this.m_iD,
                this.m_JvAC,
                this.m_JvBD,
                this.m_JwA,
                this.m_JwB,
                this.m_JwC,
                this.m_JwD,
                this.m_mass
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/options"))
              , s = t("../util/create")
              , o = t("../Settings")
              , a = (t("../common/Math"),
            t("../common/Vec2"))
              , h = (t("../common/Vec3"),
            t("../common/Mat22"),
            t("../common/Mat33"),
            t("../common/Rot"))
              , l = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"))
              , u = t("./RevoluteJoint");
            t("./PrismaticJoint"),
            n.TYPE = "gear-joint",
            n._super = l,
            n.prototype = s(n._super.prototype);
            var c = {
                ratio: 1
            };
            n.prototype.getJoint1 = function() {
                return this.m_joint1
            }
            ,
            n.prototype.getJoint2 = function() {
                return this.m_joint2
            }
            ,
            n.prototype.setRatio = function(t) {
                this.m_ratio = t
            }
            ,
            n.prototype.setRatio = function() {
                return this.m_ratio
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return t * (this.m_impulse * this.m_JvAC)
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return t * (this.m_impulse * this.m_JwA)
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_lcA = this.m_bodyA.m_sweep.localCenter,
                this.m_lcB = this.m_bodyB.m_sweep.localCenter,
                this.m_lcC = this.m_bodyC.m_sweep.localCenter,
                this.m_lcD = this.m_bodyD.m_sweep.localCenter,
                this.m_mA = this.m_bodyA.m_invMass,
                this.m_mB = this.m_bodyB.m_invMass,
                this.m_mC = this.m_bodyC.m_invMass,
                this.m_mD = this.m_bodyD.m_invMass,
                this.m_iA = this.m_bodyA.m_invI,
                this.m_iB = this.m_bodyB.m_invI,
                this.m_iC = this.m_bodyC.m_invI,
                this.m_iD = this.m_bodyD.m_invI;
                var e = this.m_bodyA.c_position.a
                  , i = this.m_bodyA.c_velocity.v
                  , n = this.m_bodyA.c_velocity.w
                  , r = this.m_bodyB.c_position.a
                  , s = this.m_bodyB.c_velocity.v
                  , o = this.m_bodyB.c_velocity.w
                  , l = this.m_bodyC.c_position.a
                  , c = this.m_bodyC.c_velocity.v
                  , d = this.m_bodyC.c_velocity.w
                  , p = this.m_bodyD.c_position.a
                  , f = this.m_bodyD.c_velocity.v
                  , m = this.m_bodyD.c_velocity.w
                  , _ = h.neo(e)
                  , y = h.neo(r)
                  , v = h.neo(l)
                  , g = h.neo(p);
                if (this.m_mass = 0,
                this.m_type1 == u.TYPE)
                    this.m_JvAC = a.zero(),
                    this.m_JwA = 1,
                    this.m_JwC = 1,
                    this.m_mass += this.m_iA + this.m_iC;
                else {
                    var x = h.mul(v, this.m_localAxisC)
                      , b = h.mulSub(v, this.m_localAnchorC, this.m_lcC)
                      , w = h.mulSub(_, this.m_localAnchorA, this.m_lcA);
                    this.m_JvAC = x,
                    this.m_JwC = a.cross(b, x),
                    this.m_JwA = a.cross(w, x),
                    this.m_mass += this.m_mC + this.m_mA + this.m_iC * this.m_JwC * this.m_JwC + this.m_iA * this.m_JwA * this.m_JwA
                }
                if (this.m_type2 == u.TYPE)
                    this.m_JvBD = a.zero(),
                    this.m_JwB = this.m_ratio,
                    this.m_JwD = this.m_ratio,
                    this.m_mass += this.m_ratio * this.m_ratio * (this.m_iB + this.m_iD);
                else {
                    var x = h.mul(g, this.m_localAxisD)
                      , T = h.mulSub(g, this.m_localAnchorD, this.m_lcD)
                      , A = h.mulSub(y, this.m_localAnchorB, this.m_lcB);
                    this.m_JvBD = a.mul(this.m_ratio, x),
                    this.m_JwD = this.m_ratio * a.cross(T, x),
                    this.m_JwB = this.m_ratio * a.cross(A, x),
                    this.m_mass += this.m_ratio * this.m_ratio * (this.m_mD + this.m_mB) + this.m_iD * this.m_JwD * this.m_JwD + this.m_iB * this.m_JwB * this.m_JwB
                }
                this.m_mass = this.m_mass > 0 ? 1 / this.m_mass : 0,
                t.warmStarting ? (i.wAdd(this.m_mA * this.m_impulse, this.m_JvAC),
                n += this.m_iA * this.m_impulse * this.m_JwA,
                s.wAdd(this.m_mB * this.m_impulse, this.m_JvBD),
                o += this.m_iB * this.m_impulse * this.m_JwB,
                c.wSub(this.m_mC * this.m_impulse, this.m_JvAC),
                d -= this.m_iC * this.m_impulse * this.m_JwC,
                f.wSub(this.m_mD * this.m_impulse, this.m_JvBD),
                m -= this.m_iD * this.m_impulse * this.m_JwD) : this.m_impulse = 0,
                this.m_bodyA.c_velocity.v.set(i),
                this.m_bodyA.c_velocity.w = n,
                this.m_bodyB.c_velocity.v.set(s),
                this.m_bodyB.c_velocity.w = o,
                this.m_bodyC.c_velocity.v.set(c),
                this.m_bodyC.c_velocity.w = d,
                this.m_bodyD.c_velocity.v.set(f),
                this.m_bodyD.c_velocity.w = m
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = this.m_bodyC.c_velocity.v
                  , o = this.m_bodyC.c_velocity.w
                  , h = this.m_bodyD.c_velocity.v
                  , l = this.m_bodyD.c_velocity.w
                  , u = a.dot(this.m_JvAC, e) - a.dot(this.m_JvAC, s) + a.dot(this.m_JvBD, n) - a.dot(this.m_JvBD, h);
                u += this.m_JwA * i - this.m_JwC * o + (this.m_JwB * r - this.m_JwD * l);
                var c = -this.m_mass * u;
                this.m_impulse += c,
                e.wAdd(this.m_mA * c, this.m_JvAC),
                i += this.m_iA * c * this.m_JwA,
                n.wAdd(this.m_mB * c, this.m_JvBD),
                r += this.m_iB * c * this.m_JwB,
                s.wSub(this.m_mC * c, this.m_JvAC),
                o -= this.m_iC * c * this.m_JwC,
                h.wSub(this.m_mD * c, this.m_JvBD),
                l -= this.m_iD * c * this.m_JwD,
                this.m_bodyA.c_velocity.v.set(e),
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v.set(n),
                this.m_bodyB.c_velocity.w = r,
                this.m_bodyC.c_velocity.v.set(s),
                this.m_bodyC.c_velocity.w = o,
                this.m_bodyD.c_velocity.v.set(h),
                this.m_bodyD.c_velocity.w = l
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                var e, i, n, r, s, l, c, d, p = this.m_bodyA.c_position.c, f = this.m_bodyA.c_position.a, m = this.m_bodyB.c_position.c, _ = this.m_bodyB.c_position.a, y = this.m_bodyC.c_position.c, v = this.m_bodyC.c_position.a, g = this.m_bodyD.c_position.c, x = this.m_bodyD.c_position.a, b = h.neo(f), w = h.neo(_), T = h.neo(v), A = h.neo(x), S = 0;
                if (this.m_type1 == u.TYPE)
                    n = a.zero(),
                    s = 1,
                    c = 1,
                    S += this.m_iA + this.m_iC,
                    e = f - v - this.m_referenceAngleA;
                else {
                    var C = h.mul(T, this.m_localAxisC)
                      , E = h.mulSub(T, this.m_localAnchorC, this.m_lcC)
                      , P = h.mulSub(b, this.m_localAnchorA, this.m_lcA);
                    n = C,
                    c = a.cross(E, C),
                    s = a.cross(P, C),
                    S += this.m_mC + this.m_mA + this.m_iC * c * c + this.m_iA * s * s;
                    var M = this.m_localAnchorC - this.m_lcC
                      , O = h.mulT(T, a.add(P, a.sub(p, y)));
                    e = Dot(O - M, this.m_localAxisC)
                }
                if (this.m_type2 == u.TYPE)
                    r = a.zero(),
                    l = this.m_ratio,
                    d = this.m_ratio,
                    S += this.m_ratio * this.m_ratio * (this.m_iB + this.m_iD),
                    i = _ - x - this.m_referenceAngleB;
                else {
                    var C = h.mul(A, this.m_localAxisD)
                      , I = h.mulSub(A, this.m_localAnchorD, this.m_lcD)
                      , B = h.mulSub(w, this.m_localAnchorB, this.m_lcB);
                    r = a.mul(this.m_ratio, C),
                    d = this.m_ratio * a.cross(I, C),
                    l = this.m_ratio * a.cross(B, C),
                    S += this.m_ratio * this.m_ratio * (this.m_mD + this.m_mB) + this.m_iD * d * d + this.m_iB * l * l;
                    var R = a.sub(this.m_localAnchorD, this.m_lcD)
                      , k = h.mulT(A, a.add(B, a.sub(m, g)));
                    i = a.dot(k, this.m_localAxisD) - a.dot(R, this.m_localAxisD)
                }
                var D = e + this.m_ratio * i - this.m_constant
                  , L = 0;
                return S > 0 && (L = -D / S),
                p.wAdd(this.m_mA * L, n),
                f += this.m_iA * L * s,
                m.wAdd(this.m_mB * L, r),
                _ += this.m_iB * L * l,
                y.wAdd(this.m_mC * L, n),
                v -= this.m_iC * L * c,
                g.wAdd(this.m_mD * L, r),
                x -= this.m_iD * L * d,
                this.m_bodyA.c_position.c.set(p),
                this.m_bodyA.c_position.a = f,
                this.m_bodyB.c_position.c.set(m),
                this.m_bodyB.c_position.a = _,
                this.m_bodyC.c_position.c.set(y),
                this.m_bodyC.c_position.a = v,
                this.m_bodyD.c_position.c.set(g),
                this.m_bodyD.c_position.a = x,
                0 < o.linearSlop
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52,
            "./PrismaticJoint": 32,
            "./RevoluteJoint": 34
        }],
        30: [function(t, e, i) {
            function n(t, e, i) {
                if (!(this instanceof n))
                    return new n(t,e,i);
                t = r(t, c),
                u.call(this, t, e, i),
                this.m_type = n.TYPE;
                var s = i.getPosition();
                this.m_linearOffset = e.getLocalPoint(s);
                var o = e.getAngle()
                  , h = i.getAngle();
                this.m_angularOffset = h - o,
                this.m_linearImpulse = a.zero(),
                this.m_angularImpulse = 0,
                this.m_maxForce = t.maxForce,
                this.m_maxTorque = t.maxTorque,
                this.m_correctionFactor = t.correctionFactor,
                this.m_rA,
                this.m_rB,
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_linearError,
                this.m_angularError,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                this.m_linearMass,
                this.m_angularMass
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/options"))
              , s = t("../util/create")
              , o = (t("../Settings"),
            t("../common/Math"))
              , a = t("../common/Vec2")
              , h = (t("../common/Vec3"),
            t("../common/Mat22"))
              , l = (t("../common/Mat33"),
            t("../common/Rot"))
              , u = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"));
            n.TYPE = "motor-joint",
            n._super = u,
            n.prototype = s(n._super.prototype);
            var c = {
                maxForce: 1,
                maxTorque: 1,
                correctionFactor: .3
            };
            n.prototype.setMaxForce = function(t) {
                this.m_maxForce = t
            }
            ,
            n.prototype.getMaxForce = function() {
                return this.m_maxForce
            }
            ,
            n.prototype.setMaxTorque = function(t) {
                this.m_maxTorque = t
            }
            ,
            n.prototype.getMaxTorque = function() {
                return this.m_maxTorque
            }
            ,
            n.prototype.setCorrectionFactor = function(t) {
                this.m_correctionFactor = t
            }
            ,
            n.prototype.getCorrectionFactor = function() {
                return this.m_correctionFactor
            }
            ,
            n.prototype.setLinearOffset = function(t) {
                t.x == this.m_linearOffset.x && t.y == this.m_linearOffset.y || (this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_linearOffset = t)
            }
            ,
            n.prototype.getLinearOffset = function() {
                return this.m_linearOffset
            }
            ,
            n.prototype.setAngularOffset = function(t) {
                t != this.m_angularOffset && (this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_angularOffset = t)
            }
            ,
            n.prototype.getAngularOffset = function() {
                return this.m_angularOffset
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getPosition()
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getPosition()
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return t * this.m_linearImpulse
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return t * this.m_angularImpulse
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyA.c_velocity.v
                  , r = this.m_bodyA.c_velocity.w
                  , s = this.m_bodyB.c_position.c
                  , o = this.m_bodyB.c_position.a
                  , u = this.m_bodyB.c_velocity.v
                  , c = this.m_bodyB.c_velocity.w
                  , d = l.neo(i)
                  , p = l.neo(o);
                this.m_rA = l.mul(d, a.neg(this.m_localCenterA)),
                this.m_rB = l.mul(p, a.neg(this.m_localCenterB));
                var f = this.m_invMassA
                  , m = this.m_invMassB
                  , _ = this.m_invIA
                  , y = this.m_invIB
                  , v = new h;
                if (v.ex.x = f + m + _ * this.m_rA.y * this.m_rA.y + y * this.m_rB.y * this.m_rB.y,
                v.ex.y = -_ * this.m_rA.x * this.m_rA.y - y * this.m_rB.x * this.m_rB.y,
                v.ey.x = v.ex.y,
                v.ey.y = f + m + _ * this.m_rA.x * this.m_rA.x + y * this.m_rB.x * this.m_rB.x,
                this.m_linearMass = v.getInverse(),
                this.m_angularMass = _ + y,
                this.m_angularMass > 0 && (this.m_angularMass = 1 / this.m_angularMass),
                this.m_linearError = a.zero(),
                this.m_linearError.wAdd(1, s, 1, this.m_rB),
                this.m_linearError.wSub(1, e, 1, this.m_rA),
                this.m_linearError.sub(l.mul(d, this.m_linearOffset)),
                this.m_angularError = o - i - this.m_angularOffset,
                t.warmStarting) {
                    this.m_linearImpulse.mul(t.dtRatio),
                    this.m_angularImpulse *= t.dtRatio;
                    var g = a.neo(this.m_linearImpulse.x, this.m_linearImpulse.y);
                    n.wSub(f, g),
                    r -= _ * (a.cross(this.m_rA, g) + this.m_angularImpulse),
                    u.wAdd(m, g),
                    c += y * (a.cross(this.m_rB, g) + this.m_angularImpulse)
                } else
                    this.m_linearImpulse.setZero(),
                    this.m_angularImpulse = 0;
                this.m_bodyA.c_velocity.v = n,
                this.m_bodyA.c_velocity.w = r,
                this.m_bodyB.c_velocity.v = u,
                this.m_bodyB.c_velocity.w = c
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = this.m_invMassA
                  , l = this.m_invMassB
                  , u = this.m_invIA
                  , c = this.m_invIB
                  , d = t.dt
                  , p = t.inv_dt
                  , f = r - i + p * this.m_correctionFactor * this.m_angularError
                  , m = -this.m_angularMass * f
                  , _ = this.m_angularImpulse
                  , y = d * this.m_maxTorque;
                this.m_angularImpulse = o.clamp(this.m_angularImpulse + m, -y, y),
                m = this.m_angularImpulse - _,
                i -= u * m,
                r += c * m;
                var f = a.zero();
                f.wAdd(1, n, 1, a.cross(r, this.m_rB)),
                f.wSub(1, e, 1, a.cross(i, this.m_rA)),
                f.wAdd(p * this.m_correctionFactor, this.m_linearError);
                var m = a.neg(h.mul(this.m_linearMass, f))
                  , _ = a.clone(this.m_linearImpulse);
                this.m_linearImpulse.add(m);
                var y = d * this.m_maxForce;
                this.m_linearImpulse.clamp(y),
                m = a.sub(this.m_linearImpulse, _),
                e.wSub(s, m),
                i -= u * a.cross(this.m_rA, m),
                n.wAdd(l, m),
                r += c * a.cross(this.m_rB, m),
                this.m_bodyA.c_velocity.v = e,
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v = n,
                this.m_bodyB.c_velocity.w = r
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                return !0
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52
        }],
        31: [function(t, e, i) {
            function n(t, e, i, s) {
                return this instanceof n ? (t = r(t, d),
                c.call(this, t, e, i),
                this.m_type = n.TYPE,
                this.m_targetA = a.clone(s),
                this.m_localAnchorB = u.mulT(this.m_bodyB.getTransform(), this.m_targetA),
                this.m_maxForce = t.maxForce,
                this.m_impulse = a.zero(),
                this.m_frequencyHz = t.frequencyHz,
                this.m_dampingRatio = t.dampingRatio,
                this.m_beta = 0,
                this.m_gamma = 0,
                this.m_rB = a.zero(),
                this.m_localCenterB = a.zero(),
                this.m_invMassB = 0,
                this.m_invIB = 0,
                this.mass = new h,
                void (this.m_C = a.zero())) : new n(t,e,i,s)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/options"))
              , s = t("../util/create")
              , o = t("../common/Math")
              , a = t("../common/Vec2")
              , h = (t("../common/Vec3"),
            t("../common/Mat22"))
              , l = (t("../common/Mat33"),
            t("../common/Rot"))
              , u = (t("../common/Sweep"),
            t("../common/Transform"))
              , c = (t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"));
            n.TYPE = "mouse-joint",
            n._super = c,
            n.prototype = s(n._super.prototype);
            var d = {
                maxForce: 0,
                frequencyHz: 5,
                dampingRatio: .7
            };
            n.prototype.setTarget = function(t) {
                0 == this.m_bodyB.isAwake() && this.m_bodyB.setAwake(!0),
                this.m_targetA = a.clone(t)
            }
            ,
            n.prototype.getTarget = function() {
                return this.m_targetA
            }
            ,
            n.prototype.setMaxForce = function(t) {
                this.m_maxForce = t
            }
            ,
            n.getMaxForce = function() {
                return this.m_maxForce
            }
            ,
            n.prototype.setFrequency = function(t) {
                this.m_frequencyHz = t
            }
            ,
            n.prototype.getFrequency = function() {
                return this.m_frequencyHz
            }
            ,
            n.prototype.setDampingRatio = function(t) {
                this.m_dampingRatio = t
            }
            ,
            n.prototype.getDampingRatio = function() {
                return this.m_dampingRatio
            }
            ,
            n.prototype.getAnchorA = function() {
                return a.clone(this.m_targetA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return a.mul(t, this.m_impulse)
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return 0 * t
            }
            ,
            n.prototype.shiftOrigin = function(t) {
                this.m_targetA.sub(t)
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyB.c_position
                  , i = this.m_bodyB.c_velocity
                  , n = e.c
                  , r = e.a
                  , s = i.v
                  , u = i.w
                  , c = l.neo(r)
                  , d = this.m_bodyB.getMass()
                  , p = 2 * o.PI * this.m_frequencyHz
                  , f = 2 * d * this.m_dampingRatio * p
                  , m = d * (p * p)
                  , _ = t.dt;
                this.m_gamma = _ * (f + _ * m),
                0 != this.m_gamma && (this.m_gamma = 1 / this.m_gamma),
                this.m_beta = _ * m * this.m_gamma,
                this.m_rB = l.mul(c, a.sub(this.m_localAnchorB, this.m_localCenterB));
                var y = new h;
                y.ex.x = this.m_invMassB + this.m_invIB * this.m_rB.y * this.m_rB.y + this.m_gamma,
                y.ex.y = -this.m_invIB * this.m_rB.x * this.m_rB.y,
                y.ey.x = y.ex.y,
                y.ey.y = this.m_invMassB + this.m_invIB * this.m_rB.x * this.m_rB.x + this.m_gamma,
                this.m_mass = y.getInverse(),
                this.m_C.set(n),
                this.m_C.wAdd(1, this.m_rB, -1, this.m_targetA),
                this.m_C.mul(this.m_beta),
                u *= .98,
                t.warmStarting ? (this.m_impulse.mul(t.dtRatio),
                s.wAdd(this.m_invMassB, this.m_impulse),
                u += this.m_invIB * a.cross(this.m_rB, this.m_impulse)) : this.m_impulse.setZero(),
                i.v.set(s),
                i.w = u
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyB.c_velocity
                  , i = a.clone(e.v)
                  , n = e.w
                  , r = a.cross(n, this.m_rB);
                r.add(i),
                r.wAdd(1, this.m_C, this.m_gamma, this.m_impulse),
                r.neg();
                var s = h.mul(this.m_mass, r)
                  , o = a.clone(this.m_impulse);
                this.m_impulse.add(s);
                var l = t.dt * this.m_maxForce;
                this.m_impulse.clamp(l),
                s = a.sub(this.m_impulse, o),
                i.wAdd(this.m_invMassB, s),
                n += this.m_invIB * a.cross(this.m_rB, s),
                e.v.set(i),
                e.w = n
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                return !0
            }
        }
        , {
            "../Joint": 5,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52
        }],
        32: [function(t, e, i) {
            function n(t, e, i, s, o) {
                return this instanceof n ? (t = r(t, m),
                p.call(this, t, e, i),
                this.m_type = n.TYPE,
                this.m_localAnchorA = t.localAnchorA || e.getLocalPoint(s),
                this.m_localAnchorB = t.localAnchorB || i.getLocalPoint(s),
                this.m_localXAxisA = t.localAxisA || e.getLocalVector(o),
                this.m_localXAxisA.normalize(),
                this.m_localYAxisA = h.cross(1, this.m_localXAxisA),
                this.m_referenceAngle = i.getAngle() - e.getAngle(),
                this.m_impulse = l(),
                this.m_motorMass = 0,
                this.m_motorImpulse = 0,
                this.m_lowerTranslation = t.lowerTranslation,
                this.m_upperTranslation = t.upperTranslation,
                this.m_maxMotorForce = t.maxMotorForce,
                this.m_motorSpeed = t.motorSpeed,
                this.m_enableLimit = t.enableLimit,
                this.m_enableMotor = t.enableMotor,
                this.m_limitState = f,
                this.m_axis = h.zero(),
                this.m_perp = h.zero(),
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                this.m_axis,
                this.m_perp,
                this.m_s1,
                this.m_s2,
                this.m_a1,
                this.m_a2,
                this.m_K = new c,
                void this.m_motorMass) : new n(t,e,i,s,o)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/options"))
              , s = t("../util/create")
              , o = t("../Settings")
              , a = t("../common/Math")
              , h = t("../common/Vec2")
              , l = t("../common/Vec3")
              , u = t("../common/Mat22")
              , c = t("../common/Mat33")
              , d = t("../common/Rot")
              , p = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"))
              , f = 0;
            n.TYPE = "prismatic-joint",
            n._super = p,
            n.prototype = s(n._super.prototype);
            var m = {
                enableLimit: !1,
                lowerTranslation: 0,
                upperTranslation: 0,
                enableMotor: !1,
                maxMotorForce: 0,
                motorSpeed: 0
            };
            n.prototype.getLocalAnchorA = function() {
                return this.m_localAnchorA
            }
            ,
            n.prototype.getLocalAnchorB = function() {
                return this.m_localAnchorB
            }
            ,
            n.prototype.getLocalAxisA = function() {
                return this.m_localXAxisA
            }
            ,
            n.prototype.getReferenceAngle = function() {
                return this.m_referenceAngle
            }
            ,
            n.prototype.getJointTranslation = function() {
                var t = this.m_bodyA.getWorldPoint(this.m_localAnchorA)
                  , e = this.m_bodyB.getWorldPoint(this.m_localAnchorB)
                  , i = h.sub(e, t)
                  , n = this.m_bodyA.getWorldVector(this.m_localXAxisA);
                return h.dot(i, n)
            }
            ,
            n.prototype.getJointSpeed = function() {
                var t = this.m_bodyA
                  , e = this.m_bodyB
                  , i = Mul(t.m_xf.q, this.m_localAnchorA - t.m_sweep.localCenter)
                  , n = Mul(e.m_xf.q, this.m_localAnchorB - e.m_sweep.localCenter)
                  , r = t.m_sweep.c + i
                  , s = e.m_sweep.c + n
                  , o = s - r
                  , a = Mul(t.m_xf.q, this.m_localXAxisA)
                  , h = t.m_linearVelocity
                  , l = e.m_linearVelocity
                  , u = t.m_angularVelocity
                  , c = e.m_angularVelocity;
                return Dot(o, Cross(u, a)) + Dot(a, l + Cross(c, n) - h - Cross(u, i))
            }
            ,
            n.prototype.isLimitEnabled = function() {
                return this.m_enableLimit
            }
            ,
            n.prototype.enableLimit = function(t) {
                t != this.m_enableLimit && (this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_enableLimit = t,
                this.m_impulse.z = 0)
            }
            ,
            n.prototype.getLowerLimit = function() {
                return this.m_lowerTranslation
            }
            ,
            n.prototype.getUpperLimit = function() {
                return this.m_upperTranslation
            }
            ,
            n.prototype.setLimits = function(t, e) {
                t == this.m_lowerTranslation && e == this.m_upperTranslation || (this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_lowerTranslation = t,
                this.m_upperTranslation = e,
                this.m_impulse.z = 0)
            }
            ,
            n.prototype.isMotorEnabled = function() {
                return this.m_enableMotor
            }
            ,
            n.prototype.enableMotor = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_enableMotor = t
            }
            ,
            n.prototype.setMotorSpeed = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_motorSpeed = t
            }
            ,
            n.prototype.setMaxMotorForce = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_maxMotorForce = t
            }
            ,
            n.prototype.getMotorSpeed = function() {
                return this.m_motorSpeed
            }
            ,
            n.prototype.getMotorForce = function(t) {
                return t * this.m_motorImpulse
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return t * (this.m_impulse.x * this.m_perp + (this.m_motorImpulse + this.m_impulse.z) * this.m_axis)
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return t * this.m_impulse.y
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyA.c_velocity.v
                  , r = this.m_bodyA.c_velocity.w
                  , s = this.m_bodyB.c_position.c
                  , l = this.m_bodyB.c_position.a
                  , u = this.m_bodyB.c_velocity.v
                  , c = this.m_bodyB.c_velocity.w
                  , p = d.neo(i)
                  , m = d.neo(l)
                  , _ = d.mul(p, h.sub(this.m_localAnchorA, this.m_localCenterA))
                  , y = d.mul(m, h.sub(this.m_localAnchorB, this.m_localCenterB))
                  , v = h.zero();
                v.wAdd(1, s, 1, y),
                v.wSub(1, e, 1, _);
                var g = this.m_invMassA
                  , x = this.m_invMassB
                  , b = this.m_invIA
                  , w = this.m_invIB;
                this.m_axis = d.mul(p, this.m_localXAxisA),
                this.m_a1 = h.cross(h.add(v, _), this.m_axis),
                this.m_a2 = h.cross(y, this.m_axis),
                this.m_motorMass = g + x + b * this.m_a1 * this.m_a1 + w * this.m_a2 * this.m_a2,
                this.m_motorMass > 0 && (this.m_motorMass = 1 / this.m_motorMass),
                this.m_perp = d.mul(p, this.m_localYAxisA),
                this.m_s1 = h.cross(h.add(v, _), this.m_perp),
                this.m_s2 = h.cross(y, this.m_perp);
                var T = (h.cross(_, this.m_perp),
                g + x + b * this.m_s1 * this.m_s1 + w * this.m_s2 * this.m_s2)
                  , A = b * this.m_s1 + w * this.m_s2
                  , S = b * this.m_s1 * this.m_a1 + w * this.m_s2 * this.m_a2
                  , C = b + w;
                0 == C && (C = 1);
                var E = b * this.m_a1 + w * this.m_a2
                  , P = g + x + b * this.m_a1 * this.m_a1 + w * this.m_a2 * this.m_a2;
                if (this.m_K.ex.set(T, A, S),
                this.m_K.ey.set(A, C, E),
                this.m_K.ez.set(S, E, P),
                this.m_enableLimit) {
                    var M = h.dot(this.m_axis, v);
                    a.abs(this.m_upperTranslation - this.m_lowerTranslation) < 2 * o.linearSlop ? this.m_limitState = 3 : M <= this.m_lowerTranslation ? 1 != this.m_limitState && (this.m_limitState = 1,
                    this.m_impulse.z = 0) : M >= this.m_upperTranslation ? 2 != this.m_limitState && (this.m_limitState = 2,
                    this.m_impulse.z = 0) : (this.m_limitState = f,
                    this.m_impulse.z = 0)
                } else
                    this.m_limitState = f,
                    this.m_impulse.z = 0;
                if (0 == this.m_enableMotor && (this.m_motorImpulse = 0),
                t.warmStarting) {
                    this.m_impulse.mul(t.dtRatio),
                    this.m_motorImpulse *= t.dtRatio;
                    var O = h.wAdd(this.m_impulse.x, this.m_perp, this.m_motorImpulse + this.m_impulse.z, this.m_axis)
                      , I = this.m_impulse.x * this.m_s1 + this.m_impulse.y + (this.m_motorImpulse + this.m_impulse.z) * this.m_a1
                      , B = this.m_impulse.x * this.m_s2 + this.m_impulse.y + (this.m_motorImpulse + this.m_impulse.z) * this.m_a2;
                    n.wSub(g, O),
                    r -= b * I,
                    u.wAdd(x, O),
                    c += w * B
                } else
                    this.m_impulse.setZero(),
                    this.m_motorImpulse = 0;
                this.m_bodyA.c_velocity.v.set(n),
                this.m_bodyA.c_velocity.w = r,
                this.m_bodyB.c_velocity.v.set(u),
                this.m_bodyB.c_velocity.w = c
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = this.m_invMassA
                  , o = this.m_invMassB
                  , u = this.m_invIA
                  , c = this.m_invIB;
                if (this.m_enableMotor && 3 != this.m_limitState) {
                    var d = h.dot(this.m_axis, h.sub(n, e)) + this.m_a2 * r - this.m_a1 * i
                      , p = this.m_motorMass * (this.m_motorSpeed - d)
                      , m = this.m_motorImpulse
                      , _ = t.dt * this.m_maxMotorForce;
                    this.m_motorImpulse = a.clamp(this.m_motorImpulse + p, -_, _),
                    p = this.m_motorImpulse - m;
                    var y = h.zero().wSet(p, this.m_axis)
                      , v = p * this.m_a1
                      , g = p * this.m_a2;
                    e.wSub(s, y),
                    i -= u * v,
                    n.wAdd(o, y),
                    r += c * g
                }
                var x = h.zero();
                if (x.x += h.dot(this.m_perp, n) + this.m_s2 * r,
                x.x -= h.dot(this.m_perp, e) + this.m_s1 * i,
                x.y = r - i,
                this.m_enableLimit && this.m_limitState != f) {
                    var b = 0;
                    b += h.dot(this.m_axis, n) + this.m_a2 * r,
                    b -= h.dot(this.m_axis, e) + this.m_a1 * i;
                    var d = l(x.x, x.y, b)
                      , w = l(this.m_impulse)
                      , T = this.m_K.solve33(l.neg(d));
                    this.m_impulse.add(T),
                    1 == this.m_limitState ? this.m_impulse.z = a.max(this.m_impulse.z, 0) : 2 == this.m_limitState && (this.m_impulse.z = a.min(this.m_impulse.z, 0));
                    var A = h.wAdd(-1, x, -(this.m_impulse.z - w.z), h.neo(this.m_K.ez.x, this.m_K.ez.y))
                      , S = h.add(this.m_K.solve22(A), h.neo(w.x, w.y));
                    this.m_impulse.x = S.x,
                    this.m_impulse.y = S.y,
                    T = l.sub(this.m_impulse, w);
                    var y = h.wAdd(T.x, this.m_perp, T.z, this.m_axis)
                      , v = T.x * this.m_s1 + T.y + T.z * this.m_a1
                      , g = T.x * this.m_s2 + T.y + T.z * this.m_a2;
                    e.wSub(s, y),
                    i -= u * v,
                    n.wAdd(o, y),
                    r += c * g
                } else {
                    var T = this.m_K.solve22(h.neg(x));
                    this.m_impulse.x += T.x,
                    this.m_impulse.y += T.y;
                    var y = h.zero().wAdd(T.x, this.m_perp)
                      , v = T.x * this.m_s1 + T.y
                      , g = T.x * this.m_s2 + T.y;
                    e.wSub(s, y),
                    i -= u * v,
                    n.wAdd(o, y),
                    r += c * g
                }
                this.m_bodyA.c_velocity.v = e,
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v = n,
                this.m_bodyB.c_velocity.w = r
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyB.c_position.c
                  , r = this.m_bodyB.c_position.a
                  , s = d.neo(i)
                  , p = d.neo(r)
                  , f = this.m_invMassA
                  , m = this.m_invMassB
                  , _ = this.m_invIA
                  , y = this.m_invIB
                  , v = d.mul(s, h.sub(this.m_localAnchorA, this.m_localCenterA))
                  , g = d.mul(p, h.sub(this.m_localAnchorB, this.m_localCenterB))
                  , x = h.sub(h.add(n, g), h.add(e, v))
                  , b = d.mul(s, this.m_localXAxisA)
                  , w = h.cross(h.add(x, v), b)
                  , T = h.cross(g, b)
                  , A = d.mul(s, this.m_localYAxisA)
                  , S = h.cross(h.add(x, v), A)
                  , C = h.cross(g, A)
                  , E = l()
                  , P = h.zero();
                P.x = h.dot(A, x),
                P.y = r - i - this.m_referenceAngle;
                var M = a.abs(P.x)
                  , O = a.abs(P.y)
                  , I = o.linearSlop
                  , B = o.maxLinearCorrection
                  , R = !1
                  , k = 0;
                if (this.m_enableLimit) {
                    var D = h.dot(b, x);
                    a.abs(this.m_upperTranslation - this.m_lowerTranslation) < 2 * I ? (k = a.clamp(D, -B, B),
                    M = a.max(M, a.abs(D)),
                    R = !0) : D <= this.m_lowerTranslation ? (k = a.clamp(D - this.m_lowerTranslation + I, -B, 0),
                    M = a.max(M, this.m_lowerTranslation - D),
                    R = !0) : D >= this.m_upperTranslation && (k = a.clamp(D - this.m_upperTranslation - I, 0, B),
                    M = a.max(M, D - this.m_upperTranslation),
                    R = !0)
                }
                if (R) {
                    var L = f + m + _ * S * S + y * C * C
                      , F = _ * S + y * C
                      , j = _ * S * w + y * C * T
                      , N = _ + y;
                    0 == N && (N = 1);
                    var z = _ * w + y * T
                      , U = f + m + _ * w * w + y * T * T
                      , V = new c;
                    V.ex.set(L, F, j),
                    V.ey.set(F, N, z),
                    V.ez.set(j, z, U);
                    var X = l();
                    X.x = P.x,
                    X.y = P.y,
                    X.z = k,
                    E = V.solve33(l.neg(X))
                } else {
                    var L = f + m + _ * S * S + y * C * C
                      , F = _ * S + y * C
                      , N = _ + y;
                    0 == N && (N = 1);
                    var V = new u;
                    V.ex.set(L, F),
                    V.ey.set(F, N);
                    var W = V.solve(h.neg(P));
                    E.x = W.x,
                    E.y = W.y,
                    E.z = 0
                }
                var q = h.wAdd(E.x, A, E.z, b)
                  , H = E.x * S + E.y + E.z * w
                  , G = E.x * C + E.y + E.z * T;
                return e.wSub(f, q),
                i -= _ * H,
                n.wAdd(m, q),
                r += y * G,
                this.m_bodyA.c_position.c = e,
                this.m_bodyA.c_position.a = i,
                this.m_bodyB.c_position.c = n,
                this.m_bodyB.c_position.a = r,
                M <= o.linearSlop && O <= o.angularSlop
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52
        }],
        33: [function(t, e, i) {
            function n(t, e, i, s, o, a, l, u) {
                return this instanceof n ? (t = r(t, d),
                c.call(this, t, e, i),
                this.m_type = n.TYPE,
                this.m_groundAnchorA = s,
                this.m_groundAnchorB = o,
                this.m_localAnchorA = e.getLocalPoint(a),
                this.m_localAnchorB = i.getLocalPoint(l),
                this.m_lengthA = h.distance(a, s),
                this.m_lengthB = h.distance(l, o),
                this.m_ratio = t.ratio || u,
                this.m_constant = this.m_lengthA + this.m_ratio * this.m_lengthB,
                this.m_impulse = 0,
                this.m_uA,
                this.m_uB,
                this.m_rA,
                this.m_rB,
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                void this.m_mass) : new n(t,e,i,s,o,a,l,u)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/options"))
              , s = t("../util/create")
              , o = t("../Settings")
              , a = t("../common/Math")
              , h = t("../common/Vec2")
              , l = t("../common/Vec3")
              , u = (t("../common/Mat22"),
            t("../common/Mat33"),
            t("../common/Rot"))
              , c = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"));
            n.TYPE = "pulley-joint",
            n.MIN_PULLEY_LENGTH = 2,
            n._super = c,
            n.prototype = s(n._super.prototype);
            var d = {
                collideConnected: !0
            };
            n.prototype.getGroundAnchorA = function() {
                return this.m_groundAnchorA
            }
            ,
            n.prototype.getGroundAnchorB = function() {
                return this.m_groundAnchorB
            }
            ,
            n.prototype.getLengthA = function() {
                return this.m_lengthA
            }
            ,
            n.prototype.getLengthB = function() {
                return this.m_lengthB
            }
            ,
            n.prototype.setRatio = function() {
                return this.m_ratio
            }
            ,
            n.prototype.getCurrentLengthA = function() {
                var t = this.m_bodyA.getWorldPoint(this.m_localAnchorA)
                  , e = this.m_groundAnchorA;
                return h.distance(t, e)
            }
            ,
            n.prototype.getCurrentLengthB = function() {
                var t = this.m_bodyB.getWorldPoint(this.m_localAnchorB)
                  , e = this.m_groundAnchorB;
                return h.distance(t, e)
            }
            ,
            n.prototype.shiftOrigin = function(t) {
                this.m_groundAnchorA -= t,
                this.m_groundAnchorB -= t
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return l.mul(t * this.m_impulse, this.m_uB)
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return 0
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyA.c_velocity.v
                  , r = this.m_bodyA.c_velocity.w
                  , s = this.m_bodyB.c_position.c
                  , a = this.m_bodyB.c_position.a
                  , l = this.m_bodyB.c_velocity.v
                  , c = this.m_bodyB.c_velocity.w
                  , d = u.neo(i)
                  , p = u.neo(a);
                this.m_rA = u.mul(d, h.sub(this.m_localAnchorA, this.m_localCenterA)),
                this.m_rB = u.mul(p, h.sub(this.m_localAnchorB, this.m_localCenterB)),
                this.m_uA = h.sub(h.add(e, this.m_rA), this.m_groundAnchorA),
                this.m_uB = h.sub(h.add(s, this.m_rB), this.m_groundAnchorB);
                var f = this.m_uA.length()
                  , m = this.m_uB.length();
                f > 10 * o.linearSlop ? this.m_uA.mul(1 / f) : this.m_uA.setZero(),
                m > 10 * o.linearSlop ? this.m_uB.mul(1 / m) : this.m_uB.setZero();
                var _ = h.cross(this.m_rA, this.m_uA)
                  , y = h.cross(this.m_rB, this.m_uB)
                  , v = this.m_invMassA + this.m_invIA * _ * _
                  , g = this.m_invMassB + this.m_invIB * y * y;
                if (this.m_mass = v + this.m_ratio * this.m_ratio * g,
                this.m_mass > 0 && (this.m_mass = 1 / this.m_mass),
                t.warmStarting) {
                    this.m_impulse *= t.dtRatio;
                    var x = h.mul(-this.m_impulse, this.m_uA)
                      , b = h.mul(-this.m_ratio * this.m_impulse, this.m_uB);
                    n.wAdd(this.m_invMassA, x),
                    r += this.m_invIA * h.cross(this.m_rA, x),
                    l.wAdd(this.m_invMassB, b),
                    c += this.m_invIB * h.cross(this.m_rB, b)
                } else
                    this.m_impulse = 0;
                this.m_bodyA.c_velocity.v = n,
                this.m_bodyA.c_velocity.w = r,
                this.m_bodyB.c_velocity.v = l,
                this.m_bodyB.c_velocity.w = c
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = h.add(e, h.cross(i, this.m_rA))
                  , o = h.add(n, h.cross(r, this.m_rB))
                  , a = -h.dot(this.m_uA, s) - this.m_ratio * h.dot(this.m_uB, o)
                  , l = -this.m_mass * a;
                this.m_impulse += l;
                var u = h.zero().wSet(-l, this.m_uA)
                  , c = h.zero().wSet(-this.m_ratio * l, this.m_uB);
                e.wAdd(this.m_invMassA, u),
                i += this.m_invIA * h.cross(this.m_rA, u),
                n.wAdd(this.m_invMassB, c),
                r += this.m_invIB * h.cross(this.m_rB, c),
                this.m_bodyA.c_velocity.v = e,
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v = n,
                this.m_bodyB.c_velocity.w = r
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyB.c_position.c
                  , r = this.m_bodyB.c_position.a
                  , s = u.neo(i)
                  , l = u.neo(r)
                  , c = u.mul(s, h.sub(this.m_localAnchorA, this.m_localCenterA))
                  , d = u.mul(l, h.sub(this.m_localAnchorB, this.m_localCenterB))
                  , p = h.sub(h.add(e, this.m_rA), this.m_groundAnchorA)
                  , f = h.sub(h.add(n, this.m_rB), this.m_groundAnchorB)
                  , m = p.length()
                  , _ = f.length();
                m > 10 * o.linearSlop ? p.mul(1 / m) : p.setZero(),
                _ > 10 * o.linearSlop ? f.mul(1 / _) : f.setZero();
                var y = h.cross(c, p)
                  , v = h.cross(d, f)
                  , g = this.m_invMassA + this.m_invIA * y * y
                  , x = this.m_invMassB + this.m_invIB * v * v
                  , b = g + this.m_ratio * this.m_ratio * x;
                b > 0 && (b = 1 / b);
                var w = this.m_constant - m - this.m_ratio * _
                  , T = a.abs(w)
                  , A = -b * w
                  , S = h.zero().wSet(-A, p)
                  , C = h.zero().wSet(-this.m_ratio * A, f);
                return e.wAdd(this.m_invMassA, S),
                i += this.m_invIA * h.cross(c, S),
                n.wAdd(this.m_invMassB, C),
                r += this.m_invIB * h.cross(d, C),
                this.m_bodyA.c_position.c = e,
                this.m_bodyA.c_position.a = i,
                this.m_bodyB.c_position.c = n,
                this.m_bodyB.c_position.a = r,
                T < o.linearSlop
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52
        }],
        34: [function(t, e, i) {
            function n(t, e, i, s) {
                return this instanceof n ? (t = r(t, m),
                p.call(this, t, e, i),
                this.m_type = n.TYPE,
                this.m_localAnchorA = t.localAnchorA || e.getLocalPoint(s),
                this.m_localAnchorB = t.localAnchorB || i.getLocalPoint(s),
                this.m_referenceAngle = i.getAngle() - e.getAngle(),
                this.m_impulse = l(),
                this.m_motorImpulse = 0,
                this.m_lowerAngle = t.lowerAngle,
                this.m_upperAngle = t.upperAngle,
                this.m_maxMotorTorque = t.maxMotorTorque,
                this.m_motorSpeed = t.motorSpeed,
                this.m_enableLimit = t.enableLimit,
                this.m_enableMotor = t.enableMotor,
                this.m_rA,
                this.m_rB,
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                this.m_mass = new c,
                this.m_motorMass,
                void (this.m_limitState = f)) : new n(t,e,i,s)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/options"))
              , s = t("../util/create")
              , o = t("../Settings")
              , a = t("../common/Math")
              , h = t("../common/Vec2")
              , l = t("../common/Vec3")
              , u = t("../common/Mat22")
              , c = t("../common/Mat33")
              , d = t("../common/Rot")
              , p = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"))
              , f = 0;
            n.TYPE = "revolute-joint",
            n._super = p,
            n.prototype = s(n._super.prototype);
            var m = {
                lowerAngle: 0,
                upperAngle: 0,
                maxMotorTorque: 0,
                motorSpeed: 0,
                enableLimit: !1,
                enableMotor: !1
            };
            n.prototype.getLocalAnchorA = function() {
                return this.m_localAnchorA
            }
            ,
            n.prototype.getLocalAnchorB = function() {
                return this.m_localAnchorB
            }
            ,
            n.prototype.getReferenceAngle = function() {
                return this.m_referenceAngle
            }
            ,
            n.prototype.getJointAngle = function() {
                var t = this.m_bodyA;
                return this.m_bodyB.m_sweep.a - t.m_sweep.a - this.m_referenceAngle
            }
            ,
            n.prototype.getJointSpeed = function() {
                var t = this.m_bodyA;
                return this.m_bodyB.m_angularVelocity - t.m_angularVelocity
            }
            ,
            n.prototype.isMotorEnabled = function() {
                return this.m_enableMotor
            }
            ,
            n.prototype.enableMotor = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_enableMotor = t
            }
            ,
            n.prototype.getMotorTorque = function(t) {
                return t * this.m_motorImpulse
            }
            ,
            n.prototype.setMotorSpeed = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_motorSpeed = t
            }
            ,
            n.prototype.getMotorSpeed = function() {
                return this.m_motorSpeed
            }
            ,
            n.prototype.setMaxMotorTorque = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_maxMotorTorque = t
            }
            ,
            n.prototype.isLimitEnabled = function() {
                return this.m_enableLimit
            }
            ,
            n.prototype.enableLimit = function(t) {
                t != this.m_enableLimit && (this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_enableLimit = t,
                this.m_impulse.z = 0)
            }
            ,
            n.prototype.getLowerLimit = function() {
                return this.m_lowerAngle
            }
            ,
            n.prototype.getUpperLimit = function() {
                return this.m_upperAngle
            }
            ,
            n.prototype.setLimits = function(t, e) {
                t == this.m_lowerAngle && e == this.m_upperAngle || (this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_impulse.z = 0,
                this.m_lowerAngle = t,
                this.m_upperAngle = e)
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return t * h.neo(this.m_impulse.x, this.m_impulse.y)
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return t * this.m_impulse.z
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyA.c_position.a
                  , i = this.m_bodyA.c_velocity.v
                  , n = this.m_bodyA.c_velocity.w
                  , r = this.m_bodyB.c_position.a
                  , s = this.m_bodyB.c_velocity.v
                  , l = this.m_bodyB.c_velocity.w
                  , u = d.neo(e)
                  , c = d.neo(r);
                this.m_rA = d.mul(u, h.sub(this.m_localAnchorA, this.m_localCenterA)),
                this.m_rB = d.mul(c, h.sub(this.m_localAnchorB, this.m_localCenterB));
                var p = this.m_invMassA
                  , m = this.m_invMassB
                  , _ = this.m_invIA
                  , y = this.m_invIB
                  , v = _ + y == 0;
                if (this.m_mass.ex.x = p + m + this.m_rA.y * this.m_rA.y * _ + this.m_rB.y * this.m_rB.y * y,
                this.m_mass.ey.x = -this.m_rA.y * this.m_rA.x * _ - this.m_rB.y * this.m_rB.x * y,
                this.m_mass.ez.x = -this.m_rA.y * _ - this.m_rB.y * y,
                this.m_mass.ex.y = this.m_mass.ey.x,
                this.m_mass.ey.y = p + m + this.m_rA.x * this.m_rA.x * _ + this.m_rB.x * this.m_rB.x * y,
                this.m_mass.ez.y = this.m_rA.x * _ + this.m_rB.x * y,
                this.m_mass.ex.z = this.m_mass.ez.x,
                this.m_mass.ey.z = this.m_mass.ez.y,
                this.m_mass.ez.z = _ + y,
                this.m_motorMass = _ + y,
                this.m_motorMass > 0 && (this.m_motorMass = 1 / this.m_motorMass),
                (0 == this.m_enableMotor || v) && (this.m_motorImpulse = 0),
                this.m_enableLimit && 0 == v) {
                    var g = r - e - this.m_referenceAngle;
                    a.abs(this.m_upperAngle - this.m_lowerAngle) < 2 * o.angularSlop ? this.m_limitState = 3 : g <= this.m_lowerAngle ? (1 != this.m_limitState && (this.m_impulse.z = 0),
                    this.m_limitState = 1) : g >= this.m_upperAngle ? (2 != this.m_limitState && (this.m_impulse.z = 0),
                    this.m_limitState = 2) : (this.m_limitState = f,
                    this.m_impulse.z = 0)
                } else
                    this.m_limitState = f;
                if (t.warmStarting) {
                    this.m_impulse.mul(t.dtRatio),
                    this.m_motorImpulse *= t.dtRatio;
                    var x = h.neo(this.m_impulse.x, this.m_impulse.y);
                    i.wSub(p, x),
                    n -= _ * (h.cross(this.m_rA, x) + this.m_motorImpulse + this.m_impulse.z),
                    s.wAdd(m, x),
                    l += y * (h.cross(this.m_rB, x) + this.m_motorImpulse + this.m_impulse.z)
                } else
                    this.m_impulse.setZero(),
                    this.m_motorImpulse = 0;
                this.m_bodyA.c_velocity.v = i,
                this.m_bodyA.c_velocity.w = n,
                this.m_bodyB.c_velocity.v = s,
                this.m_bodyB.c_velocity.w = l
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = this.m_invMassA
                  , o = this.m_invMassB
                  , u = this.m_invIA
                  , c = this.m_invIB
                  , d = u + c == 0;
                if (this.m_enableMotor && 3 != this.m_limitState && 0 == d) {
                    var p = r - i - this.m_motorSpeed
                      , m = -this.m_motorMass * p
                      , _ = this.m_motorImpulse
                      , y = t.dt * this.m_maxMotorTorque;
                    this.m_motorImpulse = a.clamp(this.m_motorImpulse + m, -y, y),
                    m = this.m_motorImpulse - _,
                    i -= u * m,
                    r += c * m
                }
                if (this.m_enableLimit && this.m_limitState != f && 0 == d) {
                    var v = h.zero();
                    v.wAdd(1, n, 1, h.cross(r, this.m_rB)),
                    v.wSub(1, e, 1, h.cross(i, this.m_rA));
                    var g = r - i
                      , p = l(v.x, v.y, g)
                      , m = l.neg(this.m_mass.solve33(p));
                    if (3 == this.m_limitState)
                        this.m_impulse.add(m);
                    else if (1 == this.m_limitState) {
                        var x = this.m_impulse.z + m.z;
                        if (x < 0) {
                            var b = h.wAdd(-1, v, this.m_impulse.z, h.neo(this.m_mass.ez.x, this.m_mass.ez.y))
                              , w = this.m_mass.solve22(b);
                            m.x = w.x,
                            m.y = w.y,
                            m.z = -this.m_impulse.z,
                            this.m_impulse.x += w.x,
                            this.m_impulse.y += w.y,
                            this.m_impulse.z = 0
                        } else
                            this.m_impulse.add(m)
                    } else if (2 == this.m_limitState) {
                        var x = this.m_impulse.z + m.z;
                        if (x > 0) {
                            var b = h.wAdd(-1, v, this.m_impulse.z, h.neo(this.m_mass.ez.x, this.m_mass.ez.y))
                              , w = this.m_mass.solve22(b);
                            m.x = w.x,
                            m.y = w.y,
                            m.z = -this.m_impulse.z,
                            this.m_impulse.x += w.x,
                            this.m_impulse.y += w.y,
                            this.m_impulse.z = 0
                        } else
                            this.m_impulse.add(m)
                    }
                    var T = h.neo(m.x, m.y);
                    e.wSub(s, T),
                    i -= u * (h.cross(this.m_rA, T) + m.z),
                    n.wAdd(o, T),
                    r += c * (h.cross(this.m_rB, T) + m.z)
                } else {
                    var p = h.zero();
                    p.wAdd(1, n, 1, h.cross(r, this.m_rB)),
                    p.wSub(1, e, 1, h.cross(i, this.m_rA));
                    var m = this.m_mass.solve22(h.neg(p));
                    this.m_impulse.x += m.x,
                    this.m_impulse.y += m.y,
                    e.wSub(s, m),
                    i -= u * h.cross(this.m_rA, m),
                    n.wAdd(o, m),
                    r += c * h.cross(this.m_rB, m)
                }
                this.m_bodyA.c_velocity.v = e,
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v = n,
                this.m_bodyB.c_velocity.w = r
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyB.c_position.c
                  , r = this.m_bodyB.c_position.a
                  , s = d.neo(i)
                  , l = d.neo(r)
                  , c = 0
                  , p = 0
                  , m = this.m_invIA + this.m_invIB == 0;
                if (this.m_enableLimit && this.m_limitState != f && 0 == m) {
                    var _ = r - i - this.m_referenceAngle
                      , y = 0;
                    if (3 == this.m_limitState) {
                        var v = a.clamp(_ - this.m_lowerAngle, -o.maxAngularCorrection, o.maxAngularCorrection);
                        y = -this.m_motorMass * v,
                        c = a.abs(v)
                    } else if (1 == this.m_limitState) {
                        var v = _ - this.m_lowerAngle;
                        c = -v,
                        v = a.clamp(v + o.angularSlop, -o.maxAngularCorrection, 0),
                        y = -this.m_motorMass * v
                    } else if (2 == this.m_limitState) {
                        var v = _ - this.m_upperAngle;
                        c = v,
                        v = a.clamp(v - o.angularSlop, 0, o.maxAngularCorrection),
                        y = -this.m_motorMass * v
                    }
                    i -= this.m_invIA * y,
                    r += this.m_invIB * y
                }
                s.set(i),
                l.set(r);
                var g = d.mul(s, h.sub(this.m_localAnchorA, this.m_localCenterA))
                  , x = d.mul(l, h.sub(this.m_localAnchorB, this.m_localCenterB))
                  , v = h.zero();
                v.wAdd(1, n, 1, x),
                v.wSub(1, e, 1, g),
                p = v.length();
                var b = this.m_invMassA
                  , w = this.m_invMassB
                  , T = this.m_invIA
                  , A = this.m_invIB
                  , S = new u;
                S.ex.x = b + w + T * g.y * g.y + A * x.y * x.y,
                S.ex.y = -T * g.x * g.y - A * x.x * x.y,
                S.ey.x = S.ex.y,
                S.ey.y = b + w + T * g.x * g.x + A * x.x * x.x;
                var C = h.neg(S.solve(v));
                return e.wSub(b, C),
                i -= T * h.cross(g, C),
                n.wAdd(w, C),
                r += A * h.cross(x, C),
                this.m_bodyA.c_position.c.set(e),
                this.m_bodyA.c_position.a = i,
                this.m_bodyB.c_position.c.set(n),
                this.m_bodyB.c_position.a = r,
                p <= o.linearSlop && c <= o.angularSlop
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52
        }],
        35: [function(t, e, i) {
            function n(t, e, i, s) {
                return this instanceof n ? (t = r(t, d),
                u.call(this, t, e, i),
                this.m_type = n.TYPE,
                this.m_localAnchorA = t.localAnchorA || e.getLocalPoint(s),
                this.m_localAnchorB = t.localAnchorB || i.getLocalPoint(s),
                this.m_maxLength = t.maxLength,
                this.m_mass = 0,
                this.m_impulse = 0,
                this.m_length = 0,
                this.m_state = c,
                this.m_u,
                this.m_rA,
                this.m_rB,
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                void this.m_mass) : new n(t,e,i,s)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = t("../util/options")
              , s = t("../util/create")
              , o = t("../Settings")
              , a = t("../common/Math")
              , h = t("../common/Vec2")
              , l = (t("../common/Vec3"),
            t("../common/Mat22"),
            t("../common/Mat33"),
            t("../common/Rot"))
              , u = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"))
              , c = 0;
            n.TYPE = "rope-joint",
            n._super = u,
            n.prototype = s(n._super.prototype);
            var d = {
                maxLength: 0
            };
            n.prototype.getLocalAnchorA = function() {
                return this.m_localAnchorA
            }
            ,
            n.prototype.getLocalAnchorB = function() {
                return this.m_localAnchorB
            }
            ,
            n.prototype.setMaxLength = function(t) {
                this.m_maxLength = t
            }
            ,
            n.prototype.getMaxLength = function() {
                return this.m_maxLength
            }
            ,
            n.prototype.getLimitState = function() {
                return this.m_state
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return t * this.m_impulse * this.m_u
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return 0
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyA.c_velocity.v
                  , r = this.m_bodyA.c_velocity.w
                  , s = this.m_bodyB.c_position.c
                  , a = this.m_bodyB.c_position.a
                  , u = this.m_bodyB.c_velocity.v
                  , d = this.m_bodyB.c_velocity.w
                  , p = l.neo(i)
                  , f = l.neo(a);
                this.m_rA = l.mulSub(p, this.m_localAnchorA, this.m_localCenterA),
                this.m_rB = l.mulSub(f, this.m_localAnchorB, this.m_localCenterB),
                this.m_u = h.zero(),
                this.m_u.wAdd(1, s, 1, this.m_rB),
                this.m_u.wSub(1, e, 1, this.m_rA),
                this.m_length = this.m_u.length();
                var m = this.m_length - this.m_maxLength;
                if (this.m_state = m > 0 ? 2 : c,
                !(this.m_length > o.linearSlop))
                    return this.m_u.setZero(),
                    this.m_mass = 0,
                    void (this.m_impulse = 0);
                this.m_u.mul(1 / this.m_length);
                var _ = h.cross(this.m_rA, this.m_u)
                  , y = h.cross(this.m_rB, this.m_u)
                  , v = this.m_invMassA + this.m_invIA * _ * _ + this.m_invMassB + this.m_invIB * y * y;
                if (this.m_mass = 0 != v ? 1 / v : 0,
                t.warmStarting) {
                    this.m_impulse *= t.dtRatio;
                    var g = h.mul(this.m_impulse, this.m_u);
                    n.wSub(this.m_invMassA, g),
                    r -= this.m_invIA * h.cross(this.m_rA, g),
                    u.wAdd(this.m_invMassB, g),
                    d += this.m_invIB * h.cross(this.m_rB, g)
                } else
                    this.m_impulse = 0;
                this.m_bodyA.c_velocity.v.set(n),
                this.m_bodyA.c_velocity.w = r,
                this.m_bodyB.c_velocity.v.set(u),
                this.m_bodyB.c_velocity.w = d
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = h.addCross(e, i, this.m_rA)
                  , o = h.addCross(n, r, this.m_rB)
                  , l = this.m_length - this.m_maxLength
                  , u = h.dot(this.m_u, h.sub(o, s));
                l < 0 && (u += t.inv_dt * l);
                var c = -this.m_mass * u
                  , d = this.m_impulse;
                this.m_impulse = a.min(0, this.m_impulse + c),
                c = this.m_impulse - d;
                var p = h.mul(c, this.m_u);
                e.wSub(this.m_invMassA, p),
                i -= this.m_invIA * h.cross(this.m_rA, p),
                n.wAdd(this.m_invMassB, p),
                r += this.m_invIB * h.cross(this.m_rB, p),
                this.m_bodyA.c_velocity.v = e,
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v = n,
                this.m_bodyB.c_velocity.w = r
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyB.c_position.c
                  , r = this.m_bodyB.c_position.a
                  , s = l.neo(i)
                  , u = l.neo(r)
                  , c = l.mulSub(s, this.m_localAnchorA, this.m_localCenterA)
                  , d = l.mulSub(u, this.m_localAnchorB, this.m_localCenterB)
                  , p = h.zero();
                p.wAdd(1, n, 1, d),
                p.wSub(1, e, 1, c);
                var f = p.normalize()
                  , m = f - this.m_maxLength;
                m = a.clamp(m, 0, o.maxLinearCorrection);
                var _ = -this.m_mass * m
                  , y = h.mul(_, p);
                return e.wSub(this.m_invMassA, y),
                i -= this.m_invIA * h.cross(c, y),
                n.wAdd(this.m_invMassB, y),
                r += this.m_invIB * h.cross(d, y),
                this.m_bodyA.c_position.c.set(e),
                this.m_bodyA.c_position.a = i,
                this.m_bodyB.c_position.c.set(n),
                this.m_bodyB.c_position.a = r,
                f - this.m_maxLength < o.linearSlop
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/create": 51,
            "../util/options": 52
        }],
        36: [function(t, e, i) {
            function n(t, e, i, s) {
                return this instanceof n ? (t = r(t, p),
                d.call(this, t, e, i),
                this.m_type = n.TYPE,
                this.m_localAnchorA = e.getLocalPoint(s),
                this.m_localAnchorB = i.getLocalPoint(s),
                this.m_referenceAngle = i.getAngle() - e.getAngle(),
                this.m_frequencyHz = t.frequencyHz,
                this.m_dampingRatio = t.dampingRatio,
                this.m_impulse = l(),
                this.m_bias = 0,
                this.m_gamma = 0,
                this.m_rA,
                this.m_rB,
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                void (this.m_mass = new u)) : new n(t,e,i,s)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = t("../util/options")
              , s = t("../util/create")
              , o = t("../Settings")
              , a = t("../common/Math")
              , h = t("../common/Vec2")
              , l = t("../common/Vec3")
              , u = (t("../common/Mat22"),
            t("../common/Mat33"))
              , c = t("../common/Rot")
              , d = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"));
            n.TYPE = "weld-joint",
            n._super = d,
            n.prototype = s(n._super.prototype);
            var p = {
                frequencyHz: 0,
                dampingRatio: 0
            };
            n.prototype.getLocalAnchorA = function() {
                return this.m_localAnchorA
            }
            ,
            n.prototype.getLocalAnchorB = function() {
                return this.m_localAnchorB
            }
            ,
            n.prototype.getReferenceAngle = function() {
                return this.m_referenceAngle
            }
            ,
            n.prototype.setFrequency = function(t) {
                this.m_frequencyHz = t
            }
            ,
            n.prototype.getFrequency = function() {
                return this.m_frequencyHz
            }
            ,
            n.prototype.setDampingRatio = function(t) {
                this.m_dampingRatio = t
            }
            ,
            n.prototype.getDampingRatio = function() {
                return this.m_dampingRatio
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return t * h.neo(this.m_impulse.x, this.m_impulse.y)
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return t * this.m_impulse.z
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_bodyA.c_position.a
                  , i = this.m_bodyA.c_velocity.v
                  , n = this.m_bodyA.c_velocity.w
                  , r = this.m_bodyB.c_position.a
                  , s = this.m_bodyB.c_velocity.v
                  , o = this.m_bodyB.c_velocity.w
                  , l = c.neo(e)
                  , d = c.neo(r);
                this.m_rA = c.mul(l, h.sub(this.m_localAnchorA, this.m_localCenterA)),
                this.m_rB = c.mul(d, h.sub(this.m_localAnchorB, this.m_localCenterB));
                var p = this.m_invMassA
                  , f = this.m_invMassB
                  , m = this.m_invIA
                  , _ = this.m_invIB
                  , y = new u;
                if (y.ex.x = p + f + this.m_rA.y * this.m_rA.y * m + this.m_rB.y * this.m_rB.y * _,
                y.ey.x = -this.m_rA.y * this.m_rA.x * m - this.m_rB.y * this.m_rB.x * _,
                y.ez.x = -this.m_rA.y * m - this.m_rB.y * _,
                y.ex.y = y.ey.x,
                y.ey.y = p + f + this.m_rA.x * this.m_rA.x * m + this.m_rB.x * this.m_rB.x * _,
                y.ez.y = this.m_rA.x * m + this.m_rB.x * _,
                y.ex.z = y.ez.x,
                y.ey.z = y.ez.y,
                y.ez.z = m + _,
                this.m_frequencyHz > 0) {
                    y.getInverse22(this.m_mass);
                    var v = m + _
                      , g = v > 0 ? 1 / v : 0
                      , x = r - e - this.m_referenceAngle
                      , b = 2 * a.PI * this.m_frequencyHz
                      , w = 2 * g * this.m_dampingRatio * b
                      , T = g * b * b
                      , A = t.dt;
                    this.m_gamma = A * (w + A * T),
                    this.m_gamma = 0 != this.m_gamma ? 1 / this.m_gamma : 0,
                    this.m_bias = x * A * T * this.m_gamma,
                    v += this.m_gamma,
                    this.m_mass.ez.z = 0 != v ? 1 / v : 0
                } else
                    0 == y.ez.z ? (y.getInverse22(this.m_mass),
                    this.m_gamma = 0,
                    this.m_bias = 0) : (y.getSymInverse33(this.m_mass),
                    this.m_gamma = 0,
                    this.m_bias = 0);
                if (t.warmStarting) {
                    this.m_impulse.mul(t.dtRatio);
                    var S = h.neo(this.m_impulse.x, this.m_impulse.y);
                    i.wSub(p, S),
                    n -= m * (h.cross(this.m_rA, S) + this.m_impulse.z),
                    s.wAdd(f, S),
                    o += _ * (h.cross(this.m_rB, S) + this.m_impulse.z)
                } else
                    this.m_impulse.setZero();
                this.m_bodyA.c_velocity.v = i,
                this.m_bodyA.c_velocity.w = n,
                this.m_bodyB.c_velocity.v = s,
                this.m_bodyB.c_velocity.w = o
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_bodyA.c_velocity.v
                  , i = this.m_bodyA.c_velocity.w
                  , n = this.m_bodyB.c_velocity.v
                  , r = this.m_bodyB.c_velocity.w
                  , s = this.m_invMassA
                  , o = this.m_invMassB
                  , a = this.m_invIA
                  , c = this.m_invIB;
                if (this.m_frequencyHz > 0) {
                    var d = r - i
                      , p = -this.m_mass.ez.z * (d + this.m_bias + this.m_gamma * this.m_impulse.z);
                    this.m_impulse.z += p,
                    i -= a * p,
                    r += c * p;
                    var f = h.zero();
                    f.wAdd(1, n, 1, h.cross(r, this.m_rB)),
                    f.wSub(1, e, 1, h.cross(i, this.m_rA));
                    var m = h.neg(u.mul(this.m_mass, f));
                    this.m_impulse.x += m.x,
                    this.m_impulse.y += m.y;
                    var _ = h.clone(m);
                    e.wSub(s, _),
                    i -= a * h.cross(this.m_rA, _),
                    n.wAdd(o, _),
                    r += c * h.cross(this.m_rB, _)
                } else {
                    var f = h.zero();
                    f.wAdd(1, n, 1, h.cross(r, this.m_rB)),
                    f.wSub(1, e, 1, h.cross(i, this.m_rA));
                    var d = r - i
                      , y = l(f.x, f.y, d)
                      , v = l.neg(u.mul(this.m_mass, y));
                    this.m_impulse.add(v);
                    var _ = h.neo(v.x, v.y);
                    e.wSub(s, _),
                    i -= a * (h.cross(this.m_rA, _) + v.z),
                    n.wAdd(o, _),
                    r += c * (h.cross(this.m_rB, _) + v.z)
                }
                this.m_bodyA.c_velocity.v = e,
                this.m_bodyA.c_velocity.w = i,
                this.m_bodyB.c_velocity.v = n,
                this.m_bodyB.c_velocity.w = r
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                var e, i, n = this.m_bodyA.c_position.c, r = this.m_bodyA.c_position.a, s = this.m_bodyB.c_position.c, d = this.m_bodyB.c_position.a, p = c.neo(r), f = c.neo(d), m = this.m_invMassA, _ = this.m_invMassB, y = this.m_invIA, v = this.m_invIB, g = c.mul(p, h.sub(this.m_localAnchorA, this.m_localCenterA)), x = c.mul(f, h.sub(this.m_localAnchorB, this.m_localCenterB)), b = new u;
                if (b.ex.x = m + _ + g.y * g.y * y + x.y * x.y * v,
                b.ey.x = -g.y * g.x * y - x.y * x.x * v,
                b.ez.x = -g.y * y - x.y * v,
                b.ex.y = b.ey.x,
                b.ey.y = m + _ + g.x * g.x * y + x.x * x.x * v,
                b.ez.y = g.x * y + x.x * v,
                b.ex.z = b.ez.x,
                b.ey.z = b.ez.y,
                b.ez.z = y + v,
                this.m_frequencyHz > 0) {
                    var w = h.zero();
                    w.wAdd(1, s, 1, x),
                    w.wSub(1, n, 1, g),
                    e = w.length(),
                    i = 0;
                    var T = h.neg(b.solve22(w));
                    n.wSub(m, T),
                    r -= y * h.cross(g, T),
                    s.wAdd(_, T),
                    d += v * h.cross(x, T)
                } else {
                    var w = h.zero();
                    w.wAdd(1, s, 1, x),
                    w.wSub(1, n, 1, g);
                    var A = d - r - this.m_referenceAngle;
                    e = w.length(),
                    i = a.abs(A);
                    var S = l(w.x, w.y, A)
                      , C = l();
                    if (b.ez.z > 0)
                        C = l.neg(b.solve33(S));
                    else {
                        var E = h.neg(b.solve22(w));
                        C.set(E.x, E.y, 0)
                    }
                    var T = h.neo(C.x, C.y);
                    n.wSub(m, T),
                    r -= y * (h.cross(g, T) + C.z),
                    s.wAdd(_, T),
                    d += v * (h.cross(x, T) + C.z)
                }
                return this.m_bodyA.c_position.c = n,
                this.m_bodyA.c_position.a = r,
                this.m_bodyB.c_position.c = s,
                this.m_bodyB.c_position.a = d,
                e <= o.linearSlop && i <= o.angularSlop
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/create": 51,
            "../util/options": 52
        }],
        37: [function(t, e, i) {
            function n(t, e, i, s, o) {
                return this instanceof n ? (t = r(t, c),
                u.call(this, t, e, i),
                this.m_type = n.TYPE,
                this.m_localAnchorA = e.getLocalPoint(s),
                this.m_localAnchorB = i.getLocalPoint(s),
                this.m_localXAxisA = e.getLocalVector(o || h.neo(1, 0)),
                this.m_localYAxisA = h.cross(1, this.m_localXAxisA),
                this.m_mass = 0,
                this.m_impulse = 0,
                this.m_motorMass = 0,
                this.m_motorImpulse = 0,
                this.m_springMass = 0,
                this.m_springImpulse = 0,
                this.m_maxMotorTorque = t.maxMotorTorque,
                this.m_motorSpeed = t.motorSpeed,
                this.m_enableMotor = t.enableMotor,
                this.m_frequencyHz = t.frequencyHz,
                this.m_dampingRatio = t.dampingRatio,
                this.m_bias = 0,
                this.m_gamma = 0,
                this.m_localCenterA,
                this.m_localCenterB,
                this.m_invMassA,
                this.m_invMassB,
                this.m_invIA,
                this.m_invIB,
                this.m_ax = h.zero(),
                this.m_ay = h.zero(),
                this.m_sAx,
                this.m_sBx,
                this.m_sAy,
                void this.m_sBy) : new n(t,e,i,s,o)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = t("../util/options")
              , s = t("../util/create")
              , o = t("../Settings")
              , a = t("../common/Math")
              , h = t("../common/Vec2")
              , l = (t("../common/Vec3"),
            t("../common/Mat22"),
            t("../common/Mat33"),
            t("../common/Rot"))
              , u = (t("../common/Sweep"),
            t("../common/Transform"),
            t("../common/Velocity"),
            t("../common/Position"),
            t("../Joint"));
            n.TYPE = "wheel-joint",
            n._super = u,
            n.prototype = s(n._super.prototype);
            var c = {
                enableMotor: !1,
                maxMotorTorque: 0,
                motorSpeed: 0,
                frequencyHz: 2,
                dampingRatio: .7
            };
            n.prototype.getLocalAnchorA = function() {
                return this.m_localAnchorA
            }
            ,
            n.prototype.getLocalAnchorB = function() {
                return this.m_localAnchorB
            }
            ,
            n.prototype.getLocalAxisA = function() {
                return this.m_localXAxisA
            }
            ,
            n.prototype.getJointTranslation = function() {
                var t = this.m_bodyA
                  , e = this.m_bodyB
                  , i = t.getWorldPoint(this.m_localAnchorA)
                  , n = e.getWorldPoint(this.m_localAnchorB)
                  , r = n - i
                  , s = t.getWorldVector(this.m_localXAxisA);
                return Dot(r, s)
            }
            ,
            n.prototype.getJointSpeed = function() {
                var t = this.m_bodyA.m_angularVelocity;
                return this.m_bodyB.m_angularVelocity - t
            }
            ,
            n.prototype.isMotorEnabled = function() {
                return this.m_enableMotor
            }
            ,
            n.prototype.enableMotor = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_enableMotor = t
            }
            ,
            n.prototype.setMotorSpeed = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_motorSpeed = t
            }
            ,
            n.prototype.getMotorSpeed = function() {
                return this.m_motorSpeed
            }
            ,
            n.prototype.setMaxMotorTorque = function(t) {
                this.m_bodyA.setAwake(!0),
                this.m_bodyB.setAwake(!0),
                this.m_maxMotorTorque = t
            }
            ,
            n.prototype.getMaxMotorTorque = function() {
                return this.m_maxMotorTorque
            }
            ,
            n.prototype.getMotorTorque = function(t) {
                return t * this.m_motorImpulse
            }
            ,
            n.prototype.setSpringFrequencyHz = function(t) {
                this.m_frequencyHz = t
            }
            ,
            n.prototype.getSpringFrequencyHz = function() {
                return this.m_frequencyHz
            }
            ,
            n.prototype.setSpringDampingRatio = function(t) {
                this.m_dampingRatio = t
            }
            ,
            n.prototype.getSpringDampingRatio = function() {
                return this.m_dampingRatio
            }
            ,
            n.prototype.getAnchorA = function() {
                return this.m_bodyA.getWorldPoint(this.m_localAnchorA)
            }
            ,
            n.prototype.getAnchorB = function() {
                return this.m_bodyB.getWorldPoint(this.m_localAnchorB)
            }
            ,
            n.prototype.getReactionForce = function(t) {
                return t * (this.m_impulse * this.m_ay + this.m_springImpulse * this.m_ax)
            }
            ,
            n.prototype.getReactionTorque = function(t) {
                return t * this.m_motorImpulse
            }
            ,
            n.prototype.initVelocityConstraints = function(t) {
                this.m_localCenterA = this.m_bodyA.m_sweep.localCenter,
                this.m_localCenterB = this.m_bodyB.m_sweep.localCenter,
                this.m_invMassA = this.m_bodyA.m_invMass,
                this.m_invMassB = this.m_bodyB.m_invMass,
                this.m_invIA = this.m_bodyA.m_invI,
                this.m_invIB = this.m_bodyB.m_invI;
                var e = this.m_invMassA
                  , i = this.m_invMassB
                  , n = this.m_invIA
                  , r = this.m_invIB
                  , s = this.m_bodyA.c_position.c
                  , o = this.m_bodyA.c_position.a
                  , u = this.m_bodyA.c_velocity.v
                  , c = this.m_bodyA.c_velocity.w
                  , d = this.m_bodyB.c_position.c
                  , p = this.m_bodyB.c_position.a
                  , f = this.m_bodyB.c_velocity.v
                  , m = this.m_bodyB.c_velocity.w
                  , _ = l.neo(o)
                  , y = l.neo(p)
                  , v = l.mul(_, h.sub(this.m_localAnchorA, this.m_localCenterA))
                  , g = l.mul(y, h.sub(this.m_localAnchorB, this.m_localCenterB))
                  , x = h.zero();
                if (x.wAdd(1, d, 1, g),
                x.wSub(1, s, 1, v),
                this.m_ay = l.mul(_, this.m_localYAxisA),
                this.m_sAy = h.cross(h.add(x, v), this.m_ay),
                this.m_sBy = h.cross(g, this.m_ay),
                this.m_mass = e + i + n * this.m_sAy * this.m_sAy + r * this.m_sBy * this.m_sBy,
                this.m_mass > 0 && (this.m_mass = 1 / this.m_mass),
                this.m_springMass = 0,
                this.m_bias = 0,
                this.m_gamma = 0,
                this.m_frequencyHz > 0) {
                    this.m_ax = l.mul(_, this.m_localXAxisA),
                    this.m_sAx = h.cross(h.add(x, v), this.m_ax),
                    this.m_sBx = h.cross(g, this.m_ax);
                    var b = e + i + n * this.m_sAx * this.m_sAx + r * this.m_sBx * this.m_sBx;
                    if (b > 0) {
                        this.m_springMass = 1 / b;
                        var w = h.dot(x, this.m_ax)
                          , T = 2 * a.PI * this.m_frequencyHz
                          , x = 2 * this.m_springMass * this.m_dampingRatio * T
                          , A = this.m_springMass * T * T
                          , S = t.dt;
                        this.m_gamma = S * (x + S * A),
                        this.m_gamma > 0 && (this.m_gamma = 1 / this.m_gamma),
                        this.m_bias = w * S * A * this.m_gamma,
                        this.m_springMass = b + this.m_gamma,
                        this.m_springMass > 0 && (this.m_springMass = 1 / this.m_springMass)
                    }
                } else
                    this.m_springImpulse = 0;
                if (this.m_enableMotor ? (this.m_motorMass = n + r,
                this.m_motorMass > 0 && (this.m_motorMass = 1 / this.m_motorMass)) : (this.m_motorMass = 0,
                this.m_motorImpulse = 0),
                t.warmStarting) {
                    this.m_impulse *= t.dtRatio,
                    this.m_springImpulse *= t.dtRatio,
                    this.m_motorImpulse *= t.dtRatio;
                    var C = h.wAdd(this.m_impulse, this.m_ay, this.m_springImpulse, this.m_ax)
                      , E = this.m_impulse * this.m_sAy + this.m_springImpulse * this.m_sAx + this.m_motorImpulse
                      , P = this.m_impulse * this.m_sBy + this.m_springImpulse * this.m_sBx + this.m_motorImpulse;
                    u.wSub(this.m_invMassA, C),
                    c -= this.m_invIA * E,
                    f.wAdd(this.m_invMassB, C),
                    m += this.m_invIB * P
                } else
                    this.m_impulse = 0,
                    this.m_springImpulse = 0,
                    this.m_motorImpulse = 0;
                this.m_bodyA.c_velocity.v.set(u),
                this.m_bodyA.c_velocity.w = c,
                this.m_bodyB.c_velocity.v.set(f),
                this.m_bodyB.c_velocity.w = m
            }
            ,
            n.prototype.solveVelocityConstraints = function(t) {
                var e = this.m_invMassA
                  , i = this.m_invMassB
                  , n = this.m_invIA
                  , r = this.m_invIB
                  , s = this.m_bodyA.c_velocity.v
                  , o = this.m_bodyA.c_velocity.w
                  , l = this.m_bodyB.c_velocity.v
                  , u = this.m_bodyB.c_velocity.w
                  , c = h.dot(this.m_ax, l) - h.dot(this.m_ax, s) + this.m_sBx * u - this.m_sAx * o
                  , d = -this.m_springMass * (c + this.m_bias + this.m_gamma * this.m_springImpulse);
                this.m_springImpulse += d;
                var p = h.zero().wSet(d, this.m_ax)
                  , f = d * this.m_sAx
                  , m = d * this.m_sBx;
                s.wSub(e, p),
                o -= n * f,
                l.wAdd(i, p),
                u += r * m;
                var c = u - o - this.m_motorSpeed
                  , d = -this.m_motorMass * c
                  , _ = this.m_motorImpulse
                  , y = t.dt * this.m_maxMotorTorque;
                this.m_motorImpulse = a.clamp(this.m_motorImpulse + d, -y, y),
                d = this.m_motorImpulse - _,
                o -= n * d,
                u += r * d;
                var c = h.dot(this.m_ay, l) - h.dot(this.m_ay, s) + this.m_sBy * u - this.m_sAy * o
                  , d = -this.m_mass * c;
                this.m_impulse += d;
                var p = h.zero().wSet(d, this.m_ay)
                  , f = d * this.m_sAy
                  , m = d * this.m_sBy;
                s.wSub(e, p),
                o -= n * f,
                l.wAdd(i, p),
                u += r * m,
                this.m_bodyA.c_velocity.v.set(s),
                this.m_bodyA.c_velocity.w = o,
                this.m_bodyB.c_velocity.v.set(l),
                this.m_bodyB.c_velocity.w = u
            }
            ,
            n.prototype.solvePositionConstraints = function(t) {
                var e = this.m_bodyA.c_position.c
                  , i = this.m_bodyA.c_position.a
                  , n = this.m_bodyB.c_position.c
                  , r = this.m_bodyB.c_position.a
                  , s = l.neo(i)
                  , u = l.neo(r)
                  , c = l.mul(s, h.sub(this.m_localAnchorA, this.m_localCenterA))
                  , d = l.mul(u, h.sub(this.m_localAnchorB, this.m_localCenterB))
                  , p = h.zero();
                p.wAdd(1, n, 1, d),
                p.wSub(1, e, 1, c);
                var f, m = l.mul(s, this.m_localYAxisA), _ = h.cross(h.sub(p, c), m), y = h.cross(d, m), v = h.dot(p, m), g = this.m_invMassA + this.m_invMassB + this.m_invIA * this.m_sAy * this.m_sAy + this.m_invIB * this.m_sBy * this.m_sBy;
                f = 0 != g ? -v / g : 0;
                var x = h.zero().wSet(f, m)
                  , b = f * _
                  , w = f * y;
                return e.wSub(this.m_invMassA, x),
                i -= this.m_invIA * b,
                n.wAdd(this.m_invMassB, x),
                r += this.m_invIB * w,
                this.m_bodyA.c_position.c.set(e),
                this.m_bodyA.c_position.a = i,
                this.m_bodyB.c_position.c.set(n),
                this.m_bodyB.c_position.a = r,
                a.abs(v) <= o.linearSlop
            }
        }
        , {
            "../Joint": 5,
            "../Settings": 7,
            "../common/Mat22": 16,
            "../common/Mat33": 17,
            "../common/Math": 18,
            "../common/Position": 19,
            "../common/Rot": 20,
            "../common/Sweep": 21,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../common/Vec3": 24,
            "../common/Velocity": 25,
            "../util/create": 51,
            "../util/options": 52
        }],
        38: [function(t, e, i) {
            function n(t, e, i, r) {
                if (!(this instanceof n))
                    return new n(t,e,i,r);
                if (n._super.call(this),
                this.m_vertices[0] = a.neo(-t, -e),
                this.m_vertices[1] = a.neo(t, -e),
                this.m_vertices[2] = a.neo(t, e),
                this.m_vertices[3] = a.neo(-t, e),
                this.m_normals[0] = a.neo(0, -1),
                this.m_normals[1] = a.neo(1, 0),
                this.m_normals[2] = a.neo(0, 1),
                this.m_normals[3] = a.neo(-1, 0),
                this.m_count = 4,
                i && "x"in i && "y"in i) {
                    r = r || 0,
                    this.m_centroid.set(i);
                    var h = s.identity();
                    h.p.set(i),
                    h.q.set(r);
                    for (var l = 0; l < this.m_count; ++l)
                        this.m_vertices[l] = s.mul(h, this.m_vertices[l]),
                        this.m_normals[l] = o.mul(h.q, this.m_normals[l])
                }
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/create"))
              , s = (t("../util/options"),
            t("../common/Math"),
            t("../common/Transform"))
              , o = t("../common/Rot")
              , a = t("../common/Vec2")
              , h = (t("../collision/AABB"),
            t("../Settings"),
            t("./PolygonShape"));
            n._super = h,
            n.prototype = r(n._super.prototype),
            n.TYPE = "polygon"
        }
        , {
            "../Settings": 7,
            "../collision/AABB": 11,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52,
            "./PolygonShape": 47
        }],
        39: [function(t, e, i) {
            function n(t, e) {
                return this instanceof n ? (n._super.call(this),
                this.m_type = n.TYPE,
                this.m_radius = a.polygonRadius,
                this.m_vertices = [],
                this.m_count = 0,
                this.m_prevVertex = null,
                this.m_nextVertex = null,
                this.m_hasPrevVertex = !1,
                this.m_hasNextVertex = !1,
                void (t && t.length && (e ? this._createLoop(t) : this._createChain(t)))) : new n(t,e)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/create"))
              , s = (t("../util/options"),
            t("../common/Math"),
            t("../common/Transform"))
              , o = (t("../common/Rot"),
            t("../common/Vec2"))
              , a = (t("../collision/AABB"),
            t("../Settings"))
              , h = t("../Shape")
              , l = t("./EdgeShape");
            n._super = h,
            n.prototype = r(n._super.prototype),
            n.TYPE = "chain",
            n.prototype._createLoop = function(t) {
                for (var e = 1; e < t.length; ++e)
                    t[e - 1],
                    t[e];
                this.m_vertices.length = 0,
                this.m_count = t.length + 1;
                for (var e = 0; e < t.length; ++e)
                    this.m_vertices[e] = t[e].clone();
                return this.m_vertices[t.length] = t[0].clone(),
                this.m_prevVertex = this.m_vertices[this.m_count - 2],
                this.m_nextVertex = this.m_vertices[1],
                this.m_hasPrevVertex = !0,
                this.m_hasNextVertex = !0,
                this
            }
            ,
            n.prototype._createChain = function(t) {
                for (var e = 1; e < t.length; ++e)
                    t[e - 1],
                    t[e];
                this.m_count = t.length;
                for (var e = 0; e < t.length; ++e)
                    this.m_vertices[e] = t[e].clone();
                return this.m_hasPrevVertex = !1,
                this.m_hasNextVertex = !1,
                this.m_prevVertex = null,
                this.m_nextVertex = null,
                this
            }
            ,
            n.prototype._setPrevVertex = function(t) {
                this.m_prevVertex = t,
                this.m_hasPrevVertex = !0
            }
            ,
            n.prototype._setNextVertex = function(t) {
                this.m_nextVertex = t,
                this.m_hasNextVertex = !0
            }
            ,
            n.prototype._clone = function() {
                var t = new n;
                return t.createChain(this.m_vertices),
                t.m_type = this.m_type,
                t.m_radius = this.m_radius,
                t.m_prevVertex = this.m_prevVertex,
                t.m_nextVertex = this.m_nextVertex,
                t.m_hasPrevVertex = this.m_hasPrevVertex,
                t.m_hasNextVertex = this.m_hasNextVertex,
                t
            }
            ,
            n.prototype.getChildCount = function() {
                return this.m_count - 1
            }
            ,
            n.prototype.getChildEdge = function(t, e) {
                t.m_type = l.TYPE,
                t.m_radius = this.m_radius,
                t.m_vertex1 = this.m_vertices[e],
                t.m_vertex2 = this.m_vertices[e + 1],
                e > 0 ? (t.m_vertex0 = this.m_vertices[e - 1],
                t.m_hasVertex0 = !0) : (t.m_vertex0 = this.m_prevVertex,
                t.m_hasVertex0 = this.m_hasPrevVertex),
                e < this.m_count - 2 ? (t.m_vertex3 = this.m_vertices[e + 2],
                t.m_hasVertex3 = !0) : (t.m_vertex3 = this.m_nextVertex,
                t.m_hasVertex3 = this.m_hasNextVertex)
            }
            ,
            n.prototype.getVertex = function(t) {
                return t < this.m_count ? this.m_vertices[t] : this.m_vertices[0]
            }
            ,
            n.prototype.testPoint = function(t, e) {
                return !1
            }
            ,
            n.prototype.rayCast = function(t, e, i, n) {
                return new l(this.getVertex(n),this.getVertex(n + 1)).rayCast(t, e, i, 0)
            }
            ,
            n.prototype.computeAABB = function(t, e, i) {
                var n = s.mul(e, this.getVertex(i))
                  , r = s.mul(e, this.getVertex(i + 1));
                t.combinePoints(n, r)
            }
            ,
            n.prototype.computeMass = function(t, e) {
                t.mass = 0,
                t.center = o.neo(),
                t.I = 0
            }
            ,
            n.prototype.computeDistanceProxy = function(t, e) {
                t.m_buffer[0] = this.getVertex(e),
                t.m_buffer[1] = this.getVertex(e + 1),
                t.m_vertices = t.m_buffer,
                t.m_count = 2,
                t.m_radius = this.m_radius
            }
        }
        , {
            "../Settings": 7,
            "../Shape": 8,
            "../collision/AABB": 11,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52,
            "./EdgeShape": 46
        }],
        40: [function(t, e, i) {
            function n(t, e) {
                return this instanceof n ? (n._super.call(this),
                this.m_type = n.TYPE,
                this.m_p = a.zero(),
                this.m_radius = 1,
                void ("object" == typeof t && a.isValid(t) ? (this.m_p.set(t),
                "number" == typeof e && (this.m_radius = e)) : "number" == typeof t && (this.m_radius = t))) : new n(t,e)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = (t("../util/common"),
            t("../util/create"))
              , s = (t("../util/options"),
            t("../common/Math"))
              , o = (t("../common/Transform"),
            t("../common/Rot"))
              , a = t("../common/Vec2")
              , h = (t("../collision/AABB"),
            t("../Settings"),
            t("../Shape"));
            n._super = h,
            n.prototype = r(n._super.prototype),
            n.TYPE = "circle",
            n.prototype.getRadius = function() {
                return this.m_radius
            }
            ,
            n.prototype.getCenter = function() {
                return this.m_p
            }
            ,
            n.prototype.getSupportVertex = function(t) {
                return this.m_p
            }
            ,
            n.prototype.getVertex = function(t) {
                return this.m_p
            }
            ,
            n.prototype.getVertexCount = function(t) {
                return 1
            }
            ,
            n.prototype._clone = function() {
                var t = new n;
                return t.m_type = this.m_type,
                t.m_radius = this.m_radius,
                t.m_p = this.m_p.clone(),
                t
            }
            ,
            n.prototype.getChildCount = function() {
                return 1
            }
            ,
            n.prototype.testPoint = function(t, e) {
                var i = a.add(t.p, o.mul(t.q, this.m_p))
                  , n = a.sub(e, i);
                return a.dot(n, n) <= this.m_radius * this.m_radius
            }
            ,
            n.prototype.rayCast = function(t, e, i, n) {
                var r = a.add(i.p, o.mul(i.q, this.m_p))
                  , h = a.sub(e.p1, r)
                  , l = a.dot(h, h) - this.m_radius * this.m_radius
                  , u = a.sub(e.p2, e.p1)
                  , c = a.dot(h, u)
                  , d = a.dot(u, u)
                  , p = c * c - d * l;
                if (p < 0 || d < s.EPSILON)
                    return !1;
                var f = -(c + s.sqrt(p));
                return 0 <= f && f <= e.maxFraction * d && (f /= d,
                t.fraction = f,
                t.normal = a.add(h, a.mul(f, u)),
                t.normal.normalize(),
                !0)
            }
            ,
            n.prototype.computeAABB = function(t, e, i) {
                var n = a.add(e.p, o.mul(e.q, this.m_p));
                t.lowerBound.set(n.x - this.m_radius, n.y - this.m_radius),
                t.upperBound.set(n.x + this.m_radius, n.y + this.m_radius)
            }
            ,
            n.prototype.computeMass = function(t, e) {
                t.mass = e * s.PI * this.m_radius * this.m_radius,
                t.center = this.m_p,
                t.I = t.mass * (.5 * this.m_radius * this.m_radius + a.dot(this.m_p, this.m_p))
            }
            ,
            n.prototype.computeDistanceProxy = function(t) {
                t.m_vertices.push(this.m_p),
                t.m_count = 1,
                t.m_radius = this.m_radius
            }
        }
        , {
            "../Settings": 7,
            "../Shape": 8,
            "../collision/AABB": 11,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52
        }],
        41: [function(t, e, i) {
            function n(t, e, i, n, s, o, a) {
                r(t, i.getShape(), e, o.getShape(), s)
            }
            function r(t, e, i, n, r) {
                t.pointCount = 0;
                var a = s.mul(i, e.m_p)
                  , l = s.mul(r, n.m_p)
                  , u = o.distanceSquared(l, a)
                  , c = e.m_radius
                  , d = n.m_radius
                  , p = c + d;
                u > p * p || (t.type = h.e_circles,
                t.localPoint.set(e.m_p),
                t.localNormal.setZero(),
                t.pointCount = 1,
                t.points[0].localPoint.set(n.m_p),
                t.points[0].id.key = 0)
            }
            DEBUG = !1,
            ASSERT = !1;
            var s = (t("../util/common"),
            t("../util/create"),
            t("../common/Math"),
            t("../common/Transform"))
              , o = t("../common/Vec2")
              , a = (t("../Settings"),
            t("../Shape"),
            t("../Contact"))
              , h = t("../Manifold")
              , l = t("./CircleShape");
            a.addType(l.TYPE, l.TYPE, n),
            i.CollideCircles = r
        }
        , {
            "../Contact": 3,
            "../Manifold": 6,
            "../Settings": 7,
            "../Shape": 8,
            "../common/Math": 18,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "../util/create": 51,
            "./CircleShape": 40
        }],
        42: [function(t, e, i) {
            function n(t, e, i, n, s, o, a) {
                r(t, i.getShape(), e, o.getShape(), s)
            }
            function r(t, e, i, n, r) {
                t.pointCount = 0;
                for (var l = o.mul(r, n.m_p), u = o.mulT(i, l), c = 0, d = -1 / 0, p = e.m_radius + n.m_radius, f = e.m_count, m = e.m_vertices, _ = e.m_normals, y = 0; y < f; ++y) {
                    var v = a.dot(_[y], a.sub(u, m[y]));
                    if (v > p)
                        return;
                    v > d && (d = v,
                    c = y)
                }
                var g = c
                  , x = g + 1 < f ? g + 1 : 0
                  , b = m[g]
                  , w = m[x];
                if (d < s.EPSILON)
                    return t.pointCount = 1,
                    t.type = h.e_faceA,
                    t.localNormal.set(_[c]),
                    t.localPoint.wSet(.5, b, .5, w),
                    t.points[0].localPoint = n.m_p,
                    void (t.points[0].id.key = 0);
                var T = a.dot(a.sub(u, b), a.sub(w, b))
                  , A = a.dot(a.sub(u, w), a.sub(b, w));
                if (T <= 0) {
                    if (a.distanceSquared(u, b) > p * p)
                        return;
                    t.pointCount = 1,
                    t.type = h.e_faceA,
                    t.localNormal.wSet(1, u, -1, b),
                    t.localNormal.normalize(),
                    t.localPoint = b,
                    t.points[0].localPoint.set(n.m_p),
                    t.points[0].id.key = 0
                } else if (A <= 0) {
                    if (a.distanceSquared(u, w) > p * p)
                        return;
                    t.pointCount = 1,
                    t.type = h.e_faceA,
                    t.localNormal.wSet(1, u, -1, w),
                    t.localNormal.normalize(),
                    t.localPoint.set(w),
                    t.points[0].localPoint.set(n.m_p),
                    t.points[0].id.key = 0
                } else {
                    var S = a.mid(b, w)
                      , d = a.dot(u, _[g]) - a.dot(S, _[g]);
                    if (d > p)
                        return;
                    t.pointCount = 1,
                    t.type = h.e_faceA,
                    t.localNormal.set(_[g]),
                    t.localPoint.set(S),
                    t.points[0].localPoint.set(n.m_p),
                    t.points[0].id.key = 0
                }
            }
            DEBUG = !1,
            ASSERT = !1;
            var s = (t("../util/common"),
            t("../common/Math"))
              , o = t("../common/Transform")
              , a = (t("../common/Rot"),
            t("../common/Vec2"))
              , h = (t("../collision/AABB"),
            t("../Settings"),
            t("../Manifold"))
              , l = t("../Contact")
              , u = (t("../Shape"),
            t("./CircleShape"))
              , c = t("./PolygonShape");
            l.addType(c.TYPE, u.TYPE, n)
        }
        , {
            "../Contact": 3,
            "../Manifold": 6,
            "../Settings": 7,
            "../Shape": 8,
            "../collision/AABB": 11,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "./CircleShape": 40,
            "./PolygonShape": 47
        }],
        43: [function(t, e, i) {
            function n(t, e, i, n, r, o, a) {
                s(t, i.getShape(), e, o.getShape(), r)
            }
            function r(t, e, i, n, r, o, a) {
                var h = i.getShape()
                  , l = new u;
                h.getChildEdge(l, n),
                s(t, l, e, o.getShape(), r)
            }
            function s(t, e, i, n, r) {
                t.pointCount = 0;
                var s = o.mulT(i, o.mul(r, n.m_p))
                  , h = e.m_vertex1
                  , u = e.m_vertex2
                  , c = a.sub(u, h)
                  , d = a.dot(c, a.sub(u, s))
                  , p = a.dot(c, a.sub(s, h))
                  , f = e.m_radius + n.m_radius;
                if (p <= 0) {
                    var m = a.clone(h)
                      , _ = a.sub(s, m)
                      , y = a.dot(_, _);
                    if (y > f * f)
                        return;
                    if (e.m_hasVertex0) {
                        var v = e.m_vertex0
                          , g = h
                          , x = a.sub(g, v);
                        if (a.dot(x, a.sub(g, s)) > 0)
                            return
                    }
                    return t.type = l.e_circles,
                    t.localNormal.setZero(),
                    t.localPoint.set(m),
                    t.pointCount = 1,
                    t.points[0].localPoint.set(n.m_p),
                    t.points[0].id.key = 0,
                    t.points[0].id.cf.indexA = 0,
                    t.points[0].id.cf.typeA = l.e_vertex,
                    t.points[0].id.cf.indexB = 0,
                    void (t.points[0].id.cf.typeB = l.e_vertex)
                }
                if (d <= 0) {
                    var m = a.clone(u)
                      , _ = a.sub(s, m)
                      , y = a.dot(_, _);
                    if (y > f * f)
                        return;
                    if (e.m_hasVertex3) {
                        var b = e.m_vertex3
                          , w = u
                          , T = a.sub(b, w);
                        if (a.dot(T, a.sub(s, w)) > 0)
                            return
                    }
                    return t.type = l.e_circles,
                    t.localNormal.setZero(),
                    t.localPoint.set(m),
                    t.pointCount = 1,
                    t.points[0].localPoint.set(n.m_p),
                    t.points[0].id.key = 0,
                    t.points[0].id.cf.indexA = 1,
                    t.points[0].id.cf.typeA = l.e_vertex,
                    t.points[0].id.cf.indexB = 0,
                    void (t.points[0].id.cf.typeB = l.e_vertex)
                }
                var A = a.dot(c, c)
                  , m = a.wAdd(d / A, h, p / A, u)
                  , _ = a.sub(s, m)
                  , y = a.dot(_, _);
                if (!(y > f * f)) {
                    var S = a.neo(-c.y, c.x);
                    a.dot(S, a.sub(s, h)) < 0 && S.set(-S.x, -S.y),
                    S.normalize(),
                    t.type = l.e_faceA,
                    t.localNormal = S,
                    t.localPoint.set(h),
                    t.pointCount = 1,
                    t.points[0].localPoint.set(n.m_p),
                    t.points[0].id.key = 0,
                    t.points[0].id.cf.indexA = 0,
                    t.points[0].id.cf.typeA = l.e_face,
                    t.points[0].id.cf.indexB = 0,
                    t.points[0].id.cf.typeB = l.e_vertex
                }
            }
            DEBUG = !1,
            ASSERT = !1;
            var o = (t("../util/common"),
            t("../util/create"),
            t("../common/Math"),
            t("../common/Transform"))
              , a = t("../common/Vec2")
              , h = (t("../common/Rot"),
            t("../Settings"),
            t("../Shape"),
            t("../Contact"))
              , l = t("../Manifold")
              , u = t("./EdgeShape")
              , c = t("./ChainShape")
              , d = t("./CircleShape");
            h.addType(u.TYPE, d.TYPE, n),
            h.addType(c.TYPE, d.TYPE, r)
        }
        , {
            "../Contact": 3,
            "../Manifold": 6,
            "../Settings": 7,
            "../Shape": 8,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "../util/create": 51,
            "./ChainShape": 39,
            "./CircleShape": 40,
            "./EdgeShape": 46
        }],
        44: [function(t, e, i) {
            function n(t, e, i, n, r, s, o) {
                h(t, i.getShape(), e, s.getShape(), r)
            }
            function r(t, e, i, n, r, s, o) {
                var a = i.getShape()
                  , l = new _;
                a.getChildEdge(l, n),
                h(t, l, e, s.getShape(), r)
            }
            function s() {
                this.type,
                this.index,
                this.separation
            }
            function o() {
                this.vertices = [],
                this.normals = [],
                this.count = 0
            }
            function a() {
                this.i1,
                this.i2,
                this.v1,
                this.v2,
                this.normal = c.zero(),
                this.sideNormal1 = c.zero(),
                this.sideOffset1,
                this.sideNormal2 = c.zero(),
                this.sideOffset2
            }
            function h(t, e, i, n, r) {
                var s = u.mulT(i, r)
                  , o = u.mul(s, n.m_centroid)
                  , a = e.m_vertex0
                  , h = e.m_vertex1
                  , f = e.m_vertex2
                  , _ = e.m_vertex3
                  , y = e.m_hasVertex0
                  , v = e.m_hasVertex3
                  , C = c.sub(f, h);
                C.normalize();
                var E = c.neo(C.y, -C.x)
                  , P = c.dot(E, c.sub(o, h))
                  , M = 0
                  , O = 0
                  , I = !1
                  , B = !1;
                if (y) {
                    var R = c.sub(h, a);
                    R.normalize();
                    var k = c.neo(R.y, -R.x);
                    I = c.cross(R, C) >= 0,
                    M = c.dot(k, o) - c.dot(k, a)
                }
                if (v) {
                    var D = c.sub(_, f);
                    D.normalize();
                    var L = c.neo(D.y, -D.x);
                    B = c.cross(C, D) > 0,
                    O = c.dot(L, o) - c.dot(L, f)
                }
                var F, j = c.zero(), N = c.zero(), z = c.zero();
                y && v ? I && B ? (F = M >= 0 || P >= 0 || O >= 0,
                F ? (j.set(E),
                N.set(k),
                z.set(L)) : (j.wSet(-1, E),
                N.wSet(-1, E),
                z.wSet(-1, E))) : I ? (F = M >= 0 || P >= 0 && O >= 0,
                F ? (j.set(E),
                N.set(k),
                z.set(E)) : (j.wSet(-1, E),
                N.wSet(-1, L),
                z.wSet(-1, E))) : B ? (F = O >= 0 || M >= 0 && P >= 0,
                F ? (j.set(E),
                N.set(E),
                z.set(L)) : (j.wSet(-1, E),
                N.wSet(-1, E),
                z.wSet(-1, k))) : (F = M >= 0 && P >= 0 && O >= 0,
                F ? (j.set(E),
                N.set(E),
                z.set(E)) : (j.wSet(-1, E),
                N.wSet(-1, L),
                z.wSet(-1, k))) : y ? I ? (F = M >= 0 || P >= 0,
                F ? (j.set(E),
                N.set(k),
                z.wSet(-1, E)) : (j.wSet(-1, E),
                N.set(E),
                z.wSet(-1, E))) : (F = M >= 0 && P >= 0,
                F ? (j.set(E),
                N.set(E),
                z.wSet(-1, E)) : (j.wSet(-1, E),
                N.set(E),
                z.wSet(-1, k))) : v ? B ? (F = P >= 0 || O >= 0,
                F ? (j.set(E),
                N.wSet(-1, E),
                z.set(L)) : (j.wSet(-1, E),
                N.wSet(-1, E),
                z.set(E))) : (F = P >= 0 && O >= 0,
                F ? (j.set(E),
                N.wSet(-1, E),
                z.set(E)) : (j.wSet(-1, E),
                N.wSet(-1, L),
                z.set(E))) : (F = P >= 0,
                F ? (j.set(E),
                N.wSet(-1, E),
                z.wSet(-1, E)) : (j.wSet(-1, E),
                N.set(E),
                z.set(E))),
                A.count = n.m_count;
                for (var U = 0; U < n.m_count; ++U)
                    A.vertices[U] = u.mul(s, n.m_vertices[U]),
                    A.normals[U] = d.mul(s.q, n.m_normals[U]);
                var V = 2 * p.polygonRadius;
                t.pointCount = 0,
                w.type = x,
                w.index = F ? 0 : 1,
                w.separation = 1 / 0;
                for (var U = 0; U < A.count; ++U) {
                    var X = c.dot(j, c.sub(A.vertices[U], h));
                    X < w.separation && (w.separation = X)
                }
                if (w.type != g && !(w.separation > V)) {
                    T.type = g,
                    T.index = -1,
                    T.separation = -1 / 0;
                    for (var W = c.neo(-j.y, j.x), U = 0; U < A.count; ++U) {
                        var q = c.neg(A.normals[U])
                          , H = c.dot(q, c.sub(A.vertices[U], h))
                          , G = c.dot(q, c.sub(A.vertices[U], f))
                          , X = l.min(H, G);
                        if (X > V) {
                            T.type = b,
                            T.index = U,
                            T.separation = X;
                            break
                        }
                        if (c.dot(q, W) >= 0) {
                            if (c.dot(c.sub(q, z), j) < -p.angularSlop)
                                continue
                        } else if (c.dot(c.sub(q, N), j) < -p.angularSlop)
                            continue;
                        X > T.separation && (T.type = b,
                        T.index = U,
                        T.separation = X)
                    }
                    if (!(T.type != g && T.separation > V)) {
                        var Y;
                        Y = T.type == g ? w : T.separation > .98 * w.separation + .001 ? T : w;
                        var J = [new m.clipVertex, new m.clipVertex];
                        if (Y.type == x) {
                            t.type = m.e_faceA;
                            for (var Q = 0, Z = c.dot(j, A.normals[0]), U = 1; U < A.count; ++U) {
                                var K = c.dot(j, A.normals[U]);
                                K < Z && (Z = K,
                                Q = U)
                            }
                            var $ = Q
                              , tt = $ + 1 < A.count ? $ + 1 : 0;
                            J[0].v = A.vertices[$],
                            J[0].id.cf.indexA = 0,
                            J[0].id.cf.indexB = $,
                            J[0].id.cf.typeA = m.e_face,
                            J[0].id.cf.typeB = m.e_vertex,
                            J[1].v = A.vertices[tt],
                            J[1].id.cf.indexA = 0,
                            J[1].id.cf.indexB = tt,
                            J[1].id.cf.typeA = m.e_face,
                            J[1].id.cf.typeB = m.e_vertex,
                            F ? (S.i1 = 0,
                            S.i2 = 1,
                            S.v1 = h,
                            S.v2 = f,
                            S.normal.set(E)) : (S.i1 = 1,
                            S.i2 = 0,
                            S.v1 = f,
                            S.v2 = h,
                            S.normal.wSet(-1, E))
                        } else
                            t.type = m.e_faceB,
                            J[0].v = h,
                            J[0].id.cf.indexA = 0,
                            J[0].id.cf.indexB = Y.index,
                            J[0].id.cf.typeA = m.e_vertex,
                            J[0].id.cf.typeB = m.e_face,
                            J[1].v = f,
                            J[1].id.cf.indexA = 0,
                            J[1].id.cf.indexB = Y.index,
                            J[1].id.cf.typeA = m.e_vertex,
                            J[1].id.cf.typeB = m.e_face,
                            S.i1 = Y.index,
                            S.i2 = S.i1 + 1 < A.count ? S.i1 + 1 : 0,
                            S.v1 = A.vertices[S.i1],
                            S.v2 = A.vertices[S.i2],
                            S.normal.set(A.normals[S.i1]);
                        S.sideNormal1.set(S.normal.y, -S.normal.x),
                        S.sideNormal2.wSet(-1, S.sideNormal1),
                        S.sideOffset1 = c.dot(S.sideNormal1, S.v1),
                        S.sideOffset2 = c.dot(S.sideNormal2, S.v2);
                        var et = [new m.clipVertex, new m.clipVertex]
                          , it = [new m.clipVertex, new m.clipVertex];
                        if (!(m.clipSegmentToLine(et, J, S.sideNormal1, S.sideOffset1, S.i1) < p.maxManifoldPoints || m.clipSegmentToLine(it, et, S.sideNormal2, S.sideOffset2, S.i2) < p.maxManifoldPoints)) {
                            Y.type == x ? (t.localNormal = c.clone(S.normal),
                            t.localPoint = c.clone(S.v1)) : (t.localNormal = c.clone(n.m_normals[S.i1]),
                            t.localPoint = c.clone(n.m_vertices[S.i1]));
                            for (var nt = 0, U = 0; U < p.maxManifoldPoints; ++U) {
                                if (c.dot(S.normal, c.sub(it[U].v, S.v1)) <= V) {
                                    var rt = t.points[nt];
                                    Y.type == x ? (rt.localPoint = u.mulT(s, it[U].v),
                                    rt.id = it[U].id) : (rt.localPoint = it[U].v,
                                    rt.id.cf.typeA = it[U].id.cf.typeB,
                                    rt.id.cf.typeB = it[U].id.cf.typeA,
                                    rt.id.cf.indexA = it[U].id.cf.indexB,
                                    rt.id.cf.indexB = it[U].id.cf.indexA),
                                    ++nt
                                }
                            }
                            t.pointCount = nt
                        }
                    }
                }
            }
            DEBUG = !1,
            ASSERT = !1;
            var l = (t("../util/common"),
            t("../util/create"),
            t("../common/Math"))
              , u = t("../common/Transform")
              , c = t("../common/Vec2")
              , d = t("../common/Rot")
              , p = t("../Settings")
              , f = (t("../Shape"),
            t("../Contact"))
              , m = t("../Manifold")
              , _ = t("./EdgeShape")
              , y = t("./ChainShape")
              , v = t("./PolygonShape");
            f.addType(_.TYPE, v.TYPE, n),
            f.addType(y.TYPE, v.TYPE, r);
            var g = -1
              , x = 1
              , b = 2
              , w = new s
              , T = new s
              , A = new o
              , S = new a
        }
        , {
            "../Contact": 3,
            "../Manifold": 6,
            "../Settings": 7,
            "../Shape": 8,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "../util/create": 51,
            "./ChainShape": 39,
            "./EdgeShape": 46,
            "./PolygonShape": 47
        }],
        45: [function(t, e, i) {
            function n(t, e, i, n, r, s, a) {
                o(t, i.getShape(), e, s.getShape(), r)
            }
            function r(t, e, i, n) {
                for (var s = t.m_count, o = i.m_count, u = t.m_normals, c = t.m_vertices, d = i.m_vertices, p = a.mulT(n, e), f = 0, m = -1 / 0, _ = 0; _ < s; ++_) {
                    for (var y = h.mul(p.q, u[_]), v = a.mul(p, c[_]), g = 1 / 0, x = 0; x < o; ++x) {
                        var b = l.dot(y, d[x]) - l.dot(y, v);
                        b < g && (g = b)
                    }
                    g > m && (m = g,
                    f = _)
                }
                r._maxSeparation = m,
                r._bestIndex = f
            }
            function s(t, e, i, n, r, s) {
                for (var o = e.m_normals, u = r.m_count, d = r.m_vertices, p = r.m_normals, f = h.mulT(s.q, h.mul(i.q, o[n])), m = 0, _ = 1 / 0, y = 0; y < u; ++y) {
                    var v = l.dot(f, p[y]);
                    v < _ && (_ = v,
                    m = y)
                }
                var g = m
                  , x = g + 1 < u ? g + 1 : 0;
                t[0].v = a.mul(s, d[g]),
                t[0].id.cf.indexA = n,
                t[0].id.cf.indexB = g,
                t[0].id.cf.typeA = c.e_face,
                t[0].id.cf.typeB = c.e_vertex,
                t[1].v = a.mul(s, d[x]),
                t[1].id.cf.indexA = n,
                t[1].id.cf.indexB = x,
                t[1].id.cf.typeA = c.e_face,
                t[1].id.cf.typeB = c.e_vertex
            }
            function o(t, e, i, n, o) {
                t.pointCount = 0;
                var d = e.m_radius + n.m_radius;
                r(e, i, n, o);
                var p = r._bestIndex
                  , f = r._maxSeparation;
                if (!(f > d)) {
                    r(n, o, e, i);
                    var m = r._bestIndex
                      , _ = r._maxSeparation;
                    if (!(_ > d)) {
                        var y, v, g, x, b, w;
                        _ > f + .1 * u.linearSlop ? (y = n,
                        v = e,
                        g = o,
                        x = i,
                        b = m,
                        t.type = c.e_faceB,
                        w = 1) : (y = e,
                        v = n,
                        g = i,
                        x = o,
                        b = p,
                        t.type = c.e_faceA,
                        w = 0);
                        var T = [new c.clipVertex, new c.clipVertex];
                        s(T, y, g, b, v, x);
                        var A = y.m_count
                          , S = y.m_vertices
                          , C = b
                          , E = b + 1 < A ? b + 1 : 0
                          , P = S[C]
                          , M = S[E]
                          , O = l.sub(M, P);
                        O.normalize();
                        var I = l.cross(O, 1)
                          , B = l.wAdd(.5, P, .5, M)
                          , R = h.mul(g.q, O)
                          , k = l.cross(R, 1);
                        P = a.mul(g, P),
                        M = a.mul(g, M);
                        var D = l.dot(k, P)
                          , L = -l.dot(R, P) + d
                          , F = l.dot(R, M) + d
                          , j = [new c.clipVertex, new c.clipVertex]
                          , N = [new c.clipVertex, new c.clipVertex];
                        if (!(c.clipSegmentToLine(j, T, l.neg(R), L, C) < 2 || c.clipSegmentToLine(N, j, R, F, E) < 2)) {
                            t.localNormal = I,
                            t.localPoint = B;
                            for (var z = 0, U = 0; U < N.length; ++U) {
                                if (l.dot(k, N[U].v) - D <= d) {
                                    var V = t.points[z];
                                    if (V.localPoint.set(a.mulT(x, N[U].v)),
                                    V.id = N[U].id,
                                    w) {
                                        var X = V.id.cf
                                          , W = X.indexA
                                          , q = X.indexB
                                          , H = X.typeA
                                          , G = X.typeB;
                                        X.indexA = q,
                                        X.indexB = W,
                                        X.typeA = G,
                                        X.typeB = H
                                    }
                                    ++z
                                }
                            }
                            t.pointCount = z
                        }
                    }
                }
            }
            DEBUG = !1,
            ASSERT = !1;
            var a = (t("../util/common"),
            t("../common/Math"),
            t("../common/Transform"))
              , h = t("../common/Rot")
              , l = t("../common/Vec2")
              , u = (t("../collision/AABB"),
            t("../Settings"))
              , c = t("../Manifold")
              , d = t("../Contact")
              , p = (t("../Shape"),
            t("./PolygonShape"));
            e.exports = o,
            d.addType(p.TYPE, p.TYPE, n)
        }
        , {
            "../Contact": 3,
            "../Manifold": 6,
            "../Settings": 7,
            "../Shape": 8,
            "../collision/AABB": 11,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "./PolygonShape": 47
        }],
        46: [function(t, e, i) {
            function n(t, e) {
                return this instanceof n ? (n._super.call(this),
                this.m_type = n.TYPE,
                this.m_radius = s.polygonRadius,
                this.m_vertex1 = t ? l.clone(t) : l.zero(),
                this.m_vertex2 = e ? l.clone(e) : l.zero(),
                this.m_vertex0 = l.zero(),
                this.m_vertex3 = l.zero(),
                this.m_hasVertex0 = !1,
                void (this.m_hasVertex3 = !1)) : new n(t,e)
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var r = t("../util/create")
              , s = (t("../util/options"),
            t("../Settings"))
              , o = t("../Shape")
              , a = (t("../common/Math"),
            t("../common/Transform"))
              , h = t("../common/Rot")
              , l = t("../common/Vec2");
            t("../collision/AABB"),
            n._super = o,
            n.prototype = r(n._super.prototype),
            n.TYPE = "edge",
            n.prototype.setNext = function(t) {
                return t ? (this.m_vertex3.set(t),
                this.m_hasVertex3 = !0) : (this.m_vertex3.setZero(),
                this.m_hasVertex3 = !1),
                this
            }
            ,
            n.prototype.setPrev = function(t) {
                return t ? (this.m_vertex0.set(t),
                this.m_hasVertex0 = !0) : (this.m_vertex0.setZero(),
                this.m_hasVertex0 = !1),
                this
            }
            ,
            n.prototype._set = function(t, e) {
                return this.m_vertex1.set(t),
                this.m_vertex2.set(e),
                this.m_hasVertex0 = !1,
                this.m_hasVertex3 = !1,
                this
            }
            ,
            n.prototype._clone = function() {
                var t = new n;
                return t.m_type = this.m_type,
                t.m_radius = this.m_radius,
                t.m_vertex1.set(this.m_vertex1),
                t.m_vertex2.set(this.m_vertex2),
                t.m_vertex0.set(this.m_vertex0),
                t.m_vertex3.set(this.m_vertex3),
                t.m_hasVertex0 = this.m_hasVertex0,
                t.m_hasVertex3 = this.m_hasVertex3,
                t
            }
            ,
            n.prototype.getChildCount = function() {
                return 1
            }
            ,
            n.prototype.testPoint = function(t, e) {
                return !1
            }
            ,
            n.prototype.rayCast = function(t, e, i, n) {
                var r = h.mulT(i.q, l.sub(e.p1, i.p))
                  , s = h.mulT(i.q, l.sub(e.p2, i.p))
                  , o = l.sub(s, r)
                  , a = this.m_vertex1
                  , u = this.m_vertex2
                  , c = l.sub(u, a)
                  , d = l.neo(c.y, -c.x);
                d.normalize();
                var p = l.dot(d, l.sub(a, r))
                  , f = l.dot(d, o);
                if (0 == f)
                    return !1;
                var m = p / f;
                if (m < 0 || e.maxFraction < m)
                    return !1;
                var _ = l.add(r, l.mul(m, o))
                  , y = l.sub(u, a)
                  , v = l.dot(y, y);
                if (0 == v)
                    return !1;
                var g = l.dot(l.sub(_, a), y) / v;
                return !(g < 0 || 1 < g || (t.fraction = m,
                t.normal = p > 0 ? h.mul(i.q, d).neg() : h.mul(i.q, d),
                0))
            }
            ,
            n.prototype.computeAABB = function(t, e, i) {
                var n = a.mul(e, this.m_vertex1)
                  , r = a.mul(e, this.m_vertex2);
                t.combinePoints(n, r),
                t.extend(this.m_radius)
            }
            ,
            n.prototype.computeMass = function(t, e) {
                t.mass = 0,
                t.center.wSet(.5, this.m_vertex1, .5, this.m_vertex2),
                t.I = 0
            }
            ,
            n.prototype.computeDistanceProxy = function(t) {
                t.m_vertices.push(this.m_vertex1),
                t.m_vertices.push(this.m_vertex2),
                t.m_count = 2,
                t.m_radius = this.m_radius
            }
        }
        , {
            "../Settings": 7,
            "../Shape": 8,
            "../collision/AABB": 11,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/create": 51,
            "../util/options": 52
        }],
        47: [function(t, e, i) {
            function n(t) {
                return this instanceof n ? (n._super.call(this),
                this.m_type = n.TYPE,
                this.m_radius = u.polygonRadius,
                this.m_centroid = l.zero(),
                this.m_vertices = [],
                this.m_normals = [],
                this.m_count = 0,
                void (t && t.length && this._set(t))) : new n(t)
            }
            function r(t, e) {
                for (var i, n = l.zero(), r = 0, s = l.zero(), i = 0; i < e; ++i) {
                    var o = s
                      , a = t[i]
                      , h = i + 1 < e ? t[i + 1] : t[0]
                      , u = l.sub(a, o)
                      , c = l.sub(h, o)
                      , d = l.cross(u, c)
                      , p = .5 * d;
                    r += p,
                    n.wAdd(p * (1 / 3), o),
                    n.wAdd(p * (1 / 3), a),
                    n.wAdd(p * (1 / 3), h)
                }
                return n.mul(1 / r),
                n
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n;
            var s = (t("../util/common"),
            t("../util/create"))
              , o = (t("../util/options"),
            t("../common/Math"))
              , a = t("../common/Transform")
              , h = t("../common/Rot")
              , l = t("../common/Vec2")
              , u = (t("../collision/AABB"),
            t("../Settings"))
              , c = t("../Shape");
            n._super = c,
            n.prototype = s(n._super.prototype),
            n.TYPE = "polygon",
            n.prototype.getVertex = function(t) {
                return this.m_vertices[t]
            }
            ,
            n.prototype._clone = function() {
                var t = new n;
                t.m_type = this.m_type,
                t.m_radius = this.m_radius,
                t.m_count = this.m_count,
                t.m_centroid.set(this.m_centroid);
                for (var e = 0; e < this.m_count; e++)
                    t.m_vertices.push(this.m_vertices[e].clone());
                for (var e = 0; e < this.m_normals.length; e++)
                    t.m_normals.push(this.m_normals[e].clone());
                return t
            }
            ,
            n.prototype.getChildCount = function() {
                return 1
            }
            ,
            n.prototype._set = function(t) {
                if (t.length < 3)
                    return void SetAsBox(1, 1);
                for (var e = o.min(t.length, u.maxPolygonVertices), i = [], n = 0, s = 0; s < e; ++s) {
                    for (var a = t[s], h = !0, c = 0; c < n; ++c)
                        if (l.distanceSquared(a, i[c]) < .25 * u.linearSlopSquared) {
                            h = !1;
                            break
                        }
                    h && (i[n++] = a)
                }
                if ((e = n) < 3)
                    return void SetAsBox(1, 1);
                for (var d = 0, p = i[0].x, s = 1; s < e; ++s) {
                    var f = i[s].x;
                    (f > p || f == p && i[s].y < i[d].y) && (d = s,
                    p = f)
                }
                for (var m = [], _ = 0, y = d; ; ) {
                    m[_] = y;
                    for (var v = 0, c = 1; c < e; ++c)
                        if (v != y) {
                            var g = l.sub(i[v], i[m[_]])
                              , a = l.sub(i[c], i[m[_]])
                              , x = l.cross(g, a);
                            x < 0 && (v = c),
                            0 == x && a.lengthSquared() > g.lengthSquared() && (v = c)
                        } else
                            v = c;
                    if (++_,
                    y = v,
                    v == d)
                        break
                }
                if (_ < 3)
                    return void SetAsBox(1, 1);
                this.m_count = _;
                for (var s = 0; s < _; ++s)
                    this.m_vertices[s] = i[m[s]];
                for (var s = 0; s < _; ++s) {
                    var b = s
                      , w = s + 1 < _ ? s + 1 : 0
                      , T = l.sub(this.m_vertices[w], this.m_vertices[b]);
                    this.m_normals[s] = l.cross(T, 1),
                    this.m_normals[s].normalize()
                }
                this.m_centroid = r(this.m_vertices, _)
            }
            ,
            n.prototype.testPoint = function(t, e) {
                for (var i = h.mulT(t.q, l.sub(e, t.p)), n = 0; n < this.m_count; ++n) {
                    if (l.dot(this.m_normals[n], l.sub(i, this.m_vertices[n])) > 0)
                        return !1
                }
                return !0
            }
            ,
            n.prototype.rayCast = function(t, e, i, n) {
                for (var r = h.mulT(i.q, l.sub(e.p1, i.p)), s = h.mulT(i.q, l.sub(e.p2, i.p)), o = l.sub(s, r), a = 0, u = e.maxFraction, c = -1, d = 0; d < this.m_count; ++d) {
                    var p = l.dot(this.m_normals[d], l.sub(this.m_vertices[d], r))
                      , f = l.dot(this.m_normals[d], o);
                    if (0 == f) {
                        if (p < 0)
                            return !1
                    } else
                        f < 0 && p < a * f ? (a = p / f,
                        c = d) : f > 0 && p < u * f && (u = p / f);
                    if (u < a)
                        return !1
                }
                return c >= 0 && (t.fraction = a,
                t.normal = h.mul(i.q, this.m_normals[c]),
                !0)
            }
            ,
            n.prototype.computeAABB = function(t, e, i) {
                for (var n = 1 / 0, r = 1 / 0, s = -1 / 0, h = -1 / 0, l = 0; l < this.m_count; ++l) {
                    var u = a.mul(e, this.m_vertices[l]);
                    n = o.min(n, u.x),
                    s = o.max(s, u.x),
                    r = o.min(r, u.y),
                    h = o.max(h, u.y)
                }
                t.lowerBound.set(n, r),
                t.upperBound.set(s, h),
                t.extend(this.m_radius)
            }
            ,
            n.prototype.computeMass = function(t, e) {
                for (var i = l.zero(), n = 0, r = 0, s = l.zero(), o = 0; o < this.m_count; ++o)
                    s.add(this.m_vertices[o]);
                s.mul(1 / this.m_count);
                for (var o = 0; o < this.m_count; ++o) {
                    var a = l.sub(this.m_vertices[o], s)
                      , h = o + 1 < this.m_count ? l.sub(this.m_vertices[o + 1], s) : l.sub(this.m_vertices[0], s)
                      , u = l.cross(a, h)
                      , c = .5 * u;
                    n += c,
                    i.wAdd(c * (1 / 3), a, c * (1 / 3), h);
                    var d = a.x
                      , p = a.y
                      , f = h.x
                      , m = h.y;
                    r += 1 / 3 * .25 * u * (d * d + f * d + f * f + (p * p + m * p + m * m))
                }
                t.mass = e * n,
                i.mul(1 / n),
                t.center.wSet(1, i, 1, s),
                t.I = e * r,
                t.I += t.mass * (l.dot(t.center, t.center) - l.dot(i, i))
            }
            ,
            n.prototype.validate = function() {
                for (var t = 0; t < this.m_count; ++t)
                    for (var e = t, i = t < this.m_count - 1 ? e + 1 : 0, n = this.m_vertices[e], r = l.sub(this.m_vertices[i], n), s = 0; s < this.m_count; ++s)
                        if (s != e && s != i) {
                            var o = l.sub(this.m_vertices[s], n)
                              , a = l.cross(r, o);
                            if (a < 0)
                                return !1
                        }
                return !0
            }
            ,
            n.prototype.computeDistanceProxy = function(t) {
                t.m_vertices = this.m_vertices,
                t.m_count = this.m_count,
                t.m_radius = this.m_radius
            }
        }
        , {
            "../Settings": 7,
            "../Shape": 8,
            "../collision/AABB": 11,
            "../common/Math": 18,
            "../common/Rot": 20,
            "../common/Transform": 22,
            "../common/Vec2": 23,
            "../util/common": 50,
            "../util/create": 51,
            "../util/options": 52
        }],
        48: [function(t, e, i) {
            function n(t) {
                var e = []
                  , i = t.max || 1 / 0
                  , n = t.create
                  , r = t.allocate
                  , s = t.release
                  , o = t.discard
                  , a = 0
                  , h = 0
                  , l = 0
                  , u = 0;
                this.max = function(t) {
                    return "number" == typeof t ? (i = t,
                    this) : i
                }
                ,
                this.size = function() {
                    return e.length
                }
                ,
                this.allocate = function() {
                    var t;
                    return e.length > 0 ? t = e.shift() : (a++,
                    t = "function" == typeof n ? n() : {}),
                    h++,
                    "function" == typeof r && r(t),
                    t
                }
                ,
                this.release = function(t) {
                    e.length < i ? (l++,
                    "function" == typeof s && s(t),
                    e.push(t)) : (u++,
                    "function" == typeof o && (t = o(t)))
                }
                ,
                this.toString = function() {
                    return " +" + a + " >" + h + " <" + l + " -" + u + " =" + e.length + "/" + i
                }
            }
            DEBUG = !1,
            ASSERT = !1,
            e.exports = n
        }
        , {}],
        49: [function(t, e, i) {
            DEBUG = !1,
            ASSERT = !1,
            e.exports.now = function() {
                return Date.now()
            }
            ,
            e.exports.diff = function(t) {
                return Date.now() - t
            }
        }
        , {}],
        50: [function(t, e, i) {
            DEBUG = !1,
            ASSERT = !1,
            i.debug = function() {}
            ,
            i.assert = function(t, e, i) {}
        }
        , {}],
        51: [function(t, e, i) {
            function n() {}
            "function" == typeof Object.create ? e.exports = function(t, e) {
                return Object.create.call(Object, t, e)
            }
            : e.exports = function(t, e) {
                if (e)
                    throw Error("Second argument is not supported!");
                if ("object" != typeof t || null === t)
                    throw Error("Invalid prototype!");
                return n.prototype = t,
                new n
            }
        }
        , {}],
        52: [function(t, e, i) {
            DEBUG = !1,
            ASSERT = !1,
            Object.prototype.propertyIsEnumerable,
            e.exports = function(t, e) {
                null !== t && void 0 !== t || (t = {});
                for (var i in e)
                    e.hasOwnProperty(i) && void 0 === t[i] && (t[i] = e[i]);
                if ("function" == typeof Object.getOwnPropertySymbols)
                    for (var n = Object.getOwnPropertySymbols(e), r = 0; r < n.length; r++) {
                        var s = n[r];
                        e.propertyIsEnumerable(s) && void 0 === t[i] && (t[s] = e[s])
                    }
                return t
            }
        }
        , {}]
    }, {}, [1])(1)
}),
define("partials/phrases", ["TweenMax", "planck", "pixi", "utils/preloaders"], function(e, i, n, r) {
    var o = function() {
        n.Container.call(this),
        this.sound = r.experience.getHowl("audiosprite"),
        this.steps = [{
            text: "long time ago",
            sound: "long_time_ago"
        }, {
            text: "in a town",
            sound: "in_a_town",
            flash: "town",
            flashDelay: 0
        }, {
            text: "in a galaxy",
            deletePrev: !0,
            sound: "in_a_galaxy",
            flash: "galaxy",
            flashDelay: 1400
        }, {
            text: "relatively close",
            sound: "relatively_close",
            flash: "",
            flashDelay: 0
        }, {
            text: "a boy got",
            sound: "a_boy_got",
            flash: "",
            flashDelay: 0
        }, {
            text: "superpowers",
            sound: "superpowers",
            flash: "superpowers",
            flashDelay: 0
        }, {
            text: "so he went",
            sound: "so_he_went",
            flash: "",
            flashDelay: 0
        }, {
            text: "back in time",
            sound: "back_in_time",
            flash: "backintime",
            flashDelay: 0
        }, {
            text: "to protect",
            sound: "to_protect",
            flash: "",
            flashDelay: 0
        }, {
            text: "his mother from",
            sound: "his_mother",
            flash: "",
            flashDelay: 0
        }, {
            text: "a killing robot",
            sound: "a_killing_robot",
            flash: "killingrobot",
            flashDelay: 0
        }, {
            text: "but accidentally",
            sound: "but_accidentally",
            flash: "",
            flashDelay: 0
        }, {
            text: "dated her",
            sound: "dated_her",
            flash: "date",
            flashDelay: 0
        }],
        this.totalSteps = this.steps.length,
        this.lines = [],
        this.letterScale = .7,
        this.bodyRelHeight = .8,
        this.spaceWidth = 70,
        this.cursorSpace = 40,
        this.offTop = 200,
        this.cursorFollow = !1,
        this.canAdd = !0,
        this.bodyToPixel = 140 * this.letterScale,
        this.pixelToBody = 1 / this.bodyToPixel,
        this.fixtureDef = {
            density: 1,
            friction: .5,
            restitution: .2
        },
        this.jointDef = {
            enableLimit: !0,
            collideConnected: !1,
            lowerAngle: -.01,
            upperAngle: .01
        },
        this.step = 0,
        this.world = new i.World(i.Vec2(0, -50)),
        this.world.m_velocityIterations = 4,
        this.ground = this.world.createBody(),
        this.ground.createFixture(i.Edge(i.Vec2(-8, 0), i.Vec2(8, 0)), 0),
        this.world.m_velocityIterations = 3
    };
    return o.prototype = Object.create(n.Container.prototype),
    o.prototype.contructor = o,
    o.prototype.start = function() {
        this.cursor = new n.Sprite(n.utils.TextureCache["cursor.png"]),
        this.cursor.anchor.y = this.cursor.anchor.x = .5,
        this.cursor.scale.y = this.cursor.scale.x = this.letterScale,
        this.addChild(this.cursor),
        (this.cursorTween = new TimelineMax({
            repeat: -1,
            repeatDelay: .2
        })).fromTo(this.cursor, .2, {
            alpha: 1
        }, {
            alpha: 0
        }, .2),
        this.cursor.y = this.offTop - 70
    }
    ,
    o.prototype.nextStep = function() {
        var t = this;
        if (this.animatingText || this.readingText)
            return !1;
        this.animatingText = !0,
        this.cursorFollow = !1;
        var e = this.steps[this.step];
        if (e.deletePrev ? (t.cursorFollow = !0,
        this.removeLastLine(function() {
            setTimeout(function() {
                t.pushAndAdd(e.text)
            }, 800)
        })) : this.pushAndAdd(e.text),
        e.flash && setTimeout(function() {
            var i = new n.Sprite(n.utils.TextureCache["write-flash-" + e.flash + ".png"]);
            i.anchor.y = i.anchor.x = .5,
            t.addChild(i),
            setTimeout(function() {
                t.removeChild(i),
                i = null
            }, 200)
        }, e.flashDelay),
        e.sound) {
            this.readingText = !0;
            var i = this.sound.play("i04_voice_" + e.sound);
            this.sound.on("end", function() {
                t.readingText = !1
            }, i)
        } else
            this.readingText = !1;
        return ++this.step,
        !0
    }
    ,
    o.prototype.pushAndAdd = function(t, e) {
        var i = this;
        this.pushLines(function() {
            i.addNextLine(t, function() {
                i.animatingText = !1
            }),
            i.cursorFollow = !0
        })
    }
    ,
    o.prototype.addNextLine = function(t, e) {
        function r() {
            var t = l.sound.play("i04_key_0" + Math.round(1 + 4 * Math.random()));
            l.sound.volume(Math.random(), t)
        }
        var s, o, a, h, l = this, u = [], c = [], d = t.length, p = 0, f = 0;
        for (s = 0; s < d; ++s)
            o = t.charAt(s),
            "'" == o && (o = "tilde"),
            a = n.utils.TextureCache[o + ".png"],
            a ? (h = new n.Sprite(a),
            0 === f && (f = h.height),
            h.anchor.x = h.anchor.y = .5,
            h.scale.x = h.scale.y = this.letterScale,
            h.x = p,
            p += h.width,
            this.addChildAt(h, 0),
            u.push(h)) : (p += this.spaceWidth * this.letterScale,
            u.push(null));
        var m, _, y, v, g, x, b, w = p * this.pixelToBody, T = this.spaceWidth * this.letterScale * this.pixelToBody, A = f * this.letterScale * this.pixelToBody, S = -w / 2;
        for (s = 0; s < d; ++s) {
            h = u[s],
            m = h ? h.width * this.pixelToBody : T,
            _ = h ? h.height * this.pixelToBody * this.bodyRelHeight : A;
            var C = i.Circle(m / 2);
            y = S + m / 2,
            v = 0 + _ / 2,
            g = this.world.createBody({
                type: "dynamic",
                position: i.Vec2(y, v)
            }),
            g.createFixture(C, this.fixtureDef),
            x && (b = i.Vec2(y, v),
            this.world.createJoint(i.RevoluteJoint(this.jointDef, x, g, b))),
            x = g,
            c.push(g),
            S += m
        }
        for (a = new TimelineMax({
            onComplete: function() {
                e && e()
            }
        }),
        s = 0; s < d; ++s)
            (h = u[s]) && a.from(h, .02, {
                alpha: 0,
                onComplete: r
            }, .05 * s);
        this.lines.push({
            sprites: u,
            bodies: c
        })
    }
    ,
    o.prototype.pushLines = function(t) {
        var e, n, r, s, o, a = this.lines.length - 7;
        for (n = 0; n < this.lines.length; ++n)
            for (r = this.lines[n],
            e = 0; e < r.bodies.length; ++e)
                (s = r.bodies[e]) && (o = n > a ? 0 : 10 * Math.random() - 5,
                s.applyLinearImpulse(i.Vec2(o, 10 + .5 * this.lines.length), s.getWorldCenter(), !0));
        setTimeout(function() {
            t && t()
        }, 300)
    }
    ,
    o.prototype.removeLastLine = function(e) {
        function i() {
            var t = r.sound.play("i04_key_04");
            r.sound.volume(Math.random(), t)
        }
        var n, r = this, o = this.lines[this.lines.length - 1], a = o.sprites.length, h = o.sprites, l = o.bodies;
        for (t = new TimelineMax({
            onComplete: function() {
                for (n = 0; n < a; ++n)
                    r.world.destroyBody(l[n]);
                e && e()
            }
        }),
        n = 0; n < a; ++n)
            s = h[a - n - 1],
            s && t.to(s, .02, {
                alpha: 0,
                onComplete: i
            }, .05 * n)
    }
    ,
    o.prototype.out = function(t) {
        var e, n, r, s, o;
        this.lines.length;
        for (n = 0; n < this.lines.length; ++n)
            for (r = this.lines[n],
            e = 0; e < r.bodies.length; ++e)
                (s = r.bodies[e]) && (o = 10 * Math.random() - 5,
                s.applyLinearImpulse(i.Vec2(o, 15), s.getWorldCenter(), !0));
        this.world.destroyBody(this.ground)
    }
    ,
    o.prototype.update = function(t) {
        this.world.step(1 / 60),
        this.alpha = .9 + .1 * Math.random();
        var e, i, n, r, s, o;
        for (i = 0; i < this.lines.length; ++i)
            for (n = this.lines[i],
            e = 0; e < n.bodies.length; ++e)
                s = n.bodies[e],
                (r = n.sprites[e]) && s && (o = s.getPosition(),
                r.x = o.x * this.bodyToPixel,
                r.y = -o.y * this.bodyToPixel + this.offTop,
                r.rotation = -s.getAngle(),
                r.y > 1200 && (this.world.destroyBody(s),
                n.bodies[e] = null),
                r.alpha > 0 && this.cursorFollow && (this.cursor.x = r.x + r.width / 2 + this.cursorSpace,
                this.cursor.y = r.y - .05 * this.cursor.height))
    }
    ,
    o.prototype.destroy = function() {
        this.cursorTween && this.cursorTween.kill()
    }
    ,
    o
}),
define("controllers/interaction_write", ["TweenMax", "utils/preloaders", "partials/musicplayer", "partials/phrases", "models/globals", "models/beziers", "controllers/pixiapp", "controllers/interactionbase"], function(t, e, i, n, r, s, o, a) {
    var h = function() {
        a.call(this)
    };
    return h.prototype = Object.create(a.prototype),
    h.prototype.contructor = h,
    h.prototype.init = function() {
        var e = this;
        this.score = 0,
        this.achievements = [{
            id: "step1",
            scoreKeyboard: 1e5,
            scoreMobile: 1e5
        }];
        var i;
        i = this.useTouch ? [{
            key: "A",
            caption: "A"
        }, {
            key: "B",
            caption: "B"
        }, {
            key: "C",
            caption: "C"
        }, {
            key: "D",
            caption: "D"
        }] : [{
            key: "Q",
            caption: "Q"
        }, {
            key: "W",
            caption: "W"
        }, {
            key: "E",
            caption: "E"
        }, {
            key: "R",
            caption: "R"
        }],
        sequence = [0, 1, 2, 3, 2, 3, 1, 0, 2, 0, 3, 2, 3, 1, 0, 2, 0, 1, 3, 2, 3, 0, 1, 3, 1, 0, 1, 2, 3, 2, 3, 1, 0, 2, 0, 3, 2, 3, 1, 0, 2, 0, 1, 3, 2, 3, 0, 1, 3, 1, 0, 1, 2, 3, 2, 3, 1, 0, 2, 0, 3, 2, 3, 1, 0, 2, 0, 1, 3, 2, 3, 0, 1, 3, 1],
        this.keyboard.create(i, sequence, !1),
        this.keyboard.onGoodPress = function() {
            e.onGood()
        }
        ,
        this.keyboard.demoIntervalTime = 300,
        this.container = new PIXI.Container,
        this.stage.addChild(this.container),
        this.time = (new Date).getTime(),
        this.totalTime = 0,
        this.timeWarning = !1,
        this.sounds.loop = this.sound.play("i04_loop"),
        this.addScene(),
        this.resize(),
        this.tick(),
        this.emitOnReady(),
        t.from(this.mask, .6, {
            x: "+=" + r.videoSize.width,
            ease: Quad.easeOut
        }),
        this.prepareTweenForCleanup(t.from(this.container, .6, {
            x: "+=" + r.videoSize.width,
            ease: Quad.easeOut,
            onComplete: function() {
                e.openChest();
                var i = {
                    total: 3,
                    minPointOffset: 5,
                    maxPointOffset: 20,
                    minStrokeWidth: 2,
                    maxStrokeWidth: 17
                };
                e.wiggling = !0,
                e.addTitle(s.beatToWrite, .5, 2, function() {
                    e.chest.go(),
                    e.keyboard.show(),
                    e.sound.play("i04_voice_intro"),
                    e.notifyStartInteraction(),
                    e.phrases.start(),
                    t.to(e.background.scale, 1, {
                        x: 1.02,
                        y: 1.02,
                        ease: Quad.easeInOut
                    })
                }, i)
            }
        }))
    }
    ,
    h.prototype.addScene = function() {
        this.interaction = new PIXI.Container,
        this.container.addChild(this.interaction),
        this.interaction.x = 960,
        this.interaction.y = 540;
        for (var t = [], e = 0; e < 13; ++e) {
            var i = "monster_write_" + e + ".png";
            t.push(PIXI.utils.TextureCache[i])
        }
        this.background = new PIXI.extras.AnimatedSprite(t),
        this.background.anchor.x = this.background.anchor.y = .5,
        this.interaction.addChild(this.background),
        this.addChest(this.container),
        this.phrases = new n,
        this.container.addChild(this.phrases),
        this.phrases.x = 960,
        this.phrases.y = 540;
        this.background.tint = 16711680
    }
    ,
    h.prototype.onGood = function() {
        var t = this;
        this.phrases.nextStep() && (this.phrases.step == this.phrases.totalSteps && (this.monsterAnimation && this.monsterAnimation.kill(),
        this.playFinalAnimation(),
        setTimeout(function() {
            t.phrases.out()
        }, 1500),
        setTimeout(function() {
            t.finish()
        }, 3500),
        this.keyboard.hide()),
        this.chest.beat(.5) && (this.playSound("beat_front"),
        this.lastBeatTime = 0,
        this.addScore()))
    }
    ,
    h.prototype.playFinalAnimation = function() {
        var t = this
          , e = {
            frame: 0
        }
          , i = this.monsterAnimation = new TimelineMax({
            onUpdate: function() {
                t.background.gotoAndStop(Math.round(e.frame))
            }
        });
        i.to(e, .3, {
            frame: 7,
            ease: Linear.easeNone
        }),
        i.to(e, .3, {
            frame: 12,
            repeat: -1,
            yoyo: !0,
            ease: Linear.easeNone
        })
    }
    ,
    h.prototype.tick = function() {
        var t = (new Date).getTime();
        delta = t - this.time,
        this.time = t,
        this.phrases && this.phrases.update(),
        this.totalTime += delta
    }
    ,
    h.prototype.resize = function() {
        this.container && (this.container.x = r.videoSize.left,
        this.container.y = r.videoSize.top,
        this.container.scale.x = this.container.scale.y = r.videoSize.scale2K,
        this.chest.x = 960,
        this.chest.y = 540)
    }
    ,
    h.prototype.finish = function() {
        this.sound.stop(this.sounds.loop),
        a.prototype.finish.call(this)
    }
    ,
    h.prototype.destroy = function() {
        this.stage.removeChild(this.container),
        this.monsterAnimation && this.monsterAnimation.kill(),
        this.phrases.destroy(),
        a.prototype.destroy.call(this)
    }
    ,
    h
}),
define("partials/partywiggleeye", ["TweenMax", "pixi", "models/globals", "utils/preloaders"], function(t, e, i, n) {
    var r = function(t, i) {
        e.Container.call(this),
        this.eye = new e.Sprite(e.utils.TextureCache["party_eye.png"]),
        this.iris = new e.Sprite(e.utils.TextureCache["party_iris.png"]),
        this.shine = new e.Sprite(e.utils.TextureCache["party_shine.png"]),
        this.addChild(this.eye),
        this.addChild(this.iris),
        this.addChild(this.shine),
        this.eye.anchor.x = this.eye.anchor.y = .5,
        this.iris.anchor.x = this.iris.anchor.y = .5,
        this.shine.anchor.x = this.shine.anchor.y = .5
    };
    return r.prototype = Object.create(e.Container.prototype),
    r.prototype.contructor = r,
    r.prototype.wiggle = function(e) {
        e = void 0 === e ? 1 : e,
        t.from(this.iris, 2 * e, {
            rotation: 10 * e,
            ease: Elastic.easeOut.config(3 * e, .15)
        })
    }
    ,
    r
}),
define("partials/partyfriend", ["TweenMax", "pixi", "models/globals", "utils/preloaders", "partials/partywiggleeye"], function(t, e, i, n, r) {
    var s = [[[136, 129], [240, 127]], [[162, 103], [200, 96]], [[187, 153]], [[172, 53], [214, 63]], [[147, 139], [223, 139]], [[145, 104], [227, 104]], [[76, 124], [308, 114]], [[141, 29]], [[146, 165], [214, 160]], [[230, 162]], [[154, 161], [217, 160]]]
      , o = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 2, 4, 6, 8, 10, 1, 3, 5, 9, 11, 8, 7, 6, 5, 4, 3, 2, 1, 10, 11]
      , a = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 2, 4, 6, 8, 10, 1, 3, 5, 9, 8, 7, 6, 5, 4, 3, 2, 1, 10]
      , h = Math.floor(Math.random() * o.length)
      , l = Math.floor(Math.random() * a.length)
      , u = function(t, i, n) {
        e.Container.call(this),
        this.screenWidth = t,
        this.screenHeight = i,
        ++h,
        ++l,
        this.currentHead = o[h % o.length],
        this.currentBody = a[l % a.length],
        this.bodyWidth = 402,
        this.bodyHeight = 437,
        this.headWidth = 348,
        this.headHeight = 298,
        this.headOffset = 0,
        this.offX = (this.screenWidth - this.bodyWidth) / 2,
        this.offY = this.screenHeight - this.bodyHeight - this.headHeight - this.headOffset,
        this.totalPoints = 10,
        this.pointSpace = this.bodyWidth / (this.totalPoints - 2),
        this.bodyPoints = [];
        var u;
        for (u = 0; u < this.totalPoints; u++)
            this.bodyPoints.push(new e.Point(u * this.pointSpace,0));
        this.body = new e.Rope(e.utils.TextureCache["body_" + this.currentBody + ".png"],this.bodyPoints),
        this.head = new e.Sprite(e.utils.TextureCache["head_" + this.currentHead + ".png"]),
        this.bodyContainer = new e.Container,
        this.bodyContainer.addChild(this.body),
        this.headContainer = new e.Container,
        this.headContainer.addChild(this.head),
        this.bodyContainer.rotation = -Math.PI / 2,
        this.head.anchor.x = .5,
        this.head.anchor.y = .45,
        this.bodyContainer.y = this.screenHeight,
        this.bodyContainer.x = this.screenWidth / 2,
        this.addChild(this.bodyContainer),
        this.addChild(this.headContainer),
        this.wiggleEyes = [];
        var c, d, p = s[this.currentHead - 1];
        for (u = 0; u < p.length; ++u)
            d = new r,
            c = p[u],
            this.headContainer.addChild(d),
            d.rotation = .2 * -Math.PI,
            d.scale.x = d.scale.y = .3 + .1 * Math.random(),
            d.x = c[0] - this.headWidth / 2 - 10,
            d.y = c[1] - this.headHeight / 2 + 20,
            this.wiggleEyes.push(d);
        this.starsContainer = new e.Container,
        this.totalStars = 5,
        this.stars = n;
        var f;
        for (u = 0; u < this.totalStars; ++u)
            f = new e.Sprite(e.utils.TextureCache[u >= this.stars ? "party_star.png" : "party_star_filled.png"]),
            f.x = -this.totalStars * (f.width + 5) / 2 + u * (f.width + 5),
            this.starsContainer.addChild(f);
        this.gradient = new e.Sprite(e.utils.TextureCache["party_gradient.png"]),
        this.gradient.width = this.screenWidth,
        this.gradient.y = this.screenHeight - this.gradient.height,
        this.addChild(this.gradient),
        this.addChild(this.starsContainer),
        this.starsContainer.x = this.screenWidth / 2,
        this.starsContainer.y = this.screenHeight - 200,
        this.show()
    };
    return u.prototype = Object.create(e.Container.prototype),
    u.prototype.contructor = u,
    u.prototype.show = function() {
        function t() {
            var t = e.toLocal(e.body.toGlobal(r));
            e.headContainer.x = t.x,
            e.headContainer.y = t.y;
            var i = Math.atan2(s.y - r.y, s.x - r.x);
            e.headContainer.rotation = i - Math.PI
        }
        for (var e = this, i = new TimelineMax({
            onUpdate: t
        }), n = 2; n < this.bodyPoints.length; ++n)
            i.from(this.bodyPoints[n], 2, {
                y: 20 * n,
                ease: Elastic.easeOut.config(2, .5)
            }, .01 * n);
        var r = this.bodyPoints[this.bodyPoints.length - 1]
          , s = this.bodyPoints[this.bodyPoints.length - 2];
        for (t(),
        n = 0; n < this.wiggleEyes.length; ++n)
            this.wiggleEyes[n].wiggle(.8 + .4 * Math.random())
    }
    ,
    u.prototype.hide = function() {
        function t() {
            var t = e.toLocal(e.body.toGlobal(r));
            e.headContainer.x = t.x,
            e.headContainer.y = t.y;
            var i = Math.atan2(s.y - r.y, s.x - r.x);
            e.headContainer.rotation = i - Math.PI
        }
        for (var e = this, i = new TimelineMax({
            onUpdate: t
        }), n = 2; n < this.bodyPoints.length; ++n)
            i.to(this.bodyPoints[n], .3, {
                y: 20 * n,
                ease: Quad.easeIn
            }, .01 * (this.bodyPoints.length - n));
        var r = this.bodyPoints[this.bodyPoints.length - 1]
          , s = this.bodyPoints[this.bodyPoints.length - 2];
        for (n = 0; n < this.wiggleEyes.length; ++n)
            this.wiggleEyes[n].wiggle(.8 + .4 * Math.random())
    }
    ,
    u
}),
define("partials/partymobile", ["TweenMax", "pixi", "models/globals", "utils/preloaders", "partials/partyfriend"], function(t, e, i, n, r) {
    var s = function() {
        this.screenWidth = 370,
        this.screenHeight = 612,
        this.handY = 170,
        this.handRadiusX = 100,
        this.handRadiusY = 10,
        this.handPhaseX = Math.PI,
        this.handPhaseY = Math.PI,
        this.nextStars = 0,
        this.requested = 1,
        this.nextRequested = this.requested,
        this.actoOnRequested = !1,
        this.nexting = !1,
        this.updateHand = !1,
        e.Container.call(this),
        this.sound = n.experience.getHowl("audiosprite"),
        this.mobile = new e.Sprite(e.utils.TextureCache["party_mobile.png"]),
        this.hand = new e.Sprite(e.utils.TextureCache["party_hand.png"]),
        this.screenMask = new e.Graphics,
        this.screenMask.beginFill(16777215),
        this.screenMask.drawRect(0, 0, this.screenWidth, this.screenHeight),
        this.mobileContainer = new e.Container,
        this.screen = new e.Container,
        this.friends = new e.Container,
        this.screenBackground = new e.Sprite(e.utils.TextureCache["party_mobile_background.png"]),
        this.yes = new e.Sprite(e.utils.TextureCache["party_button_yes.png"]),
        this.no = new e.Sprite(e.utils.TextureCache["party_button_no.png"]),
        this.screenBackground.width = this.screenWidth,
        this.screenBackground.height = this.screenHeight,
        this.screen.addChild(this.screenBackground),
        this.screen.addChild(this.friends),
        this.screen.addChild(this.yes),
        this.screen.addChild(this.no),
        this.mobileContainer.addChild(this.screen),
        this.mobileContainer.addChild(this.screenMask),
        this.mobileContainer.addChild(this.mobile),
        this.addChild(this.mobileContainer),
        this.addChild(this.hand),
        this.yes.anchor.x = this.yes.anchor.y = .5,
        this.no.anchor.x = this.no.anchor.y = .5,
        this.yes.x = 30 + this.yes.width / 2,
        this.no.x = this.screenWidth - 30 - this.no.width / 2,
        this.yes.y = this.no.y = this.screenHeight - this.yes.height / 2 - 40,
        this.screenMask.x = this.screen.x = -this.screenWidth / 2,
        this.screenMask.y = this.screen.y = -this.screenHeight / 2 - 80,
        this.screen.mask = this.screenMask,
        this.mobile.anchor.x = .735,
        this.mobile.anchor.y = .45,
        this.hand.anchor.x = .07,
        this.hand.anchor.y = .06,
        this.mobile.tint = 10027008,
        this.hand.tint = 10027008
    };
    return s.prototype = Object.create(e.Container.prototype),
    s.prototype.contructor = s,
    s.prototype.start = function(e, i) {
        var n = this;
        t.to(this.hand, 1, {
            x: -this.handRadiusX,
            y: this.handY,
            ease: Quad.easeOut,
            onComplete: function() {
                n.updateHand = !0,
                n.nextRequested = e,
                n.requested = e,
                n.nextStars = i,
                n.next()
            }
        })
    }
    ,
    s.prototype.requestNext = function(t, e) {
        return !this.nexting && (this.nextRequested = t,
        this.nextStars = e,
        0 === this.requested ? this.click() : this.actoOnRequested = !0,
        !0)
    }
    ,
    s.prototype.click = function() {
        var e = this
          , i = this.hand.x < 0;
        this.currentPartyFriend.stars;
        this.next(),
        this.updateHand = !1,
        t.to(this.hand, .1, {
            y: "+=10",
            yoyo: !0,
            repeat: 1,
            ease: Quad.easeInOut,
            onComplete: function() {
                e.updateHand = !0
            }
        }),
        t.to(this.hand.scale, .1, {
            x: .9,
            y: .9,
            yoyo: !0,
            repeat: 1,
            ease: Quad.easeInOut
        }),
        t.to(this.mobileContainer.scale, .1, {
            x: .99,
            y: .99,
            yoyo: !0,
            repeat: 1,
            delay: .05,
            ease: Quad.easeInOut
        }),
        t.to(i ? this.yes.scale : this.no.scale, .1, {
            x: .8,
            y: .8,
            yoyo: !0,
            repeat: 1,
            delay: .05,
            ease: Quad.easeInOut
        }),
        this.requested = this.nextRequested,
        this.actoOnRequested = !1
    }
    ,
    s.prototype.next = function() {
        var e = this;
        this.nexting = !0;
        var i = new r(this.screenWidth,this.screenHeight,this.nextStars);
        if (this.friends.addChild(i),
        t.from(i, .5, {
            x: this.screenWidth,
            ease: Quad.easeInOut,
            onComplete: function() {
                e.nexting = !1
            }
        }),
        this.currentPartyFriend) {
            var n = e.currentPartyFriend;
            t.to(this.currentPartyFriend, .5, {
                x: 2 * -this.screenWidth,
                ease: Quad.easeInOut,
                onComplete: function() {
                    e.friends.removeChild(n)
                }
            }),
            this.currentPartyFriend.hide()
        }
        this.currentPartyFriend = i,
        this.onNext()
    }
    ,
    s.prototype.update = function(t) {
        if (this.updateHand && (this.handPhaseX += .015 * t,
        this.handPhaseY += .006 * t,
        this.hand.x = Math.cos(this.handPhaseX) * this.handRadiusX,
        this.hand.y = this.handY + Math.sin(this.handPhaseY) * this.handRadiusY,
        this.hand.rotation = .06 * Math.cos(this.handPhaseX),
        this.actoOnRequested)) {
            var e = this.hand.x < 0 ? 1 : 2;
            this.requested == e && this.click()
        }
    }
    ,
    s
}),
define("controllers/interaction_party", ["TweenMax", "utils/preloaders", "partials/musicplayer", "partials/partymobile", "models/globals", "models/beziers", "controllers/pixiapp", "controllers/interactionbase"], function(t, e, i, n, r, s, o, a) {
    var h = function() {
        a.call(this)
    };
    return h.prototype = Object.create(a.prototype),
    h.prototype.contructor = h,
    h.prototype.init = function() {
        var e = this;
        this.score = 0;
        var i;
        i = this.useTouch ? [{
            key: "SPACE",
            caption: "BEAT"
        }] : [{
            key: "SPACE",
            caption: "SPACE BAR"
        }],
        this.keyboard.create(i, null, !1),
        this.keyboard.onGoodPress = function() {
            e.onGood()
        }
        ,
        this.keyboard.demoIntervalTime = 300,
        this.currentStep = 0,
        this.steps = [{
            stars: 5,
            click: 2,
            ok: !1,
            sound: "i05_voice_01"
        }, {
            stars: 2,
            click: 1,
            ok: !1,
            sound: "i05_voice_02"
        }, {
            stars: 3,
            click: 1,
            ok: !0,
            sound: "i05_voice_03"
        }, {
            stars: 4,
            click: 1,
            ok: !0,
            sound: "i05_voice_04"
        }, {
            stars: 1,
            click: 1,
            ok: !1,
            sound: "i05_voice_05"
        }, {
            stars: 5,
            click: 2,
            ok: !1,
            sound: "i05_voice_06"
        }, {
            stars: 4,
            click: 2,
            ok: !1,
            sound: "i05_voice_07"
        }, {
            stars: 4,
            click: 2,
            ok: !1,
            sound: "i05_voice_08"
        }, {
            stars: 1,
            click: 1,
            ok: !1,
            sound: "i05_voice_09"
        }, {
            stars: 5,
            click: 2,
            ok: !1,
            sound: "i05_voice_end"
        }],
        this.container = new PIXI.Container,
        this.stage.addChild(this.container),
        this.time = (new Date).getTime(),
        this.totalTime = 0,
        this.timeWarning = !1,
        this.sounds.loop = this.sound.play("i05_loop"),
        this.addScene(),
        this.resize(),
        this.tick(),
        this.emitOnReady(),
        t.from(this.mask, .6, {
            x: "+=" + r.videoSize.width,
            ease: Quad.easeOut
        }),
        this.prepareTweenForCleanup(t.from(this.container, .6, {
            x: "+=" + r.videoSize.width,
            ease: Quad.easeOut,
            onComplete: function() {
                e.openChest();
                var i = {
                    total: 3,
                    minPointOffset: 5,
                    maxPointOffset: 20,
                    minStrokeWidth: 2,
                    maxStrokeWidth: 17
                };
                e.wiggling = !0,
                e.addTitle(s.beatToCreateGroupChat, .5, 2, function() {
                    e.chest.go(),
                    e.keyboard.show(),
                    e.sound.play("i05_voice_intro"),
                    e.notifyStartInteraction(),
                    t.to(e.partyMobile.scale, 1, {
                        x: 1,
                        y: 1,
                        ease: Quad.easeInOut
                    }),
                    t.to(e.partyMobile.position, 1, {
                        x: 0,
                        y: 0,
                        ease: Quad.easeInOut
                    }),
                    t.to(e.background.scale, 1, {
                        x: 4.02,
                        y: 4.02,
                        ease: Quad.easeInOut
                    });
                    var i = e.steps[e.currentStep];
                    e.partyMobile.start(i.click, i.stars)
                }, i)
            }
        }))
    }
    ,
    h.prototype.addScene = function() {
        this.interaction = new PIXI.Container,
        this.container.addChild(this.interaction),
        this.interaction.x = 960,
        this.interaction.y = 540,
        this.background = new PIXI.Sprite(PIXI.utils.TextureCache["party_background.png"]),
        this.background.anchor.x = this.background.anchor.y = .5,
        this.background.scale.x = this.background.scale.y = 4,
        this.partyMobile = new n,
        this.partyMobile.scale.x = this.partyMobile.scale.y = .8,
        this.partyMobile.y += 100,
        this.partyMobile.onNext = function() {}
        ,
        this.interaction.addChild(this.background),
        this.interaction.addChild(this.partyMobile),
        this.addChest(this.container);
        this.background.tint = 16711680
    }
    ,
    h.prototype.onGood = function() {
        this.nextStep(),
        this.currentStep == this.steps.length - 1 && (this.keyboard.hide(),
        setTimeout(this.finish.bind(this), 4500))
    }
    ,
    h.prototype.nextStep = function() {
        var t = this;
        if (this.partyMobile.nexting)
            return null;
        console.log("Sale " + this.currentStep),
        this.chest.beat(.5),
        this.playSound("beat_front");
        var e = this.steps[this.currentStep];
        return this.addScore(),
        setTimeout(function() {
            e.ok ? t.sound.play("i05_ok") : t.sound.play("i05_fail")
        }, 200),
        setTimeout(function() {
            t.sound.play(e.sound)
        }, 500),
        ++this.currentStep,
        this.currentStep < this.steps.length ? (e = this.steps[this.currentStep],
        this.partyMobile.requestNext(e.click, e.stars)) : this.partyMobile.requestNext(1, 1),
        !0
    }
    ,
    h.prototype.tick = function() {
        var t = (new Date).getTime();
        delta = t - this.time,
        this.time = t,
        this.partyMobile.update(delta),
        this.totalTime += delta
    }
    ,
    h.prototype.resize = function() {
        this.container && (this.container.x = r.videoSize.left,
        this.container.y = r.videoSize.top,
        this.container.scale.x = this.container.scale.y = r.videoSize.scale2K,
        this.chest.x = 960,
        this.chest.y = 540)
    }
    ,
    h.prototype.finish = function() {
        this.sound.stop(this.sounds.loop),
        a.prototype.finish.call(this)
    }
    ,
    h.prototype.destroy = function() {
        this.stage.removeChild(this.container),
        a.prototype.destroy.call(this)
    }
    ,
    h
}),
define("partials/point3d", [], function() {
    return function(t, e, i) {
        this.x = t || 0,
        this.y = e || 0,
        this.z = i || 0
    }
}),
define("partials/perspective", ["pixi", "partials/point3d"], function(t, e) {
    var i = function() {
        t.Container.call(this),
        this.focalLength = 100,
        this.perspPos = new e(0,0,0),
        this.perspOffPos = new e(0,0,0),
        this.removeAtZ = -1
    };
    return i.prototype = Object.create(t.Container.prototype),
    i.prototype.contructor = i,
    i.prototype.addPerspChild = function(i, n) {
        i.persp = {
            position: new e(0,0,500),
            scale: new t.Point(1,1),
            orientToCenter: void 0 !== n && n
        },
        this.addChild(i)
    }
    ,
    i.prototype.update = function() {
        this.children.sort(function(t, e) {
            return e.persp.position.z - t.persp.position.z
        });
        var t, e, i, n, r = [];
        for (t = 0; t < this.children.length; ++t)
            e = this.children[t],
            i = this.focalLength / (e.persp.position.z + this.perspOffPos.z),
            i < 0 && (i = 0),
            e.persp.position.z < this.removeAtZ ? r.push(e) : (e.x = this.perspPos.x - (this.perspPos.x - e.persp.position.x + this.perspOffPos.x) * i,
            e.y = this.perspPos.y + (e.persp.position.y - this.perspPos.y + this.perspOffPos.y) * i,
            e.scale.x = e.persp.scale.x * i,
            e.scale.y = e.persp.scale.y * i,
            e.persp.orientToCenter && (n = Math.atan2(this.perspPos.y - e.persp.position.y, this.perspPos.x - e.persp.position.x),
            e.rotation = n)),
            e.update && e.update();
        for (t = 0; t < r.length; ++t)
            this.removeChild(r[t])
    }
    ,
    i
}),
define("partials/planetree", ["pixi"], function() {
    var t = function() {
        switch (PIXI.Container.call(this),
        this.lastCrashZ = 0,
        this.nCrown = Math.ceil(2 * Math.random()),
        this.crown = new PIXI.Sprite(PIXI.utils.TextureCache["plane_crown_" + this.nCrown + ".png"]),
        this.trunk = new PIXI.Sprite(PIXI.utils.TextureCache["plane_trunk.png"]),
        this.trunk.anchor.x = .5,
        this.trunk.anchor.y = 1,
        this.v = 0,
        this.rotationDummy = 0,
        this.rotationOff = 0,
        this.rotationPhase = 0,
        this.rotationAmplitude = 0,
        this.uprooted = !1,
        this.nCrown) {
        case 1:
            this.crown.anchor.x = .49,
            this.crown.anchor.y = .9,
            this.crown.y = -500;
            break;
        case 2:
            this.crown.anchor.x = .51,
            this.crown.anchor.y = .9,
            this.crown.y = -450
        }
        this.addChild(this.trunk),
        this.addChild(this.crown),
        this.crown.tint = 16711680,
        this.trunk.tint = 16711680
    };
    return t.prototype = Object.create(PIXI.Container.prototype),
    t.prototype.contructor = t,
    t.prototype.rotate = function(t) {
        this.rotationDummy = t,
        this.rotationOff = t,
        this.rotation = t
    }
    ,
    t.prototype.collide = function(t) {
        if (this.lastCrashZ == t)
            return !1;
        this.lastCrashZ = 0 === this.lastCrashZ ? t : this.lastCrashZ;
        var e = Math.abs(t - this.lastCrashZ);
        return this.lastCrashZ = t,
        e = e > 1 ? 1 : e,
        e = this.x < 0 ? -e : e,
        this.rotationOff += .01 * e,
        this.rotationAmplitude += .005 * Math.abs(e),
        e
    }
    ,
    t.prototype.uproot = function() {
        this.uprooted = !0,
        TweenMax.to(this, 1, {
            rotation: this.x < 0 ? -2 : 2
        }),
        TweenMax.to(this.persp.position, 1, {
            y: "-=1000",
            x: this.x < 0 ? "+=1000" : "-=1000"
        })
    }
    ,
    t.prototype.update = function(t) {
        if (this.uprooted)
            return null;
        var e = this.rotationOff + Math.sin(this.rotationPhase) * this.rotationAmplitude;
        this.rotationDummy -= .1 * (this.rotationDummy - e),
        this.rotation = this.rotationDummy,
        this.crown.rotation = Math.sin(this.rotationPhase) * -this.rotationAmplitude,
        this.rotationAmplitude -= 1e-4,
        this.rotationAmplitude < 0 && (this.rotationAmplitude = 0),
        this.rotationPhase += .1 * this.rotationAmplitude
    }
    ,
    t
}),
define("partials/plane", ["pixi", "models/globals", "utils/preloaders", "partials/perspective", "partials/planetree"], function(t, e, i, n, r) {
    var s = function(e, i) {
        t.Container.call(this),
        this.sound = e,
        this.sounds = i,
        this.areaWidth = 1920,
        this.areaHeight = 1080,
        this.areaWidth_2 = this.areaWidth / 2,
        this.areaHeight_2 = this.areaHeight / 2,
        this.landscape = new n,
        this.landscape.y = this.areaHeight_2,
        this.a = 0,
        this.v = 0,
        this.z = 0,
        this.destroyerV = 7,
        this.takeOffV = 9,
        this.offY = 0,
        this.takeOffYv = 0,
        this.lastAddedTreesZ = 0,
        this.addThreesZ = 4,
        this.far = 1e3,
        this.collideX = 500,
        this.collideZ = 100,
        this.spreadX = 1500,
        this.spreadY = 200,
        this.spreadXOff = 100,
        this.spreadYOff = 20,
        this.mountain = new t.Sprite(t.utils.TextureCache["plane_mountain.png"]),
        this.mountain.width = 1.2 * this.areaWidth,
        this.mountain.height = 800,
        this.mountain.x = 0,
        this.mountain.y = this.areaHeight_2 + 450,
        this.mountain.anchor.y = 1,
        this.mountain.anchor.x = .5,
        this.mountain.tint = 16711680,
        this.center = new t.Point(0,0),
        this.flying = !1,
        this.rough = {
            phaseA: 0,
            phaseB: 0,
            phaseC: 0,
            phaseAv: .1,
            phaseBv: .23,
            phaseCv: .3,
            amplitudeA: 4,
            amplitudeB: 4,
            amplitudeC: 3
        },
        this.sky = new t.Graphics,
        this.sky.beginFill(10027008, 1),
        this.sky.drawRect(0, 0, this.areaWidth, this.areaHeight),
        this.sky.endFill(),
        this.sky.x = -this.areaWidth_2,
        this.sky.y = -this.areaHeight_2,
        this.addChild(this.sky),
        this.landscapeContainer = new t.Container,
        this.addChild(this.landscapeContainer),
        this.landscapeContainer.addChild(this.mountain),
        this.landscapeContainer.addChild(this.landscape),
        this.landscapeContainer.y = -100,
        this.addTrees(100),
        this.cabinTop = new t.Sprite(t.utils.TextureCache["plane_cabin_top.png"]),
        this.cabinBottom = new t.Sprite(t.utils.TextureCache["plane_cabin_bottom.png"]),
        this.cabinTopOffY = -100,
        this.cabinBottomOffY = 50,
        this.cabinTop.y = -this.areaHeight_2 + this.cabinTopOffY,
        this.cabinTop.x = this.cabinBottom.x = -this.areaWidth_2,
        this.cabinBottom.anchor.y = 1,
        this.cabinBottom.y = this.areaHeight_2 + this.cabinBottomOffY,
        this.cabinTop.tint = 16711680,
        this.cabinBottom.tint = 16711680,
        this.addChild(this.cabinTop),
        this.addChild(this.cabinBottom),
        this.alarms = [],
        this.addAlarmLight(480, 946 + this.cabinBottomOffY, 1),
        this.addAlarmLight(377, 936 + this.cabinBottomOffY, 1),
        this.addAlarmLight(277, 922 + this.cabinBottomOffY, 1),
        this.addAlarmLight(302, 1003 + this.cabinBottomOffY, 1),
        this.addAlarmLight(409, 1017 + this.cabinBottomOffY, 1),
        this.addAlarmLight(1326, 943 + this.cabinBottomOffY, 1),
        this.addAlarmLight(1550, 920 + this.cabinBottomOffY, 1),
        this.addAlarmLight(595, 117 + this.cabinTopOffY, 1),
        this.addAlarmLight(769, 117 + this.cabinTopOffY, 1),
        this.addAlarmLight(1187, 117 + this.cabinTopOffY, 1),
        this.addAlarmLight(1324, 120 + this.cabinTopOffY, 1),
        this.controlContainer = new t.Container,
        this.armL = new t.Sprite(t.utils.TextureCache["plane_cabin_arm.png"]),
        this.armR = new t.Sprite(t.utils.TextureCache["plane_cabin_arm.png"]),
        this.control = new t.Sprite(t.utils.TextureCache["plane_cabin_control.png"]),
        this.armR.anchor.x = this.armL.anchor.x = .8,
        this.control.anchor.x = .5,
        this.control.anchor.y = .3,
        this.control.scale.x = this.control.scale.y = this.armL.scale.x = this.armL.scale.y = this.armR.scale.x = this.armR.scale.y = 1.3,
        this.armR.scale.x = -this.armR.scale.x,
        this.controlContainer.y = .9 * this.areaHeight_2,
        this.armL.x = -370,
        this.armR.x = -this.armL.x,
        this.armL.y = this.armR.y = -300,
        this.control.tint = 16711680,
        this.armL.tint = 16711680,
        this.armR.tint = 16711680,
        this.addChild(this.controlContainer),
        this.controlContainer.addChild(this.control),
        this.controlContainer.addChild(this.armL),
        this.controlContainer.addChild(this.armR),
        this.indicatorBase = new t.Sprite(t.utils.TextureCache["plane_cabin_indicator_base.png"]),
        this.indicatorLine = new t.Sprite(t.utils.TextureCache["plane_cabin_indicator_line.png"]),
        this.indicatorBase.alpha = .4,
        this.addChild(this.indicatorBase),
        this.addChild(this.indicatorLine),
        this.indicatorBase.anchor.x = this.indicatorBase.anchor.y = .5,
        this.indicatorLine.anchor.x = this.indicatorLine.anchor.y = .5,
        this.indicatorBase.scale.x = this.indicatorBase.scale.y = .5,
        this.indicatorLine.scale.x = this.indicatorLine.scale.y = .5,
        this.lensFlare = new t.Container,
        this.lensFlareBig = new t.Sprite(t.utils.TextureCache["plane_lens_flare.png"]),
        this.lensFlareScale = new t.Point(3,1.5),
        this.lensFlareBig.anchor.set(.48, .5),
        this.lensFlare.visible = !1,
        this.lensFlare.addChild(this.lensFlareBig),
        this.addChild(this.lensFlare),
        this.lensFlarePoint = new t.Point(200,-500),
        this.crashSoundVolume = 0,
        this.crashSoundDrop = .01,
        this.firstCrash = !0,
        this.firstUproot = !0,
        this.sounds.loop = this.sound.play("i06_loop"),
        this.sound.fade(0, 1, 1e3, this.sounds.loop),
        this.sounds.engine = this.sound.play("i06_engine"),
        this.sound.fade(0, .3, 1e3, this.sounds.engine),
        this.sounds.threes = this.sound.play("i06_threes_masacre"),
        this.sound.volume(0, this.sounds.threes)
    };
    return s.prototype = Object.create(t.Container.prototype),
    s.prototype.contructor = s,
    s.prototype.addAlarmLight = function(e, i, n) {
        var r = new t.Sprite(t.utils.TextureCache["plane_alarm.png"]);
        r.x = e - this.areaWidth_2,
        r.y = i - this.areaHeight_2,
        r.anchor.x = r.anchor.y = .5,
        r.scale.y = r.scale.y = n,
        r.alpha = 0,
        this.alarms.push(r),
        this.addChild(r)
    }
    ,
    s.prototype.start = function() {}
    ,
    s.prototype.accelerate = function() {
        this.a += .01
    }
    ,
    s.prototype.addTrees = function(t, e) {
        for (var i, n = [], s = 0; s < t; ++s)
            i = new r,
            this.landscape.addPerspChild(i),
            i.persp.position.x = this.spreadXOff + Math.random() * this.spreadX,
            i.persp.position.x *= Math.random() > .5 ? -1 : 1,
            i.persp.position.y = this.offY + this.spreadYOff + Math.random() * this.spreadY,
            i.persp.position.z = e || 100 + Math.random() * (this.far - 100),
            i.persp.scale.x = i.persp.scale.y = .7 + Math.random(),
            i.rotate(Math.random() > .5 ? .2 * Math.random() : 2 * Math.PI - .2 * Math.random()),
            i.falling = !1,
            TweenMax.from(i, .4, {
                alpha: 0
            }),
            n.push(i);
        return this.landscape.update(),
        n
    }
    ,
    s.prototype.takeOff = function() {
        var t = this;
        this.flying = !0;
        var e = Back.easeOut;
        this.flyingTimeline = new TimelineMax;
        this.flyingTimeline.to(this, 4, {
            v: 1,
            a: 0,
            ease: Quad.easeInOut
        }, 0).to(this.rough, 4, {
            amplitudeA: 20,
            phaseAv: .05,
            amplitudeB: 40,
            phaseBv: .022,
            amplitudeC: 0,
            phaseCv: 0,
            ease: Quad.easeInOut
        }, 0).to(this.landscape.perspOffPos, 4, {
            y: "+=1100",
            ease: e
        }, 0).to(this.landscape.perspPos, 4, {
            y: "-=300",
            ease: e
        }, 0).to(this.mountain, 4, {
            y: "-=200",
            ease: e
        }, 0).addCallback(function() {
            t.showLensFlare()
        }, 0).to(this.alarms[8], .5, {
            alpha: 1
        }, 1).addCallback(function() {
            t.sounds.loop = t.sound.play("i06_loop_fly"),
            t.sound.volume(1, t.sounds.loop)
        }, 5).addCallback(function() {
            t.sound.play("i06_voice_goingtobe")
        }, 12).addCallback(function() {
            t.sound.stop(t.sounds.loop),
            t.sounds.alarm = t.sound.play("i06_alarm_1")
        }, 22).to([this.alarms[1], this.alarms[5], this.alarms[7]], .2, {
            alpha: 1,
            yoyo: !0,
            repeat: -1
        }, 22).to([this.alarms[3], this.alarms[9]], .7, {
            alpha: 1,
            yoyo: !0,
            repeat: -1
        }, 22).addCallback(function() {
            t.sound.stop(t.sounds.alarm),
            t.sounds.alarm = t.sound.play("i06_alarm_2"),
            t.sound.play("i06_voice_no"),
            t.fall()
        }, 25).to([this.alarms[2], this.alarms[4], this.alarms[6], this.alarms[0]], .1, {
            alpha: 1,
            yoyo: !0,
            repeat: -1
        }, 25).addCallback(function() {
            t.onComplete()
        }, 27.5),
        this.sound.stop(this.sounds.loop),
        this.sound.stop(this.sounds.engine),
        this.sound.fade(1, 0, 1e3, this.sounds.threes),
        t.sound.play("i06_voice_takeoff"),
        this.sounds.engine = this.sound.play("i06_takeoff"),
        this.sound.on("end", function() {
            t.sounds.engine = t.sound.play("i06_wind"),
            t.sound.stop(t.sounds.threes),
            t.sounds.threes = null,
            t.sounds.loop = null
        }, this.sounds.engine)
    }
    ,
    s.prototype.fall = function() {
        var t = this;
        this.flying = !0;
        TweenMax.to(this.landscape.perspOffPos, 4, {
            y: "-=1200",
            ease: Quad.easeInOut
        }),
        TweenMax.to(this.landscape.perspPos, 4, {
            y: "+=300",
            ease: Quad.easeInOut
        }),
        TweenMax.to(this.mountain, 4, {
            y: "+=200",
            ease: Quad.easeInOut
        }),
        TweenMax.to(this.rough, 2, {
            amplitudeA: 40,
            phaseAv: .2,
            amplitudeB: 40,
            phaseBv: .3,
            amplitudeC: 3,
            phaseCv: .3,
            ease: Quad.easeInOut
        }),
        TweenMax.delayedCall(2, function() {
            t.hideLensFlare()
        })
    }
    ,
    s.prototype.showLensFlare = function() {
        this.lensFlare.visible || (this.lensFlare.visible = !0)
    }
    ,
    s.prototype.hideLensFlare = function() {
        this.lensFlare.visible && (this.lensFlare.visible = !1)
    }
    ,
    s.prototype.update = function(t) {
        var e = this;
        this.v += this.a,
        this.z -= this.v,
        this.a -= .1 * this.a;
        var i = Math.abs(this.z) + this.lastAddedTreesZ;
        i > this.addThreesZ && (this.lastAddedTreesZ = this.z,
        this.addTrees(Math.floor(i / this.addThreesZ), this.far));
        var n, r, s = !1, o = 0, a = !1;
        for (n = 0; n < this.landscape.children.length; ++n)
            r = this.landscape.children[n],
            r.persp.position.z -= this.v,
            !this.flying && r.persp.position.z < this.collideZ && Math.abs(r.x < this.collideX) && (Math.abs(r.persp.position.x < 300) && ++o,
            this.v > this.destroyerV ? Math.random() > .7 && (r.uproot(),
            this.rough.amplitudeC += .01,
            a = !0) : r.collide(r.persp.position.z) && (this.rough.amplitudeC += .01)),
            this.flying && r.crown.containsPoint(r.toLocal(this.center)) && (s = !0);
        this.landscape.update();
        var h = Math.sin(this.rough.phaseA) * this.rough.amplitudeA;
        h += Math.sin(this.rough.phaseB) * this.rough.amplitudeB,
        h += Math.sin(this.rough.phaseC) * this.rough.amplitudeC,
        this.flying || (this.landscape.perspOffPos.y = -h),
        this.rough.phaseA += this.v * this.rough.phaseAv,
        this.rough.phaseB += this.v * this.rough.phaseBv,
        this.rough.phaseC += this.v * this.rough.phaseCv,
        this.rough.amplitudeC -= .01 * (this.rough.amplitudeC - 3),
        this.landscapeContainer.rotation = .001 * h,
        this.flying ? this.indicatorBase.rotation -= .1 * (this.indicatorBase.rotation - 2 * this.landscapeContainer.rotation) : this.indicatorBase.rotation -= .1 * (this.indicatorBase.rotation - 20 * this.landscapeContainer.rotation),
        this.indicatorBase.y = 40 - .05 * this.landscape.perspOffPos.y,
        s ? (this.lensFlareBig.alpha = Math.random(),
        this.lensFlareBig.scale.x = 2 * this.lensFlareScale.x,
        this.lensFlareBig.scale.y = this.lensFlareScale.y * Math.random() * .3) : (this.lensFlareBig.alpha -= .9 * (this.lensFlareBig.alpha - 1),
        this.lensFlareBig.scale.x -= .9 * (this.lensFlareBig.scale.x - this.lensFlareScale.x),
        this.lensFlareBig.scale.y -= .9 * (this.lensFlareBig.scale.y - this.lensFlareScale.y),
        this.flying && (this.lensFlareScale.x += .001));
        var l = this.toLocal(this.mountain.toGlobal(this.lensFlarePoint));
        if (this.lensFlare.x = l.x,
        this.lensFlare.y = l.y,
        this.controlContainer.rotation -= this.controlContainer.rotation - this.landscapeContainer.rotation,
        this.armL.skew.y = -this.controlContainer.rotation,
        this.armR.skew.y = -this.controlContainer.rotation,
        this.sounds.threes) {
            if (o) {
                var u = .2 + this.v / this.destroyerV * .6;
                this.crashSoundVolume += this.crashSoundDrop,
                this.crashSoundVolume = this.crashSoundVolume > u ? u : this.crashSoundVolume,
                this.firstCrash && (TweenMax.delayedCall(2, function() {
                    e.sound.play("i06_voice_eco")
                }),
                this.firstCrash = !1),
                a && this.firstUproot && (this.sound.stop(this.sounds.threes),
                this.sounds.threes = this.sound.play("i06_threes_masacre_2"),
                this.firstUproot = !1)
            } else
                this.crashSoundVolume -= this.crashSoundDrop,
                this.crashSoundVolume = this.crashSoundVolume < 0 ? 0 : this.crashSoundVolume;
            this.sound.rate(.2 + this.v / this.destroyerV * .8, this.sounds.threes),
            this.sound.volume(this.crashSoundVolume, this.sounds.threes)
        }
    }
    ,
    s.prototype.destroy = function() {
        this.flyingTimeline && this.flyingTimeline.kill()
    }
    ,
    s
}),
define("controllers/interaction_plane", ["TweenMax", "utils/preloaders", "partials/musicplayer", "partials/plane", "models/globals", "models/beziers", "controllers/pixiapp", "controllers/interactionbase"], function(t, e, i, n, r, s, o, a) {
    var h = function() {
        a.call(this)
    };
    return h.prototype = Object.create(a.prototype),
    h.prototype.contructor = h,
    h.prototype.init = function() {
        var e = this;
        this.score = 0;
        var i;
        i = this.useTouch ? [{
            key: "SPACE",
            caption: "BEAT"
        }] : [{
            key: "SPACE",
            caption: "SPACE BAR"
        }],
        this.keyboard.create(i, null, !1),
        this.keyboard.demoIntervalTime = 100,
        this.keyboard.onGoodPress = function() {
            e.onGood()
        }
        ,
        this.keyboard.demoIntervalTime = 300,
        this.container = new PIXI.Container,
        this.stage.addChild(this.container),
        this.time = (new Date).getTime(),
        this.totalTime = 0,
        this.timeWarning = !1,
        this.addScene(),
        this.resize(),
        this.tick(),
        this.emitOnReady(),
        t.from(this.mask, .6, {
            x: "+=" + r.videoSize.width,
            ease: Quad.easeOut
        }),
        this.prepareTweenForCleanup(t.from(this.container, .6, {
            x: "+=" + r.videoSize.width,
            ease: Quad.easeOut,
            onComplete: function() {
                e.openChest();
                var i = {
                    total: 3,
                    minPointOffset: 5,
                    maxPointOffset: 20,
                    minStrokeWidth: 2,
                    maxStrokeWidth: 10
                };
                e.wiggling = !0,
                e.addTitle(s.beatToSeeTheWorld, .5, 2, function() {
                    e.chest.go(),
                    e.keyboard.show(),
                    e.sound.play("i06_voice_intro"),
                    e.notifyStartInteraction(),
                    t.to(e.plane.scale, 1, {
                        x: 1,
                        y: 1,
                        ease: Quad.easeInOut
                    }),
                    t.to(e.plane.position, 1, {
                        x: 0,
                        y: 0,
                        ease: Quad.easeInOut
                    }),
                    t.to(e.background.scale, 1, {
                        x: 1.02,
                        y: 1.02,
                        ease: Quad.easeInOut
                    }),
                    e.plane.start()
                }, i)
            }
        }))
    }
    ,
    h.prototype.addScene = function() {
        var t = this;
        this.interaction = new PIXI.Container,
        this.container.addChild(this.interaction),
        this.interaction.x = 960,
        this.interaction.y = 540,
        this.background = new PIXI.Sprite(e.experience.getTexture("boss_background")),
        this.background.anchor.x = this.background.anchor.y = .5,
        this.plane = new n(this.sound,this.sounds),
        this.plane.scale.x = this.plane.scale.y = .95,
        this.plane.onComplete = function() {
            t.finish()
        }
        ,
        this.interaction.addChild(this.plane),
        this.addChest(this.container);
        this.background.tint = 16711680
    }
    ,
    h.prototype.onGood = function() {
        this.plane.accelerate(),
        this.chest.beat(.5) && (this.playSound("beat_front"),
        this.addScore()),
        this.plane.v > this.plane.takeOffV && this.takeOff()
    }
    ,
    h.prototype.takeOff = function() {
        this.keyboard.hide(),
        this.addScore(1e3),
        this.plane.takeOff()
    }
    ,
    h.prototype.tick = function() {
        var t = (new Date).getTime();
        delta = t - this.time,
        this.time = t,
        this.plane.update(delta),
        this.totalTime += delta
    }
    ,
    h.prototype.resize = function() {
        this.container && (this.container.x = r.videoSize.left,
        this.container.y = r.videoSize.top,
        this.container.scale.x = this.container.scale.y = r.videoSize.scale2K,
        this.chest.x = 960,
        this.chest.y = 540)
    }
    ,
    h.prototype.finish = function() {
        a.prototype.finish.call(this)
    }
    ,
    h.prototype.destroy = function() {
        this.plane && this.plane.destroy(),
        this.stage.removeChild(this.container),
        a.prototype.destroy.call(this)
    }
    ,
    h
}),
define("partials/callmum", ["TweenMax", "pixi", "models/globals", "utils/preloaders", "partials/partyfriend"], function(t, e, i, n, r) {
    var s = (Math.PI,
    function() {
        e.Container.call(this),
        this.wrapper = new e.Container,
        this.phase = 0,
        this.success = 2 * Math.PI - 1,
        this.targetPhase = 0,
        this.pressingTimeout = null,
        this.v = 0,
        this.phone = new e.Sprite(e.utils.TextureCache["callmum_phone.png"]),
        this.dialShadow = new e.Sprite(e.utils.TextureCache["callmum_shadow.png"]),
        this.dial1 = new e.Sprite(e.utils.TextureCache["callmum_dial.png"]),
        this.light = new e.Sprite(e.utils.TextureCache["callmum_light.png"]),
        this.dial2 = new e.Sprite(e.utils.TextureCache["callmum_dial.png"]),
        this.hand = new e.Sprite(e.utils.TextureCache["callmum_hand.png"]),
        this.phone.tint = 16711680,
        this.dialShadow.tint = 16711680,
        this.dial1.tint = 16711680,
        this.dial2.tint = 16711680,
        this.hand.tint = 16711680,
        this.dial2.alpha = .8,
        this.phone.anchor.x = .57,
        this.phone.anchor.y = .51,
        this.dial1.anchor.x = .5,
        this.dial1.anchor.y = .5,
        this.dial2.anchor.x = .5,
        this.dial2.anchor.y = .5,
        this.dialShadow.anchor.x = .5,
        this.dialShadow.anchor.y = .5,
        this.light.anchor.x = .5,
        this.light.anchor.y = .5,
        this.dialShadow.x -= 10,
        this.dialShadow.y += 10;
        var t = this.dial1.width / 2;
        this.dialRadius = .78 * t,
        this.dialOfssetPhase = .5,
        this.lightRadius = .75 * t,
        this.lightPhases = [.5, 5.8, 5.2, 4.6, 4.02, 3.459, 2.889, 2.24, 1.68, 1.09],
        this.lightPhase = 0,
        this.lightNumber = null,
        this.light.alpha = 0,
        this.numbers = [],
        this.numberIndex = 0,
        this.hand.anchor.x = .16,
        this.hand.anchor.y = .04,
        this.wrapper.addChild(this.phone),
        this.wrapper.addChild(this.dialShadow),
        this.wrapper.addChild(this.dial1),
        this.wrapper.addChild(this.light),
        this.wrapper.addChild(this.dial2),
        this.wrapper.addChild(this.hand),
        this.addChild(this.wrapper)
    }
    );
    return s.prototype = Object.create(e.Container.prototype),
    s.prototype.contructor = s,
    s.prototype.start = function(t) {
        this.numbers = t,
        this.nextNumber(.002),
        this.lightTimeline = new TimelineMax,
        this.lightTimeline.from(this.light.scale, .5, {
            x: 0,
            y: 0
        }, 0).to(this.light, .5, {
            alpha: 1
        }, 0).to(this.light, .5, {
            alpha: .5,
            repeat: -1,
            yoyo: !0
        }, .5).to(this.light.scale, .5, {
            x: 1.2,
            y: 1.2,
            repeat: -1,
            yoyo: !0,
            ease: Quad.easeInOut
        }, .5)
    }
    ,
    s.prototype.dial = function() {
        var t = this.handLightDistance < 50
          , e = this.lightNumber;
        return t && this.nextNumber(1.2 * -this.v),
        {
            success: t,
            number: e
        }
    }
    ,
    s.prototype.nextNumber = function(e) {
        var i = null === this.lightNumber;
        i || this.lightNumber;
        e = void 0 === e ? this.v : e;
        var n = .3
          , r = this.numbers[this.numberIndex];
        ++this.numberIndex,
        this.lightNumber = r,
        i && (this.lightPhase = this.lightPhases[r],
        n = 1),
        t.to(this, n, {
            v: e,
            lightPhase: this.lightPhases[r]
        })
    }
    ,
    s.prototype.update = function(t) {
        this.dialShadow.rotation = this.phase,
        this.dial1.rotation = this.phase,
        this.dial2.rotation = this.phase;
        var e = this.phase + this.dialOfssetPhase;
        this.hand.x = this.dial1.x + Math.cos(e) * this.dialRadius,
        this.hand.y = this.dial1.y + Math.sin(e) * this.dialRadius,
        this.hand.rotation = .001 * this.hand.x,
        null !== this.lightNumber && (e = this.lightPhase,
        this.light.x = this.dial1.x + Math.cos(e) * this.lightRadius,
        this.light.y = this.dial1.y + Math.sin(e) * this.lightRadius,
        this.wrapper.x = .1 * this.hand.y,
        this.wrapper.y = .1 * this.hand.y,
        this.wrapper.rotation = 1e-4 * this.hand.y,
        this.handLightDistance = Math.sqrt(Math.pow(this.hand.x - this.light.x, 2) + Math.pow(this.hand.y - this.light.y, 2))),
        this.phase += t * this.v
    }
    ,
    s.prototype.destroy = function() {
        this.lightTimeline.kill()
    }
    ,
    s
}),
define("controllers/interaction_callmum", ["TweenMax", "utils/preloaders", "partials/musicplayer", "partials/callmum", "models/globals", "models/beziers", "controllers/pixiapp", "controllers/interactionbase"], function(t, e, n, r, s, o, a, h) {
    var l = function() {
        h.call(this)
    };
    return l.prototype = Object.create(h.prototype),
    l.prototype.contructor = l,
    l.prototype.init = function() {
        var e = this;
        this.score = 0,
        this.successSounds = ["i07_voice_ok_01", "i07_voice_ok_02", "i07_voice_ok_03", "i07_voice_end", "i07_voice_ok_04"],
        this.successSoundsIndex = 0,
        this.failSounds = ["i07_voice_fail_01", "i07_voice_fail_02", "i07_voice_fail_03", "i07_voice_fail_04", "i07_voice_fail_05"],
        this.failSoundsIndex = 0,
        this.numbers = [];
        var n;
        do {
            n = Math.floor(10 * Math.random()),
            -1 == this.numbers.indexOf(n) && this.numbers.push(n)
        } while (this.numbers.length < this.successSounds.length);console.log("Numbers: " + this.numbers);
        var r = []
          , a = [];
        for (r = [],
        i = 0; i < this.numbers.length; ++i)
            r.push({
                key: this.numbers[i],
                caption: this.numbers[i]
            }),
            a.push(i);
        this.keyboard.create(r, a, !1),
        this.keyboard.autoNext = !1,
        this.keyboard.strictSequence = !0,
        this.keyboard.demoIntervalTime = 100,
        this.keyboard.onGoodPress = function() {
            e.onGood()
        }
        ,
        this.keyboard.demoIntervalTime = 300,
        this.success = 0,
        this.container = new PIXI.Container,
        this.stage.addChild(this.container),
        this.time = (new Date).getTime(),
        this.totalTime = 0,
        this.timeWarning = !1,
        this.sounds.loop = this.sound.play("i07_loop"),
        this.addScene(),
        this.resize(),
        this.tick(),
        this.emitOnReady(),
        t.from(this.mask, .6, {
            x: "+=" + s.videoSize.width,
            ease: Quad.easeOut
        }),
        this.prepareTweenForCleanup(t.from(this.container, .6, {
            x: "+=" + s.videoSize.width,
            ease: Quad.easeOut,
            onComplete: function() {
                e.openChest();
                var i = {
                    total: 3,
                    minPointOffset: 5,
                    maxPointOffset: 20,
                    minStrokeWidth: 2,
                    maxStrokeWidth: 17
                };
                e.wiggling = !0,
                e.addTitle(o.beatToBeBrave, .5, 2, function() {
                    e.chest.go(),
                    e.keyboard.show(),
                    e.notifyStartInteraction(),
                    t.to(e.callMum.scale, 1, {
                        x: 1.15,
                        y: 1.15,
                        ease: Quad.easeInOut
                    }),
                    t.to(e.callMum.position, 1, {
                        x: 0,
                        y: 50,
                        ease: Quad.easeInOut
                    }),
                    t.to(e.background.scale, 1, {
                        x: 4.3,
                        y: 4.3,
                        ease: Quad.easeInOut
                    }),
                    e.callMum.start(e.numbers)
                }, i)
            }
        }))
    }
    ,
    l.prototype.addScene = function() {
        this.interaction = new PIXI.Container,
        this.container.addChild(this.interaction),
        this.interaction.x = 960,
        this.interaction.y = 540,
        this.background = new PIXI.Sprite(PIXI.utils.TextureCache["callmum_background.png"]),
        this.background.anchor.x = this.background.anchor.y = .5,
        this.background.scale.x = this.background.scale.y = 4,
        this.callMum = new r,
        this.callMum.scale.x = this.callMum.scale.y = 1,
        this.callMum.y += 100,
        this.interaction.addChild(this.background),
        this.interaction.addChild(this.callMum),
        this.addChest(this.container);
        this.background.tint = 16711680
    }
    ,
    l.prototype.onGood = function() {
        this.chest.beat(.5) && this.playSound("beat_front");
        var t = this.callMum.dial();
        t.success ? (this.addScore(),
        this.successSoundsIndex = this.successSoundsIndex % this.successSounds.length,
        this.sound.play("i07_number_" + t.number),
        this.sound.play(this.successSounds[this.successSoundsIndex]),
        ++this.successSoundsIndex,
        ++this.success,
        this.keyboard.next()) : (this.failSoundsIndex = this.failSoundsIndex % this.failSounds.length,
        this.sound.play(this.failSounds[this.failSoundsIndex]),
        ++this.failSoundsIndex),
        this.success == this.successSounds.length && this.finish()
    }
    ,
    l.prototype.tick = function() {
        var t = (new Date).getTime();
        delta = t - this.time,
        this.time = t,
        this.callMum.update(delta),
        this.totalTime += delta
    }
    ,
    l.prototype.resize = function() {
        this.container && (this.container.x = s.videoSize.left,
        this.container.y = s.videoSize.top,
        this.container.scale.x = this.container.scale.y = s.videoSize.scale2K,
        this.chest.x = 960,
        this.chest.y = 540)
    }
    ,
    l.prototype.finish = function() {
        this.sound.stop(this.sounds.loop),
        h.prototype.finish.call(this)
    }
    ,
    l.prototype.destroy = function() {
        this.callMum && this.callMum.destroy(),
        this.stage.removeChild(this.container),
        h.prototype.destroy.call(this)
    }
    ,
    l
}),
define("models/particleshapes", [], function() {
    return {
        circle: [{
            x: -.002,
            y: -.898
        }, {
            x: -.081,
            y: -.895
        }, {
            x: .078,
            y: -.895
        }, {
            x: -.16,
            y: -.886
        }, {
            x: .157,
            y: -.884
        }, {
            x: -.238,
            y: -.869
        }, {
            x: .234,
            y: -.866
        }, {
            x: -.314,
            y: -.845
        }, {
            x: .31,
            y: -.842
        }, {
            x: -.387,
            y: -.814
        }, {
            x: .383,
            y: -.811
        }, {
            x: -.457,
            y: -.777
        }, {
            x: .453,
            y: -.773
        }, {
            x: -.524,
            y: -.734
        }, {
            x: .52,
            y: -.729
        }, {
            x: -.586,
            y: -.685
        }, {
            x: .582,
            y: -.68
        }, {
            x: -.644,
            y: -.631
        }, {
            x: .64,
            y: -.625
        }, {
            x: -.697,
            y: -.572
        }, {
            x: .692,
            y: -.565
        }, {
            x: -.745,
            y: -.508
        }, {
            x: .74,
            y: -.501
        }, {
            x: -.787,
            y: -.441
        }, {
            x: .781,
            y: -.433
        }, {
            x: -.822,
            y: -.37
        }, {
            x: .816,
            y: -.362
        }, {
            x: -.851,
            y: -.296
        }, {
            x: .845,
            y: -.288
        }, {
            x: -.873,
            y: -.219
        }, {
            x: .866,
            y: -.211
        }, {
            x: -.889,
            y: -.141
        }, {
            x: .881,
            y: -.133
        }, {
            x: -.897,
            y: -.062
        }, {
            x: .889,
            y: -.054
        }, {
            x: .891,
            y: -.004
        }, {
            x: -.898,
            y: .017
        }, {
            x: .887,
            y: .076
        }, {
            x: -.893,
            y: .097
        }, {
            x: .876,
            y: .154
        }, {
            x: -.881,
            y: .175
        }, {
            x: .858,
            y: .232
        }, {
            x: -.861,
            y: .252
        }, {
            x: .833,
            y: .308
        }, {
            x: -.835,
            y: .327
        }, {
            x: .802,
            y: .381
        }, {
            x: -.802,
            y: .4
        }, {
            x: .764,
            y: .451
        }, {
            x: -.763,
            y: .469
        }, {
            x: .72,
            y: .518
        }, {
            x: -.718,
            y: .535
        }, {
            x: .671,
            y: .58
        }, {
            x: -.667,
            y: .596
        }, {
            x: .616,
            y: .638
        }, {
            x: -.611,
            y: .653
        }, {
            x: .556,
            y: .691
        }, {
            x: -.551,
            y: .704
        }, {
            x: .492,
            y: .738
        }, {
            x: -.486,
            y: .75
        }, {
            x: .424,
            y: .78
        }, {
            x: -.417,
            y: .79
        }, {
            x: .353,
            y: .815
        }, {
            x: -.345,
            y: .823
        }, {
            x: .278,
            y: .844
        }, {
            x: -.27,
            y: .85
        }, {
            x: .202,
            y: .866
        }, {
            x: -.193,
            y: .871
        }, {
            x: .124,
            y: .881
        }, {
            x: -.114,
            y: .884
        }, {
            x: .045,
            y: .889
        }, {
            x: -.035,
            y: .89
        }],
        triangle: [{
            x: .095,
            y: -.682
        }, {
            x: .434,
            y: -.084
        }, {
            x: .321,
            y: -.283
        }, {
            x: .208,
            y: -.483
        }, {
            x: .547,
            y: .115
        }, {
            x: .66,
            y: .314
        }, {
            x: .773,
            y: .513
        }, {
            x: -.134,
            y: -.682
        }, {
            x: -.473,
            y: -.084
        }, {
            x: -.021,
            y: -.881
        }, {
            x: -.36,
            y: -.283
        }, {
            x: -.247,
            y: -.483
        }, {
            x: -.586,
            y: .115
        }, {
            x: -.699,
            y: .314
        }, {
            x: -.812,
            y: .513
        }, {
            x: .668,
            y: .71
        }, {
            x: -.018,
            y: .71
        }, {
            x: .897,
            y: .71
        }, {
            x: .211,
            y: .71
        }, {
            x: .44,
            y: .71
        }, {
            x: -.247,
            y: .71
        }, {
            x: -.476,
            y: .71
        }, {
            x: -.705,
            y: .71
        }, {
            x: -.934,
            y: .71
        }],
        diamond: [{
            x: .871,
            y: .044
        }, {
            x: .812,
            y: .103
        }, {
            x: .753,
            y: .162
        }, {
            x: .694,
            y: .221
        }, {
            x: .635,
            y: .28
        }, {
            x: .576,
            y: .339
        }, {
            x: .517,
            y: .398
        }, {
            x: .458,
            y: .458
        }, {
            x: .398,
            y: .517
        }, {
            x: .339,
            y: .576
        }, {
            x: .28,
            y: .635
        }, {
            x: .221,
            y: .694
        }, {
            x: .162,
            y: .753
        }, {
            x: .103,
            y: .812
        }, {
            x: .044,
            y: .871
        }, {
            x: .93,
            y: -.015
        }, {
            x: .044,
            y: -.901
        }, {
            x: .103,
            y: -.842
        }, {
            x: .162,
            y: -.783
        }, {
            x: .221,
            y: -.724
        }, {
            x: .28,
            y: -.665
        }, {
            x: .339,
            y: -.606
        }, {
            x: .398,
            y: -.547
        }, {
            x: .458,
            y: -.488
        }, {
            x: .517,
            y: -.429
        }, {
            x: .576,
            y: -.37
        }, {
            x: .635,
            y: -.31
        }, {
            x: .694,
            y: -.251
        }, {
            x: .753,
            y: -.192
        }, {
            x: .812,
            y: -.133
        }, {
            x: .871,
            y: -.074
        }, {
            x: -.015,
            y: -.959
        }, {
            x: -.074,
            y: -.901
        }, {
            x: -.133,
            y: -.842
        }, {
            x: -.192,
            y: -.783
        }, {
            x: -.251,
            y: -.724
        }, {
            x: -.31,
            y: -.665
        }, {
            x: -.37,
            y: -.606
        }, {
            x: -.429,
            y: -.547
        }, {
            x: -.488,
            y: -.488
        }, {
            x: -.547,
            y: -.429
        }, {
            x: -.606,
            y: -.37
        }, {
            x: -.665,
            y: -.31
        }, {
            x: -.724,
            y: -.251
        }, {
            x: -.783,
            y: -.192
        }, {
            x: -.842,
            y: -.133
        }, {
            x: -.901,
            y: -.074
        }, {
            x: -.959,
            y: -.015
        }, {
            x: -.901,
            y: .044
        }, {
            x: -.842,
            y: .103
        }, {
            x: -.783,
            y: .162
        }, {
            x: -.724,
            y: .221
        }, {
            x: -.665,
            y: .28
        }, {
            x: -.606,
            y: .339
        }, {
            x: -.547,
            y: .398
        }, {
            x: -.488,
            y: .458
        }, {
            x: -.429,
            y: .517
        }, {
            x: -.37,
            y: .576
        }, {
            x: -.31,
            y: .635
        }, {
            x: -.251,
            y: .694
        }, {
            x: -.192,
            y: .753
        }, {
            x: -.133,
            y: .812
        }, {
            x: -.074,
            y: .871
        }, {
            x: -.015,
            y: .93
        }],
        hexagon: [{
            x: .51,
            y: -.776
        }, {
            x: .55,
            y: -.708
        }, {
            x: .589,
            y: -.639
        }, {
            x: .629,
            y: -.57
        }, {
            x: .669,
            y: -.501
        }, {
            x: .709,
            y: -.432
        }, {
            x: .748,
            y: -.363
        }, {
            x: .788,
            y: -.295
        }, {
            x: .828,
            y: -.226
        }, {
            x: .868,
            y: -.157
        }, {
            x: .907,
            y: -.088
        }, {
            x: .947,
            y: -.019
        }, {
            x: .907,
            y: .05
        }, {
            x: .868,
            y: .119
        }, {
            x: .828,
            y: .187
        }, {
            x: .788,
            y: .256
        }, {
            x: .748,
            y: .325
        }, {
            x: .709,
            y: .394
        }, {
            x: .669,
            y: .463
        }, {
            x: .629,
            y: .532
        }, {
            x: .589,
            y: .6
        }, {
            x: .55,
            y: .669
        }, {
            x: .51,
            y: .738
        }, {
            x: .469,
            y: .807
        }, {
            x: -.405,
            y: .809
        }, {
            x: -.326,
            y: .809
        }, {
            x: -.246,
            y: .809
        }, {
            x: -.167,
            y: .809
        }, {
            x: -.087,
            y: .809
        }, {
            x: -.008,
            y: .809
        }, {
            x: .072,
            y: .809
        }, {
            x: .151,
            y: .809
        }, {
            x: .231,
            y: .809
        }, {
            x: .31,
            y: .809
        }, {
            x: .39,
            y: .809
        }, {
            x: -.484,
            y: .807
        }, {
            x: -.921,
            y: .05
        }, {
            x: -.881,
            y: .119
        }, {
            x: -.842,
            y: .187
        }, {
            x: -.802,
            y: .256
        }, {
            x: -.762,
            y: .325
        }, {
            x: -.722,
            y: .394
        }, {
            x: -.683,
            y: .463
        }, {
            x: -.643,
            y: .532
        }, {
            x: -.603,
            y: .6
        }, {
            x: -.563,
            y: .669
        }, {
            x: -.524,
            y: .738
        }, {
            x: -.96,
            y: -.019
        }, {
            x: -.524,
            y: -.776
        }, {
            x: -.563,
            y: -.708
        }, {
            x: -.603,
            y: -.639
        }, {
            x: -.643,
            y: -.57
        }, {
            x: -.683,
            y: -.501
        }, {
            x: -.722,
            y: -.432
        }, {
            x: -.762,
            y: -.363
        }, {
            x: -.802,
            y: -.295
        }, {
            x: -.842,
            y: -.226
        }, {
            x: -.881,
            y: -.157
        }, {
            x: -.921,
            y: -.088
        }, {
            x: -.484,
            y: -.844
        }, {
            x: -.405,
            y: -.844
        }, {
            x: -.326,
            y: -.844
        }, {
            x: -.246,
            y: -.844
        }, {
            x: -.167,
            y: -.844
        }, {
            x: -.087,
            y: -.844
        }, {
            x: -.008,
            y: -.844
        }, {
            x: .072,
            y: -.844
        }, {
            x: .151,
            y: -.844
        }, {
            x: .231,
            y: -.844
        }, {
            x: .31,
            y: -.844
        }, {
            x: .39,
            y: -.844
        }, {
            x: .469,
            y: -.844
        }, {
            x: -.954,
            y: -.838
        }],
        spiral: [{
            x: -.015,
            y: .003
        }, {
            x: -.009,
            y: -.008
        }, {
            x: -.047,
            y: -.037
        }, {
            x: -.028,
            y: -.199
        }, {
            x: .007,
            y: -.195
        }, {
            x: .041,
            y: -.185
        }, {
            x: .071,
            y: -.168
        }, {
            x: .098,
            y: -.146
        }, {
            x: .12,
            y: -.118
        }, {
            x: .137,
            y: -.087
        }, {
            x: -.028,
            y: -.083
        }, {
            x: .007,
            y: -.08
        }, {
            x: -.061,
            y: -.074
        }, {
            x: .037,
            y: -.062
        }, {
            x: .146,
            y: -.053
        }, {
            x: -.087,
            y: -.052
        }, {
            x: .054,
            y: -.032
        }, {
            x: -.103,
            y: -.021
        }, {
            x: .149,
            y: -.018
        }, {
            x: .054,
            y: .003
        }, {
            x: -.106,
            y: .014
        }, {
            x: .143,
            y: .016
        }, {
            x: .034,
            y: .032
        }, {
            x: .002,
            y: .046
        }, {
            x: -.098,
            y: .048
        }, {
            x: .128,
            y: .049
        }, {
            x: .107,
            y: .077
        }, {
            x: -.081,
            y: .078
        }, {
            x: .079,
            y: .099
        }, {
            x: -.055,
            y: .101
        }, {
            x: .047,
            y: .113
        }, {
            x: -.023,
            y: .116
        }, {
            x: .012,
            y: .12
        }, {
            x: -.064,
            y: -.196
        }, {
            x: -.106,
            y: -.186
        }, {
            x: -.144,
            y: -.168
        }, {
            x: -.178,
            y: -.142
        }, {
            x: -.207,
            y: -.111
        }, {
            x: -.229,
            y: -.074
        }, {
            x: .373,
            y: -.046
        }, {
            x: -.243,
            y: -.034
        }, {
            x: .37,
            y: -.004
        }, {
            x: -.249,
            y: .008
        }, {
            x: .362,
            y: .039
        }, {
            x: -.248,
            y: .051
        }, {
            x: .348,
            y: .08
        }, {
            x: -.24,
            y: .093
        }, {
            x: .329,
            y: .118
        }, {
            x: -.226,
            y: .134
        }, {
            x: .306,
            y: .155
        }, {
            x: -.206,
            y: .172
        }, {
            x: .279,
            y: .188
        }, {
            x: -.18,
            y: .206
        }, {
            x: .247,
            y: .218
        }, {
            x: -.149,
            y: .236
        }, {
            x: .213,
            y: .243
        }, {
            x: -.114,
            y: .261
        }, {
            x: .175,
            y: .265
        }, {
            x: -.075,
            y: .28
        }, {
            x: .135,
            y: .281
        }, {
            x: .094,
            y: .292
        }, {
            x: -.034,
            y: .292
        }, {
            x: .051,
            y: .298
        }, {
            x: .008,
            y: .299
        }, {
            x: -.087,
            y: -.478
        }, {
            x: -.033,
            y: -.478
        }, {
            x: -.142,
            y: -.473
        }, {
            x: .021,
            y: -.471
        }, {
            x: -.195,
            y: -.462
        }, {
            x: .074,
            y: -.458
        }, {
            x: -.247,
            y: -.446
        }, {
            x: .125,
            y: -.437
        }, {
            x: -.298,
            y: -.425
        }, {
            x: .173,
            y: -.411
        }, {
            x: -.345,
            y: -.399
        }, {
            x: .217,
            y: -.379
        }, {
            x: -.39,
            y: -.368
        }, {
            x: .257,
            y: -.341
        }, {
            x: -.432,
            y: -.332
        }, {
            x: .292,
            y: -.299
        }, {
            x: -.469,
            y: -.293
        }, {
            x: .321,
            y: -.253
        }, {
            x: -.503,
            y: -.25
        }, {
            x: -.532,
            y: -.204
        }, {
            x: .344,
            y: -.203
        }, {
            x: -.556,
            y: -.155
        }, {
            x: .36,
            y: -.151
        }, {
            x: -.575,
            y: -.104
        }, {
            x: .37,
            y: -.097
        }, {
            x: -.588,
            y: -.051
        }, {
            x: -.596,
            y: .003
        }, {
            x: -.599,
            y: .058
        }, {
            x: .92,
            y: -.107
        }, {
            x: .916,
            y: -.028
        }, {
            x: .904,
            y: .051
        }, {
            x: .886,
            y: .128
        }, {
            x: -.595,
            y: .136
        }, {
            x: .859,
            y: .204
        }, {
            x: -.582,
            y: .214
        }, {
            x: .826,
            y: .276
        }, {
            x: -.559,
            y: .291
        }, {
            x: .786,
            y: .345
        }, {
            x: -.528,
            y: .364
        }, {
            x: .74,
            y: .41
        }, {
            x: -.488,
            y: .433
        }, {
            x: .688,
            y: .471
        }, {
            x: -.441,
            y: .496
        }, {
            x: .631,
            y: .526
        }, {
            x: -.386,
            y: .554
        }, {
            x: .569,
            y: .576
        }, {
            x: -.325,
            y: .605
        }, {
            x: .502,
            y: .62
        }, {
            x: -.258,
            y: .648
        }, {
            x: .431,
            y: .657
        }, {
            x: -.187,
            y: .684
        }, {
            x: .358,
            y: .687
        }, {
            x: -.112,
            y: .71
        }, {
            x: .282,
            y: .711
        }, {
            x: .204,
            y: .727
        }, {
            x: -.034,
            y: .728
        }, {
            x: .124,
            y: .735
        }, {
            x: .045,
            y: .736
        }],
        hand: [{
            x: .088,
            y: -.828
        }, {
            x: .145,
            y: -.815
        }, {
            x: .042,
            y: -.8
        }, {
            x: .194,
            y: -.786
        }, {
            x: -.224,
            y: -.779
        }, {
            x: -.28,
            y: -.765
        }, {
            x: -.173,
            y: -.753
        }, {
            x: .023,
            y: -.745
        }, {
            x: -.323,
            y: -.729
        }, {
            x: .198,
            y: -.728
        }, {
            x: -.149,
            y: -.7
        }, {
            x: 0,
            y: -.692
        }, {
            x: -.338,
            y: -.673
        }, {
            x: .195,
            y: -.67
        }, {
            x: -.158,
            y: -.643
        }, {
            x: -.015,
            y: -.635
        }, {
            x: -.351,
            y: -.616
        }, {
            x: .19,
            y: -.611
        }, {
            x: .489,
            y: -.608
        }, {
            x: .433,
            y: -.602
        }, {
            x: -.163,
            y: -.575
        }, {
            x: .538,
            y: -.578
        }, {
            x: -.029,
            y: -.578
        }, {
            x: -.365,
            y: -.559
        }, {
            x: .185,
            y: -.553
        }, {
            x: .411,
            y: -.549
        }, {
            x: .565,
            y: -.526
        }, {
            x: -.165,
            y: -.526
        }, {
            x: -.041,
            y: -.521
        }, {
            x: -.372,
            y: -.501
        }, {
            x: .38,
            y: -.5
        }, {
            x: .178,
            y: -.495
        }, {
            x: .561,
            y: -.468
        }, {
            x: -.165,
            y: -.467
        }, {
            x: -.057,
            y: -.465
        }, {
            x: .353,
            y: -.448
        }, {
            x: -.378,
            y: -.443
        }, {
            x: .161,
            y: -.439
        }, {
            x: .544,
            y: -.413
        }, {
            x: -.166,
            y: -.409
        }, {
            x: -.071,
            y: -.408
        }, {
            x: .329,
            y: -.394
        }, {
            x: -.384,
            y: -.384
        }, {
            x: .146,
            y: -.382
        }, {
            x: .534,
            y: -.355
        }, {
            x: -.085,
            y: -.351
        }, {
            x: -.172,
            y: -.351
        }, {
            x: .3,
            y: -.343
        }, {
            x: -.383,
            y: -.326
        }, {
            x: .135,
            y: -.324
        }, {
            x: .513,
            y: -.3
        }, {
            x: .265,
            y: -.296
        }, {
            x: -.105,
            y: -.296
        }, {
            x: -.158,
            y: -.294
        }, {
            x: -.378,
            y: -.267
        }, {
            x: .128,
            y: -.266
        }, {
            x: .232,
            y: -.249
        }, {
            x: .492,
            y: -.246
        }, {
            x: -.112,
            y: -.229
        }, {
            x: -.148,
            y: -.236
        }, {
            x: -.37,
            y: -.21
        }, {
            x: .121,
            y: -.208
        }, {
            x: .211,
            y: -.194
        }, {
            x: .466,
            y: -.193
        }, {
            x: -.115,
            y: -.18
        }, {
            x: -.139,
            y: -.179
        }, {
            x: -.367,
            y: -.151
        }, {
            x: .12,
            y: -.15
        }, {
            x: .181,
            y: -.143
        }, {
            x: .435,
            y: -.143
        }, {
            x: .138,
            y: -.107
        }, {
            x: -.366,
            y: -.083
        }, {
            x: .411,
            y: -.09
        }, {
            x: -.141,
            y: -.124
        }, {
            x: -.86,
            y: -.065
        }, {
            x: -.801,
            y: -.061
        }, {
            x: .849,
            y: -.058
        }, {
            x: -.917,
            y: -.057
        }, {
            x: .903,
            y: -.053
        }, {
            x: -.744,
            y: -.05
        }, {
            x: .793,
            y: -.043
        }, {
            x: .389,
            y: -.036
        }, {
            x: -.364,
            y: -.034
        }, {
            x: -.689,
            y: -.031
        }, {
            x: -.958,
            y: -.025
        }, {
            x: .745,
            y: -.011
        }, {
            x: .939,
            y: -.01
        }, {
            x: -.638,
            y: -.002
        }, {
            x: .362,
            y: .016
        }, {
            x: .694,
            y: .019
        }, {
            x: -.375,
            y: .023
        }, {
            x: -.946,
            y: .031
        }, {
            x: -.593,
            y: .036
        }, {
            x: .641,
            y: .043
        }, {
            x: .928,
            y: .047
        }, {
            x: .587,
            y: .065
        }, {
            x: -.415,
            y: .066
        }, {
            x: .365,
            y: .067
        }, {
            x: -.905,
            y: .073
        }, {
            x: -.549,
            y: .074
        }, {
            x: .532,
            y: .086
        }, {
            x: .887,
            y: .089
        }, {
            x: .416,
            y: .095
        }, {
            x: .474,
            y: .098
        }, {
            x: -.456,
            y: .108
        }, {
            x: -.861,
            y: .112
        }, {
            x: -.51,
            y: .118
        }, {
            x: .843,
            y: .127
        }, {
            x: -.813,
            y: .145
        }, {
            x: -.48,
            y: .158
        }, {
            x: .798,
            y: .165
        }, {
            x: .747,
            y: .194
        }, {
            x: -.784,
            y: .193
        }, {
            x: .693,
            y: .217
        }, {
            x: -.752,
            y: .24
        }, {
            x: .645,
            y: .252
        }, {
            x: .599,
            y: .285
        }, {
            x: -.724,
            y: .291
        }, {
            x: .545,
            y: .31
        }, {
            x: .494,
            y: .337
        }, {
            x: -.689,
            y: .338
        }, {
            x: .455,
            y: .379
        }, {
            x: -.657,
            y: .387
        }, {
            x: .428,
            y: .43
        }, {
            x: -.631,
            y: .438
        }, {
            x: .411,
            y: .486
        }, {
            x: -.605,
            y: .49
        }, {
            x: -.566,
            y: .534
        }, {
            x: .39,
            y: .541
        }, {
            x: -.535,
            y: .583
        }, {
            x: .361,
            y: .592
        }, {
            x: -.5,
            y: .63
        }, {
            x: .333,
            y: .643
        }, {
            x: -.466,
            y: .677
        }, {
            x: .299,
            y: .691
        }, {
            x: -.422,
            y: .728
        }, {
            x: -.436,
            y: .727
        }, {
            x: .283,
            y: .747
        }],
        baby: [{
            x: -.707,
            y: -.314
        }, {
            x: -.723,
            y: -.307
        }, {
            x: -.691,
            y: -.298
        }, {
            x: -.73,
            y: -.288
        }, {
            x: -.679,
            y: -.278
        }, {
            x: -.728,
            y: -.265
        }, {
            x: -.672,
            y: -.255
        }, {
            x: -.732,
            y: -.243
        }, {
            x: -.666,
            y: -.233
        }, {
            x: -.744,
            y: -.224
        }, {
            x: -.658,
            y: -.208
        }, {
            x: -.745,
            y: -.201
        }, {
            x: -.648,
            y: -.189
        }, {
            x: -.736,
            y: -.18
        }, {
            x: -.639,
            y: -.168
        }, {
            x: -.723,
            y: -.16
        }, {
            x: -.626,
            y: -.149
        }, {
            x: -.72,
            y: -.137
        }, {
            x: -.613,
            y: -.129
        }, {
            x: -.722,
            y: -.114
        }, {
            x: -.599,
            y: -.11
        }, {
            x: -.58,
            y: -.097
        }, {
            x: -.731,
            y: -.092
        }, {
            x: -.559,
            y: -.086
        }, {
            x: -.538,
            y: -.077
        }, {
            x: -.515,
            y: -.072
        }, {
            x: -.492,
            y: -.069
        }, {
            x: -.739,
            y: -.07
        }, {
            x: -.469,
            y: -.064
        }, {
            x: -.446,
            y: -.059
        }, {
            x: -.423,
            y: -.055
        }, {
            x: -.4,
            y: -.05
        }, {
            x: -.74,
            y: -.047
        }, {
            x: -.377,
            y: -.045
        }, {
            x: -.354,
            y: -.039
        }, {
            x: -.331,
            y: -.034
        }, {
            x: -.285,
            y: -.03
        }, {
            x: -.308,
            y: -.03
        }, {
            x: -.262,
            y: -.028
        }, {
            x: -.239,
            y: -.022
        }, {
            x: -.735,
            y: -.024
        }, {
            x: -.221,
            y: -.006
        }, {
            x: -.72,
            y: -.007
        }, {
            x: -.699,
            y: .002
        }, {
            x: -.675,
            y: .005
        }, {
            x: -.652,
            y: .01
        }, {
            x: -.629,
            y: .014
        }, {
            x: -.209,
            y: .012
        }, {
            x: -.606,
            y: .019
        }, {
            x: -.584,
            y: .025
        }, {
            x: -.561,
            y: .03
        }, {
            x: -.199,
            y: .033
        }, {
            x: -.538,
            y: .036
        }, {
            x: -.516,
            y: .044
        }, {
            x: -.494,
            y: .05
        }, {
            x: -.148,
            y: -.373
        }, {
            x: -.17,
            y: -.37
        }, {
            x: -.125,
            y: -.37
        }, {
            x: -.193,
            y: -.362
        }, {
            x: -.104,
            y: -.358
        }, {
            x: -.21,
            y: -.353
        }, {
            x: -.195,
            y: -.338
        }, {
            x: -.094,
            y: -.337
        }, {
            x: -.2,
            y: -.326
        }, {
            x: -.075,
            y: -.324
        }, {
            x: -.214,
            y: -.314
        }, {
            x: -.061,
            y: -.306
        }, {
            x: -.199,
            y: -.298
        }, {
            x: -.179,
            y: -.285
        }, {
            x: -.053,
            y: -.284
        }, {
            x: -.168,
            y: -.267
        }, {
            x: -.169,
            y: -.243
        }, {
            x: -.176,
            y: -.221
        }, {
            x: -.181,
            y: -.198
        }, {
            x: -.178,
            y: -.176
        }, {
            x: -.164,
            y: -.157
        }, {
            x: -.162,
            y: -.134
        }, {
            x: -.169,
            y: -.111
        }, {
            x: -.175,
            y: -.089
        }, {
            x: -.178,
            y: -.066
        }, {
            x: -.179,
            y: -.042
        }, {
            x: -.179,
            y: -.019
        }, {
            x: -.179,
            y: .005
        }, {
            x: -.179,
            y: .028
        }, {
            x: -.181,
            y: .051
        }, {
            x: -.041,
            y: -.535
        }, {
            x: -.017,
            y: -.534
        }, {
            x: .006,
            y: -.53
        }, {
            x: -.05,
            y: -.525
        }, {
            x: .027,
            y: -.521
        }, {
            x: -.063,
            y: -.515
        }, {
            x: .043,
            y: -.503
        }, {
            x: -.058,
            y: -.494
        }, {
            x: .056,
            y: -.484
        }, {
            x: -.038,
            y: -.481
        }, {
            x: -.02,
            y: -.466
        }, {
            x: .071,
            y: -.466
        }, {
            x: -.005,
            y: -.448
        }, {
            x: .084,
            y: -.446
        }, {
            x: -.011,
            y: -.427
        }, {
            x: .091,
            y: -.424
        }, {
            x: -.022,
            y: -.407
        }, {
            x: .094,
            y: -.401
        }, {
            x: -.031,
            y: -.385
        }, {
            x: .093,
            y: -.378
        }, {
            x: -.034,
            y: -.362
        }, {
            x: .09,
            y: -.354
        }, {
            x: -.03,
            y: -.339
        }, {
            x: .087,
            y: -.331
        }, {
            x: -.029,
            y: -.316
        }, {
            x: .083,
            y: -.308
        }, {
            x: -.037,
            y: -.293
        }, {
            x: .077,
            y: -.285
        }, {
            x: -.047,
            y: -.272
        }, {
            x: .071,
            y: -.263
        }, {
            x: -.057,
            y: -.251
        }, {
            x: .066,
            y: -.24
        }, {
            x: -.065,
            y: -.229
        }, {
            x: .063,
            y: -.217
        }, {
            x: -.078,
            y: -.209
        }, {
            x: .062,
            y: -.194
        }, {
            x: -.09,
            y: -.189
        }, {
            x: .059,
            y: -.17
        }, {
            x: -.101,
            y: -.168
        }, {
            x: .056,
            y: -.147
        }, {
            x: -.109,
            y: -.147
        }, {
            x: -.114,
            y: -.124
        }, {
            x: .052,
            y: -.124
        }, {
            x: -.12,
            y: -.101
        }, {
            x: .05,
            y: -.101
        }, {
            x: -.126,
            y: -.079
        }, {
            x: .047,
            y: -.078
        }, {
            x: -.135,
            y: -.057
        }, {
            x: .041,
            y: -.055
        }, {
            x: -.139,
            y: -.034
        }, {
            x: .037,
            y: -.032
        }, {
            x: -.142,
            y: -.011
        }, {
            x: .034,
            y: -.009
        }, {
            x: -.142,
            y: .012
        }, {
            x: .035,
            y: .014
        }, {
            x: .056,
            y: .022
        }, {
            x: .079,
            y: .028
        }, {
            x: .101,
            y: .035
        }, {
            x: -.144,
            y: .036
        }, {
            x: .123,
            y: .042
        }, {
            x: .145,
            y: .049
        }, {
            x: .168,
            y: .055
        }, {
            x: .191,
            y: .06
        }, {
            x: -.144,
            y: .059
        }, {
            x: .214,
            y: .063
        }, {
            x: .237,
            y: .068
        }, {
            x: .26,
            y: .073
        }, {
            x: .283,
            y: .074
        }, {
            x: .306,
            y: .078
        }, {
            x: .329,
            y: .083
        }, {
            x: -.14,
            y: .082
        }, {
            x: .352,
            y: .089
        }, {
            x: -.132,
            y: .104
        }, {
            x: -.117,
            y: .122
        }, {
            x: -.099,
            y: .136
        }, {
            x: -.078,
            y: .147
        }, {
            x: -.059,
            y: .16
        }, {
            x: -.038,
            y: .171
        }, {
            x: -.016,
            y: .179
        }, {
            x: .006,
            y: .188
        }, {
            x: .026,
            y: .2
        }, {
            x: .046,
            y: .212
        }, {
            x: .066,
            y: .223
        }, {
            x: .087,
            y: .235
        }, {
            x: .107,
            y: .247
        }, {
            x: .127,
            y: .259
        }, {
            x: .148,
            y: .27
        }, {
            x: .168,
            y: .281
        }, {
            x: .188,
            y: .294
        }, {
            x: .21,
            y: .301
        }, {
            x: .465,
            y: -.711
        }, {
            x: .489,
            y: -.71
        }, {
            x: .442,
            y: -.709
        }, {
            x: .516,
            y: -.708
        }, {
            x: .536,
            y: -.707
        }, {
            x: .419,
            y: -.705
        }, {
            x: .559,
            y: -.703
        }, {
            x: .396,
            y: -.7
        }, {
            x: .581,
            y: -.698
        }, {
            x: .375,
            y: -.691
        }, {
            x: .604,
            y: -.691
        }, {
            x: .626,
            y: -.683
        }, {
            x: .355,
            y: -.679
        }, {
            x: .647,
            y: -.674
        }, {
            x: .669,
            y: -.664
        }, {
            x: .337,
            y: -.665
        }, {
            x: .69,
            y: -.654
        }, {
            x: .319,
            y: -.65
        }, {
            x: .71,
            y: -.642
        }, {
            x: .3,
            y: -.636
        }, {
            x: .729,
            y: -.629
        }, {
            x: .283,
            y: -.62
        }, {
            x: .748,
            y: -.614
        }, {
            x: .266,
            y: -.604
        }, {
            x: .767,
            y: -.6
        }, {
            x: .786,
            y: -.587
        }, {
            x: .251,
            y: -.586
        }, {
            x: .804,
            y: -.573
        }, {
            x: .235,
            y: -.569
        }, {
            x: .823,
            y: -.559
        }, {
            x: .223,
            y: -.549
        }, {
            x: .84,
            y: -.542
        }, {
            x: .211,
            y: -.529
        }, {
            x: .853,
            y: -.523
        }, {
            x: .202,
            y: -.508
        }, {
            x: .866,
            y: -.503
        }, {
            x: .194,
            y: -.486
        }, {
            x: .878,
            y: -.483
        }, {
            x: .891,
            y: -.464
        }, {
            x: .189,
            y: -.463
        }, {
            x: .903,
            y: -.444
        }, {
            x: .189,
            y: -.44
        }, {
            x: .91,
            y: -.422
        }, {
            x: .19,
            y: -.417
        }, {
            x: .915,
            y: -.399
        }, {
            x: .187,
            y: -.393
        }, {
            x: .171,
            y: -.375
        }, {
            x: .915,
            y: -.375
        }, {
            x: .15,
            y: -.364
        }, {
            x: .128,
            y: -.355
        }, {
            x: .915,
            y: -.352
        }, {
            x: .11,
            y: -.343
        }, {
            x: .915,
            y: -.328
        }, {
            x: .106,
            y: -.321
        }, {
            x: .913,
            y: -.305
        }, {
            x: .113,
            y: -.299
        }, {
            x: .908,
            y: -.282
        }, {
            x: .106,
            y: -.279
        }, {
            x: .903,
            y: -.259
        }, {
            x: .095,
            y: -.258
        }, {
            x: .895,
            y: -.237
        }, {
            x: .091,
            y: -.236
        }, {
            x: .886,
            y: -.216
        }, {
            x: .099,
            y: -.214
        }, {
            x: .087,
            y: -.195
        }, {
            x: .876,
            y: -.194
        }, {
            x: .864,
            y: -.174
        }, {
            x: .089,
            y: -.173
        }, {
            x: .852,
            y: -.154
        }, {
            x: .098,
            y: -.152
        }, {
            x: .839,
            y: -.134
        }, {
            x: .094,
            y: -.129
        }, {
            x: .824,
            y: -.116
        }, {
            x: .095,
            y: -.105
        }, {
            x: .81,
            y: -.097
        }, {
            x: .104,
            y: -.084
        }, {
            x: .794,
            y: -.08
        }, {
            x: .121,
            y: -.068
        }, {
            x: .778,
            y: -.063
        }, {
            x: .141,
            y: -.055
        }, {
            x: .162,
            y: -.046
        }, {
            x: .762,
            y: -.045
        }, {
            x: .183,
            y: -.036
        }, {
            x: .205,
            y: -.029
        }, {
            x: .747,
            y: -.028
        }, {
            x: .228,
            y: -.022
        }, {
            x: .25,
            y: -.015
        }, {
            x: .732,
            y: -.01
        }, {
            x: .272,
            y: -.007
        }, {
            x: .293,
            y: .004
        }, {
            x: .714,
            y: .005
        }, {
            x: .694,
            y: .018
        }, {
            x: .309,
            y: .019
        }, {
            x: .671,
            y: .025
        }, {
            x: .649,
            y: .033
        }, {
            x: .627,
            y: .041
        }, {
            x: .299,
            y: .041
        }, {
            x: .605,
            y: .049
        }, {
            x: .282,
            y: .058
        }, {
            x: .586,
            y: .061
        }, {
            x: .574,
            y: .08
        }, {
            x: .568,
            y: .102
        }, {
            x: .568,
            y: .125
        }, {
            x: .566,
            y: .149
        }, {
            x: .564,
            y: .172
        }, {
            x: .558,
            y: .195
        }, {
            x: .551,
            y: .217
        }, {
            x: .539,
            y: .238
        }, {
            x: -.388,
            y: .258
        }, {
            x: .528,
            y: .258
        }, {
            x: -.403,
            y: .274
        }, {
            x: .517,
            y: .279
        }, {
            x: -.419,
            y: .292
        }, {
            x: .507,
            y: .3
        }, {
            x: -.437,
            y: .307
        }, {
            x: -.455,
            y: .322
        }, {
            x: .497,
            y: .321
        }, {
            x: -.471,
            y: .339
        }, {
            x: .488,
            y: .343
        }, {
            x: -.486,
            y: .356
        }, {
            x: .476,
            y: .363
        }, {
            x: -.499,
            y: .375
        }, {
            x: .463,
            y: .383
        }, {
            x: -.512,
            y: .395
        }, {
            x: .45,
            y: .402
        }, {
            x: -.525,
            y: .414
        }, {
            x: .435,
            y: .421
        }, {
            x: -.538,
            y: .434
        }, {
            x: .42,
            y: .438
        }, {
            x: .404,
            y: .455
        }, {
            x: -.546,
            y: .456
        }, {
            x: .386,
            y: .472
        }, {
            x: -.554,
            y: .477
        }, {
            x: .368,
            y: .487
        }, {
            x: .349,
            y: .5
        }, {
            x: -.561,
            y: .5
        }, {
            x: .329,
            y: .513
        }, {
            x: .309,
            y: .524
        }, {
            x: -.565,
            y: .522
        }, {
            x: .287,
            y: .534
        }, {
            x: .266,
            y: .543
        }, {
            x: -.567,
            y: .546
        }, {
            x: .246,
            y: .555
        }, {
            x: .225,
            y: .566
        }, {
            x: -.567,
            y: .569
        }, {
            x: .204,
            y: .576
        }, {
            x: .182,
            y: .586
        }, {
            x: -.566,
            y: .592
        }, {
            x: .161,
            y: .596
        }, {
            x: .14,
            y: .607
        }, {
            x: -.558,
            y: .614
        }, {
            x: .119,
            y: .616
        }, {
            x: .098,
            y: .626
        }, {
            x: .076,
            y: .635
        }, {
            x: -.548,
            y: .635
        }, {
            x: .055,
            y: .645
        }, {
            x: .033,
            y: .653
        }, {
            x: -.537,
            y: .656
        }, {
            x: .011,
            y: .662
        }, {
            x: -.012,
            y: .669
        }, {
            x: -.035,
            y: .673
        }, {
            x: -.52,
            y: .672
        }, {
            x: -.057,
            y: .679
        }, {
            x: -.08,
            y: .685
        }, {
            x: -.503,
            y: .688
        }, {
            x: -.103,
            y: .69
        }, {
            x: -.126,
            y: .695
        }, {
            x: -.148,
            y: .7
        }, {
            x: -.484,
            y: .701
        }, {
            x: -.171,
            y: .707
        }, {
            x: -.464,
            y: .713
        }, {
            x: -.192,
            y: .717
        }, {
            x: -.214,
            y: .724
        }, {
            x: -.444,
            y: .725
        }, {
            x: -.421,
            y: .733
        }, {
            x: -.236,
            y: .732
        }, {
            x: -.398,
            y: .737
        }, {
            x: -.259,
            y: .738
        }, {
            x: -.375,
            y: .741
        }, {
            x: -.282,
            y: .743
        }, {
            x: -.352,
            y: .745
        }, {
            x: -.329,
            y: .745
        }, {
            x: -.305,
            y: .746
        }, {
            x: -.875,
            y: -.093
        }, {
            x: -.855,
            y: -.085
        }, {
            x: -.894,
            y: -.084
        }, {
            x: -.838,
            y: -.069
        }, {
            x: -.907,
            y: -.065
        }, {
            x: -.825,
            y: -.049
        }, {
            x: -.916,
            y: -.044
        }, {
            x: -.816,
            y: -.028
        }, {
            x: -.921,
            y: -.021
        }, {
            x: -.805,
            y: -.007
        }, {
            x: -.918,
            y: .002
        }, {
            x: -.794,
            y: .014
        }, {
            x: -.907,
            y: .022
        }, {
            x: -.279,
            y: .033
        }, {
            x: -.303,
            y: .034
        }, {
            x: -.256,
            y: .036
        }, {
            x: -.782,
            y: .034
        }, {
            x: -.326,
            y: .038
        }, {
            x: -.233,
            y: .042
        }, {
            x: -.894,
            y: .042
        }, {
            x: -.348,
            y: .044
        }, {
            x: -.37,
            y: .051
        }, {
            x: -.212,
            y: .051
        }, {
            x: -.767,
            y: .051
        }, {
            x: -.392,
            y: .059
        }, {
            x: -.883,
            y: .063
        }, {
            x: -.192,
            y: .064
        }, {
            x: -.415,
            y: .067
        }, {
            x: -.749,
            y: .066
        }, {
            x: -.437,
            y: .072
        }, {
            x: -.46,
            y: .079
        }, {
            x: -.729,
            y: .08
        }, {
            x: -.175,
            y: .08
        }, {
            x: -.482,
            y: .085
        }, {
            x: -.872,
            y: .083
        }, {
            x: -.505,
            y: .091
        }, {
            x: -.709,
            y: .092
        }, {
            x: -.528,
            y: .095
        }, {
            x: -.552,
            y: .098
        }, {
            x: -.575,
            y: .1
        }, {
            x: -.598,
            y: .102
        }, {
            x: -.165,
            y: .101
        }, {
            x: -.621,
            y: .105
        }, {
            x: -.645,
            y: .106
        }, {
            x: -.69,
            y: .105
        }, {
            x: -.668,
            y: .107
        }, {
            x: -.863,
            y: .105
        }, {
            x: -.166,
            y: .124
        }, {
            x: -.857,
            y: .127
        }, {
            x: -.166,
            y: .147
        }, {
            x: -.852,
            y: .15
        }, {
            x: -.166,
            y: .171
        }, {
            x: -.847,
            y: .173
        }, {
            x: -.168,
            y: .194
        }, {
            x: -.841,
            y: .196
        }, {
            x: -.31,
            y: .216
        }, {
            x: -.173,
            y: .217
        }, {
            x: -.836,
            y: .219
        }, {
            x: -.331,
            y: .229
        }, {
            x: -.605,
            y: .238
        }, {
            x: -.629,
            y: .238
        }, {
            x: -.582,
            y: .239
        }, {
            x: -.351,
            y: .24
        }, {
            x: -.559,
            y: .242
        }, {
            x: -.177,
            y: .24
        }, {
            x: -.828,
            y: .241
        }, {
            x: -.651,
            y: .244
        }, {
            x: -.536,
            y: .246
        }, {
            x: -.373,
            y: .249
        }, {
            x: -.513,
            y: .25
        }, {
            x: -.674,
            y: .25
        }, {
            x: -.49,
            y: .254
        }, {
            x: -.396,
            y: .255
        }, {
            x: -.466,
            y: .257
        }, {
            x: -.419,
            y: .258
        }, {
            x: -.443,
            y: .258
        }, {
            x: -.812,
            y: .257
        }, {
            x: -.696,
            y: .257
        }, {
            x: -.789,
            y: .262
        }, {
            x: -.719,
            y: .263
        }, {
            x: -.766,
            y: .264
        }, {
            x: -.742,
            y: .265
        }, {
            x: -.186,
            y: .262
        }, {
            x: -.197,
            y: .283
        }, {
            x: -.204,
            y: .305
        }, {
            x: -.212,
            y: .327
        }, {
            x: -.22,
            y: .349
        }, {
            x: -.225,
            y: .372
        }, {
            x: -.231,
            y: .394
        }, {
            x: -.236,
            y: .417
        }, {
            x: -.242,
            y: .44
        }, {
            x: -.247,
            y: .463
        }, {
            x: -.255,
            y: .485
        }, {
            x: -.269,
            y: .504
        }, {
            x: -.284,
            y: .522
        }]
    }
}),
define("partials/particle", ["pixi", "models/globals", "utils/preloaders"], function(t, e, i) {
    var n = function(e) {
        e = void 0 === e ? t.utils.TextureCache["theend_particle_1.png"] : e,
        t.Sprite.call(this, e),
        this.anchor.x = .5,
        this.anchor.y = .5,
        this.index = 0,
        this.age = 0,
        this.life = 2e3,
        this.fadeAt = 1e3,
        this.maxOpacity = 1,
        this.vz = 0,
        this.fz = 1,
        this.gravity = 0,
        this.wx = 0,
        this.wy = 0,
        this.wv = 0,
        this.wf = 1,
        this.wp = 0,
        this.parentVzMult = 1
    };
    return n.prototype = Object.create(t.Sprite.prototype),
    n.prototype.contructor = n,
    n
}),
define("partials/particles", ["pixi", "models/globals", "utils/preloaders", "partials/particle"], function(t, e, i, n) {
    var r = 2 * Math.PI
      , s = (Math.PI,
    function(t) {
        this.perspective = t,
        this.particles = [],
        this.vz = 0
    }
    );
    return s.prototype = {
        flashRandom: function(t) {
            for (var e, i = 0; i < t; ++i)
                e = this.add(),
                e.persp.position.x = 600 * Math.random() - 300,
                e.persp.position.y = 600 * Math.random() - 300,
                e.persp.position.z = 1600 - 600 * Math.random(),
                e.vz = -150,
                e.fz = .87,
                e.life = 1e4,
                e.fadeAt = 6e3,
                e.maxOpacity = Math.random(),
                e.wx = 10,
                e.wy = 10,
                e.wv = .01 + .01 * Math.random(),
                e.wf = .9,
                e.wp = 6 * Math.random()
        },
        flashShape: function(t, e) {
            for (var i, n, r = 0; r < t.length; ++r)
                i = this.add(),
                n = t[r],
                i.persp.position.x = e * n.x,
                i.persp.position.y = e * n.y,
                i.persp.position.z = 1e3,
                i.vz = -100,
                i.fz = .89,
                i.life = 2e3,
                i.fadeAt = 300,
                i.maxOpacity = Math.random(),
                i.gravity = -.5,
                i.wx = .5,
                i.wy = .5,
                i.wv = .3 + .3 * Math.random(),
                i.wf = .9,
                i.wp = 6 * Math.random()
        },
        addSpiral: function(t, e, i, n, r, s) {
            i = void 0 === i ? 1 : i;
            var o = this.add(e);
            o.parentVzMult = .5,
            o.persp.position.x = Math.cos(s) * t + r,
            o.persp.position.y = Math.sin(s) * t,
            o.persp.position.z = n || 1e3 - 300 * Math.random(),
            o.persp.scale.x = 1 + Math.random() * i,
            o.persp.scale.y = o.persp.scale.x,
            o.persp.orientToCenter = !1,
            o.life = 4e3,
            o.fadeAt = .99 * o.life,
            o.darkFrom = 500,
            o.darkMin = 170
        },
        addCircle: function(t, e, i, n, s) {
            i = void 0 === i ? 1 : i;
            for (var o, a = r / s, h = 0; h < s; ++h) {
                var l = this.add(e);
                o = a * h,
                l.parentVzMult = .4,
                l.persp.position.x = Math.cos(o) * t,
                l.persp.position.y = Math.sin(o) * t,
                l.persp.position.z = n || 1e3 - 300 * Math.random(),
                l.persp.scale.x = 1 + Math.random() * i,
                l.persp.scale.y = l.persp.scale.x,
                l.rotation = 0,
                l.persp.orientToCenter = !1,
                l.life = 3e3,
                l.fadeAt = .9 * l.life
            }
        },
        addRandom: function(t, e, i, n) {
            i = void 0 === i ? 1 : i;
            var r = this.add(e);
            r.persp.position.x = -t + Math.random() * t * 2,
            r.persp.position.y = -t + Math.random() * t * 2,
            r.persp.position.z = n || 1e3 - 300 * Math.random(),
            r.persp.scale.x = 1 + Math.random() * i,
            r.persp.scale.y = r.persp.scale.x,
            r.fadeAt = .9 * r.life,
            r.darkFrom = 300,
            r.darkMin = 102
        },
        addRandomSlow: function(t, e, i, n) {
            i = void 0 === i ? 1 : i;
            var r = this.add(e);
            r.parentVzMult = .4,
            r.persp.position.x = -t + Math.random() * t * 2,
            r.persp.position.y = -t + Math.random() * t * 2,
            r.persp.position.z = n || 1e3 - 300 * Math.random(),
            r.persp.scale.x = 1 + Math.random() * i,
            r.persp.scale.y = r.persp.scale.x,
            r.persp.orientToCenter = !1,
            r.fadeAt = .9 * r.life
        },
        addRandomWiggle: function(t, e, i, n) {
            i = void 0 === i ? 1 : i;
            var r = this.add(e);
            r.persp.position.x = -t + Math.random() * t * 2,
            r.persp.position.y = -t + Math.random() * t * 2,
            r.persp.position.z = n || 1e3 - 300 * Math.random(),
            r.persp.scale.x = 1 + Math.random() * i,
            r.persp.scale.y = r.persp.scale.x,
            r.life = 4e3,
            r.wx = 1.5,
            r.wy = 1.5,
            r.wv = .3 + .3 * Math.random(),
            r.wf = .9,
            r.wp = 6 * Math.random()
        },
        add: function(t) {
            var e = new n(t);
            return e._index = this.particles.length,
            this.perspective.addPerspChild(e),
            e.persp.orientToCenter = !0,
            this.particles.push(e),
            e
        },
        remove: function(t) {
            this.perspective.removeChild(t),
            this.particles.splice(t._index, 1);
            for (var e = t._index; e < this.particles.length; ++e)
                this.particles[e]._index = e
        },
        update: function(t) {
            for (var e, i, n = t / (1e3 / 60), r = 0; r < this.particles.length; ++r)
                e = this.particles[r],
                e.age > e.life ? this.remove(e) : (e.persp.position.z += e.vz + this.vz * e.parentVzMult * n,
                e.vz *= e.fz,
                e.persp.position.z += e.gravity,
                (e.wx || e.wy) && (e.wp += e.wv,
                e.wv *= e.wf,
                e.persp.position.x += Math.cos(e.wp) * e.wx * e.persp.scale.x,
                e.persp.position.y += Math.sin(e.wp) * e.wy * e.persp.scale.y),
                e.age > e.fadeAt ? e.alpha = (1 - (e.age - e.fadeAt) / (e.life - e.fadeAt)) * e.maxOpacity : e.alpha = e.maxOpacity,
                e.persp.position.z < e.darkFrom && (i = Math.max(e.persp.position.z / e.darkFrom * 255, e.darkMin),
                e.tint = i << 16 | i << 8 | i),
                e.age += t)
        }
    },
    s
}),
define("partials/theendlensflare", ["pixi", "models/globals", "utils/preloaders"], function(t, e, i) {
    var n = function() {
        t.Container.call(this),
        this.bigBlue = new t.Sprite(t.utils.TextureCache["theend_big_blue.png"]),
        this.light1 = new t.Sprite(t.utils.TextureCache["theend_light.png"]),
        this.light2 = new t.Sprite(t.utils.TextureCache["theend_light.png"]),
        this.addChild(this.bigBlue),
        this.radius = 200,
        this.intensity = 1,
        this.flick = 0,
        this.childrenTint = 16777215;
        var e, i;
        for (this.reflex = [],
        e = 0; e < 3; ++e)
            i = new t.Sprite(t.utils.TextureCache["theend_reflex.png"]),
            i.anchor.x = 0,
            i.anchor.y = .5,
            this.reflex.push(i),
            this.addChild(i);
        this.rays = [];
        var n = [.05, .25, .39];
        for (e = 0; e < 3; ++e)
            i = new t.Sprite(t.utils.TextureCache["theend_ray.png"]),
            i.anchor.x = .5 + .3 * Math.random(),
            i.anchor.y = .5,
            this.rays.push(i),
            this.addChild(i),
            i.originalAlpha = .1 + .1 * Math.random(),
            i.spreadY = n[e];
        this.bigBlue.anchor.x = .5,
        this.bigBlue.anchor.y = .6,
        this.light1.anchor.x = this.light1.anchor.y = .5,
        this.light2.anchor.x = this.light2.anchor.y = .5,
        this.addChild(this.light2),
        this.addChild(this.light1)
    };
    return n.prototype = Object.create(t.Container.prototype),
    n.prototype.contructor = n,
    n.prototype.update = function() {
        var t = this.intensity + Math.random() * this.flick;
        this.bigBlue.x = .7 * -this.x,
        this.bigBlue.y = .5 * -this.y,
        this.bigBlue.scale.x = 2 + .002 * this.x,
        this.bigBlue.scale.y = 2,
        this.bigBlue.alpha = .2 * t,
        this.bigBlue.tint = this.childrenTint,
        this.light1.scale.x = this.light1.scale.y = .4 * t,
        this.light2.scale.x = this.light2.scale.y = t,
        this.light1.alpha = t,
        this.light2.alpha = .3 * t,
        this.light1.tint = this.childrenTint,
        this.light2.tint = this.childrenTint;
        var e, i, n;
        for (e = 0; e < this.reflex.length; ++e)
            i = this.reflex.length - e - 1,
            n = this.reflex[e],
            n.x = this.radius - e * this.x * .3,
            n.alpha = (.1 + e / this.reflex.length * .1) * t,
            n.scale.y = 1 + .3 * i,
            n.tint = this.childrenTint;
        var r = 8 * this.intensity
          , s = 20 * this.intensity;
        for (e = 0; e < this.rays.length; ++e)
            i = this.rays.length - e - 1,
            n = this.rays[e],
            n.width = 4 * this.radius,
            n.height = r,
            n.y = n.spreadY * s,
            n.x = .2 * -this.x,
            n.alpha = n.originalAlpha * t,
            n.tint = this.childrenTint
    }
    ,
    n
}),
define("partials/theend", ["pixi", "models/globals", "models/particleshapes", "utils/preloaders", "partials/perspective", "partials/particle", "partials/particles", "partials/theendlensflare"], function(t, e, i, n, r, s, o, a) {
    var h = function(e, i) {
        t.Container.call(this),
        this.sound = e,
        this.sounds = i,
        this.prevFlashTween = null,
        this.step = 0,
        this.intensity = 1,
        this.stepInterval = null,
        this.prevStep = -1,
        this.automatic = !1,
        this.areaWidth = 1920,
        this.areaHeight = 1080,
        this.width_2 = this.areaWidth / 2,
        this.height_2 = this.areaHeight / 2,
        this.tripElementsVars = {
            mbParticles: 0,
            dustRatio: 0,
            cells: 0,
            monsters: 0,
            monstersSpiralRadius: 300,
            monstersSpiralOffX: 150,
            monstersFrame: 0,
            chromosomes: 0,
            monstersScale: 0
        },
        this.textures = {
            mbParticles: t.utils.TextureCache["theend_particle_2.png"],
            cell: t.utils.TextureCache["theend_cell_1.png"],
            chromosome1: t.utils.TextureCache["theend_cromo_1.png"],
            chromosome2: t.utils.TextureCache["theend_cromo_2.png"],
            chromosome3: t.utils.TextureCache["theend_cromo_3.png"],
            chromosome4: t.utils.TextureCache["theend_cromo_4.png"],
            chromosome5: t.utils.TextureCache["theend_cromo_5.png"],
            glasses: t.utils.TextureCache["theend_glasses_1.png"],
            monster1: t.utils.TextureCache["theend_monster_1.png"],
            monster2: t.utils.TextureCache["theend_monster_2.png"],
            monster3: t.utils.TextureCache["theend_monster_3.png"],
            monster4: t.utils.TextureCache["theend_monster_4.png"],
            monster5: t.utils.TextureCache["theend_monster_5.png"],
            monster6: t.utils.TextureCache["theend_monster_6.png"],
            monster7: t.utils.TextureCache["theend_monster_7.png"],
            monster8: t.utils.TextureCache["theend_monster_8.png"],
            monster9: t.utils.TextureCache["theend_monster_9.png"]
        },
        this.origin = {
            orientationOffX: 800,
            orientationOffY: 200,
            orientationX: 0,
            orientationY: 0,
            mouseOff: -50,
            mouseX: 0,
            mouseY: 0,
            devicesNx: 0,
            devicesNy: 0,
            devicesMult: 1,
            devicesX: 0,
            devicesY: 0,
            x: 0,
            y: 0,
            tx: 0,
            ty: 0,
            radiusX: 0,
            radiusY: 0,
            phase: 0,
            phaseV: 0,
            fx: 0,
            fy: 0
        },
        this.spiralPhase = 0,
        this.frame = 0,
        this.perspective = new r,
        this.perspective.x = this.width_2,
        this.perspective.y = this.height_2,
        this.perspective.z = 0,
        this.background = new t.Sprite(t.utils.TextureCache["theend_background.png"]),
        this.background.width = this.areaWidth,
        this.background.height = this.areaHeight,
        this.background.alpha = 0,
        this.lensFlare = new a,
        this.lensFlare.radius = this.width_2,
        this.lensFlare.x = this.perspective.x,
        this.lensFlare.y = this.perspective.y,
        this.lensFlare.intensity = 0,
        this.particles = new o(this.perspective),
        this.dust = new t.Container,
        this.addChild(this.background),
        this.addChild(this.perspective),
        this.addChild(this.lensFlare),
        this.addChild(this.dust),
        this.step = 0,
        this.onDeviceOrientationHandler = this.onDeviceOrientation.bind(this),
        window.addEventListener("deviceorientation", this.onDeviceOrientationHandler),
        this.onMouseMoveHandler = this.onMouseMove.bind(this),
        document.addEventListener("mousemove", this.onMouseMoveHandler)
    };
    return h.prototype = Object.create(t.Container.prototype),
    h.prototype.contructor = h,
    h.prototype.onDeviceOrientation = function(t) {
        origin.orientationX = t.beta / 180,
        origin.orientationY = t.gamma / 180
    }
    ,
    h.prototype.onMouseMove = function(t) {
        var i = e.width / 2
          , n = e.height / 2;
        origin.mouseX = (t.pageX - i) / i,
        origin.mouseY = (t.pageY - n) / n
    }
    ,
    h.prototype.flash = function(t, e) {
        this.lensFlare.intensity = t,
        this.background.alpha = .6 * t,
        this.prevFlashTween && this.prevFlashTween.kill(),
        this.prevFlashTween = new TimelineMax,
        this.prevFlashTween.to(this.lensFlare, e, {
            intensity: 0,
            ease: Bounce.easeOut
        }, 0),
        this.prevFlashTween.to(this.background, e, {
            alpha: 0,
            ease: Bounce.easeOut
        }, 0)
    }
    ,
    h.prototype.nextStep = function() {
        var t = this;
        if (this.step == this.prevStep)
            this.automatic || this.flash(this.intensity, .5);
        else {
            if (0 === this.step && (this.flash(5, .5),
            this.intensity = 1,
            setTimeout(function() {
                t.sound.play("i08_voice_whatwas")
            }, 500)),
            this.step > 0 && this.step < 30) {
                var e = this.intensity;
                5 == this.step && (setTimeout(function() {
                    t.sound.play("i08_voice_wow")
                }, 1e3),
                this.sound.play("i08_particle_1"),
                this.particles.flashShape(i.circle, 300)),
                10 == this.step && (this.sound.play("i08_particle_2"),
                this.particles.flashShape(i.diamond, 300)),
                15 == this.step && (this.sound.play("i08_particle_3"),
                this.particles.flashShape(i.spiral, 300)),
                20 == this.step && (this.sound.play("i08_particle_4"),
                this.particles.flashShape(i.hand, 300)),
                25 == this.step && (setTimeout(function() {
                    t.sound.play("i08_voice_wonderful")
                }, 1e3),
                this.sound.play("i08_particle_5"),
                this.particles.flashShape(i.baby, 400)),
                this.flash(e, .5),
                this.intensity = 1.05 * this.intensity
            }
            this.step > 30 && this.step < 36 && (this.flash(this.intensity, .5),
            this.intensity = .6 * this.intensity),
            36 === this.step && (this.automatic = !0,
            this.beyond())
        }
        if (this.prevStep = this.step,
        !this.automatic) {
            var n = this.sound.play("i08_beat");
            this.sound.volume(.6 * this.intensity, n),
            null === this.stepInterval && (this.stepInterval = setTimeout(function() {
                ++t.step,
                t.stepInterval = null
            }, 200))
        }
    }
    ,
    h.prototype.beyond = function() {
        this.automatic = !0,
        this.lensFlare.intensity = 4,
        this.lensFlare.background = 1,
        this.lensFlare.flick = .05,
        this.particles.flashRandom(500),
        this.sounds.endSong = this.sound.play("i08_ending"),
        this.realBeyond()
    }
    ,
    h.prototype.realBeyond = function() {
        var t = this;
        this.prevFlashTween && this.prevFlashTween.kill(),
        this.prevFlashTween = new TimelineMax({
            onComplete: function() {
                t.onEndComplete()
            }
        }),
        t.onEndStart(),
        this.prevFlashTween.addLabel("trip").to(this.lensFlare, 2, {
            intensity: 1,
            ease: Quad.easeOut
        }, 0).to(this.background, 2, {
            alpha: .5,
            ease: Quad.easeOut
        }, 0).to(this.particles, 3, {
            vz: -20,
            ease: Quad.easeIn
        }).to(this.tripElementsVars, 1, {
            mbParticles: 3,
            ease: Quad.easeIn
        }, "trip").to(this.tripElementsVars, 3, {
            dustRatio: .2,
            ease: Quad.easeIn
        }, "trip+=4").addLabel("objects", "-=1.5").to(this.tripElementsVars, .5, {
            chromosomes: 1
        }, "objects").to(this.tripElementsVars, 1, {
            chromosomes: 0
        }, "objects+=3").addCallback(function() {
            e.Score.updateValue(0, 9)
        }, "objects").addLabel("monsters", "-=0.5").to(this.tripElementsVars, .5, {
            monsters: 1,
            monstersScale: .2
        }, "monsters").to(this.origin, 2, {
            devicesMult: 0,
            ease: Quad.easeInOut
        }, "monsters+=2").to(this.tripElementsVars, 2, {
            monstersSpiralRadius: 0,
            monstersSpiralOffX: 0,
            ease: Linear.easeNone
        }, "monsters+=1").to(this.tripElementsVars, .5, {
            monstersFrame: 8,
            ease: Linear.easeNone
        }, "monsters+=2.7").to(this.tripElementsVars, .5, {
            monstersFrame: 5,
            ease: Linear.easeNone
        }, "monsters+=3.5").to(this.tripElementsVars, .5, {
            monstersSpiralOffX: 1e3,
            ease: Quad.easeIn
        }, "monsters+=3.5").to(this.tripElementsVars, .5, {
            monsters: 0
        }, "monsters+=4.5").addLabel("cells", "-=3").to(this.tripElementsVars, 3, {
            cells: 3,
            ease: Quad.easeIn
        }, "cells").to(this.tripElementsVars, 5, {
            cells: 0,
            ease: Quad.easeIn
        }, "cells+3").to(this.tripElementsVars, 5, {
            mbParticles: 5,
            ease: Quad.easeIn
        }, "cells+3").to(this.particles, 1, {
            vz: -200,
            ease: Quad.easeIn
        }, "cells += 2").to(this.origin, 5, {
            phaseV: .01,
            radiusX: 200,
            radiusY: 200,
            ease: Quad.easeIn
        }, 0).to(this.origin, 3, {
            radiusX: 0,
            radiusY: 0,
            ease: Quad.easeIn
        }, "monsters").addLabel("turbulences", 15).to(this.origin, 5, {
            phaseV: 1,
            radiusX: 100,
            radiusY: 100,
            ease: Quad.easeIn
        }, "turbulences").to(this.lensFlare, 5, {
            intensity: 8,
            ease: Quad.easeIn
        }, "turbulences").to(this.background, 5, {
            alpha: 1,
            ease: Quad.easeIn
        }, "turbulences").to(this.lensFlare, 1, {
            intensity: 25,
            ease: Quad.easeIn
        }, "-=2")
    }
    ,
    h.prototype.updateTrip = function() {
        var t, e = Math.random();
        for (t = 0; t < Math.floor(this.tripElementsVars.mbParticles); ++t)
            this.particles.addRandom(500, this.textures.mbParticles, 1, 2e3);
        for (e < this.tripElementsVars.dustRatio && this.addDust(),
        t = 0; t < Math.floor(this.tripElementsVars.cells); ++t)
            this.particles.addRandom(500, this.textures.cell, 6, 2e3);
        for (t = 0; t < Math.floor(this.tripElementsVars.chromosomes); ++t)
            this.particles.addRandom(300, this.textures["chromosome" + Math.ceil(5 * Math.random())], 6, 2e3);
        e < this.tripElementsVars.monsters && this.frame % 2 == 0 && (this.particles.addSpiral(this.tripElementsVars.monstersSpiralRadius, this.textures["monster" + Math.ceil(this.tripElementsVars.monstersFrame + 1)], this.tripElementsVars.monstersScale, 800, this.tripElementsVars.monstersSpiralOffX, this.spiralPhase),
        this.tripElementsVars.monstersSpiralOffX > 10 && this.particles.addSpiral(this.tripElementsVars.monstersSpiralRadius, this.textures["monster" + Math.ceil(this.tripElementsVars.monstersFrame + 1)], this.tripElementsVars.monstersScale, 800, -this.tripElementsVars.monstersSpiralOffX, this.spiralPhase + Math.PI)),
        this.spiralPhase += .2,
        ++this.frame
    }
    ,
    h.prototype.addDust = function() {
        var e = this
          , i = new t.Sprite(t.utils.TextureCache["theend_dust_1.png"]);
        i.x = Math.round(Math.random() * this.areaWidth),
        i.y = Math.round(Math.random() * this.areaHeight),
        i.rotation = Math.random() * Math.PI * 2,
        i.scale.x = i.scale.y = .6 + Math.random(),
        i.alpha = .2 + .8 * Math.random(),
        TweenMax.to(i, 3, {
            alpha: 0,
            onComplete: function() {
                e.dust.removeChild(i)
            }
        }),
        this.dust.addChild(i)
    }
    ,
    h.prototype.update = function(t) {
        var e = this.origin;
        e.tx = Math.cos(e.phase) * Math.cos(.32 * e.phase) * e.radiusX,
        e.ty = -Math.sin(.4 * e.phase) * Math.cos(.16 * e.phase) * e.radiusY,
        e.phase += e.phaseV,
        e.devicesNx = e.orientationX * e.orientationOffX + e.mouseX * e.mouseOff,
        e.devicesNy = e.orientationY * e.orientationOffY + e.mouseY * e.mouseOff,
        e.devicesX -= .1 * (e.devicesX - e.devicesNx),
        e.devicesY -= .1 * (e.devicesY - e.devicesNy),
        e.fx = e.x + e.devicesX * e.devicesMult + e.tx,
        e.fy = e.y + e.devicesY * e.devicesMult + e.ty,
        this.perspective.perspPos.x = e.fx,
        this.perspective.perspPos.y = e.fy,
        this.lensFlare.x = this.width_2 + e.fx,
        this.lensFlare.y = this.height_2 + e.fy,
        this.lensFlare.update(),
        this.updateTrip(),
        this.perspective.update(),
        this.particles.update(t)
    }
    ,
    h.prototype.destroy = function() {
        window.removeEventListener("deviceorientation", this.onDeviceOrientationHandler),
        document.removeEventListener("mousemove", this.onMouseMoveHandler)
    }
    ,
    h
}),
define("controllers/interaction_die", ["TweenMax", "utils/preloaders", "partials/musicplayer", "partials/theend", "models/globals", "models/beziers", "controllers/pixiapp", "controllers/interactionbase"], function(t, e, i, n, r, s, o, a) {
    var h = function() {
        a.call(this)
    };
    return h.prototype = Object.create(a.prototype),
    h.prototype.contructor = h,
    h.prototype.init = function() {
        var t = this;
        this.score = 0,
        this.achievements = [{
            id: "step1",
            scoreKeyboard: 1e5,
            scoreMobile: 1e5
        }];
        var e;
        e = this.useTouch ? [{
            key: "SPACE",
            caption: "BEAT"
        }] : [{
            key: "SPACE",
            caption: "SPACE BAR"
        }],
        this.keyboard.create(e, null, !1),
        this.keyboard.onGoodPress = function() {
            t.onGood()
        }
        ,
        this.keyboard.demoIntervalTime = 300,
        this.container = new PIXI.Container,
        this.stage.addChild(this.container),
        this.time = (new Date).getTime(),
        this.totalTime = 0,
        this.timeWarning = !1,
        this.addScene(),
        this.resize(),
        this.tick(),
        this.emitOnReady();
        var i = {
            total: 3,
            minPointOffset: 5,
            maxPointOffset: 20,
            minStrokeWidth: 2,
            maxStrokeWidth: 17
        };
        t.addTitle(s.beatToDie, .5, 0, function() {
            t.keyboard.show(),
            t.notifyStartInteraction()
        }, i),
        this.playSound("i08_voice_intro"),
        r.Score.value = 3500
    }
    ,
    h.prototype.addScene = function() {
        var t = this;
        this.theend = new n(this.sound,this.sounds),
        this.container.addChild(this.theend),
        this.theend.x = 0,
        this.theend.y = 0,
        this.theend.onEndComplete = function() {
            setTimeout(function() {
                t.finish()
            }, 9e3)
        }
        ,
        this.theend.onEndStart = function() {
            t.keyboard.hide()
        }
    }
    ,
    h.prototype.onGood = function() {
        this.theend.nextStep()
    }
    ,
    h.prototype.tick = function() {
        var t = (new Date).getTime();
        delta = t - this.time,
        this.time = t,
        this.theend && this.theend.update(delta),
        this.totalTime += delta
    }
    ,
    h.prototype.resize = function() {
        this.container && (this.container.x = r.videoSize.left,
        this.container.y = r.videoSize.top,
        this.container.scale.x = this.container.scale.y = r.videoSize.scale2K)
    }
    ,
    h.prototype.finish = function() {
        this.destroySounds = !1,
        a.prototype.finish.call(this, "theend")
    }
    ,
    h.prototype.destroy = function() {
        this.stage.removeChild(this.container),
        this.theend.destroy(),
        a.prototype.destroy.call(this)
    }
    ,
    h
}),
define("controllers/story", ["TweenMax", "models/globals", "utils/loader", "utils/preloaders", "partials/mainvideo", "controllers/pixiapp", "controllers/storyhome", "controllers/storygui", "controllers/theend", "controllers/restartpopup", "controllers/interaction_makemebeat", "controllers/interaction_run", "controllers/interaction_boss", "controllers/interaction_write", "controllers/interaction_party", "controllers/interaction_plane", "controllers/interaction_callmum", "controllers/interaction_die"], function(t, e, i, n, r, s, o, a, h, l, u, c, d, p, f, m, _, y) {
    var v = function() {
        e.env.debug && n.experience.load(),
        e.Story = this,
        e.StoryGUI = a,
        this.autoStart = !1,
        this.segments = this.buildSegementsFromCuePoints(),
        this.video = e.MainVideo,
        this.showingInteraction = !1,
        this.waitLandscapeAndStart(),
        document.body.addEventListener("touchmove", function(t) {
            e.allowScroll || -1 == t.target.className.indexOf("can-scroll") && t.preventDefault()
        }, {
            passive: !1
        }),
        this.showing = null,
        a.init(this.segments)
    };
    return v.parts = {
        INTRO: "INTRO",
        MAKE_ME_BEAT: "MAKE_ME_BEAT",
        IN_RUN: "IN_RUN",
        RUN: "RUN",
        IN_BOSS: "IN_BOSS",
        BOSS: "BOSS",
        WRITE: "WRITE",
        IN_WRITE: "IN_WRITE",
        PARTY: "PARTY",
        IN_PARTY: "IN_PARTY",
        PLANE: "PLANE",
        IN_PLANE: "IN_PLANE",
        CALL_MUM: "CALL_MUM",
        IN_CALL_MUM: "IN_CALL_MUM",
        DIE: "DIE",
        IN_DIE: "IN_DIE"
    },
    v.cuePoints = [{
        id: v.parts.INTRO,
        start: 0
    }, {
        id: v.parts.MAKE_ME_BEAT,
        start: 22.5,
        end: 25
    }, {
        id: v.parts.IN_RUN,
        start: 88.3,
        end: 88.6
    }, {
        id: v.parts.RUN,
        start: 88.9,
        end: 90.9
    }, {
        id: v.parts.IN_BOSS,
        start: 152,
        end: 152.4
    }, {
        id: v.parts.BOSS,
        start: 153.4,
        end: 154.5
    }, {
        id: v.parts.IN_WRITE,
        start: 200,
        end: 200.1
    }, {
        id: v.parts.WRITE,
        start: 200.3,
        end: 204
    }, {
        id: v.parts.IN_PARTY,
        start: 239,
        end: 239.5
    }, {
        id: v.parts.PARTY,
        start: 239.5,
        end: 241.4
    }, {
        id: v.parts.IN_PLANE,
        start: 290.2,
        end: 290.4
    }, {
        id: v.parts.PLANE,
        start: 290.7,
        end: 292.7
    }, {
        id: v.parts.IN_CALL_MUM,
        start: 366.8,
        end: 367
    }, {
        id: v.parts.CALL_MUM,
        start: 367.1,
        end: 369.1
    }, {
        id: v.parts.DIE,
        start: 490,
        end: 501
    }],
    v.prototype = {
        waitLandscapeAndStart: function() {
            var t = this
              , i = setInterval(function() {
                e.Landscape.showing || (e.env.debug ? t.startStory() : t.showHome(),
                clearInterval(i))
            }, 500)
        },
        buildSegementsFromCuePoints: function() {
            var t, e = {};
            for (t = 0; t < v.cuePoints.length; ++t)
                e[v.cuePoints[t].id] = v.cuePoints[t];
            var i, n, r = [v.parts.MAKE_ME_BEAT, v.parts.RUN, v.parts.BOSS, v.parts.WRITE, v.parts.PARTY, v.parts.PLANE, v.parts.CALL_MUM, v.parts.DIE], s = [];
            for (t = 0; t < r.length; ++t)
                n = 0 === t ? 0 : e[r[t - 1]].end,
                i = {
                    id: r[t],
                    start: n,
                    end: e[r[t]].start
                },
                s.push(i);
            return s
        },
        showHome: function() {
            e.GAnalytics.pageView("home"),
            this.home = new o,
            this.showing = "home",
            a.showForSection("home")
        },
        startStory: function() {
            var t = this;
            if (this.theEndSection && this.theEndSection.destroy(),
            this.showing = "story",
            n.experience.progress < 1)
                return setTimeout(function() {
                    t.startStory()
                }, 100),
                null;
            e.GAnalytics.pageView("story"),
            this.video.setCuePoints(v.cuePoints),
            e.env.debug && this.video.seek(20),
            this.video.onCuepoint = function(e, i) {
                t.processCuepoint(e)
            }
            ,
            this.video.play(),
            this.home = null,
            a.showForSection("story"),
            this.blurHandler = this.blur.bind(this),
            e.events.on(e.BLUR, this.blurHandler),
            this.checkLandscapeInterval = setInterval(function() {
                e.Landscape.showing && t.video.playing && (t.video.pause(),
                t.videoPausedByLandscape = !0),
                !e.Landscape.showing && t.videoPausedByLandscape && (t.video.play(),
                t.videoPausedByLandscape = !1)
            }, 100)
        },
        processCuepoint: function(t) {
            switch (t.id) {
            case v.parts.IN_RUN:
            case v.parts.IN_BOSS:
            case v.parts.IN_WRITE:
            case v.parts.IN_PARTY:
            case v.parts.IN_PLANE:
            case v.parts.IN_CALL_MUM:
                this.playInSound();
                break;
            case v.parts.MAKE_ME_BEAT:
                this.showInteraction(new u, t);
                break;
            case v.parts.RUN:
                this.showInteraction(new c, t);
                break;
            case v.parts.BOSS:
                this.showInteraction(new d, t);
                break;
            case v.parts.WRITE:
                this.showInteraction(new p, t);
                break;
            case v.parts.PARTY:
                this.showInteraction(new f, t);
                break;
            case v.parts.CALL_MUM:
                this.showInteraction(new _, t);
                break;
            case v.parts.PLANE:
                this.showInteraction(new m, t);
                break;
            case v.parts.DIE:
                a.showForSection("die"),
                this.showInteraction(new y, t)
            }
        },
        playInSound: function() {
            this.sound = n.experience.getHowl("audiosprite"),
            this.sound.play("i_in")
        },
        showInteraction: function(t, i) {
            var n = this;
            this.showingInteraction = !0,
            a.hideProgress(),
            e.GAnalytics.event("interaction", "show", i.id),
            t.onReady = function() {
                n.video.hide(),
                n.video.seek(i.end)
            }
            ,
            t.onSuccess = function(r) {
                switch (r) {
                case "theend":
                    e.GAnalytics.pageView("the_end"),
                    n.theEnd();
                    break;
                default:
                    n.video.play(!1),
                    n.video.video.events.once("playing", function() {
                        setTimeout(function() {
                            a.showProgress(),
                            n.video.show(),
                            t.destroy(),
                            n.showingInteraction = !1,
                            n.currentInteraction = null,
                            e.GAnalytics.event("interaction", "finish", i.id)
                        }, 500)
                    })
                }
            }
            ,
            this.currentInteraction = t,
            t.init(),
            this.video.pause()
        },
        blur: function() {
            var t = this;
            this.video.playing && (this.video.pause(),
            this.restartPopup = new l(this.video),
            this.restartPopup.onClick = function() {
                t.video.play(),
                t.restartPopup.close()
            }
            )
        },
        pause: function() {
            Howler.mute(!0),
            this.showingInteraction ? s.getTicker().stop() : this.video.pause()
        },
        continue: function() {
            Howler.mute(!1),
            this.showingInteraction ? s.getTicker().start() : this.video.play()
        },
        restart: function() {
            switch (this.showing) {
            case "home":
                this.home.externalStart();
                break;
            case "story":
                this.jumpTo(this.segments[0]);
                break;
            case "theend":
                this.startStory()
            }
        },
        jumpTo: function(t) {
            Howler.mute(!1),
            this.showingInteraction && this.currentInteraction.destroy(),
            e.StoryGUI && (e.StoryGUI.resetScore(),
            e.StoryGUI.hideScore(),
            e.StoryGUI.showProgress());
            var i = 0 === t.start ? 0 : t.start + 1;
            this.video.seek(i),
            this.video.show(),
            this.video.play(),
            s.getTicker().start(),
            this.showingInteraction = !1,
            this.currentInteraction = null
        },
        theEnd: function() {
            this.showingInteraction && this.currentInteraction.destroy(),
            e.StoryGUI && (e.StoryGUI.resetScore(),
            e.StoryGUI.hideScore()),
            this.video.pause(),
            this.video.hide(),
            e.events.off(e.BLUR, this.blurHandler),
            this.showingInteraction = !1,
            this.currentInteraction = null,
            this.theEndSection = new h,
            this.showing = "theend",
            a.showForSection("theend")
        }
    },
    v
}),

/*
ofcoursewe made change to line 46557 
to accomodate our code in index
we changedthe id and classes respectively
will save the orginal copy of this app.js
incase we made a mistake
and the app.css wechanged
accordginly
hope we right

*/
define("controllers/main", ["TweenMax", "models/globals", "utils/compatible", "utils/loader", "utils/preloaders", "utils/watchforhover", "utils/gtaghelper", "partials/mainvideo", "controllers/pixiapp", "controllers/story", "controllers/landscape"], function(t, e, i, n, r, s, o, a, h, l, u) {
    return {
        init: function() {
            this.startTime = (new Date).getTime();
            var h = ['<div id="ourstory">', '<div id="ourinteraction-wrapper" class="ourwrapper"></div>', '<div id="ouroverlay-wrapper" class="ourwrapper"></div>', '<div id="ourvideo-wrapper"></div>', "</div>", '<div id="ouroverlay"></div>', '<div id="use-our-head"><div class="center"><div class="animation"></div><div class="text">OneYouthLeague<br></div></div></div>', '<div id="ourlandscape"></div>'].join("");
            document.getElementById("main-contents").innerHTML = h;
            var l = this;
            e.Main = this,
            e.Landscape = u,
            e.GAnalytics = o,
            s.start(),
            this.dom = {
                headphones: document.getElementById("use-our-headphones"),
                video: document.getElementById("ourvideo-wrapper"),
                interaction: document.getElementById("ourinteraction-wrapper"),
                overlay: document.getElementById("ouroverlay-wrapper")
            },
            e.red1 = "#990000",
            t.from(this.dom.headphones, .4, {
                opacity: 0
            }),
            n.loadJSON({
                url: "/env",
                onComplete: function(t) {
                    e.env = t,
                    e.env.debug || (console.log("ONE LAST BEAT by Nerris - http://nerris.com"),
                    i.disableConsoleLog()),
                    e.MainVideo = a,
                    e.MainVideo.init(),
                    r.create(),
                    r.init.load(),
                    r.init.onComplete = function() {
                        this.start(),
                        o.addTracker(e.env.ganalytics)
                    }
                    .bind(this)
                }
                .bind(this)
            }),
            window.addEventListener("resize", this.resize.bind(this)),
            window.addEventListener("orientationchange", this.resize.bind(this)),
            l.resize(),
            e.focus = !0,
            document.body.addEventListener("touchstart", this.onTouchEvent = function() {
                e.touchEvents = !0,
                document.body.removeEventListener("touchstart", l.onTouchEvent),
                console.log("Touch events!")
            }
            ),
            screenfull.enabled && screenfull.on("change", function() {
                screenfull.isFullscreen ? (s.reset(),
                e.StoryGUI && e.StoryGUI.enterFullScreen()) : (s.reset(),
                e.StoryGUI && e.StoryGUI.exitFullScreen())
            })
        },
        resize: function(t) {
            e.width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
            e.height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
            var i = e.width
              , n = e.width * (9 / 16)
              , r = (e.height - n) / 2
              , s = i / 1920;
            e.videoSize = {
                width: i,
                height: n,
                left: 0,
                top: r,
                scale2K: s
            },
            this.dom.interaction.style.width = e.width + "px",
            this.dom.interaction.style.height = e.height + "px",
            this.dom.overlay.style.width = e.width + "px",
            this.dom.overlay.style.height = e.height + "px",
            e.events.emit(e.RESIZE)
        },
        start: function() {
            h.init();
            var i = e.env.debug ? 0 : 5
              , n = ((new Date).getTime() - this.startTime) / 1e3
              , r = Math.max(i - n, 0);
            t.to(this.dom.headphones, .4, {
                opacity: 0,
                delay: r,
                onComplete: function() {
                    this.dom.headphones.parentNode.removeChild(this.dom.headphones),
                    this.hasClass(document.body, "main") && this.show("ourstory")
                }
                .bind(this)
            })
        },
        show: function(t) {
            switch (t) {
            case "story":
                new l
            }
        },
        hasClass: function(t, e) {
            return t.classList ? t.classList.contains(e) : new RegExp("(^| )" + e + "( |$)","gi").test(t.className)
        },
        enterFullScreen: function() {
            screenfull.enabled && screenfull.request()
        },
        exitFullScreen: function() {
            screenfull.enabled && screenfull.exit()
        }
    }
}),
define("controllers/oldbrowser", [], function() {
    return {
        init: function() {
            document.body.className = "oldbrowser";
            var t = new XMLHttpRequest;
            t.open("GET", "/oldbrowser", !0),
            t.onload = function() {
                if (t.status >= 200 && t.status < 400) {
                    var e = t.responseText;
                    document.getElementById("main-contents").innerHTML = e
                }
            }
            ,
            t.onerror = function() {}
            ,
            t.send()
        }
    }
}),
require.config({
    urlArgs: "rnd=" + (new Date).getTime(),
    baseUrl: "public_dev/js/app",
    paths: {
        experience: "controllers/experience/",
        navigation: "controllers/navigation/",
        pixi: "../vendor/pixi.min",
        events: "../vendor/eventemitter3.min",
        TweenMax: "../vendor/gsap/TweenMax.min",
        ColorPropsPlugin: "../vendor/gsap/plugins/ColorPropsPlugin.min",
        howler: "../vendor/howler.min",
        perlin: "../vendor/perlin",
        planck: "../vendor/planck.min",
        screenfull: "../vendor/screenfull.min",
        typedarray: "../vendor/typedarray"
    },
    waitSeconds: 15
}),
require(["utils/compatible", "howler", "pixi", "TweenMax", "screenfull", "controllers/main", "controllers/oldbrowser"], function(t, e, i, n, r, s, o) {
    t.init(),
    t.hasWebGL && t.hasAudioAnalyser ? s.init() : o.init()
}),
define("app.js", function() {});
